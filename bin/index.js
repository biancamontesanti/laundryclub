"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod2) => function __require() {
  return mod2 || (0, cb[__getOwnPropNames(cb)[0]])((mod2 = { exports: {} }).exports, mod2), mod2.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod2, isNodeMode, target) => (target = mod2 != null ? __create(__getProtoOf(mod2)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod2 || !mod2.__esModule ? __defProp(target, "default", { value: mod2, enumerable: true }) : target,
  mod2
));
var __toCommonJS = (mod2) => __copyProps(__defProp({}, "__esModule", { value: true }), mod2);

// node_modules/@protobufjs/aspromise/index.js
var require_aspromise = __commonJS({
  "node_modules/@protobufjs/aspromise/index.js"(exports2, module2) {
    "use strict";
    module2.exports = asPromise;
    function asPromise(fn, ctx) {
      var params = new Array(arguments.length - 1), offset = 0, index = 2, pending = true;
      while (index < arguments.length)
        params[offset++] = arguments[index++];
      return new Promise(function executor(resolve2, reject) {
        params[offset] = function callback(err) {
          if (pending) {
            pending = false;
            if (err)
              reject(err);
            else {
              var params2 = new Array(arguments.length - 1), offset2 = 0;
              while (offset2 < params2.length)
                params2[offset2++] = arguments[offset2];
              resolve2.apply(null, params2);
            }
          }
        };
        try {
          fn.apply(ctx || null, params);
        } catch (err) {
          if (pending) {
            pending = false;
            reject(err);
          }
        }
      });
    }
  }
});

// node_modules/@protobufjs/base64/index.js
var require_base64 = __commonJS({
  "node_modules/@protobufjs/base64/index.js"(exports2) {
    "use strict";
    var base64 = exports2;
    base64.length = function length2(string) {
      var p = string.length;
      if (!p)
        return 0;
      var n = 0;
      while (--p % 4 > 1 && string.charAt(p) === "=")
        ++n;
      return Math.ceil(string.length * 3) / 4 - n;
    };
    var b64 = new Array(64);
    var s64 = new Array(123);
    for (i = 0; i < 64; )
      s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;
    var i;
    base64.encode = function encode(buffer2, start, end) {
      var parts = null, chunk = [];
      var i2 = 0, j = 0, t;
      while (start < end) {
        var b = buffer2[start++];
        switch (j) {
          case 0:
            chunk[i2++] = b64[b >> 2];
            t = (b & 3) << 4;
            j = 1;
            break;
          case 1:
            chunk[i2++] = b64[t | b >> 4];
            t = (b & 15) << 2;
            j = 2;
            break;
          case 2:
            chunk[i2++] = b64[t | b >> 6];
            chunk[i2++] = b64[b & 63];
            j = 0;
            break;
        }
        if (i2 > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i2 = 0;
        }
      }
      if (j) {
        chunk[i2++] = b64[t];
        chunk[i2++] = 61;
        if (j === 1)
          chunk[i2++] = 61;
      }
      if (parts) {
        if (i2)
          parts.push(String.fromCharCode.apply(String, chunk.slice(0, i2)));
        return parts.join("");
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i2));
    };
    var invalidEncoding = "invalid encoding";
    base64.decode = function decode(string, buffer2, offset) {
      var start = offset;
      var j = 0, t;
      for (var i2 = 0; i2 < string.length; ) {
        var c = string.charCodeAt(i2++);
        if (c === 61 && j > 1)
          break;
        if ((c = s64[c]) === void 0)
          throw Error(invalidEncoding);
        switch (j) {
          case 0:
            t = c;
            j = 1;
            break;
          case 1:
            buffer2[offset++] = t << 2 | (c & 48) >> 4;
            t = c;
            j = 2;
            break;
          case 2:
            buffer2[offset++] = (t & 15) << 4 | (c & 60) >> 2;
            t = c;
            j = 3;
            break;
          case 3:
            buffer2[offset++] = (t & 3) << 6 | c;
            j = 0;
            break;
        }
      }
      if (j === 1)
        throw Error(invalidEncoding);
      return offset - start;
    };
    base64.test = function test(string) {
      return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);
    };
  }
});

// node_modules/@protobufjs/eventemitter/index.js
var require_eventemitter = __commonJS({
  "node_modules/@protobufjs/eventemitter/index.js"(exports2, module2) {
    "use strict";
    module2.exports = EventEmitter;
    function EventEmitter() {
      this._listeners = {};
    }
    EventEmitter.prototype.on = function on(evt, fn, ctx) {
      (this._listeners[evt] || (this._listeners[evt] = [])).push({
        fn,
        ctx: ctx || this
      });
      return this;
    };
    EventEmitter.prototype.off = function off(evt, fn) {
      if (evt === void 0)
        this._listeners = {};
      else {
        if (fn === void 0)
          this._listeners[evt] = [];
        else {
          var listeners = this._listeners[evt];
          for (var i = 0; i < listeners.length; )
            if (listeners[i].fn === fn)
              listeners.splice(i, 1);
            else
              ++i;
        }
      }
      return this;
    };
    EventEmitter.prototype.emit = function emit(evt) {
      var listeners = this._listeners[evt];
      if (listeners) {
        var args = [], i = 1;
        for (; i < arguments.length; )
          args.push(arguments[i++]);
        for (i = 0; i < listeners.length; )
          listeners[i].fn.apply(listeners[i++].ctx, args);
      }
      return this;
    };
  }
});

// node_modules/@protobufjs/float/index.js
var require_float = __commonJS({
  "node_modules/@protobufjs/float/index.js"(exports2, module2) {
    "use strict";
    module2.exports = factory(factory);
    function factory(exports3) {
      if (typeof Float32Array !== "undefined")
        (function() {
          var f32 = new Float32Array([-0]), f8b = new Uint8Array(f32.buffer), le = f8b[3] === 128;
          function writeFloat_f32_cpy(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
          }
          function writeFloat_f32_rev(val, buf, pos) {
            f32[0] = val;
            buf[pos] = f8b[3];
            buf[pos + 1] = f8b[2];
            buf[pos + 2] = f8b[1];
            buf[pos + 3] = f8b[0];
          }
          exports3.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;
          exports3.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;
          function readFloat_f32_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            return f32[0];
          }
          function readFloat_f32_rev(buf, pos) {
            f8b[3] = buf[pos];
            f8b[2] = buf[pos + 1];
            f8b[1] = buf[pos + 2];
            f8b[0] = buf[pos + 3];
            return f32[0];
          }
          exports3.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;
          exports3.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;
        })();
      else
        (function() {
          function writeFloat_ieee754(writeUint, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
              val = -val;
            if (val === 0)
              writeUint(1 / val > 0 ? (
                /* positive */
                0
              ) : (
                /* negative 0 */
                2147483648
              ), buf, pos);
            else if (isNaN(val))
              writeUint(2143289344, buf, pos);
            else if (val > 34028234663852886e22)
              writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);
            else if (val < 11754943508222875e-54)
              writeUint((sign << 31 | Math.round(val / 1401298464324817e-60)) >>> 0, buf, pos);
            else {
              var exponent = Math.floor(Math.log(val) / Math.LN2), mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;
              writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);
            }
          }
          exports3.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);
          exports3.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);
          function readFloat_ieee754(readUint, buf, pos) {
            var uint = readUint(buf, pos), sign = (uint >> 31) * 2 + 1, exponent = uint >>> 23 & 255, mantissa = uint & 8388607;
            return exponent === 255 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 1401298464324817e-60 * mantissa : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);
          }
          exports3.readFloatLE = readFloat_ieee754.bind(null, readUintLE);
          exports3.readFloatBE = readFloat_ieee754.bind(null, readUintBE);
        })();
      if (typeof Float64Array !== "undefined")
        (function() {
          var f64 = new Float64Array([-0]), f8b = new Uint8Array(f64.buffer), le = f8b[7] === 128;
          function writeDouble_f64_cpy(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[0];
            buf[pos + 1] = f8b[1];
            buf[pos + 2] = f8b[2];
            buf[pos + 3] = f8b[3];
            buf[pos + 4] = f8b[4];
            buf[pos + 5] = f8b[5];
            buf[pos + 6] = f8b[6];
            buf[pos + 7] = f8b[7];
          }
          function writeDouble_f64_rev(val, buf, pos) {
            f64[0] = val;
            buf[pos] = f8b[7];
            buf[pos + 1] = f8b[6];
            buf[pos + 2] = f8b[5];
            buf[pos + 3] = f8b[4];
            buf[pos + 4] = f8b[3];
            buf[pos + 5] = f8b[2];
            buf[pos + 6] = f8b[1];
            buf[pos + 7] = f8b[0];
          }
          exports3.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;
          exports3.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;
          function readDouble_f64_cpy(buf, pos) {
            f8b[0] = buf[pos];
            f8b[1] = buf[pos + 1];
            f8b[2] = buf[pos + 2];
            f8b[3] = buf[pos + 3];
            f8b[4] = buf[pos + 4];
            f8b[5] = buf[pos + 5];
            f8b[6] = buf[pos + 6];
            f8b[7] = buf[pos + 7];
            return f64[0];
          }
          function readDouble_f64_rev(buf, pos) {
            f8b[7] = buf[pos];
            f8b[6] = buf[pos + 1];
            f8b[5] = buf[pos + 2];
            f8b[4] = buf[pos + 3];
            f8b[3] = buf[pos + 4];
            f8b[2] = buf[pos + 5];
            f8b[1] = buf[pos + 6];
            f8b[0] = buf[pos + 7];
            return f64[0];
          }
          exports3.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;
          exports3.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;
        })();
      else
        (function() {
          function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {
            var sign = val < 0 ? 1 : 0;
            if (sign)
              val = -val;
            if (val === 0) {
              writeUint(0, buf, pos + off0);
              writeUint(1 / val > 0 ? (
                /* positive */
                0
              ) : (
                /* negative 0 */
                2147483648
              ), buf, pos + off1);
            } else if (isNaN(val)) {
              writeUint(0, buf, pos + off0);
              writeUint(2146959360, buf, pos + off1);
            } else if (val > 17976931348623157e292) {
              writeUint(0, buf, pos + off0);
              writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);
            } else {
              var mantissa;
              if (val < 22250738585072014e-324) {
                mantissa = val / 5e-324;
                writeUint(mantissa >>> 0, buf, pos + off0);
                writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);
              } else {
                var exponent = Math.floor(Math.log(val) / Math.LN2);
                if (exponent === 1024)
                  exponent = 1023;
                mantissa = val * Math.pow(2, -exponent);
                writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);
                writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);
              }
            }
          }
          exports3.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);
          exports3.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);
          function readDouble_ieee754(readUint, off0, off1, buf, pos) {
            var lo = readUint(buf, pos + off0), hi = readUint(buf, pos + off1);
            var sign = (hi >> 31) * 2 + 1, exponent = hi >>> 20 & 2047, mantissa = 4294967296 * (hi & 1048575) + lo;
            return exponent === 2047 ? mantissa ? NaN : sign * Infinity : exponent === 0 ? sign * 5e-324 * mantissa : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);
          }
          exports3.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);
          exports3.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);
        })();
      return exports3;
    }
    function writeUintLE(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = val >>> 8 & 255;
      buf[pos + 2] = val >>> 16 & 255;
      buf[pos + 3] = val >>> 24;
    }
    function writeUintBE(val, buf, pos) {
      buf[pos] = val >>> 24;
      buf[pos + 1] = val >>> 16 & 255;
      buf[pos + 2] = val >>> 8 & 255;
      buf[pos + 3] = val & 255;
    }
    function readUintLE(buf, pos) {
      return (buf[pos] | buf[pos + 1] << 8 | buf[pos + 2] << 16 | buf[pos + 3] << 24) >>> 0;
    }
    function readUintBE(buf, pos) {
      return (buf[pos] << 24 | buf[pos + 1] << 16 | buf[pos + 2] << 8 | buf[pos + 3]) >>> 0;
    }
  }
});

// node_modules/@protobufjs/inquire/index.js
var require_inquire = __commonJS({
  "node_modules/@protobufjs/inquire/index.js"(exports, module) {
    "use strict";
    module.exports = inquire;
    function inquire(moduleName) {
      try {
        var mod = eval("quire".replace(/^/, "re"))(moduleName);
        if (mod && (mod.length || Object.keys(mod).length))
          return mod;
      } catch (e) {
      }
      return null;
    }
  }
});

// node_modules/@protobufjs/utf8/index.js
var require_utf8 = __commonJS({
  "node_modules/@protobufjs/utf8/index.js"(exports2) {
    "use strict";
    var utf83 = exports2;
    utf83.length = function utf8_length(string) {
      var len = 0, c = 0;
      for (var i = 0; i < string.length; ++i) {
        c = string.charCodeAt(i);
        if (c < 128)
          len += 1;
        else if (c < 2048)
          len += 2;
        else if ((c & 64512) === 55296 && (string.charCodeAt(i + 1) & 64512) === 56320) {
          ++i;
          len += 4;
        } else
          len += 3;
      }
      return len;
    };
    utf83.read = function utf8_read(buffer2, start, end) {
      var len = end - start;
      if (len < 1)
        return "";
      var parts = null, chunk = [], i = 0, t;
      while (start < end) {
        t = buffer2[start++];
        if (t < 128)
          chunk[i++] = t;
        else if (t > 191 && t < 224)
          chunk[i++] = (t & 31) << 6 | buffer2[start++] & 63;
        else if (t > 239 && t < 365) {
          t = ((t & 7) << 18 | (buffer2[start++] & 63) << 12 | (buffer2[start++] & 63) << 6 | buffer2[start++] & 63) - 65536;
          chunk[i++] = 55296 + (t >> 10);
          chunk[i++] = 56320 + (t & 1023);
        } else
          chunk[i++] = (t & 15) << 12 | (buffer2[start++] & 63) << 6 | buffer2[start++] & 63;
        if (i > 8191) {
          (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));
          i = 0;
        }
      }
      if (parts) {
        if (i)
          parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));
        return parts.join("");
      }
      return String.fromCharCode.apply(String, chunk.slice(0, i));
    };
    utf83.write = function utf8_write(string, buffer2, offset) {
      var start = offset, c1, c2;
      for (var i = 0; i < string.length; ++i) {
        c1 = string.charCodeAt(i);
        if (c1 < 128) {
          buffer2[offset++] = c1;
        } else if (c1 < 2048) {
          buffer2[offset++] = c1 >> 6 | 192;
          buffer2[offset++] = c1 & 63 | 128;
        } else if ((c1 & 64512) === 55296 && ((c2 = string.charCodeAt(i + 1)) & 64512) === 56320) {
          c1 = 65536 + ((c1 & 1023) << 10) + (c2 & 1023);
          ++i;
          buffer2[offset++] = c1 >> 18 | 240;
          buffer2[offset++] = c1 >> 12 & 63 | 128;
          buffer2[offset++] = c1 >> 6 & 63 | 128;
          buffer2[offset++] = c1 & 63 | 128;
        } else {
          buffer2[offset++] = c1 >> 12 | 224;
          buffer2[offset++] = c1 >> 6 & 63 | 128;
          buffer2[offset++] = c1 & 63 | 128;
        }
      }
      return offset - start;
    };
  }
});

// node_modules/@protobufjs/pool/index.js
var require_pool = __commonJS({
  "node_modules/@protobufjs/pool/index.js"(exports2, module2) {
    "use strict";
    module2.exports = pool;
    function pool(alloc, slice, size) {
      var SIZE = size || 8192;
      var MAX = SIZE >>> 1;
      var slab = null;
      var offset = SIZE;
      return function pool_alloc(size2) {
        if (size2 < 1 || size2 > MAX)
          return alloc(size2);
        if (offset + size2 > SIZE) {
          slab = alloc(SIZE);
          offset = 0;
        }
        var buf = slice.call(slab, offset, offset += size2);
        if (offset & 7)
          offset = (offset | 7) + 1;
        return buf;
      };
    }
  }
});

// node_modules/protobufjs/src/util/longbits.js
var require_longbits = __commonJS({
  "node_modules/protobufjs/src/util/longbits.js"(exports2, module2) {
    "use strict";
    module2.exports = LongBits;
    var util = require_minimal();
    function LongBits(lo, hi) {
      this.lo = lo >>> 0;
      this.hi = hi >>> 0;
    }
    var zero = LongBits.zero = new LongBits(0, 0);
    zero.toNumber = function() {
      return 0;
    };
    zero.zzEncode = zero.zzDecode = function() {
      return this;
    };
    zero.length = function() {
      return 1;
    };
    var zeroHash = LongBits.zeroHash = "\0\0\0\0\0\0\0\0";
    LongBits.fromNumber = function fromNumber2(value) {
      if (value === 0)
        return zero;
      var sign = value < 0;
      if (sign)
        value = -value;
      var lo = value >>> 0, hi = (value - lo) / 4294967296 >>> 0;
      if (sign) {
        hi = ~hi >>> 0;
        lo = ~lo >>> 0;
        if (++lo > 4294967295) {
          lo = 0;
          if (++hi > 4294967295)
            hi = 0;
        }
      }
      return new LongBits(lo, hi);
    };
    LongBits.from = function from(value) {
      if (typeof value === "number")
        return LongBits.fromNumber(value);
      if (util.isString(value)) {
        if (util.Long)
          value = util.Long.fromString(value);
        else
          return LongBits.fromNumber(parseInt(value, 10));
      }
      return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;
    };
    LongBits.prototype.toNumber = function toNumber2(unsigned) {
      if (!unsigned && this.hi >>> 31) {
        var lo = ~this.lo + 1 >>> 0, hi = ~this.hi >>> 0;
        if (!lo)
          hi = hi + 1 >>> 0;
        return -(lo + hi * 4294967296);
      }
      return this.lo + this.hi * 4294967296;
    };
    LongBits.prototype.toLong = function toLong(unsigned) {
      return util.Long ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned)) : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };
    };
    var charCodeAt = String.prototype.charCodeAt;
    LongBits.fromHash = function fromHash(hash) {
      if (hash === zeroHash)
        return zero;
      return new LongBits(
        (charCodeAt.call(hash, 0) | charCodeAt.call(hash, 1) << 8 | charCodeAt.call(hash, 2) << 16 | charCodeAt.call(hash, 3) << 24) >>> 0,
        (charCodeAt.call(hash, 4) | charCodeAt.call(hash, 5) << 8 | charCodeAt.call(hash, 6) << 16 | charCodeAt.call(hash, 7) << 24) >>> 0
      );
    };
    LongBits.prototype.toHash = function toHash() {
      return String.fromCharCode(
        this.lo & 255,
        this.lo >>> 8 & 255,
        this.lo >>> 16 & 255,
        this.lo >>> 24,
        this.hi & 255,
        this.hi >>> 8 & 255,
        this.hi >>> 16 & 255,
        this.hi >>> 24
      );
    };
    LongBits.prototype.zzEncode = function zzEncode() {
      var mask = this.hi >> 31;
      this.hi = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;
      this.lo = (this.lo << 1 ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.zzDecode = function zzDecode() {
      var mask = -(this.lo & 1);
      this.lo = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;
      this.hi = (this.hi >>> 1 ^ mask) >>> 0;
      return this;
    };
    LongBits.prototype.length = function length2() {
      var part0 = this.lo, part1 = (this.lo >>> 28 | this.hi << 4) >>> 0, part2 = this.hi >>> 24;
      return part2 === 0 ? part1 === 0 ? part0 < 16384 ? part0 < 128 ? 1 : 2 : part0 < 2097152 ? 3 : 4 : part1 < 16384 ? part1 < 128 ? 5 : 6 : part1 < 2097152 ? 7 : 8 : part2 < 128 ? 9 : 10;
    };
  }
});

// node_modules/protobufjs/src/util/minimal.js
var require_minimal = __commonJS({
  "node_modules/protobufjs/src/util/minimal.js"(exports2) {
    "use strict";
    var util = exports2;
    util.asPromise = require_aspromise();
    util.base64 = require_base64();
    util.EventEmitter = require_eventemitter();
    util.float = require_float();
    util.inquire = require_inquire();
    util.utf8 = require_utf8();
    util.pool = require_pool();
    util.LongBits = require_longbits();
    util.isNode = Boolean(typeof global !== "undefined" && global && global.process && global.process.versions && global.process.versions.node);
    util.global = util.isNode && global || false || typeof self !== "undefined" && self || exports2;
    util.emptyArray = Object.freeze ? Object.freeze([]) : (
      /* istanbul ignore next */
      []
    );
    util.emptyObject = Object.freeze ? Object.freeze({}) : (
      /* istanbul ignore next */
      {}
    );
    util.isInteger = Number.isInteger || /* istanbul ignore next */
    function isInteger(value) {
      return typeof value === "number" && isFinite(value) && Math.floor(value) === value;
    };
    util.isString = function isString(value) {
      return typeof value === "string" || value instanceof String;
    };
    util.isObject = function isObject3(value) {
      return value && typeof value === "object";
    };
    util.isset = /**
     * Checks if a property on a message is considered to be present.
     * @param {Object} obj Plain object or message instance
     * @param {string} prop Property name
     * @returns {boolean} `true` if considered to be present, otherwise `false`
     */
    util.isSet = function isSet3(obj, prop) {
      var value = obj[prop];
      if (value != null && obj.hasOwnProperty(prop))
        return typeof value !== "object" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;
      return false;
    };
    util.Buffer = function() {
      try {
        var Buffer2 = util.inquire("buffer").Buffer;
        return Buffer2.prototype.utf8Write ? Buffer2 : (
          /* istanbul ignore next */
          null
        );
      } catch (e) {
        return null;
      }
    }();
    util._Buffer_from = null;
    util._Buffer_allocUnsafe = null;
    util.newBuffer = function newBuffer(sizeOrArray) {
      return typeof sizeOrArray === "number" ? util.Buffer ? util._Buffer_allocUnsafe(sizeOrArray) : new util.Array(sizeOrArray) : util.Buffer ? util._Buffer_from(sizeOrArray) : typeof Uint8Array === "undefined" ? sizeOrArray : new Uint8Array(sizeOrArray);
    };
    util.Array = typeof Uint8Array !== "undefined" ? Uint8Array : Array;
    util.Long = /* istanbul ignore next */
    util.global.dcodeIO && /* istanbul ignore next */
    util.global.dcodeIO.Long || /* istanbul ignore next */
    util.global.Long || util.inquire("long");
    util.key2Re = /^true|false|0|1$/;
    util.key32Re = /^-?(?:0|[1-9][0-9]*)$/;
    util.key64Re = /^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;
    util.longToHash = function longToHash(value) {
      return value ? util.LongBits.from(value).toHash() : util.LongBits.zeroHash;
    };
    util.longFromHash = function longFromHash(hash, unsigned) {
      var bits = util.LongBits.fromHash(hash);
      if (util.Long)
        return util.Long.fromBits(bits.lo, bits.hi, unsigned);
      return bits.toNumber(Boolean(unsigned));
    };
    function merge(dst, src, ifNotSet) {
      for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)
        if (dst[keys[i]] === void 0 || !ifNotSet)
          dst[keys[i]] = src[keys[i]];
      return dst;
    }
    util.merge = merge;
    util.lcFirst = function lcFirst(str) {
      return str.charAt(0).toLowerCase() + str.substring(1);
    };
    function newError(name) {
      function CustomError(message, properties) {
        if (!(this instanceof CustomError))
          return new CustomError(message, properties);
        Object.defineProperty(this, "message", { get: function() {
          return message;
        } });
        if (Error.captureStackTrace)
          Error.captureStackTrace(this, CustomError);
        else
          Object.defineProperty(this, "stack", { value: new Error().stack || "" });
        if (properties)
          merge(this, properties);
      }
      CustomError.prototype = Object.create(Error.prototype, {
        constructor: {
          value: CustomError,
          writable: true,
          enumerable: false,
          configurable: true
        },
        name: {
          get: function get() {
            return name;
          },
          set: void 0,
          enumerable: false,
          // configurable: false would accurately preserve the behavior of
          // the original, but I'm guessing that was not intentional.
          // For an actual error subclass, this property would
          // be configurable.
          configurable: true
        },
        toString: {
          value: function value() {
            return this.name + ": " + this.message;
          },
          writable: true,
          enumerable: false,
          configurable: true
        }
      });
      return CustomError;
    }
    util.newError = newError;
    util.ProtocolError = newError("ProtocolError");
    util.oneOfGetter = function getOneOf(fieldNames) {
      var fieldMap = {};
      for (var i = 0; i < fieldNames.length; ++i)
        fieldMap[fieldNames[i]] = 1;
      return function() {
        for (var keys = Object.keys(this), i2 = keys.length - 1; i2 > -1; --i2)
          if (fieldMap[keys[i2]] === 1 && this[keys[i2]] !== void 0 && this[keys[i2]] !== null)
            return keys[i2];
      };
    };
    util.oneOfSetter = function setOneOf(fieldNames) {
      return function(name) {
        for (var i = 0; i < fieldNames.length; ++i)
          if (fieldNames[i] !== name)
            delete this[fieldNames[i]];
      };
    };
    util.toJSONOptions = {
      longs: String,
      enums: String,
      bytes: String,
      json: true
    };
    util._configure = function() {
      var Buffer2 = util.Buffer;
      if (!Buffer2) {
        util._Buffer_from = util._Buffer_allocUnsafe = null;
        return;
      }
      util._Buffer_from = Buffer2.from !== Uint8Array.from && Buffer2.from || /* istanbul ignore next */
      function Buffer_from(value, encoding) {
        return new Buffer2(value, encoding);
      };
      util._Buffer_allocUnsafe = Buffer2.allocUnsafe || /* istanbul ignore next */
      function Buffer_allocUnsafe(size) {
        return new Buffer2(size);
      };
    };
  }
});

// node_modules/protobufjs/src/writer.js
var require_writer = __commonJS({
  "node_modules/protobufjs/src/writer.js"(exports2, module2) {
    "use strict";
    module2.exports = Writer;
    var util = require_minimal();
    var BufferWriter;
    var LongBits = util.LongBits;
    var base64 = util.base64;
    var utf83 = util.utf8;
    function Op(fn, len, val) {
      this.fn = fn;
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    function noop() {
    }
    function State(writer) {
      this.head = writer.head;
      this.tail = writer.tail;
      this.len = writer.len;
      this.next = writer.states;
    }
    function Writer() {
      this.len = 0;
      this.head = new Op(noop, 0, 0);
      this.tail = this.head;
      this.states = null;
    }
    var create = function create2() {
      return util.Buffer ? function create_buffer_setup() {
        return (Writer.create = function create_buffer() {
          return new BufferWriter();
        })();
      } : function create_array() {
        return new Writer();
      };
    };
    Writer.create = create();
    Writer.alloc = function alloc(size) {
      return new util.Array(size);
    };
    if (util.Array !== Array)
      Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);
    Writer.prototype._push = function push(fn, len, val) {
      this.tail = this.tail.next = new Op(fn, len, val);
      this.len += len;
      return this;
    };
    function writeByte(val, buf, pos) {
      buf[pos] = val & 255;
    }
    function writeVarint32(val, buf, pos) {
      while (val > 127) {
        buf[pos++] = val & 127 | 128;
        val >>>= 7;
      }
      buf[pos] = val;
    }
    function VarintOp(len, val) {
      this.len = len;
      this.next = void 0;
      this.val = val;
    }
    VarintOp.prototype = Object.create(Op.prototype);
    VarintOp.prototype.fn = writeVarint32;
    Writer.prototype.uint32 = function write_uint32(value) {
      this.len += (this.tail = this.tail.next = new VarintOp(
        (value = value >>> 0) < 128 ? 1 : value < 16384 ? 2 : value < 2097152 ? 3 : value < 268435456 ? 4 : 5,
        value
      )).len;
      return this;
    };
    Writer.prototype.int32 = function write_int32(value) {
      return value < 0 ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) : this.uint32(value);
    };
    Writer.prototype.sint32 = function write_sint32(value) {
      return this.uint32((value << 1 ^ value >> 31) >>> 0);
    };
    function writeVarint64(val, buf, pos) {
      while (val.hi) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;
        val.hi >>>= 7;
      }
      while (val.lo > 127) {
        buf[pos++] = val.lo & 127 | 128;
        val.lo = val.lo >>> 7;
      }
      buf[pos++] = val.lo;
    }
    Writer.prototype.uint64 = function write_uint64(value) {
      var bits = LongBits.from(value);
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.int64 = Writer.prototype.uint64;
    Writer.prototype.sint64 = function write_sint64(value) {
      var bits = LongBits.from(value).zzEncode();
      return this._push(writeVarint64, bits.length(), bits);
    };
    Writer.prototype.bool = function write_bool(value) {
      return this._push(writeByte, 1, value ? 1 : 0);
    };
    function writeFixed32(val, buf, pos) {
      buf[pos] = val & 255;
      buf[pos + 1] = val >>> 8 & 255;
      buf[pos + 2] = val >>> 16 & 255;
      buf[pos + 3] = val >>> 24;
    }
    Writer.prototype.fixed32 = function write_fixed32(value) {
      return this._push(writeFixed32, 4, value >>> 0);
    };
    Writer.prototype.sfixed32 = Writer.prototype.fixed32;
    Writer.prototype.fixed64 = function write_fixed64(value) {
      var bits = LongBits.from(value);
      return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);
    };
    Writer.prototype.sfixed64 = Writer.prototype.fixed64;
    Writer.prototype.float = function write_float(value) {
      return this._push(util.float.writeFloatLE, 4, value);
    };
    Writer.prototype.double = function write_double(value) {
      return this._push(util.float.writeDoubleLE, 8, value);
    };
    var writeBytes = util.Array.prototype.set ? function writeBytes_set(val, buf, pos) {
      buf.set(val, pos);
    } : function writeBytes_for(val, buf, pos) {
      for (var i = 0; i < val.length; ++i)
        buf[pos + i] = val[i];
    };
    Writer.prototype.bytes = function write_bytes(value) {
      var len = value.length >>> 0;
      if (!len)
        return this._push(writeByte, 1, 0);
      if (util.isString(value)) {
        var buf = Writer.alloc(len = base64.length(value));
        base64.decode(value, buf, 0);
        value = buf;
      }
      return this.uint32(len)._push(writeBytes, len, value);
    };
    Writer.prototype.string = function write_string(value) {
      var len = utf83.length(value);
      return len ? this.uint32(len)._push(utf83.write, len, value) : this._push(writeByte, 1, 0);
    };
    Writer.prototype.fork = function fork() {
      this.states = new State(this);
      this.head = this.tail = new Op(noop, 0, 0);
      this.len = 0;
      return this;
    };
    Writer.prototype.reset = function reset() {
      if (this.states) {
        this.head = this.states.head;
        this.tail = this.states.tail;
        this.len = this.states.len;
        this.states = this.states.next;
      } else {
        this.head = this.tail = new Op(noop, 0, 0);
        this.len = 0;
      }
      return this;
    };
    Writer.prototype.ldelim = function ldelim() {
      var head = this.head, tail = this.tail, len = this.len;
      this.reset().uint32(len);
      if (len) {
        this.tail.next = head.next;
        this.tail = tail;
        this.len += len;
      }
      return this;
    };
    Writer.prototype.finish = function finish() {
      var head = this.head.next, buf = this.constructor.alloc(this.len), pos = 0;
      while (head) {
        head.fn(head.val, buf, pos);
        pos += head.len;
        head = head.next;
      }
      return buf;
    };
    Writer._configure = function(BufferWriter_) {
      BufferWriter = BufferWriter_;
      Writer.create = create();
      BufferWriter._configure();
    };
  }
});

// node_modules/protobufjs/src/writer_buffer.js
var require_writer_buffer = __commonJS({
  "node_modules/protobufjs/src/writer_buffer.js"(exports2, module2) {
    "use strict";
    module2.exports = BufferWriter;
    var Writer = require_writer();
    (BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;
    var util = require_minimal();
    function BufferWriter() {
      Writer.call(this);
    }
    BufferWriter._configure = function() {
      BufferWriter.alloc = util._Buffer_allocUnsafe;
      BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === "set" ? function writeBytesBuffer_set(val, buf, pos) {
        buf.set(val, pos);
      } : function writeBytesBuffer_copy(val, buf, pos) {
        if (val.copy)
          val.copy(buf, pos, 0, val.length);
        else
          for (var i = 0; i < val.length; )
            buf[pos++] = val[i++];
      };
    };
    BufferWriter.prototype.bytes = function write_bytes_buffer(value) {
      if (util.isString(value))
        value = util._Buffer_from(value, "base64");
      var len = value.length >>> 0;
      this.uint32(len);
      if (len)
        this._push(BufferWriter.writeBytesBuffer, len, value);
      return this;
    };
    function writeStringBuffer(val, buf, pos) {
      if (val.length < 40)
        util.utf8.write(val, buf, pos);
      else if (buf.utf8Write)
        buf.utf8Write(val, pos);
      else
        buf.write(val, pos);
    }
    BufferWriter.prototype.string = function write_string_buffer(value) {
      var len = util.Buffer.byteLength(value);
      this.uint32(len);
      if (len)
        this._push(writeStringBuffer, len, value);
      return this;
    };
    BufferWriter._configure();
  }
});

// node_modules/protobufjs/src/reader.js
var require_reader = __commonJS({
  "node_modules/protobufjs/src/reader.js"(exports2, module2) {
    "use strict";
    module2.exports = Reader;
    var util = require_minimal();
    var BufferReader;
    var LongBits = util.LongBits;
    var utf83 = util.utf8;
    function indexOutOfRange(reader, writeLength) {
      return RangeError("index out of range: " + reader.pos + " + " + (writeLength || 1) + " > " + reader.len);
    }
    function Reader(buffer2) {
      this.buf = buffer2;
      this.pos = 0;
      this.len = buffer2.length;
    }
    var create_array = typeof Uint8Array !== "undefined" ? function create_typed_array(buffer2) {
      if (buffer2 instanceof Uint8Array || Array.isArray(buffer2))
        return new Reader(buffer2);
      throw Error("illegal buffer");
    } : function create_array2(buffer2) {
      if (Array.isArray(buffer2))
        return new Reader(buffer2);
      throw Error("illegal buffer");
    };
    var create = function create2() {
      return util.Buffer ? function create_buffer_setup(buffer2) {
        return (Reader.create = function create_buffer(buffer3) {
          return util.Buffer.isBuffer(buffer3) ? new BufferReader(buffer3) : create_array(buffer3);
        })(buffer2);
      } : create_array;
    };
    Reader.create = create();
    Reader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */
    util.Array.prototype.slice;
    Reader.prototype.uint32 = function read_uint32_setup() {
      var value = 4294967295;
      return function read_uint32() {
        value = (this.buf[this.pos] & 127) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 7) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        value = (value | (this.buf[this.pos] & 15) << 28) >>> 0;
        if (this.buf[this.pos++] < 128)
          return value;
        if ((this.pos += 5) > this.len) {
          this.pos = this.len;
          throw indexOutOfRange(this, 10);
        }
        return value;
      };
    }();
    Reader.prototype.int32 = function read_int32() {
      return this.uint32() | 0;
    };
    Reader.prototype.sint32 = function read_sint32() {
      var value = this.uint32();
      return value >>> 1 ^ -(value & 1) | 0;
    };
    function readLongVarint() {
      var bits = new LongBits(0, 0);
      var i = 0;
      if (this.len - this.pos > 4) {
        for (; i < 4; ++i) {
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;
        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >> 4) >>> 0;
        if (this.buf[this.pos++] < 128)
          return bits;
        i = 0;
      } else {
        for (; i < 3; ++i) {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
          bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;
        return bits;
      }
      if (this.len - this.pos > 4) {
        for (; i < 5; ++i) {
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
      } else {
        for (; i < 5; ++i) {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
          bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;
          if (this.buf[this.pos++] < 128)
            return bits;
        }
      }
      throw Error("invalid varint encoding");
    }
    Reader.prototype.bool = function read_bool() {
      return this.uint32() !== 0;
    };
    function readFixed32_end(buf, end) {
      return (buf[end - 4] | buf[end - 3] << 8 | buf[end - 2] << 16 | buf[end - 1] << 24) >>> 0;
    }
    Reader.prototype.fixed32 = function read_fixed32() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, this.pos += 4);
    };
    Reader.prototype.sfixed32 = function read_sfixed32() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      return readFixed32_end(this.buf, this.pos += 4) | 0;
    };
    function readFixed64() {
      if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 8);
      return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));
    }
    Reader.prototype.float = function read_float() {
      if (this.pos + 4 > this.len)
        throw indexOutOfRange(this, 4);
      var value = util.float.readFloatLE(this.buf, this.pos);
      this.pos += 4;
      return value;
    };
    Reader.prototype.double = function read_double() {
      if (this.pos + 8 > this.len)
        throw indexOutOfRange(this, 4);
      var value = util.float.readDoubleLE(this.buf, this.pos);
      this.pos += 8;
      return value;
    };
    Reader.prototype.bytes = function read_bytes() {
      var length2 = this.uint32(), start = this.pos, end = this.pos + length2;
      if (end > this.len)
        throw indexOutOfRange(this, length2);
      this.pos += length2;
      if (Array.isArray(this.buf))
        return this.buf.slice(start, end);
      if (start === end) {
        var nativeBuffer = util.Buffer;
        return nativeBuffer ? nativeBuffer.alloc(0) : new this.buf.constructor(0);
      }
      return this._slice.call(this.buf, start, end);
    };
    Reader.prototype.string = function read_string() {
      var bytes = this.bytes();
      return utf83.read(bytes, 0, bytes.length);
    };
    Reader.prototype.skip = function skip(length2) {
      if (typeof length2 === "number") {
        if (this.pos + length2 > this.len)
          throw indexOutOfRange(this, length2);
        this.pos += length2;
      } else {
        do {
          if (this.pos >= this.len)
            throw indexOutOfRange(this);
        } while (this.buf[this.pos++] & 128);
      }
      return this;
    };
    Reader.prototype.skipType = function(wireType) {
      switch (wireType) {
        case 0:
          this.skip();
          break;
        case 1:
          this.skip(8);
          break;
        case 2:
          this.skip(this.uint32());
          break;
        case 3:
          while ((wireType = this.uint32() & 7) !== 4) {
            this.skipType(wireType);
          }
          break;
        case 5:
          this.skip(4);
          break;
        default:
          throw Error("invalid wire type " + wireType + " at offset " + this.pos);
      }
      return this;
    };
    Reader._configure = function(BufferReader_) {
      BufferReader = BufferReader_;
      Reader.create = create();
      BufferReader._configure();
      var fn = util.Long ? "toLong" : (
        /* istanbul ignore next */
        "toNumber"
      );
      util.merge(Reader.prototype, {
        int64: function read_int64() {
          return readLongVarint.call(this)[fn](false);
        },
        uint64: function read_uint64() {
          return readLongVarint.call(this)[fn](true);
        },
        sint64: function read_sint64() {
          return readLongVarint.call(this).zzDecode()[fn](false);
        },
        fixed64: function read_fixed64() {
          return readFixed64.call(this)[fn](true);
        },
        sfixed64: function read_sfixed64() {
          return readFixed64.call(this)[fn](false);
        }
      });
    };
  }
});

// node_modules/protobufjs/src/reader_buffer.js
var require_reader_buffer = __commonJS({
  "node_modules/protobufjs/src/reader_buffer.js"(exports2, module2) {
    "use strict";
    module2.exports = BufferReader;
    var Reader = require_reader();
    (BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;
    var util = require_minimal();
    function BufferReader(buffer2) {
      Reader.call(this, buffer2);
    }
    BufferReader._configure = function() {
      if (util.Buffer)
        BufferReader.prototype._slice = util.Buffer.prototype.slice;
    };
    BufferReader.prototype.string = function read_string_buffer() {
      var len = this.uint32();
      return this.buf.utf8Slice ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len)) : this.buf.toString("utf-8", this.pos, this.pos = Math.min(this.pos + len, this.len));
    };
    BufferReader._configure();
  }
});

// node_modules/protobufjs/src/rpc/service.js
var require_service = __commonJS({
  "node_modules/protobufjs/src/rpc/service.js"(exports2, module2) {
    "use strict";
    module2.exports = Service;
    var util = require_minimal();
    (Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;
    function Service(rpcImpl, requestDelimited, responseDelimited) {
      if (typeof rpcImpl !== "function")
        throw TypeError("rpcImpl must be a function");
      util.EventEmitter.call(this);
      this.rpcImpl = rpcImpl;
      this.requestDelimited = Boolean(requestDelimited);
      this.responseDelimited = Boolean(responseDelimited);
    }
    Service.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {
      if (!request)
        throw TypeError("request must be specified");
      var self2 = this;
      if (!callback)
        return util.asPromise(rpcCall, self2, method, requestCtor, responseCtor, request);
      if (!self2.rpcImpl) {
        setTimeout(function() {
          callback(Error("already ended"));
        }, 0);
        return void 0;
      }
      try {
        return self2.rpcImpl(
          method,
          requestCtor[self2.requestDelimited ? "encodeDelimited" : "encode"](request).finish(),
          function rpcCallback(err, response) {
            if (err) {
              self2.emit("error", err, method);
              return callback(err);
            }
            if (response === null) {
              self2.end(
                /* endedByRPC */
                true
              );
              return void 0;
            }
            if (!(response instanceof responseCtor)) {
              try {
                response = responseCtor[self2.responseDelimited ? "decodeDelimited" : "decode"](response);
              } catch (err2) {
                self2.emit("error", err2, method);
                return callback(err2);
              }
            }
            self2.emit("data", response, method);
            return callback(null, response);
          }
        );
      } catch (err) {
        self2.emit("error", err, method);
        setTimeout(function() {
          callback(err);
        }, 0);
        return void 0;
      }
    };
    Service.prototype.end = function end(endedByRPC) {
      if (this.rpcImpl) {
        if (!endedByRPC)
          this.rpcImpl(null, null, null);
        this.rpcImpl = null;
        this.emit("end").off();
      }
      return this;
    };
  }
});

// node_modules/protobufjs/src/rpc.js
var require_rpc = __commonJS({
  "node_modules/protobufjs/src/rpc.js"(exports2) {
    "use strict";
    var rpc = exports2;
    rpc.Service = require_service();
  }
});

// node_modules/protobufjs/src/roots.js
var require_roots = __commonJS({
  "node_modules/protobufjs/src/roots.js"(exports2, module2) {
    "use strict";
    module2.exports = {};
  }
});

// node_modules/protobufjs/src/index-minimal.js
var require_index_minimal = __commonJS({
  "node_modules/protobufjs/src/index-minimal.js"(exports2) {
    "use strict";
    var protobuf = exports2;
    protobuf.build = "minimal";
    protobuf.Writer = require_writer();
    protobuf.BufferWriter = require_writer_buffer();
    protobuf.Reader = require_reader();
    protobuf.BufferReader = require_reader_buffer();
    protobuf.util = require_minimal();
    protobuf.rpc = require_rpc();
    protobuf.roots = require_roots();
    protobuf.configure = configure;
    function configure() {
      protobuf.util._configure();
      protobuf.Writer._configure(protobuf.BufferWriter);
      protobuf.Reader._configure(protobuf.BufferReader);
    }
    configure();
  }
});

// node_modules/protobufjs/minimal.js
var require_minimal2 = __commonJS({
  "node_modules/protobufjs/minimal.js"(exports2, module2) {
    "use strict";
    module2.exports = require_index_minimal();
  }
});

// src/index.ts.entry-point.ts
var index_ts_entry_point_exports = {};
__export(index_ts_entry_point_exports, {
  main: () => main,
  onStart: () => onStart,
  onUpdate: () => onUpdate,
  rendererTransport: () => rendererTransport
});
module.exports = __toCommonJS(index_ts_entry_point_exports);

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/animator.gen.js
var import_minimal = __toESM(require_minimal2());
function createBasePBAnimator() {
  return { states: [] };
}
var PBAnimator;
(function(PBAnimator2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    for (const v of message.states) {
      PBAnimationState.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBAnimator2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal.default.Reader ? input : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimator();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.states.push(PBAnimationState.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimator2.decode = decode;
})(PBAnimator || (PBAnimator = {}));
function createBasePBAnimationState() {
  return { clip: "", playing: void 0, weight: void 0, speed: void 0, loop: void 0, shouldReset: void 0 };
}
var PBAnimationState;
(function(PBAnimationState2) {
  function encode(message, writer = import_minimal.default.Writer.create()) {
    if (message.clip !== "") {
      writer.uint32(18).string(message.clip);
    }
    if (message.playing !== void 0) {
      writer.uint32(24).bool(message.playing);
    }
    if (message.weight !== void 0) {
      writer.uint32(37).float(message.weight);
    }
    if (message.speed !== void 0) {
      writer.uint32(45).float(message.speed);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    if (message.shouldReset !== void 0) {
      writer.uint32(56).bool(message.shouldReset);
    }
    return writer;
  }
  PBAnimationState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal.default.Reader ? input : import_minimal.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAnimationState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 2:
          if (tag !== 18) {
            break;
          }
          message.clip = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.weight = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.speed = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.shouldReset = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAnimationState2.decode = decode;
})(PBAnimationState || (PBAnimationState = {}));

// node_modules/@dcl/ecs/dist/components/generated/Animator.gen.js
var AnimatorSchema = {
  COMPONENT_ID: 1042,
  serialize(value, builder) {
    const writer = PBAnimator.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAnimator.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAnimator.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAnimator"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_event.gen.js
var import_minimal2 = __toESM(require_minimal2());
function createBasePBAudioEvent() {
  return { state: 0, timestamp: 0 };
}
var PBAudioEvent;
(function(PBAudioEvent2) {
  function encode(message, writer = import_minimal2.default.Writer.create()) {
    if (message.state !== 0) {
      writer.uint32(8).int32(message.state);
    }
    if (message.timestamp !== 0) {
      writer.uint32(16).uint32(message.timestamp);
    }
    return writer;
  }
  PBAudioEvent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal2.default.Reader ? input : import_minimal2.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioEvent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioEvent2.decode = decode;
})(PBAudioEvent || (PBAudioEvent = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioEvent.gen.js
var AudioEventSchema = {
  COMPONENT_ID: 1105,
  serialize(value, builder) {
    const writer = PBAudioEvent.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAudioEvent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioEvent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioEvent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_source.gen.js
var import_minimal3 = __toESM(require_minimal2());
function createBasePBAudioSource() {
  return {
    playing: void 0,
    volume: void 0,
    loop: void 0,
    pitch: void 0,
    audioClipUrl: "",
    currentTime: void 0,
    global: void 0
  };
}
var PBAudioSource;
(function(PBAudioSource2) {
  function encode(message, writer = import_minimal3.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.loop !== void 0) {
      writer.uint32(24).bool(message.loop);
    }
    if (message.pitch !== void 0) {
      writer.uint32(37).float(message.pitch);
    }
    if (message.audioClipUrl !== "") {
      writer.uint32(42).string(message.audioClipUrl);
    }
    if (message.currentTime !== void 0) {
      writer.uint32(53).float(message.currentTime);
    }
    if (message.global !== void 0) {
      writer.uint32(56).bool(message.global);
    }
    return writer;
  }
  PBAudioSource2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal3.default.Reader ? input : import_minimal3.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioSource();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.pitch = reader.float();
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.audioClipUrl = reader.string();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.currentTime = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.global = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioSource2.decode = decode;
})(PBAudioSource || (PBAudioSource = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioSource.gen.js
var AudioSourceSchema = {
  COMPONENT_ID: 1020,
  serialize(value, builder) {
    const writer = PBAudioSource.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAudioSource.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioSource.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioSource"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/audio_stream.gen.js
var import_minimal4 = __toESM(require_minimal2());
function createBasePBAudioStream() {
  return { playing: void 0, volume: void 0, url: "" };
}
var PBAudioStream;
(function(PBAudioStream2) {
  function encode(message, writer = import_minimal4.default.Writer.create()) {
    if (message.playing !== void 0) {
      writer.uint32(8).bool(message.playing);
    }
    if (message.volume !== void 0) {
      writer.uint32(21).float(message.volume);
    }
    if (message.url !== "") {
      writer.uint32(26).string(message.url);
    }
    return writer;
  }
  PBAudioStream2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal4.default.Reader ? input : import_minimal4.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAudioStream();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.url = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAudioStream2.decode = decode;
})(PBAudioStream || (PBAudioStream = {}));

// node_modules/@dcl/ecs/dist/components/generated/AudioStream.gen.js
var AudioStreamSchema = {
  COMPONENT_ID: 1021,
  serialize(value, builder) {
    const writer = PBAudioStream.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAudioStream.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAudioStream.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAudioStream"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_attach.gen.js
var import_minimal5 = __toESM(require_minimal2());
var AvatarAnchorPointType;
(function(AvatarAnchorPointType2) {
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_POSITION"] = 0] = "AAPT_POSITION";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_NAME_TAG"] = 1] = "AAPT_NAME_TAG";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_HEAD"] = 4] = "AAPT_HEAD";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_NECK"] = 5] = "AAPT_NECK";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_SPINE"] = 6] = "AAPT_SPINE";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_SPINE1"] = 7] = "AAPT_SPINE1";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_SPINE2"] = 8] = "AAPT_SPINE2";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_HIP"] = 9] = "AAPT_HIP";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_SHOULDER"] = 10] = "AAPT_LEFT_SHOULDER";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_ARM"] = 11] = "AAPT_LEFT_ARM";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_FOREARM"] = 12] = "AAPT_LEFT_FOREARM";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_HAND"] = 2] = "AAPT_LEFT_HAND";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_HAND_INDEX"] = 13] = "AAPT_LEFT_HAND_INDEX";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_SHOULDER"] = 14] = "AAPT_RIGHT_SHOULDER";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_ARM"] = 15] = "AAPT_RIGHT_ARM";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_FOREARM"] = 16] = "AAPT_RIGHT_FOREARM";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_HAND"] = 3] = "AAPT_RIGHT_HAND";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_HAND_INDEX"] = 17] = "AAPT_RIGHT_HAND_INDEX";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_UP_LEG"] = 18] = "AAPT_LEFT_UP_LEG";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_LEG"] = 19] = "AAPT_LEFT_LEG";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_FOOT"] = 20] = "AAPT_LEFT_FOOT";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_LEFT_TOE_BASE"] = 21] = "AAPT_LEFT_TOE_BASE";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_UP_LEG"] = 22] = "AAPT_RIGHT_UP_LEG";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_LEG"] = 23] = "AAPT_RIGHT_LEG";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_FOOT"] = 24] = "AAPT_RIGHT_FOOT";
  AvatarAnchorPointType2[AvatarAnchorPointType2["AAPT_RIGHT_TOE_BASE"] = 25] = "AAPT_RIGHT_TOE_BASE";
})(AvatarAnchorPointType || (AvatarAnchorPointType = {}));
function createBasePBAvatarAttach() {
  return { avatarId: void 0, anchorPointId: 0 };
}
var PBAvatarAttach;
(function(PBAvatarAttach2) {
  function encode(message, writer = import_minimal5.default.Writer.create()) {
    if (message.avatarId !== void 0) {
      writer.uint32(10).string(message.avatarId);
    }
    if (message.anchorPointId !== 0) {
      writer.uint32(16).int32(message.anchorPointId);
    }
    return writer;
  }
  PBAvatarAttach2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal5.default.Reader ? input : import_minimal5.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarAttach();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.avatarId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.anchorPointId = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarAttach2.decode = decode;
})(PBAvatarAttach || (PBAvatarAttach = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarAttach.gen.js
var AvatarAttachSchema = {
  COMPONENT_ID: 1073,
  serialize(value, builder) {
    const writer = PBAvatarAttach.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarAttach.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarAttach.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarAttach"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_base.gen.js
var import_minimal7 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/colors.gen.js
var import_minimal6 = __toESM(require_minimal2());
function createBaseColor3() {
  return { r: 0, g: 0, b: 0 };
}
var Color3;
(function(Color33) {
  function encode(message, writer = import_minimal6.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    return writer;
  }
  Color33.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal6.default.Reader ? input : import_minimal6.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color33.decode = decode;
})(Color3 || (Color3 = {}));
function createBaseColor4() {
  return { r: 0, g: 0, b: 0, a: 0 };
}
var Color4;
(function(Color43) {
  function encode(message, writer = import_minimal6.default.Writer.create()) {
    if (message.r !== 0) {
      writer.uint32(13).float(message.r);
    }
    if (message.g !== 0) {
      writer.uint32(21).float(message.g);
    }
    if (message.b !== 0) {
      writer.uint32(29).float(message.b);
    }
    if (message.a !== 0) {
      writer.uint32(37).float(message.a);
    }
    return writer;
  }
  Color43.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal6.default.Reader ? input : import_minimal6.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseColor4();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.r = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.g = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.b = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.a = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Color43.decode = decode;
})(Color4 || (Color4 = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_base.gen.js
function createBasePBAvatarBase() {
  return { skinColor: void 0, eyesColor: void 0, hairColor: void 0, bodyShapeUrn: "", name: "" };
}
var PBAvatarBase;
(function(PBAvatarBase2) {
  function encode(message, writer = import_minimal7.default.Writer.create()) {
    if (message.skinColor !== void 0) {
      Color3.encode(message.skinColor, writer.uint32(10).fork()).ldelim();
    }
    if (message.eyesColor !== void 0) {
      Color3.encode(message.eyesColor, writer.uint32(18).fork()).ldelim();
    }
    if (message.hairColor !== void 0) {
      Color3.encode(message.hairColor, writer.uint32(26).fork()).ldelim();
    }
    if (message.bodyShapeUrn !== "") {
      writer.uint32(34).string(message.bodyShapeUrn);
    }
    if (message.name !== "") {
      writer.uint32(42).string(message.name);
    }
    return writer;
  }
  PBAvatarBase2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal7.default.Reader ? input : import_minimal7.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarBase();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.skinColor = Color3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.eyesColor = Color3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.hairColor = Color3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.bodyShapeUrn = reader.string();
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.name = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarBase2.decode = decode;
})(PBAvatarBase || (PBAvatarBase = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarBase.gen.js
var AvatarBaseSchema = {
  COMPONENT_ID: 1087,
  serialize(value, builder) {
    const writer = PBAvatarBase.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarBase.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarBase.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarBase"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_emote_command.gen.js
var import_minimal8 = __toESM(require_minimal2());
function createBasePBAvatarEmoteCommand() {
  return { emoteUrn: "", loop: false, timestamp: 0 };
}
var PBAvatarEmoteCommand;
(function(PBAvatarEmoteCommand2) {
  function encode(message, writer = import_minimal8.default.Writer.create()) {
    if (message.emoteUrn !== "") {
      writer.uint32(10).string(message.emoteUrn);
    }
    if (message.loop === true) {
      writer.uint32(16).bool(message.loop);
    }
    if (message.timestamp !== 0) {
      writer.uint32(24).uint32(message.timestamp);
    }
    return writer;
  }
  PBAvatarEmoteCommand2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal8.default.Reader ? input : import_minimal8.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarEmoteCommand();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.emoteUrn = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.loop = reader.bool();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarEmoteCommand2.decode = decode;
})(PBAvatarEmoteCommand || (PBAvatarEmoteCommand = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarEmoteCommand.gen.js
var AvatarEmoteCommandSchema = {
  COMPONENT_ID: 1088,
  serialize(value, builder) {
    const writer = PBAvatarEmoteCommand.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarEmoteCommand.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarEmoteCommand.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarEmoteCommand"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_equipped_data.gen.js
var import_minimal9 = __toESM(require_minimal2());
function createBasePBAvatarEquippedData() {
  return { wearableUrns: [], emoteUrns: [] };
}
var PBAvatarEquippedData;
(function(PBAvatarEquippedData2) {
  function encode(message, writer = import_minimal9.default.Writer.create()) {
    for (const v of message.wearableUrns) {
      writer.uint32(10).string(v);
    }
    for (const v of message.emoteUrns) {
      writer.uint32(18).string(v);
    }
    return writer;
  }
  PBAvatarEquippedData2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal9.default.Reader ? input : import_minimal9.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarEquippedData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.wearableUrns.push(reader.string());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.emoteUrns.push(reader.string());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarEquippedData2.decode = decode;
})(PBAvatarEquippedData || (PBAvatarEquippedData = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarEquippedData.gen.js
var AvatarEquippedDataSchema = {
  COMPONENT_ID: 1091,
  serialize(value, builder) {
    const writer = PBAvatarEquippedData.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarEquippedData.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarEquippedData.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarEquippedData"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var import_minimal11 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/vectors.gen.js
var import_minimal10 = __toESM(require_minimal2());
function createBasePosition() {
  return { x: 0, y: 0, z: 0 };
}
var Position;
(function(Position2) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Position2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal10.default.Reader ? input : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePosition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Position2.decode = decode;
})(Position || (Position = {}));
function createBaseVector3() {
  return { x: 0, y: 0, z: 0 };
}
var Vector3;
(function(Vector33) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    return writer;
  }
  Vector33.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal10.default.Reader ? input : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector3();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector33.decode = decode;
})(Vector3 || (Vector3 = {}));
function createBaseVector2() {
  return { x: 0, y: 0 };
}
var Vector2;
(function(Vector23) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    return writer;
  }
  Vector23.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal10.default.Reader ? input : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVector2();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Vector23.decode = decode;
})(Vector2 || (Vector2 = {}));
function createBaseQuaternion() {
  return { x: 0, y: 0, z: 0, w: 0 };
}
var Quaternion;
(function(Quaternion3) {
  function encode(message, writer = import_minimal10.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.z !== 0) {
      writer.uint32(29).float(message.z);
    }
    if (message.w !== 0) {
      writer.uint32(37).float(message.w);
    }
    return writer;
  }
  Quaternion3.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal10.default.Reader ? input : import_minimal10.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseQuaternion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.z = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.w = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Quaternion3.decode = decode;
})(Quaternion || (Quaternion = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_modifier_area.gen.js
var AvatarModifierType;
(function(AvatarModifierType2) {
  AvatarModifierType2[AvatarModifierType2["AMT_HIDE_AVATARS"] = 0] = "AMT_HIDE_AVATARS";
  AvatarModifierType2[AvatarModifierType2["AMT_DISABLE_PASSPORTS"] = 1] = "AMT_DISABLE_PASSPORTS";
})(AvatarModifierType || (AvatarModifierType = {}));
function createBasePBAvatarModifierArea() {
  return { area: void 0, excludeIds: [], modifiers: [] };
}
var PBAvatarModifierArea;
(function(PBAvatarModifierArea2) {
  function encode(message, writer = import_minimal11.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    for (const v of message.excludeIds) {
      writer.uint32(18).string(v);
    }
    writer.uint32(26).fork();
    for (const v of message.modifiers) {
      writer.int32(v);
    }
    writer.ldelim();
    return writer;
  }
  PBAvatarModifierArea2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal11.default.Reader ? input : import_minimal11.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarModifierArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.excludeIds.push(reader.string());
          continue;
        case 3:
          if (tag === 24) {
            message.modifiers.push(reader.int32());
            continue;
          }
          if (tag === 26) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.modifiers.push(reader.int32());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarModifierArea2.decode = decode;
})(PBAvatarModifierArea || (PBAvatarModifierArea = {}));

// node_modules/@dcl/ecs/dist/components/generated/AvatarModifierArea.gen.js
var AvatarModifierAreaSchema = {
  COMPONENT_ID: 1070,
  serialize(value, builder) {
    const writer = PBAvatarModifierArea.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarModifierArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarModifierArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarModifierArea"
  }
};

// node_modules/long/index.js
var wasm = null;
try {
  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([
    0,
    97,
    115,
    109,
    1,
    0,
    0,
    0,
    1,
    13,
    2,
    96,
    0,
    1,
    127,
    96,
    4,
    127,
    127,
    127,
    127,
    1,
    127,
    3,
    7,
    6,
    0,
    1,
    1,
    1,
    1,
    1,
    6,
    6,
    1,
    127,
    1,
    65,
    0,
    11,
    7,
    50,
    6,
    3,
    109,
    117,
    108,
    0,
    1,
    5,
    100,
    105,
    118,
    95,
    115,
    0,
    2,
    5,
    100,
    105,
    118,
    95,
    117,
    0,
    3,
    5,
    114,
    101,
    109,
    95,
    115,
    0,
    4,
    5,
    114,
    101,
    109,
    95,
    117,
    0,
    5,
    8,
    103,
    101,
    116,
    95,
    104,
    105,
    103,
    104,
    0,
    0,
    10,
    191,
    1,
    6,
    4,
    0,
    35,
    0,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    126,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    127,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    128,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    129,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11,
    36,
    1,
    1,
    126,
    32,
    0,
    173,
    32,
    1,
    173,
    66,
    32,
    134,
    132,
    32,
    2,
    173,
    32,
    3,
    173,
    66,
    32,
    134,
    132,
    130,
    34,
    4,
    66,
    32,
    135,
    167,
    36,
    0,
    32,
    4,
    167,
    11
  ])), {}).exports;
} catch (e) {
}
function Long(low, high, unsigned) {
  this.low = low | 0;
  this.high = high | 0;
  this.unsigned = !!unsigned;
}
Long.prototype.__isLong__;
Object.defineProperty(Long.prototype, "__isLong__", { value: true });
function isLong(obj) {
  return (obj && obj["__isLong__"]) === true;
}
function ctz32(value) {
  var c = Math.clz32(value & -value);
  return value ? 31 - c : c;
}
Long.isLong = isLong;
var INT_CACHE = {};
var UINT_CACHE = {};
function fromInt(value, unsigned) {
  var obj, cachedObj, cache;
  if (unsigned) {
    value >>>= 0;
    if (cache = 0 <= value && value < 256) {
      cachedObj = UINT_CACHE[value];
      if (cachedObj)
        return cachedObj;
    }
    obj = fromBits(value, 0, true);
    if (cache)
      UINT_CACHE[value] = obj;
    return obj;
  } else {
    value |= 0;
    if (cache = -128 <= value && value < 128) {
      cachedObj = INT_CACHE[value];
      if (cachedObj)
        return cachedObj;
    }
    obj = fromBits(value, value < 0 ? -1 : 0, false);
    if (cache)
      INT_CACHE[value] = obj;
    return obj;
  }
}
Long.fromInt = fromInt;
function fromNumber(value, unsigned) {
  if (isNaN(value))
    return unsigned ? UZERO : ZERO;
  if (unsigned) {
    if (value < 0)
      return UZERO;
    if (value >= TWO_PWR_64_DBL)
      return MAX_UNSIGNED_VALUE;
  } else {
    if (value <= -TWO_PWR_63_DBL)
      return MIN_VALUE;
    if (value + 1 >= TWO_PWR_63_DBL)
      return MAX_VALUE;
  }
  if (value < 0)
    return fromNumber(-value, unsigned).neg();
  return fromBits(value % TWO_PWR_32_DBL | 0, value / TWO_PWR_32_DBL | 0, unsigned);
}
Long.fromNumber = fromNumber;
function fromBits(lowBits, highBits, unsigned) {
  return new Long(lowBits, highBits, unsigned);
}
Long.fromBits = fromBits;
var pow_dbl = Math.pow;
function fromString(str, unsigned, radix) {
  if (str.length === 0)
    throw Error("empty string");
  if (typeof unsigned === "number") {
    radix = unsigned;
    unsigned = false;
  } else {
    unsigned = !!unsigned;
  }
  if (str === "NaN" || str === "Infinity" || str === "+Infinity" || str === "-Infinity")
    return unsigned ? UZERO : ZERO;
  radix = radix || 10;
  if (radix < 2 || 36 < radix)
    throw RangeError("radix");
  var p;
  if ((p = str.indexOf("-")) > 0)
    throw Error("interior hyphen");
  else if (p === 0) {
    return fromString(str.substring(1), unsigned, radix).neg();
  }
  var radixToPower = fromNumber(pow_dbl(radix, 8));
  var result = ZERO;
  for (var i = 0; i < str.length; i += 8) {
    var size = Math.min(8, str.length - i), value = parseInt(str.substring(i, i + size), radix);
    if (size < 8) {
      var power = fromNumber(pow_dbl(radix, size));
      result = result.mul(power).add(fromNumber(value));
    } else {
      result = result.mul(radixToPower);
      result = result.add(fromNumber(value));
    }
  }
  result.unsigned = unsigned;
  return result;
}
Long.fromString = fromString;
function fromValue(val, unsigned) {
  if (typeof val === "number")
    return fromNumber(val, unsigned);
  if (typeof val === "string")
    return fromString(val, unsigned);
  return fromBits(val.low, val.high, typeof unsigned === "boolean" ? unsigned : val.unsigned);
}
Long.fromValue = fromValue;
var TWO_PWR_16_DBL = 1 << 16;
var TWO_PWR_24_DBL = 1 << 24;
var TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;
var TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;
var TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;
var TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);
var ZERO = fromInt(0);
Long.ZERO = ZERO;
var UZERO = fromInt(0, true);
Long.UZERO = UZERO;
var ONE = fromInt(1);
Long.ONE = ONE;
var UONE = fromInt(1, true);
Long.UONE = UONE;
var NEG_ONE = fromInt(-1);
Long.NEG_ONE = NEG_ONE;
var MAX_VALUE = fromBits(4294967295 | 0, 2147483647 | 0, false);
Long.MAX_VALUE = MAX_VALUE;
var MAX_UNSIGNED_VALUE = fromBits(4294967295 | 0, 4294967295 | 0, true);
Long.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;
var MIN_VALUE = fromBits(0, 2147483648 | 0, false);
Long.MIN_VALUE = MIN_VALUE;
var LongPrototype = Long.prototype;
LongPrototype.toInt = function toInt() {
  return this.unsigned ? this.low >>> 0 : this.low;
};
LongPrototype.toNumber = function toNumber() {
  if (this.unsigned)
    return (this.high >>> 0) * TWO_PWR_32_DBL + (this.low >>> 0);
  return this.high * TWO_PWR_32_DBL + (this.low >>> 0);
};
LongPrototype.toString = function toString(radix) {
  radix = radix || 10;
  if (radix < 2 || 36 < radix)
    throw RangeError("radix");
  if (this.isZero())
    return "0";
  if (this.isNegative()) {
    if (this.eq(MIN_VALUE)) {
      var radixLong = fromNumber(radix), div = this.div(radixLong), rem1 = div.mul(radixLong).sub(this);
      return div.toString(radix) + rem1.toInt().toString(radix);
    } else
      return "-" + this.neg().toString(radix);
  }
  var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned), rem = this;
  var result = "";
  while (true) {
    var remDiv = rem.div(radixToPower), intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0, digits = intval.toString(radix);
    rem = remDiv;
    if (rem.isZero())
      return digits + result;
    else {
      while (digits.length < 6)
        digits = "0" + digits;
      result = "" + digits + result;
    }
  }
};
LongPrototype.getHighBits = function getHighBits() {
  return this.high;
};
LongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {
  return this.high >>> 0;
};
LongPrototype.getLowBits = function getLowBits() {
  return this.low;
};
LongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {
  return this.low >>> 0;
};
LongPrototype.getNumBitsAbs = function getNumBitsAbs() {
  if (this.isNegative())
    return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();
  var val = this.high != 0 ? this.high : this.low;
  for (var bit = 31; bit > 0; bit--)
    if ((val & 1 << bit) != 0)
      break;
  return this.high != 0 ? bit + 33 : bit + 1;
};
LongPrototype.isZero = function isZero() {
  return this.high === 0 && this.low === 0;
};
LongPrototype.eqz = LongPrototype.isZero;
LongPrototype.isNegative = function isNegative() {
  return !this.unsigned && this.high < 0;
};
LongPrototype.isPositive = function isPositive() {
  return this.unsigned || this.high >= 0;
};
LongPrototype.isOdd = function isOdd() {
  return (this.low & 1) === 1;
};
LongPrototype.isEven = function isEven() {
  return (this.low & 1) === 0;
};
LongPrototype.equals = function equals(other) {
  if (!isLong(other))
    other = fromValue(other);
  if (this.unsigned !== other.unsigned && this.high >>> 31 === 1 && other.high >>> 31 === 1)
    return false;
  return this.high === other.high && this.low === other.low;
};
LongPrototype.eq = LongPrototype.equals;
LongPrototype.notEquals = function notEquals(other) {
  return !this.eq(
    /* validates */
    other
  );
};
LongPrototype.neq = LongPrototype.notEquals;
LongPrototype.ne = LongPrototype.notEquals;
LongPrototype.lessThan = function lessThan(other) {
  return this.comp(
    /* validates */
    other
  ) < 0;
};
LongPrototype.lt = LongPrototype.lessThan;
LongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {
  return this.comp(
    /* validates */
    other
  ) <= 0;
};
LongPrototype.lte = LongPrototype.lessThanOrEqual;
LongPrototype.le = LongPrototype.lessThanOrEqual;
LongPrototype.greaterThan = function greaterThan(other) {
  return this.comp(
    /* validates */
    other
  ) > 0;
};
LongPrototype.gt = LongPrototype.greaterThan;
LongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {
  return this.comp(
    /* validates */
    other
  ) >= 0;
};
LongPrototype.gte = LongPrototype.greaterThanOrEqual;
LongPrototype.ge = LongPrototype.greaterThanOrEqual;
LongPrototype.compare = function compare(other) {
  if (!isLong(other))
    other = fromValue(other);
  if (this.eq(other))
    return 0;
  var thisNeg = this.isNegative(), otherNeg = other.isNegative();
  if (thisNeg && !otherNeg)
    return -1;
  if (!thisNeg && otherNeg)
    return 1;
  if (!this.unsigned)
    return this.sub(other).isNegative() ? -1 : 1;
  return other.high >>> 0 > this.high >>> 0 || other.high === this.high && other.low >>> 0 > this.low >>> 0 ? -1 : 1;
};
LongPrototype.comp = LongPrototype.compare;
LongPrototype.negate = function negate() {
  if (!this.unsigned && this.eq(MIN_VALUE))
    return MIN_VALUE;
  return this.not().add(ONE);
};
LongPrototype.neg = LongPrototype.negate;
LongPrototype.add = function add(addend) {
  if (!isLong(addend))
    addend = fromValue(addend);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = addend.high >>> 16;
  var b32 = addend.high & 65535;
  var b16 = addend.low >>> 16;
  var b00 = addend.low & 65535;
  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 + b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 + b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 + b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 + b48;
  c48 &= 65535;
  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
};
LongPrototype.subtract = function subtract(subtrahend) {
  if (!isLong(subtrahend))
    subtrahend = fromValue(subtrahend);
  return this.add(subtrahend.neg());
};
LongPrototype.sub = LongPrototype.subtract;
LongPrototype.multiply = function multiply(multiplier) {
  if (this.isZero())
    return this;
  if (!isLong(multiplier))
    multiplier = fromValue(multiplier);
  if (wasm) {
    var low = wasm["mul"](
      this.low,
      this.high,
      multiplier.low,
      multiplier.high
    );
    return fromBits(low, wasm["get_high"](), this.unsigned);
  }
  if (multiplier.isZero())
    return this.unsigned ? UZERO : ZERO;
  if (this.eq(MIN_VALUE))
    return multiplier.isOdd() ? MIN_VALUE : ZERO;
  if (multiplier.eq(MIN_VALUE))
    return this.isOdd() ? MIN_VALUE : ZERO;
  if (this.isNegative()) {
    if (multiplier.isNegative())
      return this.neg().mul(multiplier.neg());
    else
      return this.neg().mul(multiplier).neg();
  } else if (multiplier.isNegative())
    return this.mul(multiplier.neg()).neg();
  if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))
    return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);
  var a48 = this.high >>> 16;
  var a32 = this.high & 65535;
  var a16 = this.low >>> 16;
  var a00 = this.low & 65535;
  var b48 = multiplier.high >>> 16;
  var b32 = multiplier.high & 65535;
  var b16 = multiplier.low >>> 16;
  var b00 = multiplier.low & 65535;
  var c48 = 0, c32 = 0, c16 = 0, c00 = 0;
  c00 += a00 * b00;
  c16 += c00 >>> 16;
  c00 &= 65535;
  c16 += a16 * b00;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c16 += a00 * b16;
  c32 += c16 >>> 16;
  c16 &= 65535;
  c32 += a32 * b00;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a16 * b16;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c32 += a00 * b32;
  c48 += c32 >>> 16;
  c32 &= 65535;
  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;
  c48 &= 65535;
  return fromBits(c16 << 16 | c00, c48 << 16 | c32, this.unsigned);
};
LongPrototype.mul = LongPrototype.multiply;
LongPrototype.divide = function divide(divisor) {
  if (!isLong(divisor))
    divisor = fromValue(divisor);
  if (divisor.isZero())
    throw Error("division by zero");
  if (wasm) {
    if (!this.unsigned && this.high === -2147483648 && divisor.low === -1 && divisor.high === -1) {
      return this;
    }
    var low = (this.unsigned ? wasm["div_u"] : wasm["div_s"])(
      this.low,
      this.high,
      divisor.low,
      divisor.high
    );
    return fromBits(low, wasm["get_high"](), this.unsigned);
  }
  if (this.isZero())
    return this.unsigned ? UZERO : ZERO;
  var approx, rem, res;
  if (!this.unsigned) {
    if (this.eq(MIN_VALUE)) {
      if (divisor.eq(ONE) || divisor.eq(NEG_ONE))
        return MIN_VALUE;
      else if (divisor.eq(MIN_VALUE))
        return ONE;
      else {
        var halfThis = this.shr(1);
        approx = halfThis.div(divisor).shl(1);
        if (approx.eq(ZERO)) {
          return divisor.isNegative() ? ONE : NEG_ONE;
        } else {
          rem = this.sub(divisor.mul(approx));
          res = approx.add(rem.div(divisor));
          return res;
        }
      }
    } else if (divisor.eq(MIN_VALUE))
      return this.unsigned ? UZERO : ZERO;
    if (this.isNegative()) {
      if (divisor.isNegative())
        return this.neg().div(divisor.neg());
      return this.neg().div(divisor).neg();
    } else if (divisor.isNegative())
      return this.div(divisor.neg()).neg();
    res = ZERO;
  } else {
    if (!divisor.unsigned)
      divisor = divisor.toUnsigned();
    if (divisor.gt(this))
      return UZERO;
    if (divisor.gt(this.shru(1)))
      return UONE;
    res = UZERO;
  }
  rem = this;
  while (rem.gte(divisor)) {
    approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));
    var log2 = Math.ceil(Math.log(approx) / Math.LN2), delta = log2 <= 48 ? 1 : pow_dbl(2, log2 - 48), approxRes = fromNumber(approx), approxRem = approxRes.mul(divisor);
    while (approxRem.isNegative() || approxRem.gt(rem)) {
      approx -= delta;
      approxRes = fromNumber(approx, this.unsigned);
      approxRem = approxRes.mul(divisor);
    }
    if (approxRes.isZero())
      approxRes = ONE;
    res = res.add(approxRes);
    rem = rem.sub(approxRem);
  }
  return res;
};
LongPrototype.div = LongPrototype.divide;
LongPrototype.modulo = function modulo(divisor) {
  if (!isLong(divisor))
    divisor = fromValue(divisor);
  if (wasm) {
    var low = (this.unsigned ? wasm["rem_u"] : wasm["rem_s"])(
      this.low,
      this.high,
      divisor.low,
      divisor.high
    );
    return fromBits(low, wasm["get_high"](), this.unsigned);
  }
  return this.sub(this.div(divisor).mul(divisor));
};
LongPrototype.mod = LongPrototype.modulo;
LongPrototype.rem = LongPrototype.modulo;
LongPrototype.not = function not() {
  return fromBits(~this.low, ~this.high, this.unsigned);
};
LongPrototype.countLeadingZeros = function countLeadingZeros() {
  return this.high ? Math.clz32(this.high) : Math.clz32(this.low) + 32;
};
LongPrototype.clz = LongPrototype.countLeadingZeros;
LongPrototype.countTrailingZeros = function countTrailingZeros() {
  return this.low ? ctz32(this.low) : ctz32(this.high) + 32;
};
LongPrototype.ctz = LongPrototype.countTrailingZeros;
LongPrototype.and = function and(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low & other.low, this.high & other.high, this.unsigned);
};
LongPrototype.or = function or(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low | other.low, this.high | other.high, this.unsigned);
};
LongPrototype.xor = function xor(other) {
  if (!isLong(other))
    other = fromValue(other);
  return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);
};
LongPrototype.shiftLeft = function shiftLeft(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  else if (numBits < 32)
    return fromBits(this.low << numBits, this.high << numBits | this.low >>> 32 - numBits, this.unsigned);
  else
    return fromBits(0, this.low << numBits - 32, this.unsigned);
};
LongPrototype.shl = LongPrototype.shiftLeft;
LongPrototype.shiftRight = function shiftRight(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  else if (numBits < 32)
    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >> numBits, this.unsigned);
  else
    return fromBits(this.high >> numBits - 32, this.high >= 0 ? 0 : -1, this.unsigned);
};
LongPrototype.shr = LongPrototype.shiftRight;
LongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  if (numBits < 32)
    return fromBits(this.low >>> numBits | this.high << 32 - numBits, this.high >>> numBits, this.unsigned);
  if (numBits === 32)
    return fromBits(this.high, 0, this.unsigned);
  return fromBits(this.high >>> numBits - 32, 0, this.unsigned);
};
LongPrototype.shru = LongPrototype.shiftRightUnsigned;
LongPrototype.shr_u = LongPrototype.shiftRightUnsigned;
LongPrototype.rotateLeft = function rotateLeft(numBits) {
  var b;
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  if (numBits === 32)
    return fromBits(this.high, this.low, this.unsigned);
  if (numBits < 32) {
    b = 32 - numBits;
    return fromBits(this.low << numBits | this.high >>> b, this.high << numBits | this.low >>> b, this.unsigned);
  }
  numBits -= 32;
  b = 32 - numBits;
  return fromBits(this.high << numBits | this.low >>> b, this.low << numBits | this.high >>> b, this.unsigned);
};
LongPrototype.rotl = LongPrototype.rotateLeft;
LongPrototype.rotateRight = function rotateRight(numBits) {
  var b;
  if (isLong(numBits))
    numBits = numBits.toInt();
  if ((numBits &= 63) === 0)
    return this;
  if (numBits === 32)
    return fromBits(this.high, this.low, this.unsigned);
  if (numBits < 32) {
    b = 32 - numBits;
    return fromBits(this.high << b | this.low >>> numBits, this.low << b | this.high >>> numBits, this.unsigned);
  }
  numBits -= 32;
  b = 32 - numBits;
  return fromBits(this.low << b | this.high >>> numBits, this.high << b | this.low >>> numBits, this.unsigned);
};
LongPrototype.rotr = LongPrototype.rotateRight;
LongPrototype.toSigned = function toSigned() {
  if (!this.unsigned)
    return this;
  return fromBits(this.low, this.high, false);
};
LongPrototype.toUnsigned = function toUnsigned() {
  if (this.unsigned)
    return this;
  return fromBits(this.low, this.high, true);
};
LongPrototype.toBytes = function toBytes(le) {
  return le ? this.toBytesLE() : this.toBytesBE();
};
LongPrototype.toBytesLE = function toBytesLE() {
  var hi = this.high, lo = this.low;
  return [
    lo & 255,
    lo >>> 8 & 255,
    lo >>> 16 & 255,
    lo >>> 24,
    hi & 255,
    hi >>> 8 & 255,
    hi >>> 16 & 255,
    hi >>> 24
  ];
};
LongPrototype.toBytesBE = function toBytesBE() {
  var hi = this.high, lo = this.low;
  return [
    hi >>> 24,
    hi >>> 16 & 255,
    hi >>> 8 & 255,
    hi & 255,
    lo >>> 24,
    lo >>> 16 & 255,
    lo >>> 8 & 255,
    lo & 255
  ];
};
Long.fromBytes = function fromBytes(bytes, unsigned, le) {
  return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);
};
Long.fromBytesLE = function fromBytesLE(bytes, unsigned) {
  return new Long(
    bytes[0] | bytes[1] << 8 | bytes[2] << 16 | bytes[3] << 24,
    bytes[4] | bytes[5] << 8 | bytes[6] << 16 | bytes[7] << 24,
    unsigned
  );
};
Long.fromBytesBE = function fromBytesBE(bytes, unsigned) {
  return new Long(
    bytes[4] << 24 | bytes[5] << 16 | bytes[6] << 8 | bytes[7],
    bytes[0] << 24 | bytes[1] << 16 | bytes[2] << 8 | bytes[3],
    unsigned
  );
};
var long_default = Long;

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/avatar_shape.gen.js
var import_minimal12 = __toESM(require_minimal2());
function createBasePBAvatarShape() {
  return {
    id: "",
    name: void 0,
    bodyShape: void 0,
    skinColor: void 0,
    hairColor: void 0,
    eyeColor: void 0,
    expressionTriggerId: void 0,
    expressionTriggerTimestamp: void 0,
    talking: void 0,
    wearables: [],
    emotes: []
  };
}
var PBAvatarShape;
(function(PBAvatarShape2) {
  function encode(message, writer = import_minimal12.default.Writer.create()) {
    if (message.id !== "") {
      writer.uint32(10).string(message.id);
    }
    if (message.name !== void 0) {
      writer.uint32(18).string(message.name);
    }
    if (message.bodyShape !== void 0) {
      writer.uint32(26).string(message.bodyShape);
    }
    if (message.skinColor !== void 0) {
      Color3.encode(message.skinColor, writer.uint32(34).fork()).ldelim();
    }
    if (message.hairColor !== void 0) {
      Color3.encode(message.hairColor, writer.uint32(42).fork()).ldelim();
    }
    if (message.eyeColor !== void 0) {
      Color3.encode(message.eyeColor, writer.uint32(50).fork()).ldelim();
    }
    if (message.expressionTriggerId !== void 0) {
      writer.uint32(58).string(message.expressionTriggerId);
    }
    if (message.expressionTriggerTimestamp !== void 0) {
      writer.uint32(64).int64(message.expressionTriggerTimestamp);
    }
    if (message.talking !== void 0) {
      writer.uint32(72).bool(message.talking);
    }
    for (const v of message.wearables) {
      writer.uint32(82).string(v);
    }
    for (const v of message.emotes) {
      writer.uint32(90).string(v);
    }
    return writer;
  }
  PBAvatarShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal12.default.Reader ? input : import_minimal12.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBAvatarShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.id = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.name = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.bodyShape = reader.string();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.skinColor = Color3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.hairColor = Color3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.eyeColor = Color3.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.expressionTriggerId = reader.string();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.expressionTriggerTimestamp = longToNumber(reader.int64());
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.talking = reader.bool();
          continue;
        case 10:
          if (tag !== 82) {
            break;
          }
          message.wearables.push(reader.string());
          continue;
        case 11:
          if (tag !== 90) {
            break;
          }
          message.emotes.push(reader.string());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBAvatarShape2.decode = decode;
})(PBAvatarShape || (PBAvatarShape = {}));
var tsProtoGlobalThis = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function longToNumber(long) {
  if (long.gt(Number.MAX_SAFE_INTEGER)) {
    throw new tsProtoGlobalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");
  }
  return long.toNumber();
}
if (import_minimal12.default.util.Long !== long_default) {
  import_minimal12.default.util.Long = long_default;
  import_minimal12.default.configure();
}

// node_modules/@dcl/ecs/dist/components/generated/AvatarShape.gen.js
var AvatarShapeSchema = {
  COMPONENT_ID: 1080,
  serialize(value, builder) {
    const writer = PBAvatarShape.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBAvatarShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBAvatarShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBAvatarShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/billboard.gen.js
var import_minimal13 = __toESM(require_minimal2());
var BillboardMode;
(function(BillboardMode2) {
  BillboardMode2[BillboardMode2["BM_NONE"] = 0] = "BM_NONE";
  BillboardMode2[BillboardMode2["BM_X"] = 1] = "BM_X";
  BillboardMode2[BillboardMode2["BM_Y"] = 2] = "BM_Y";
  BillboardMode2[BillboardMode2["BM_Z"] = 4] = "BM_Z";
  BillboardMode2[BillboardMode2["BM_ALL"] = 7] = "BM_ALL";
})(BillboardMode || (BillboardMode = {}));
function createBasePBBillboard() {
  return { billboardMode: void 0 };
}
var PBBillboard;
(function(PBBillboard2) {
  function encode(message, writer = import_minimal13.default.Writer.create()) {
    if (message.billboardMode !== void 0) {
      writer.uint32(8).int32(message.billboardMode);
    }
    return writer;
  }
  PBBillboard2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal13.default.Reader ? input : import_minimal13.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBBillboard();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.billboardMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBBillboard2.decode = decode;
})(PBBillboard || (PBBillboard = {}));

// node_modules/@dcl/ecs/dist/components/generated/Billboard.gen.js
var BillboardSchema = {
  COMPONENT_ID: 1090,
  serialize(value, builder) {
    const writer = PBBillboard.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBBillboard.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBBillboard.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBBillboard"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode.gen.js
var import_minimal14 = __toESM(require_minimal2());
function createBasePBCameraMode() {
  return { mode: 0 };
}
var PBCameraMode;
(function(PBCameraMode2) {
  function encode(message, writer = import_minimal14.default.Writer.create()) {
    if (message.mode !== 0) {
      writer.uint32(8).int32(message.mode);
    }
    return writer;
  }
  PBCameraMode2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal14.default.Reader ? input : import_minimal14.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraMode();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraMode2.decode = decode;
})(PBCameraMode || (PBCameraMode = {}));

// node_modules/@dcl/ecs/dist/components/generated/CameraMode.gen.js
var CameraModeSchema = {
  COMPONENT_ID: 1072,
  serialize(value, builder) {
    const writer = PBCameraMode.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBCameraMode.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraMode.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBCameraMode"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/camera_mode_area.gen.js
var import_minimal15 = __toESM(require_minimal2());
function createBasePBCameraModeArea() {
  return { area: void 0, mode: 0 };
}
var PBCameraModeArea;
(function(PBCameraModeArea2) {
  function encode(message, writer = import_minimal15.default.Writer.create()) {
    if (message.area !== void 0) {
      Vector3.encode(message.area, writer.uint32(10).fork()).ldelim();
    }
    if (message.mode !== 0) {
      writer.uint32(16).int32(message.mode);
    }
    return writer;
  }
  PBCameraModeArea2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal15.default.Reader ? input : import_minimal15.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBCameraModeArea();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.area = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.mode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBCameraModeArea2.decode = decode;
})(PBCameraModeArea || (PBCameraModeArea = {}));

// node_modules/@dcl/ecs/dist/components/generated/CameraModeArea.gen.js
var CameraModeAreaSchema = {
  COMPONENT_ID: 1071,
  serialize(value, builder) {
    const writer = PBCameraModeArea.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBCameraModeArea.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBCameraModeArea.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBCameraModeArea"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/engine_info.gen.js
var import_minimal16 = __toESM(require_minimal2());
function createBasePBEngineInfo() {
  return { frameNumber: 0, totalRuntime: 0, tickNumber: 0 };
}
var PBEngineInfo;
(function(PBEngineInfo2) {
  function encode(message, writer = import_minimal16.default.Writer.create()) {
    if (message.frameNumber !== 0) {
      writer.uint32(8).uint32(message.frameNumber);
    }
    if (message.totalRuntime !== 0) {
      writer.uint32(21).float(message.totalRuntime);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(24).uint32(message.tickNumber);
    }
    return writer;
  }
  PBEngineInfo2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal16.default.Reader ? input : import_minimal16.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBEngineInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.frameNumber = reader.uint32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.totalRuntime = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBEngineInfo2.decode = decode;
})(PBEngineInfo || (PBEngineInfo = {}));

// node_modules/@dcl/ecs/dist/components/generated/EngineInfo.gen.js
var EngineInfoSchema = {
  COMPONENT_ID: 1048,
  serialize(value, builder) {
    const writer = PBEngineInfo.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBEngineInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBEngineInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBEngineInfo"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container.gen.js
var import_minimal17 = __toESM(require_minimal2());
function createBasePBGltfContainer() {
  return { src: "", visibleMeshesCollisionMask: void 0, invisibleMeshesCollisionMask: void 0 };
}
var PBGltfContainer;
(function(PBGltfContainer2) {
  function encode(message, writer = import_minimal17.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.visibleMeshesCollisionMask !== void 0) {
      writer.uint32(32).uint32(message.visibleMeshesCollisionMask);
    }
    if (message.invisibleMeshesCollisionMask !== void 0) {
      writer.uint32(40).uint32(message.invisibleMeshesCollisionMask);
    }
    return writer;
  }
  PBGltfContainer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal17.default.Reader ? input : import_minimal17.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.visibleMeshesCollisionMask = reader.uint32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.invisibleMeshesCollisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainer2.decode = decode;
})(PBGltfContainer || (PBGltfContainer = {}));

// node_modules/@dcl/ecs/dist/components/generated/GltfContainer.gen.js
var GltfContainerSchema = {
  COMPONENT_ID: 1041,
  serialize(value, builder) {
    const writer = PBGltfContainer.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBGltfContainer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBGltfContainer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/gltf_container_loading_state.gen.js
var import_minimal18 = __toESM(require_minimal2());
function createBasePBGltfContainerLoadingState() {
  return { currentState: 0 };
}
var PBGltfContainerLoadingState;
(function(PBGltfContainerLoadingState2) {
  function encode(message, writer = import_minimal18.default.Writer.create()) {
    if (message.currentState !== 0) {
      writer.uint32(8).int32(message.currentState);
    }
    return writer;
  }
  PBGltfContainerLoadingState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal18.default.Reader ? input : import_minimal18.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBGltfContainerLoadingState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.currentState = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBGltfContainerLoadingState2.decode = decode;
})(PBGltfContainerLoadingState || (PBGltfContainerLoadingState = {}));

// node_modules/@dcl/ecs/dist/components/generated/GltfContainerLoadingState.gen.js
var GltfContainerLoadingStateSchema = {
  COMPONENT_ID: 1049,
  serialize(value, builder) {
    const writer = PBGltfContainerLoadingState.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBGltfContainerLoadingState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBGltfContainerLoadingState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBGltfContainerLoadingState"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/input_modifier.gen.js
var import_minimal19 = __toESM(require_minimal2());
function createBasePBInputModifier() {
  return { mode: void 0 };
}
var PBInputModifier;
(function(PBInputModifier2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    switch (message.mode?.$case) {
      case "standard":
        PBInputModifier_StandardInput.encode(message.mode.standard, writer.uint32(10).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBInputModifier2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal19.default.Reader ? input : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBInputModifier();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.mode = { $case: "standard", standard: PBInputModifier_StandardInput.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBInputModifier2.decode = decode;
})(PBInputModifier || (PBInputModifier = {}));
function createBasePBInputModifier_StandardInput() {
  return {
    disableAll: void 0,
    disableWalk: void 0,
    disableJog: void 0,
    disableRun: void 0,
    disableJump: void 0,
    disableEmote: void 0
  };
}
var PBInputModifier_StandardInput;
(function(PBInputModifier_StandardInput2) {
  function encode(message, writer = import_minimal19.default.Writer.create()) {
    if (message.disableAll !== void 0) {
      writer.uint32(8).bool(message.disableAll);
    }
    if (message.disableWalk !== void 0) {
      writer.uint32(16).bool(message.disableWalk);
    }
    if (message.disableJog !== void 0) {
      writer.uint32(24).bool(message.disableJog);
    }
    if (message.disableRun !== void 0) {
      writer.uint32(32).bool(message.disableRun);
    }
    if (message.disableJump !== void 0) {
      writer.uint32(40).bool(message.disableJump);
    }
    if (message.disableEmote !== void 0) {
      writer.uint32(48).bool(message.disableEmote);
    }
    return writer;
  }
  PBInputModifier_StandardInput2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal19.default.Reader ? input : import_minimal19.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBInputModifier_StandardInput();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.disableAll = reader.bool();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.disableWalk = reader.bool();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.disableJog = reader.bool();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.disableRun = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.disableJump = reader.bool();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.disableEmote = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBInputModifier_StandardInput2.decode = decode;
})(PBInputModifier_StandardInput || (PBInputModifier_StandardInput = {}));

// node_modules/@dcl/ecs/dist/components/generated/InputModifier.gen.js
var InputModifierSchema = {
  COMPONENT_ID: 1078,
  serialize(value, builder) {
    const writer = PBInputModifier.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBInputModifier.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBInputModifier.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBInputModifier"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/main_camera.gen.js
var import_minimal20 = __toESM(require_minimal2());
function createBasePBMainCamera() {
  return { virtualCameraEntity: void 0 };
}
var PBMainCamera;
(function(PBMainCamera2) {
  function encode(message, writer = import_minimal20.default.Writer.create()) {
    if (message.virtualCameraEntity !== void 0) {
      writer.uint32(8).uint32(message.virtualCameraEntity);
    }
    return writer;
  }
  PBMainCamera2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal20.default.Reader ? input : import_minimal20.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMainCamera();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.virtualCameraEntity = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMainCamera2.decode = decode;
})(PBMainCamera || (PBMainCamera = {}));

// node_modules/@dcl/ecs/dist/components/generated/MainCamera.gen.js
var MainCameraSchema = {
  COMPONENT_ID: 1075,
  serialize(value, builder) {
    const writer = PBMainCamera.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMainCamera.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMainCamera.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMainCamera"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var import_minimal22 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/texture.gen.js
var import_minimal21 = __toESM(require_minimal2());
var TextureWrapMode;
(function(TextureWrapMode2) {
  TextureWrapMode2[TextureWrapMode2["TWM_REPEAT"] = 0] = "TWM_REPEAT";
  TextureWrapMode2[TextureWrapMode2["TWM_CLAMP"] = 1] = "TWM_CLAMP";
  TextureWrapMode2[TextureWrapMode2["TWM_MIRROR"] = 2] = "TWM_MIRROR";
})(TextureWrapMode || (TextureWrapMode = {}));
var TextureFilterMode;
(function(TextureFilterMode2) {
  TextureFilterMode2[TextureFilterMode2["TFM_POINT"] = 0] = "TFM_POINT";
  TextureFilterMode2[TextureFilterMode2["TFM_BILINEAR"] = 1] = "TFM_BILINEAR";
  TextureFilterMode2[TextureFilterMode2["TFM_TRILINEAR"] = 2] = "TFM_TRILINEAR";
})(TextureFilterMode || (TextureFilterMode = {}));
function createBaseTexture() {
  return { src: "", wrapMode: void 0, filterMode: void 0, offset: void 0, tiling: void 0 };
}
var Texture;
(function(Texture2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    if (message.offset !== void 0) {
      Vector2.encode(message.offset, writer.uint32(34).fork()).ldelim();
    }
    if (message.tiling !== void 0) {
      Vector2.encode(message.tiling, writer.uint32(42).fork()).ldelim();
    }
    return writer;
  }
  Texture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal21.default.Reader ? input : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.offset = Vector2.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.tiling = Vector2.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Texture2.decode = decode;
})(Texture || (Texture = {}));
function createBaseAvatarTexture() {
  return { userId: "", wrapMode: void 0, filterMode: void 0 };
}
var AvatarTexture;
(function(AvatarTexture2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    if (message.userId !== "") {
      writer.uint32(10).string(message.userId);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  AvatarTexture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal21.default.Reader ? input : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseAvatarTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.userId = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  AvatarTexture2.decode = decode;
})(AvatarTexture || (AvatarTexture = {}));
function createBaseVideoTexture() {
  return { videoPlayerEntity: 0, wrapMode: void 0, filterMode: void 0 };
}
var VideoTexture;
(function(VideoTexture2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    if (message.videoPlayerEntity !== 0) {
      writer.uint32(8).uint32(message.videoPlayerEntity);
    }
    if (message.wrapMode !== void 0) {
      writer.uint32(16).int32(message.wrapMode);
    }
    if (message.filterMode !== void 0) {
      writer.uint32(24).int32(message.filterMode);
    }
    return writer;
  }
  VideoTexture2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal21.default.Reader ? input : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseVideoTexture();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.videoPlayerEntity = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.wrapMode = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.filterMode = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  VideoTexture2.decode = decode;
})(VideoTexture || (VideoTexture = {}));
function createBaseTextureUnion() {
  return { tex: void 0 };
}
var TextureUnion;
(function(TextureUnion2) {
  function encode(message, writer = import_minimal21.default.Writer.create()) {
    switch (message.tex?.$case) {
      case "texture":
        Texture.encode(message.tex.texture, writer.uint32(10).fork()).ldelim();
        break;
      case "avatarTexture":
        AvatarTexture.encode(message.tex.avatarTexture, writer.uint32(18).fork()).ldelim();
        break;
      case "videoTexture":
        VideoTexture.encode(message.tex.videoTexture, writer.uint32(26).fork()).ldelim();
        break;
    }
    return writer;
  }
  TextureUnion2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal21.default.Reader ? input : import_minimal21.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseTextureUnion();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.tex = { $case: "texture", texture: Texture.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.tex = { $case: "avatarTexture", avatarTexture: AvatarTexture.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.tex = { $case: "videoTexture", videoTexture: VideoTexture.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  TextureUnion2.decode = decode;
})(TextureUnion || (TextureUnion = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/material.gen.js
var MaterialTransparencyMode;
(function(MaterialTransparencyMode2) {
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_OPAQUE"] = 0] = "MTM_OPAQUE";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_TEST"] = 1] = "MTM_ALPHA_TEST";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_BLEND"] = 2] = "MTM_ALPHA_BLEND";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_ALPHA_TEST_AND_ALPHA_BLEND"] = 3] = "MTM_ALPHA_TEST_AND_ALPHA_BLEND";
  MaterialTransparencyMode2[MaterialTransparencyMode2["MTM_AUTO"] = 4] = "MTM_AUTO";
})(MaterialTransparencyMode || (MaterialTransparencyMode = {}));
function createBasePBMaterial() {
  return { material: void 0 };
}
var PBMaterial;
(function(PBMaterial2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    switch (message.material?.$case) {
      case "unlit":
        PBMaterial_UnlitMaterial.encode(message.material.unlit, writer.uint32(10).fork()).ldelim();
        break;
      case "pbr":
        PBMaterial_PbrMaterial.encode(message.material.pbr, writer.uint32(18).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal22.default.Reader ? input : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.material = { $case: "unlit", unlit: PBMaterial_UnlitMaterial.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.material = { $case: "pbr", pbr: PBMaterial_PbrMaterial.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial2.decode = decode;
})(PBMaterial || (PBMaterial = {}));
function createBasePBMaterial_UnlitMaterial() {
  return {
    texture: void 0,
    alphaTest: void 0,
    castShadows: void 0,
    diffuseColor: void 0,
    alphaTexture: void 0
  };
}
var PBMaterial_UnlitMaterial;
(function(PBMaterial_UnlitMaterial2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.diffuseColor !== void 0) {
      Color4.encode(message.diffuseColor, writer.uint32(34).fork()).ldelim();
    }
    if (message.alphaTexture !== void 0) {
      TextureUnion.encode(message.alphaTexture, writer.uint32(42).fork()).ldelim();
    }
    return writer;
  }
  PBMaterial_UnlitMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal22.default.Reader ? input : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_UnlitMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.diffuseColor = Color4.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.alphaTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_UnlitMaterial2.decode = decode;
})(PBMaterial_UnlitMaterial || (PBMaterial_UnlitMaterial = {}));
function createBasePBMaterial_PbrMaterial() {
  return {
    texture: void 0,
    alphaTest: void 0,
    castShadows: void 0,
    alphaTexture: void 0,
    emissiveTexture: void 0,
    bumpTexture: void 0,
    albedoColor: void 0,
    emissiveColor: void 0,
    reflectivityColor: void 0,
    transparencyMode: void 0,
    metallic: void 0,
    roughness: void 0,
    specularIntensity: void 0,
    emissiveIntensity: void 0,
    directIntensity: void 0
  };
}
var PBMaterial_PbrMaterial;
(function(PBMaterial_PbrMaterial2) {
  function encode(message, writer = import_minimal22.default.Writer.create()) {
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(10).fork()).ldelim();
    }
    if (message.alphaTest !== void 0) {
      writer.uint32(21).float(message.alphaTest);
    }
    if (message.castShadows !== void 0) {
      writer.uint32(24).bool(message.castShadows);
    }
    if (message.alphaTexture !== void 0) {
      TextureUnion.encode(message.alphaTexture, writer.uint32(34).fork()).ldelim();
    }
    if (message.emissiveTexture !== void 0) {
      TextureUnion.encode(message.emissiveTexture, writer.uint32(42).fork()).ldelim();
    }
    if (message.bumpTexture !== void 0) {
      TextureUnion.encode(message.bumpTexture, writer.uint32(50).fork()).ldelim();
    }
    if (message.albedoColor !== void 0) {
      Color4.encode(message.albedoColor, writer.uint32(58).fork()).ldelim();
    }
    if (message.emissiveColor !== void 0) {
      Color3.encode(message.emissiveColor, writer.uint32(66).fork()).ldelim();
    }
    if (message.reflectivityColor !== void 0) {
      Color3.encode(message.reflectivityColor, writer.uint32(74).fork()).ldelim();
    }
    if (message.transparencyMode !== void 0) {
      writer.uint32(80).int32(message.transparencyMode);
    }
    if (message.metallic !== void 0) {
      writer.uint32(93).float(message.metallic);
    }
    if (message.roughness !== void 0) {
      writer.uint32(101).float(message.roughness);
    }
    if (message.specularIntensity !== void 0) {
      writer.uint32(117).float(message.specularIntensity);
    }
    if (message.emissiveIntensity !== void 0) {
      writer.uint32(125).float(message.emissiveIntensity);
    }
    if (message.directIntensity !== void 0) {
      writer.uint32(133).float(message.directIntensity);
    }
    return writer;
  }
  PBMaterial_PbrMaterial2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal22.default.Reader ? input : import_minimal22.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMaterial_PbrMaterial();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.alphaTest = reader.float();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.castShadows = reader.bool();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.alphaTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.emissiveTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.bumpTexture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.albedoColor = Color4.decode(reader, reader.uint32());
          continue;
        case 8:
          if (tag !== 66) {
            break;
          }
          message.emissiveColor = Color3.decode(reader, reader.uint32());
          continue;
        case 9:
          if (tag !== 74) {
            break;
          }
          message.reflectivityColor = Color3.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.transparencyMode = reader.int32();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.metallic = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.roughness = reader.float();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.specularIntensity = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.emissiveIntensity = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.directIntensity = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMaterial_PbrMaterial2.decode = decode;
})(PBMaterial_PbrMaterial || (PBMaterial_PbrMaterial = {}));

// node_modules/@dcl/ecs/dist/components/generated/Material.gen.js
var MaterialSchema = {
  COMPONENT_ID: 1017,
  serialize(value, builder) {
    const writer = PBMaterial.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMaterial.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMaterial.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMaterial"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_collider.gen.js
var import_minimal23 = __toESM(require_minimal2());
var ColliderLayer;
(function(ColliderLayer2) {
  ColliderLayer2[ColliderLayer2["CL_NONE"] = 0] = "CL_NONE";
  ColliderLayer2[ColliderLayer2["CL_POINTER"] = 1] = "CL_POINTER";
  ColliderLayer2[ColliderLayer2["CL_PHYSICS"] = 2] = "CL_PHYSICS";
  ColliderLayer2[ColliderLayer2["CL_RESERVED1"] = 4] = "CL_RESERVED1";
  ColliderLayer2[ColliderLayer2["CL_RESERVED2"] = 8] = "CL_RESERVED2";
  ColliderLayer2[ColliderLayer2["CL_RESERVED3"] = 16] = "CL_RESERVED3";
  ColliderLayer2[ColliderLayer2["CL_RESERVED4"] = 32] = "CL_RESERVED4";
  ColliderLayer2[ColliderLayer2["CL_RESERVED5"] = 64] = "CL_RESERVED5";
  ColliderLayer2[ColliderLayer2["CL_RESERVED6"] = 128] = "CL_RESERVED6";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM1"] = 256] = "CL_CUSTOM1";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM2"] = 512] = "CL_CUSTOM2";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM3"] = 1024] = "CL_CUSTOM3";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM4"] = 2048] = "CL_CUSTOM4";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM5"] = 4096] = "CL_CUSTOM5";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM6"] = 8192] = "CL_CUSTOM6";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM7"] = 16384] = "CL_CUSTOM7";
  ColliderLayer2[ColliderLayer2["CL_CUSTOM8"] = 32768] = "CL_CUSTOM8";
})(ColliderLayer || (ColliderLayer = {}));
function createBasePBMeshCollider() {
  return { collisionMask: void 0, mesh: void 0 };
}
var PBMeshCollider;
(function(PBMeshCollider2) {
  function encode(message, writer = import_minimal23.default.Writer.create()) {
    if (message.collisionMask !== void 0) {
      writer.uint32(8).uint32(message.collisionMask);
    }
    switch (message.mesh?.$case) {
      case "box":
        PBMeshCollider_BoxMesh.encode(message.mesh.box, writer.uint32(18).fork()).ldelim();
        break;
      case "sphere":
        PBMeshCollider_SphereMesh.encode(message.mesh.sphere, writer.uint32(26).fork()).ldelim();
        break;
      case "cylinder":
        PBMeshCollider_CylinderMesh.encode(message.mesh.cylinder, writer.uint32(34).fork()).ldelim();
        break;
      case "plane":
        PBMeshCollider_PlaneMesh.encode(message.mesh.plane, writer.uint32(42).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshCollider2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = { $case: "box", box: PBMeshCollider_BoxMesh.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = { $case: "sphere", sphere: PBMeshCollider_SphereMesh.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = { $case: "cylinder", cylinder: PBMeshCollider_CylinderMesh.decode(reader, reader.uint32()) };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mesh = { $case: "plane", plane: PBMeshCollider_PlaneMesh.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider2.decode = decode;
})(PBMeshCollider || (PBMeshCollider = {}));
function createBasePBMeshCollider_BoxMesh() {
  return {};
}
var PBMeshCollider_BoxMesh;
(function(PBMeshCollider_BoxMesh2) {
  function encode(_, writer = import_minimal23.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_BoxMesh2.decode = decode;
})(PBMeshCollider_BoxMesh || (PBMeshCollider_BoxMesh = {}));
function createBasePBMeshCollider_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshCollider_CylinderMesh;
(function(PBMeshCollider_CylinderMesh2) {
  function encode(message, writer = import_minimal23.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshCollider_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_CylinderMesh2.decode = decode;
})(PBMeshCollider_CylinderMesh || (PBMeshCollider_CylinderMesh = {}));
function createBasePBMeshCollider_PlaneMesh() {
  return {};
}
var PBMeshCollider_PlaneMesh;
(function(PBMeshCollider_PlaneMesh2) {
  function encode(_, writer = import_minimal23.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_PlaneMesh2.decode = decode;
})(PBMeshCollider_PlaneMesh || (PBMeshCollider_PlaneMesh = {}));
function createBasePBMeshCollider_SphereMesh() {
  return {};
}
var PBMeshCollider_SphereMesh;
(function(PBMeshCollider_SphereMesh2) {
  function encode(_, writer = import_minimal23.default.Writer.create()) {
    return writer;
  }
  PBMeshCollider_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal23.default.Reader ? input : import_minimal23.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshCollider_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshCollider_SphereMesh2.decode = decode;
})(PBMeshCollider_SphereMesh || (PBMeshCollider_SphereMesh = {}));

// node_modules/@dcl/ecs/dist/components/generated/MeshCollider.gen.js
var MeshColliderSchema = {
  COMPONENT_ID: 1019,
  serialize(value, builder) {
    const writer = PBMeshCollider.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMeshCollider.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshCollider.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMeshCollider"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/mesh_renderer.gen.js
var import_minimal24 = __toESM(require_minimal2());
function createBasePBMeshRenderer() {
  return { mesh: void 0 };
}
var PBMeshRenderer;
(function(PBMeshRenderer2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    switch (message.mesh?.$case) {
      case "box":
        PBMeshRenderer_BoxMesh.encode(message.mesh.box, writer.uint32(10).fork()).ldelim();
        break;
      case "sphere":
        PBMeshRenderer_SphereMesh.encode(message.mesh.sphere, writer.uint32(18).fork()).ldelim();
        break;
      case "cylinder":
        PBMeshRenderer_CylinderMesh.encode(message.mesh.cylinder, writer.uint32(26).fork()).ldelim();
        break;
      case "plane":
        PBMeshRenderer_PlaneMesh.encode(message.mesh.plane, writer.uint32(34).fork()).ldelim();
        break;
    }
    return writer;
  }
  PBMeshRenderer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.mesh = { $case: "box", box: PBMeshRenderer_BoxMesh.decode(reader, reader.uint32()) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.mesh = { $case: "sphere", sphere: PBMeshRenderer_SphereMesh.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mesh = { $case: "cylinder", cylinder: PBMeshRenderer_CylinderMesh.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mesh = { $case: "plane", plane: PBMeshRenderer_PlaneMesh.decode(reader, reader.uint32()) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer2.decode = decode;
})(PBMeshRenderer || (PBMeshRenderer = {}));
function createBasePBMeshRenderer_BoxMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_BoxMesh;
(function(PBMeshRenderer_BoxMesh2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_BoxMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_BoxMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_BoxMesh2.decode = decode;
})(PBMeshRenderer_BoxMesh || (PBMeshRenderer_BoxMesh = {}));
function createBasePBMeshRenderer_CylinderMesh() {
  return { radiusTop: void 0, radiusBottom: void 0 };
}
var PBMeshRenderer_CylinderMesh;
(function(PBMeshRenderer_CylinderMesh2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    if (message.radiusTop !== void 0) {
      writer.uint32(13).float(message.radiusTop);
    }
    if (message.radiusBottom !== void 0) {
      writer.uint32(21).float(message.radiusBottom);
    }
    return writer;
  }
  PBMeshRenderer_CylinderMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_CylinderMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.radiusTop = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.radiusBottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_CylinderMesh2.decode = decode;
})(PBMeshRenderer_CylinderMesh || (PBMeshRenderer_CylinderMesh = {}));
function createBasePBMeshRenderer_PlaneMesh() {
  return { uvs: [] };
}
var PBMeshRenderer_PlaneMesh;
(function(PBMeshRenderer_PlaneMesh2) {
  function encode(message, writer = import_minimal24.default.Writer.create()) {
    writer.uint32(10).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBMeshRenderer_PlaneMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_PlaneMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag === 13) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 10) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_PlaneMesh2.decode = decode;
})(PBMeshRenderer_PlaneMesh || (PBMeshRenderer_PlaneMesh = {}));
function createBasePBMeshRenderer_SphereMesh() {
  return {};
}
var PBMeshRenderer_SphereMesh;
(function(PBMeshRenderer_SphereMesh2) {
  function encode(_, writer = import_minimal24.default.Writer.create()) {
    return writer;
  }
  PBMeshRenderer_SphereMesh2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal24.default.Reader ? input : import_minimal24.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBMeshRenderer_SphereMesh();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBMeshRenderer_SphereMesh2.decode = decode;
})(PBMeshRenderer_SphereMesh || (PBMeshRenderer_SphereMesh = {}));

// node_modules/@dcl/ecs/dist/components/generated/MeshRenderer.gen.js
var MeshRendererSchema = {
  COMPONENT_ID: 1018,
  serialize(value, builder) {
    const writer = PBMeshRenderer.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBMeshRenderer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBMeshRenderer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBMeshRenderer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/nft_shape.gen.js
var import_minimal25 = __toESM(require_minimal2());
var NftFrameType;
(function(NftFrameType2) {
  NftFrameType2[NftFrameType2["NFT_CLASSIC"] = 0] = "NFT_CLASSIC";
  NftFrameType2[NftFrameType2["NFT_BAROQUE_ORNAMENT"] = 1] = "NFT_BAROQUE_ORNAMENT";
  NftFrameType2[NftFrameType2["NFT_DIAMOND_ORNAMENT"] = 2] = "NFT_DIAMOND_ORNAMENT";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_WIDE"] = 3] = "NFT_MINIMAL_WIDE";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_GREY"] = 4] = "NFT_MINIMAL_GREY";
  NftFrameType2[NftFrameType2["NFT_BLOCKY"] = 5] = "NFT_BLOCKY";
  NftFrameType2[NftFrameType2["NFT_GOLD_EDGES"] = 6] = "NFT_GOLD_EDGES";
  NftFrameType2[NftFrameType2["NFT_GOLD_CARVED"] = 7] = "NFT_GOLD_CARVED";
  NftFrameType2[NftFrameType2["NFT_GOLD_WIDE"] = 8] = "NFT_GOLD_WIDE";
  NftFrameType2[NftFrameType2["NFT_GOLD_ROUNDED"] = 9] = "NFT_GOLD_ROUNDED";
  NftFrameType2[NftFrameType2["NFT_METAL_MEDIUM"] = 10] = "NFT_METAL_MEDIUM";
  NftFrameType2[NftFrameType2["NFT_METAL_WIDE"] = 11] = "NFT_METAL_WIDE";
  NftFrameType2[NftFrameType2["NFT_METAL_SLIM"] = 12] = "NFT_METAL_SLIM";
  NftFrameType2[NftFrameType2["NFT_METAL_ROUNDED"] = 13] = "NFT_METAL_ROUNDED";
  NftFrameType2[NftFrameType2["NFT_PINS"] = 14] = "NFT_PINS";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_BLACK"] = 15] = "NFT_MINIMAL_BLACK";
  NftFrameType2[NftFrameType2["NFT_MINIMAL_WHITE"] = 16] = "NFT_MINIMAL_WHITE";
  NftFrameType2[NftFrameType2["NFT_TAPE"] = 17] = "NFT_TAPE";
  NftFrameType2[NftFrameType2["NFT_WOOD_SLIM"] = 18] = "NFT_WOOD_SLIM";
  NftFrameType2[NftFrameType2["NFT_WOOD_WIDE"] = 19] = "NFT_WOOD_WIDE";
  NftFrameType2[NftFrameType2["NFT_WOOD_TWIGS"] = 20] = "NFT_WOOD_TWIGS";
  NftFrameType2[NftFrameType2["NFT_CANVAS"] = 21] = "NFT_CANVAS";
  NftFrameType2[NftFrameType2["NFT_NONE"] = 22] = "NFT_NONE";
})(NftFrameType || (NftFrameType = {}));
function createBasePBNftShape() {
  return { urn: "", style: void 0, color: void 0 };
}
var PBNftShape;
(function(PBNftShape2) {
  function encode(message, writer = import_minimal25.default.Writer.create()) {
    if (message.urn !== "") {
      writer.uint32(10).string(message.urn);
    }
    if (message.style !== void 0) {
      writer.uint32(16).int32(message.style);
    }
    if (message.color !== void 0) {
      Color3.encode(message.color, writer.uint32(26).fork()).ldelim();
    }
    return writer;
  }
  PBNftShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal25.default.Reader ? input : import_minimal25.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBNftShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.urn = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.style = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.color = Color3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBNftShape2.decode = decode;
})(PBNftShape || (PBNftShape = {}));

// node_modules/@dcl/ecs/dist/components/generated/NftShape.gen.js
var NftShapeSchema = {
  COMPONENT_ID: 1040,
  serialize(value, builder) {
    const writer = PBNftShape.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBNftShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBNftShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBNftShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/player_identity_data.gen.js
var import_minimal26 = __toESM(require_minimal2());
function createBasePBPlayerIdentityData() {
  return { address: "", isGuest: false };
}
var PBPlayerIdentityData;
(function(PBPlayerIdentityData2) {
  function encode(message, writer = import_minimal26.default.Writer.create()) {
    if (message.address !== "") {
      writer.uint32(10).string(message.address);
    }
    if (message.isGuest === true) {
      writer.uint32(24).bool(message.isGuest);
    }
    return writer;
  }
  PBPlayerIdentityData2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal26.default.Reader ? input : import_minimal26.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPlayerIdentityData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.address = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.isGuest = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPlayerIdentityData2.decode = decode;
})(PBPlayerIdentityData || (PBPlayerIdentityData = {}));

// node_modules/@dcl/ecs/dist/components/generated/PlayerIdentityData.gen.js
var PlayerIdentityDataSchema = {
  COMPONENT_ID: 1089,
  serialize(value, builder) {
    const writer = PBPlayerIdentityData.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPlayerIdentityData.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPlayerIdentityData.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPlayerIdentityData"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events.gen.js
var import_minimal27 = __toESM(require_minimal2());
function createBasePBPointerEvents() {
  return { pointerEvents: [] };
}
var PBPointerEvents;
(function(PBPointerEvents2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    for (const v of message.pointerEvents) {
      PBPointerEvents_Entry.encode(v, writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.pointerEvents.push(PBPointerEvents_Entry.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents2.decode = decode;
})(PBPointerEvents || (PBPointerEvents = {}));
function createBasePBPointerEvents_Info() {
  return {
    button: void 0,
    hoverText: void 0,
    maxDistance: void 0,
    showFeedback: void 0,
    showHighlight: void 0
  };
}
var PBPointerEvents_Info;
(function(PBPointerEvents_Info2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.button !== void 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hoverText !== void 0) {
      writer.uint32(18).string(message.hoverText);
    }
    if (message.maxDistance !== void 0) {
      writer.uint32(29).float(message.maxDistance);
    }
    if (message.showFeedback !== void 0) {
      writer.uint32(32).bool(message.showFeedback);
    }
    if (message.showHighlight !== void 0) {
      writer.uint32(40).bool(message.showHighlight);
    }
    return writer;
  }
  PBPointerEvents_Info2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Info();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hoverText = reader.string();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.showFeedback = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.showHighlight = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Info2.decode = decode;
})(PBPointerEvents_Info || (PBPointerEvents_Info = {}));
function createBasePBPointerEvents_Entry() {
  return { eventType: 0, eventInfo: void 0 };
}
var PBPointerEvents_Entry;
(function(PBPointerEvents_Entry2) {
  function encode(message, writer = import_minimal27.default.Writer.create()) {
    if (message.eventType !== 0) {
      writer.uint32(8).int32(message.eventType);
    }
    if (message.eventInfo !== void 0) {
      PBPointerEvents_Info.encode(message.eventInfo, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  PBPointerEvents_Entry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal27.default.Reader ? input : import_minimal27.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEvents_Entry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.eventType = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.eventInfo = PBPointerEvents_Info.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEvents_Entry2.decode = decode;
})(PBPointerEvents_Entry || (PBPointerEvents_Entry = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerEvents.gen.js
var PointerEventsSchema = {
  COMPONENT_ID: 1062,
  serialize(value, builder) {
    const writer = PBPointerEvents.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPointerEvents.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEvents.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerEvents"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
var import_minimal29 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/raycast_hit.gen.js
var import_minimal28 = __toESM(require_minimal2());
function createBaseRaycastHit() {
  return {
    position: void 0,
    globalOrigin: void 0,
    direction: void 0,
    normalHit: void 0,
    length: 0,
    meshName: void 0,
    entityId: void 0
  };
}
var RaycastHit;
(function(RaycastHit2) {
  function encode(message, writer = import_minimal28.default.Writer.create()) {
    if (message.position !== void 0) {
      Vector3.encode(message.position, writer.uint32(10).fork()).ldelim();
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    if (message.normalHit !== void 0) {
      Vector3.encode(message.normalHit, writer.uint32(34).fork()).ldelim();
    }
    if (message.length !== 0) {
      writer.uint32(45).float(message.length);
    }
    if (message.meshName !== void 0) {
      writer.uint32(50).string(message.meshName);
    }
    if (message.entityId !== void 0) {
      writer.uint32(56).uint32(message.entityId);
    }
    return writer;
  }
  RaycastHit2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal28.default.Reader ? input : import_minimal28.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRaycastHit();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.position = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.normalHit = Vector3.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.length = reader.float();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.meshName = reader.string();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.entityId = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  RaycastHit2.decode = decode;
})(RaycastHit || (RaycastHit = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_events_result.gen.js
function createBasePBPointerEventsResult() {
  return { button: 0, hit: void 0, state: 0, timestamp: 0, analog: void 0, tickNumber: 0 };
}
var PBPointerEventsResult;
(function(PBPointerEventsResult2) {
  function encode(message, writer = import_minimal29.default.Writer.create()) {
    if (message.button !== 0) {
      writer.uint32(8).int32(message.button);
    }
    if (message.hit !== void 0) {
      RaycastHit.encode(message.hit, writer.uint32(18).fork()).ldelim();
    }
    if (message.state !== 0) {
      writer.uint32(32).int32(message.state);
    }
    if (message.timestamp !== 0) {
      writer.uint32(40).uint32(message.timestamp);
    }
    if (message.analog !== void 0) {
      writer.uint32(53).float(message.analog);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(56).uint32(message.tickNumber);
    }
    return writer;
  }
  PBPointerEventsResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal29.default.Reader ? input : import_minimal29.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerEventsResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.button = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.hit = RaycastHit.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.analog = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerEventsResult2.decode = decode;
})(PBPointerEventsResult || (PBPointerEventsResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerEventsResult.gen.js
var PointerEventsResultSchema = {
  COMPONENT_ID: 1063,
  serialize(value, builder) {
    const writer = PBPointerEventsResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPointerEventsResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerEventsResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerEventsResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/pointer_lock.gen.js
var import_minimal30 = __toESM(require_minimal2());
function createBasePBPointerLock() {
  return { isPointerLocked: false };
}
var PBPointerLock;
(function(PBPointerLock2) {
  function encode(message, writer = import_minimal30.default.Writer.create()) {
    if (message.isPointerLocked === true) {
      writer.uint32(8).bool(message.isPointerLocked);
    }
    return writer;
  }
  PBPointerLock2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal30.default.Reader ? input : import_minimal30.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBPointerLock();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.isPointerLocked = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBPointerLock2.decode = decode;
})(PBPointerLock || (PBPointerLock = {}));

// node_modules/@dcl/ecs/dist/components/generated/PointerLock.gen.js
var PointerLockSchema = {
  COMPONENT_ID: 1074,
  serialize(value, builder) {
    const writer = PBPointerLock.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBPointerLock.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBPointerLock.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBPointerLock"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast.gen.js
var import_minimal31 = __toESM(require_minimal2());
var RaycastQueryType;
(function(RaycastQueryType2) {
  RaycastQueryType2[RaycastQueryType2["RQT_HIT_FIRST"] = 0] = "RQT_HIT_FIRST";
  RaycastQueryType2[RaycastQueryType2["RQT_QUERY_ALL"] = 1] = "RQT_QUERY_ALL";
  RaycastQueryType2[RaycastQueryType2["RQT_NONE"] = 2] = "RQT_NONE";
})(RaycastQueryType || (RaycastQueryType = {}));
function createBasePBRaycast() {
  return {
    timestamp: void 0,
    originOffset: void 0,
    direction: void 0,
    maxDistance: 0,
    queryType: 0,
    continuous: void 0,
    collisionMask: void 0
  };
}
var PBRaycast;
(function(PBRaycast2) {
  function encode(message, writer = import_minimal31.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.originOffset !== void 0) {
      Vector3.encode(message.originOffset, writer.uint32(18).fork()).ldelim();
    }
    switch (message.direction?.$case) {
      case "localDirection":
        Vector3.encode(message.direction.localDirection, writer.uint32(50).fork()).ldelim();
        break;
      case "globalDirection":
        Vector3.encode(message.direction.globalDirection, writer.uint32(26).fork()).ldelim();
        break;
      case "globalTarget":
        Vector3.encode(message.direction.globalTarget, writer.uint32(58).fork()).ldelim();
        break;
      case "targetEntity":
        writer.uint32(80).uint32(message.direction.targetEntity);
        break;
    }
    if (message.maxDistance !== 0) {
      writer.uint32(37).float(message.maxDistance);
    }
    if (message.queryType !== 0) {
      writer.uint32(40).int32(message.queryType);
    }
    if (message.continuous !== void 0) {
      writer.uint32(64).bool(message.continuous);
    }
    if (message.collisionMask !== void 0) {
      writer.uint32(72).uint32(message.collisionMask);
    }
    return writer;
  }
  PBRaycast2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal31.default.Reader ? input : import_minimal31.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycast();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.originOffset = Vector3.decode(reader, reader.uint32());
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.direction = { $case: "localDirection", localDirection: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = { $case: "globalDirection", globalDirection: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 7:
          if (tag !== 58) {
            break;
          }
          message.direction = { $case: "globalTarget", globalTarget: Vector3.decode(reader, reader.uint32()) };
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.direction = { $case: "targetEntity", targetEntity: reader.uint32() };
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.maxDistance = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.queryType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.continuous = reader.bool();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.collisionMask = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycast2.decode = decode;
})(PBRaycast || (PBRaycast = {}));

// node_modules/@dcl/ecs/dist/components/generated/Raycast.gen.js
var RaycastSchema = {
  COMPONENT_ID: 1067,
  serialize(value, builder) {
    const writer = PBRaycast.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBRaycast.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycast.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRaycast"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/raycast_result.gen.js
var import_minimal32 = __toESM(require_minimal2());
function createBasePBRaycastResult() {
  return { timestamp: void 0, globalOrigin: void 0, direction: void 0, hits: [], tickNumber: 0 };
}
var PBRaycastResult;
(function(PBRaycastResult2) {
  function encode(message, writer = import_minimal32.default.Writer.create()) {
    if (message.timestamp !== void 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.globalOrigin !== void 0) {
      Vector3.encode(message.globalOrigin, writer.uint32(18).fork()).ldelim();
    }
    if (message.direction !== void 0) {
      Vector3.encode(message.direction, writer.uint32(26).fork()).ldelim();
    }
    for (const v of message.hits) {
      RaycastHit.encode(v, writer.uint32(34).fork()).ldelim();
    }
    if (message.tickNumber !== 0) {
      writer.uint32(40).uint32(message.tickNumber);
    }
    return writer;
  }
  PBRaycastResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal32.default.Reader ? input : import_minimal32.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRaycastResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.globalOrigin = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.direction = Vector3.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.hits.push(RaycastHit.decode(reader, reader.uint32()));
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRaycastResult2.decode = decode;
})(PBRaycastResult || (PBRaycastResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/RaycastResult.gen.js
var RaycastResultSchema = {
  COMPONENT_ID: 1068,
  serialize(value, builder) {
    const writer = PBRaycastResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBRaycastResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRaycastResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRaycastResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/realm_info.gen.js
var import_minimal33 = __toESM(require_minimal2());
function createBasePBRealmInfo() {
  return {
    baseUrl: "",
    realmName: "",
    networkId: 0,
    commsAdapter: "",
    isPreview: false,
    room: void 0,
    isConnectedSceneRoom: void 0
  };
}
var PBRealmInfo;
(function(PBRealmInfo2) {
  function encode(message, writer = import_minimal33.default.Writer.create()) {
    if (message.baseUrl !== "") {
      writer.uint32(10).string(message.baseUrl);
    }
    if (message.realmName !== "") {
      writer.uint32(18).string(message.realmName);
    }
    if (message.networkId !== 0) {
      writer.uint32(24).int32(message.networkId);
    }
    if (message.commsAdapter !== "") {
      writer.uint32(34).string(message.commsAdapter);
    }
    if (message.isPreview === true) {
      writer.uint32(40).bool(message.isPreview);
    }
    if (message.room !== void 0) {
      writer.uint32(50).string(message.room);
    }
    if (message.isConnectedSceneRoom !== void 0) {
      writer.uint32(56).bool(message.isConnectedSceneRoom);
    }
    return writer;
  }
  PBRealmInfo2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal33.default.Reader ? input : import_minimal33.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBRealmInfo();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.baseUrl = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.realmName = reader.string();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.networkId = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.commsAdapter = reader.string();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.isPreview = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.room = reader.string();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.isConnectedSceneRoom = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBRealmInfo2.decode = decode;
})(PBRealmInfo || (PBRealmInfo = {}));

// node_modules/@dcl/ecs/dist/components/generated/RealmInfo.gen.js
var RealmInfoSchema = {
  COMPONENT_ID: 1106,
  serialize(value, builder) {
    const writer = PBRealmInfo.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBRealmInfo.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBRealmInfo.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBRealmInfo"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/text_shape.gen.js
var import_minimal34 = __toESM(require_minimal2());
function createBasePBTextShape() {
  return {
    text: "",
    font: void 0,
    fontSize: void 0,
    fontAutoSize: void 0,
    textAlign: void 0,
    width: void 0,
    height: void 0,
    paddingTop: void 0,
    paddingRight: void 0,
    paddingBottom: void 0,
    paddingLeft: void 0,
    lineSpacing: void 0,
    lineCount: void 0,
    textWrapping: void 0,
    shadowBlur: void 0,
    shadowOffsetX: void 0,
    shadowOffsetY: void 0,
    outlineWidth: void 0,
    shadowColor: void 0,
    outlineColor: void 0,
    textColor: void 0
  };
}
var PBTextShape;
(function(PBTextShape2) {
  function encode(message, writer = import_minimal34.default.Writer.create()) {
    if (message.text !== "") {
      writer.uint32(10).string(message.text);
    }
    if (message.font !== void 0) {
      writer.uint32(16).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(29).float(message.fontSize);
    }
    if (message.fontAutoSize !== void 0) {
      writer.uint32(32).bool(message.fontAutoSize);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(40).int32(message.textAlign);
    }
    if (message.width !== void 0) {
      writer.uint32(53).float(message.width);
    }
    if (message.height !== void 0) {
      writer.uint32(61).float(message.height);
    }
    if (message.paddingTop !== void 0) {
      writer.uint32(69).float(message.paddingTop);
    }
    if (message.paddingRight !== void 0) {
      writer.uint32(77).float(message.paddingRight);
    }
    if (message.paddingBottom !== void 0) {
      writer.uint32(85).float(message.paddingBottom);
    }
    if (message.paddingLeft !== void 0) {
      writer.uint32(93).float(message.paddingLeft);
    }
    if (message.lineSpacing !== void 0) {
      writer.uint32(101).float(message.lineSpacing);
    }
    if (message.lineCount !== void 0) {
      writer.uint32(104).int32(message.lineCount);
    }
    if (message.textWrapping !== void 0) {
      writer.uint32(112).bool(message.textWrapping);
    }
    if (message.shadowBlur !== void 0) {
      writer.uint32(125).float(message.shadowBlur);
    }
    if (message.shadowOffsetX !== void 0) {
      writer.uint32(133).float(message.shadowOffsetX);
    }
    if (message.shadowOffsetY !== void 0) {
      writer.uint32(141).float(message.shadowOffsetY);
    }
    if (message.outlineWidth !== void 0) {
      writer.uint32(149).float(message.outlineWidth);
    }
    if (message.shadowColor !== void 0) {
      Color3.encode(message.shadowColor, writer.uint32(154).fork()).ldelim();
    }
    if (message.outlineColor !== void 0) {
      Color3.encode(message.outlineColor, writer.uint32(162).fork()).ldelim();
    }
    if (message.textColor !== void 0) {
      Color4.encode(message.textColor, writer.uint32(170).fork()).ldelim();
    }
    return writer;
  }
  PBTextShape2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal34.default.Reader ? input : import_minimal34.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTextShape();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.text = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.fontSize = reader.float();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.fontAutoSize = reader.bool();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.width = reader.float();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.height = reader.float();
          continue;
        case 8:
          if (tag !== 69) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 9:
          if (tag !== 77) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 10:
          if (tag !== 85) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
        case 11:
          if (tag !== 93) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 12:
          if (tag !== 101) {
            break;
          }
          message.lineSpacing = reader.float();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.lineCount = reader.int32();
          continue;
        case 14:
          if (tag !== 112) {
            break;
          }
          message.textWrapping = reader.bool();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.shadowBlur = reader.float();
          continue;
        case 16:
          if (tag !== 133) {
            break;
          }
          message.shadowOffsetX = reader.float();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.shadowOffsetY = reader.float();
          continue;
        case 18:
          if (tag !== 149) {
            break;
          }
          message.outlineWidth = reader.float();
          continue;
        case 19:
          if (tag !== 154) {
            break;
          }
          message.shadowColor = Color3.decode(reader, reader.uint32());
          continue;
        case 20:
          if (tag !== 162) {
            break;
          }
          message.outlineColor = Color3.decode(reader, reader.uint32());
          continue;
        case 21:
          if (tag !== 170) {
            break;
          }
          message.textColor = Color4.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTextShape2.decode = decode;
})(PBTextShape || (PBTextShape = {}));

// node_modules/@dcl/ecs/dist/components/generated/TextShape.gen.js
var TextShapeSchema = {
  COMPONENT_ID: 1030,
  serialize(value, builder) {
    const writer = PBTextShape.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTextShape.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTextShape.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTextShape"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween.gen.js
var import_minimal35 = __toESM(require_minimal2());
var EasingFunction;
(function(EasingFunction2) {
  EasingFunction2[EasingFunction2["EF_LINEAR"] = 0] = "EF_LINEAR";
  EasingFunction2[EasingFunction2["EF_EASEINQUAD"] = 1] = "EF_EASEINQUAD";
  EasingFunction2[EasingFunction2["EF_EASEOUTQUAD"] = 2] = "EF_EASEOUTQUAD";
  EasingFunction2[EasingFunction2["EF_EASEQUAD"] = 3] = "EF_EASEQUAD";
  EasingFunction2[EasingFunction2["EF_EASEINSINE"] = 4] = "EF_EASEINSINE";
  EasingFunction2[EasingFunction2["EF_EASEOUTSINE"] = 5] = "EF_EASEOUTSINE";
  EasingFunction2[EasingFunction2["EF_EASESINE"] = 6] = "EF_EASESINE";
  EasingFunction2[EasingFunction2["EF_EASEINEXPO"] = 7] = "EF_EASEINEXPO";
  EasingFunction2[EasingFunction2["EF_EASEOUTEXPO"] = 8] = "EF_EASEOUTEXPO";
  EasingFunction2[EasingFunction2["EF_EASEEXPO"] = 9] = "EF_EASEEXPO";
  EasingFunction2[EasingFunction2["EF_EASEINELASTIC"] = 10] = "EF_EASEINELASTIC";
  EasingFunction2[EasingFunction2["EF_EASEOUTELASTIC"] = 11] = "EF_EASEOUTELASTIC";
  EasingFunction2[EasingFunction2["EF_EASEELASTIC"] = 12] = "EF_EASEELASTIC";
  EasingFunction2[EasingFunction2["EF_EASEINBOUNCE"] = 13] = "EF_EASEINBOUNCE";
  EasingFunction2[EasingFunction2["EF_EASEOUTBOUNCE"] = 14] = "EF_EASEOUTBOUNCE";
  EasingFunction2[EasingFunction2["EF_EASEBOUNCE"] = 15] = "EF_EASEBOUNCE";
  EasingFunction2[EasingFunction2["EF_EASEINCUBIC"] = 16] = "EF_EASEINCUBIC";
  EasingFunction2[EasingFunction2["EF_EASEOUTCUBIC"] = 17] = "EF_EASEOUTCUBIC";
  EasingFunction2[EasingFunction2["EF_EASECUBIC"] = 18] = "EF_EASECUBIC";
  EasingFunction2[EasingFunction2["EF_EASEINQUART"] = 19] = "EF_EASEINQUART";
  EasingFunction2[EasingFunction2["EF_EASEOUTQUART"] = 20] = "EF_EASEOUTQUART";
  EasingFunction2[EasingFunction2["EF_EASEQUART"] = 21] = "EF_EASEQUART";
  EasingFunction2[EasingFunction2["EF_EASEINQUINT"] = 22] = "EF_EASEINQUINT";
  EasingFunction2[EasingFunction2["EF_EASEOUTQUINT"] = 23] = "EF_EASEOUTQUINT";
  EasingFunction2[EasingFunction2["EF_EASEQUINT"] = 24] = "EF_EASEQUINT";
  EasingFunction2[EasingFunction2["EF_EASEINCIRC"] = 25] = "EF_EASEINCIRC";
  EasingFunction2[EasingFunction2["EF_EASEOUTCIRC"] = 26] = "EF_EASEOUTCIRC";
  EasingFunction2[EasingFunction2["EF_EASECIRC"] = 27] = "EF_EASECIRC";
  EasingFunction2[EasingFunction2["EF_EASEINBACK"] = 28] = "EF_EASEINBACK";
  EasingFunction2[EasingFunction2["EF_EASEOUTBACK"] = 29] = "EF_EASEOUTBACK";
  EasingFunction2[EasingFunction2["EF_EASEBACK"] = 30] = "EF_EASEBACK";
})(EasingFunction || (EasingFunction = {}));
function createBasePBTween() {
  return { duration: 0, easingFunction: 0, mode: void 0, playing: void 0, currentTime: void 0 };
}
var PBTween;
(function(PBTween2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.duration !== 0) {
      writer.uint32(13).float(message.duration);
    }
    if (message.easingFunction !== 0) {
      writer.uint32(16).int32(message.easingFunction);
    }
    switch (message.mode?.$case) {
      case "move":
        Move.encode(message.mode.move, writer.uint32(26).fork()).ldelim();
        break;
      case "rotate":
        Rotate.encode(message.mode.rotate, writer.uint32(34).fork()).ldelim();
        break;
      case "scale":
        Scale.encode(message.mode.scale, writer.uint32(42).fork()).ldelim();
        break;
    }
    if (message.playing !== void 0) {
      writer.uint32(48).bool(message.playing);
    }
    if (message.currentTime !== void 0) {
      writer.uint32(61).float(message.currentTime);
    }
    return writer;
  }
  PBTween2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal35.default.Reader ? input : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTween();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.duration = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.easingFunction = reader.int32();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.mode = { $case: "move", move: Move.decode(reader, reader.uint32()) };
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.mode = { $case: "rotate", rotate: Rotate.decode(reader, reader.uint32()) };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.mode = { $case: "scale", scale: Scale.decode(reader, reader.uint32()) };
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 7:
          if (tag !== 61) {
            break;
          }
          message.currentTime = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTween2.decode = decode;
})(PBTween || (PBTween = {}));
function createBaseMove() {
  return { start: void 0, end: void 0, faceDirection: void 0 };
}
var Move;
(function(Move2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector3.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector3.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    if (message.faceDirection !== void 0) {
      writer.uint32(24).bool(message.faceDirection);
    }
    return writer;
  }
  Move2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal35.default.Reader ? input : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseMove();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector3.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.faceDirection = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Move2.decode = decode;
})(Move || (Move = {}));
function createBaseRotate() {
  return { start: void 0, end: void 0 };
}
var Rotate;
(function(Rotate2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.start !== void 0) {
      Quaternion.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Quaternion.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Rotate2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal35.default.Reader ? input : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRotate();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Quaternion.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Quaternion.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rotate2.decode = decode;
})(Rotate || (Rotate = {}));
function createBaseScale() {
  return { start: void 0, end: void 0 };
}
var Scale;
(function(Scale2) {
  function encode(message, writer = import_minimal35.default.Writer.create()) {
    if (message.start !== void 0) {
      Vector3.encode(message.start, writer.uint32(10).fork()).ldelim();
    }
    if (message.end !== void 0) {
      Vector3.encode(message.end, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Scale2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal35.default.Reader ? input : import_minimal35.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseScale();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.start = Vector3.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.end = Vector3.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Scale2.decode = decode;
})(Scale || (Scale = {}));

// node_modules/@dcl/ecs/dist/components/generated/Tween.gen.js
var TweenSchema = {
  COMPONENT_ID: 1102,
  serialize(value, builder) {
    const writer = PBTween.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTween.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTween.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTween"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween_sequence.gen.js
var import_minimal36 = __toESM(require_minimal2());
var TweenLoop;
(function(TweenLoop2) {
  TweenLoop2[TweenLoop2["TL_RESTART"] = 0] = "TL_RESTART";
  TweenLoop2[TweenLoop2["TL_YOYO"] = 1] = "TL_YOYO";
})(TweenLoop || (TweenLoop = {}));
function createBasePBTweenSequence() {
  return { sequence: [], loop: void 0 };
}
var PBTweenSequence;
(function(PBTweenSequence2) {
  function encode(message, writer = import_minimal36.default.Writer.create()) {
    for (const v of message.sequence) {
      PBTween.encode(v, writer.uint32(10).fork()).ldelim();
    }
    if (message.loop !== void 0) {
      writer.uint32(16).int32(message.loop);
    }
    return writer;
  }
  PBTweenSequence2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal36.default.Reader ? input : import_minimal36.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTweenSequence();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.sequence.push(PBTween.decode(reader, reader.uint32()));
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.loop = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTweenSequence2.decode = decode;
})(PBTweenSequence || (PBTweenSequence = {}));

// node_modules/@dcl/ecs/dist/components/generated/TweenSequence.gen.js
var TweenSequenceSchema = {
  COMPONENT_ID: 1104,
  serialize(value, builder) {
    const writer = PBTweenSequence.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTweenSequence.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTweenSequence.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTweenSequence"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/tween_state.gen.js
var import_minimal37 = __toESM(require_minimal2());
var TweenStateStatus;
(function(TweenStateStatus2) {
  TweenStateStatus2[TweenStateStatus2["TS_ACTIVE"] = 0] = "TS_ACTIVE";
  TweenStateStatus2[TweenStateStatus2["TS_COMPLETED"] = 1] = "TS_COMPLETED";
  TweenStateStatus2[TweenStateStatus2["TS_PAUSED"] = 2] = "TS_PAUSED";
})(TweenStateStatus || (TweenStateStatus = {}));
function createBasePBTweenState() {
  return { state: 0, currentTime: 0 };
}
var PBTweenState;
(function(PBTweenState2) {
  function encode(message, writer = import_minimal37.default.Writer.create()) {
    if (message.state !== 0) {
      writer.uint32(8).int32(message.state);
    }
    if (message.currentTime !== 0) {
      writer.uint32(21).float(message.currentTime);
    }
    return writer;
  }
  PBTweenState2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal37.default.Reader ? input : import_minimal37.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBTweenState();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.state = reader.int32();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.currentTime = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBTweenState2.decode = decode;
})(PBTweenState || (PBTweenState = {}));

// node_modules/@dcl/ecs/dist/components/generated/TweenState.gen.js
var TweenStateSchema = {
  COMPONENT_ID: 1103,
  serialize(value, builder) {
    const writer = PBTweenState.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBTweenState.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBTweenState.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBTweenState"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var import_minimal39 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/common/border_rect.gen.js
var import_minimal38 = __toESM(require_minimal2());
function createBaseBorderRect() {
  return { top: 0, left: 0, right: 0, bottom: 0 };
}
var BorderRect;
(function(BorderRect2) {
  function encode(message, writer = import_minimal38.default.Writer.create()) {
    if (message.top !== 0) {
      writer.uint32(13).float(message.top);
    }
    if (message.left !== 0) {
      writer.uint32(21).float(message.left);
    }
    if (message.right !== 0) {
      writer.uint32(29).float(message.right);
    }
    if (message.bottom !== 0) {
      writer.uint32(37).float(message.bottom);
    }
    return writer;
  }
  BorderRect2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal38.default.Reader ? input : import_minimal38.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseBorderRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.top = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.left = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.right = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.bottom = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  BorderRect2.decode = decode;
})(BorderRect || (BorderRect = {}));
function createBaseRect() {
  return { x: 0, y: 0, width: 0, height: 0 };
}
var Rect;
(function(Rect2) {
  function encode(message, writer = import_minimal38.default.Writer.create()) {
    if (message.x !== 0) {
      writer.uint32(13).float(message.x);
    }
    if (message.y !== 0) {
      writer.uint32(21).float(message.y);
    }
    if (message.width !== 0) {
      writer.uint32(29).float(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(37).float(message.height);
    }
    return writer;
  }
  Rect2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal38.default.Reader ? input : import_minimal38.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseRect();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.x = reader.float();
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.y = reader.float();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.width = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.height = reader.float();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Rect2.decode = decode;
})(Rect || (Rect = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_background.gen.js
var BackgroundTextureMode;
(function(BackgroundTextureMode2) {
  BackgroundTextureMode2[BackgroundTextureMode2["NINE_SLICES"] = 0] = "NINE_SLICES";
  BackgroundTextureMode2[BackgroundTextureMode2["CENTER"] = 1] = "CENTER";
  BackgroundTextureMode2[BackgroundTextureMode2["STRETCH"] = 2] = "STRETCH";
})(BackgroundTextureMode || (BackgroundTextureMode = {}));
function createBasePBUiBackground() {
  return { color: void 0, texture: void 0, textureMode: 0, textureSlices: void 0, uvs: [] };
}
var PBUiBackground;
(function(PBUiBackground2) {
  function encode(message, writer = import_minimal39.default.Writer.create()) {
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(10).fork()).ldelim();
    }
    if (message.texture !== void 0) {
      TextureUnion.encode(message.texture, writer.uint32(18).fork()).ldelim();
    }
    if (message.textureMode !== 0) {
      writer.uint32(24).int32(message.textureMode);
    }
    if (message.textureSlices !== void 0) {
      BorderRect.encode(message.textureSlices, writer.uint32(34).fork()).ldelim();
    }
    writer.uint32(42).fork();
    for (const v of message.uvs) {
      writer.float(v);
    }
    writer.ldelim();
    return writer;
  }
  PBUiBackground2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal39.default.Reader ? input : import_minimal39.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiBackground();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.texture = TextureUnion.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textureMode = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.textureSlices = BorderRect.decode(reader, reader.uint32());
          continue;
        case 5:
          if (tag === 45) {
            message.uvs.push(reader.float());
            continue;
          }
          if (tag === 42) {
            const end2 = reader.uint32() + reader.pos;
            while (reader.pos < end2) {
              message.uvs.push(reader.float());
            }
            continue;
          }
          break;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiBackground2.decode = decode;
})(PBUiBackground || (PBUiBackground = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiBackground.gen.js
var UiBackgroundSchema = {
  COMPONENT_ID: 1053,
  serialize(value, builder) {
    const writer = PBUiBackground.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiBackground.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiBackground.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiBackground"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_canvas_information.gen.js
var import_minimal40 = __toESM(require_minimal2());
function createBasePBUiCanvasInformation() {
  return { devicePixelRatio: 0, width: 0, height: 0, interactableArea: void 0 };
}
var PBUiCanvasInformation;
(function(PBUiCanvasInformation2) {
  function encode(message, writer = import_minimal40.default.Writer.create()) {
    if (message.devicePixelRatio !== 0) {
      writer.uint32(13).float(message.devicePixelRatio);
    }
    if (message.width !== 0) {
      writer.uint32(16).int32(message.width);
    }
    if (message.height !== 0) {
      writer.uint32(24).int32(message.height);
    }
    if (message.interactableArea !== void 0) {
      BorderRect.encode(message.interactableArea, writer.uint32(34).fork()).ldelim();
    }
    return writer;
  }
  PBUiCanvasInformation2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal40.default.Reader ? input : import_minimal40.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiCanvasInformation();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.devicePixelRatio = reader.float();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.width = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.height = reader.int32();
          continue;
        case 4:
          if (tag !== 34) {
            break;
          }
          message.interactableArea = BorderRect.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiCanvasInformation2.decode = decode;
})(PBUiCanvasInformation || (PBUiCanvasInformation = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiCanvasInformation.gen.js
var UiCanvasInformationSchema = {
  COMPONENT_ID: 1054,
  serialize(value, builder) {
    const writer = PBUiCanvasInformation.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiCanvasInformation.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiCanvasInformation.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiCanvasInformation"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown.gen.js
var import_minimal41 = __toESM(require_minimal2());
function createBasePBUiDropdown() {
  return {
    acceptEmpty: false,
    emptyLabel: void 0,
    options: [],
    selectedIndex: void 0,
    disabled: false,
    color: void 0,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0
  };
}
var PBUiDropdown;
(function(PBUiDropdown2) {
  function encode(message, writer = import_minimal41.default.Writer.create()) {
    if (message.acceptEmpty === true) {
      writer.uint32(8).bool(message.acceptEmpty);
    }
    if (message.emptyLabel !== void 0) {
      writer.uint32(18).string(message.emptyLabel);
    }
    for (const v of message.options) {
      writer.uint32(26).string(v);
    }
    if (message.selectedIndex !== void 0) {
      writer.uint32(32).int32(message.selectedIndex);
    }
    if (message.disabled === true) {
      writer.uint32(40).bool(message.disabled);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(50).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    return writer;
  }
  PBUiDropdown2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal41.default.Reader ? input : import_minimal41.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdown();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.acceptEmpty = reader.bool();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.emptyLabel = reader.string();
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.options.push(reader.string());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.selectedIndex = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdown2.decode = decode;
})(PBUiDropdown || (PBUiDropdown = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiDropdown.gen.js
var UiDropdownSchema = {
  COMPONENT_ID: 1094,
  serialize(value, builder) {
    const writer = PBUiDropdown.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiDropdown.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdown.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiDropdown"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_dropdown_result.gen.js
var import_minimal42 = __toESM(require_minimal2());
function createBasePBUiDropdownResult() {
  return { value: 0 };
}
var PBUiDropdownResult;
(function(PBUiDropdownResult2) {
  function encode(message, writer = import_minimal42.default.Writer.create()) {
    if (message.value !== 0) {
      writer.uint32(8).int32(message.value);
    }
    return writer;
  }
  PBUiDropdownResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal42.default.Reader ? input : import_minimal42.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiDropdownResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.value = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiDropdownResult2.decode = decode;
})(PBUiDropdownResult || (PBUiDropdownResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiDropdownResult.gen.js
var UiDropdownResultSchema = {
  COMPONENT_ID: 1096,
  serialize(value, builder) {
    const writer = PBUiDropdownResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiDropdownResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiDropdownResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiDropdownResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input.gen.js
var import_minimal43 = __toESM(require_minimal2());
function createBasePBUiInput() {
  return {
    placeholder: "",
    color: void 0,
    placeholderColor: void 0,
    disabled: false,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
    value: void 0
  };
}
var PBUiInput;
(function(PBUiInput2) {
  function encode(message, writer = import_minimal43.default.Writer.create()) {
    if (message.placeholder !== "") {
      writer.uint32(10).string(message.placeholder);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.placeholderColor !== void 0) {
      Color4.encode(message.placeholderColor, writer.uint32(26).fork()).ldelim();
    }
    if (message.disabled === true) {
      writer.uint32(32).bool(message.disabled);
    }
    if (message.textAlign !== void 0) {
      writer.uint32(80).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(88).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(96).int32(message.fontSize);
    }
    if (message.value !== void 0) {
      writer.uint32(106).string(message.value);
    }
    return writer;
  }
  PBUiInput2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal43.default.Reader ? input : import_minimal43.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInput();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.placeholder = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.placeholderColor = Color4.decode(reader, reader.uint32());
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.disabled = reader.bool();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
        case 13:
          if (tag !== 106) {
            break;
          }
          message.value = reader.string();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInput2.decode = decode;
})(PBUiInput || (PBUiInput = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiInput.gen.js
var UiInputSchema = {
  COMPONENT_ID: 1093,
  serialize(value, builder) {
    const writer = PBUiInput.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiInput.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInput.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiInput"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_input_result.gen.js
var import_minimal44 = __toESM(require_minimal2());
function createBasePBUiInputResult() {
  return { value: "", isSubmit: void 0 };
}
var PBUiInputResult;
(function(PBUiInputResult2) {
  function encode(message, writer = import_minimal44.default.Writer.create()) {
    if (message.value !== "") {
      writer.uint32(10).string(message.value);
    }
    if (message.isSubmit !== void 0) {
      writer.uint32(16).bool(message.isSubmit);
    }
    return writer;
  }
  PBUiInputResult2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal44.default.Reader ? input : import_minimal44.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiInputResult();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.isSubmit = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiInputResult2.decode = decode;
})(PBUiInputResult || (PBUiInputResult = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiInputResult.gen.js
var UiInputResultSchema = {
  COMPONENT_ID: 1095,
  serialize(value, builder) {
    const writer = PBUiInputResult.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiInputResult.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiInputResult.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiInputResult"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_text.gen.js
var import_minimal45 = __toESM(require_minimal2());
var TextWrap;
(function(TextWrap2) {
  TextWrap2[TextWrap2["TW_WRAP"] = 0] = "TW_WRAP";
  TextWrap2[TextWrap2["TW_NO_WRAP"] = 1] = "TW_NO_WRAP";
})(TextWrap || (TextWrap = {}));
function createBasePBUiText() {
  return {
    value: "",
    color: void 0,
    textAlign: void 0,
    font: void 0,
    fontSize: void 0,
    textWrap: void 0
  };
}
var PBUiText;
(function(PBUiText2) {
  function encode(message, writer = import_minimal45.default.Writer.create()) {
    if (message.value !== "") {
      writer.uint32(10).string(message.value);
    }
    if (message.color !== void 0) {
      Color4.encode(message.color, writer.uint32(18).fork()).ldelim();
    }
    if (message.textAlign !== void 0) {
      writer.uint32(24).int32(message.textAlign);
    }
    if (message.font !== void 0) {
      writer.uint32(32).int32(message.font);
    }
    if (message.fontSize !== void 0) {
      writer.uint32(40).int32(message.fontSize);
    }
    if (message.textWrap !== void 0) {
      writer.uint32(48).int32(message.textWrap);
    }
    return writer;
  }
  PBUiText2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal45.default.Reader ? input : import_minimal45.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiText();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.value = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.color = Color4.decode(reader, reader.uint32());
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.textAlign = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.font = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.fontSize = reader.int32();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.textWrap = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiText2.decode = decode;
})(PBUiText || (PBUiText = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiText.gen.js
var UiTextSchema = {
  COMPONENT_ID: 1052,
  serialize(value, builder) {
    const writer = PBUiText.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiText.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiText.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiText"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/ui_transform.gen.js
var import_minimal46 = __toESM(require_minimal2());
var YGPositionType;
(function(YGPositionType2) {
  YGPositionType2[YGPositionType2["YGPT_RELATIVE"] = 0] = "YGPT_RELATIVE";
  YGPositionType2[YGPositionType2["YGPT_ABSOLUTE"] = 1] = "YGPT_ABSOLUTE";
})(YGPositionType || (YGPositionType = {}));
var YGAlign;
(function(YGAlign2) {
  YGAlign2[YGAlign2["YGA_AUTO"] = 0] = "YGA_AUTO";
  YGAlign2[YGAlign2["YGA_FLEX_START"] = 1] = "YGA_FLEX_START";
  YGAlign2[YGAlign2["YGA_CENTER"] = 2] = "YGA_CENTER";
  YGAlign2[YGAlign2["YGA_FLEX_END"] = 3] = "YGA_FLEX_END";
  YGAlign2[YGAlign2["YGA_STRETCH"] = 4] = "YGA_STRETCH";
  YGAlign2[YGAlign2["YGA_BASELINE"] = 5] = "YGA_BASELINE";
  YGAlign2[YGAlign2["YGA_SPACE_BETWEEN"] = 6] = "YGA_SPACE_BETWEEN";
  YGAlign2[YGAlign2["YGA_SPACE_AROUND"] = 7] = "YGA_SPACE_AROUND";
})(YGAlign || (YGAlign = {}));
var YGUnit;
(function(YGUnit2) {
  YGUnit2[YGUnit2["YGU_UNDEFINED"] = 0] = "YGU_UNDEFINED";
  YGUnit2[YGUnit2["YGU_POINT"] = 1] = "YGU_POINT";
  YGUnit2[YGUnit2["YGU_PERCENT"] = 2] = "YGU_PERCENT";
  YGUnit2[YGUnit2["YGU_AUTO"] = 3] = "YGU_AUTO";
})(YGUnit || (YGUnit = {}));
var YGFlexDirection;
(function(YGFlexDirection2) {
  YGFlexDirection2[YGFlexDirection2["YGFD_ROW"] = 0] = "YGFD_ROW";
  YGFlexDirection2[YGFlexDirection2["YGFD_COLUMN"] = 1] = "YGFD_COLUMN";
  YGFlexDirection2[YGFlexDirection2["YGFD_COLUMN_REVERSE"] = 2] = "YGFD_COLUMN_REVERSE";
  YGFlexDirection2[YGFlexDirection2["YGFD_ROW_REVERSE"] = 3] = "YGFD_ROW_REVERSE";
})(YGFlexDirection || (YGFlexDirection = {}));
var YGWrap;
(function(YGWrap2) {
  YGWrap2[YGWrap2["YGW_NO_WRAP"] = 0] = "YGW_NO_WRAP";
  YGWrap2[YGWrap2["YGW_WRAP"] = 1] = "YGW_WRAP";
  YGWrap2[YGWrap2["YGW_WRAP_REVERSE"] = 2] = "YGW_WRAP_REVERSE";
})(YGWrap || (YGWrap = {}));
var YGJustify;
(function(YGJustify2) {
  YGJustify2[YGJustify2["YGJ_FLEX_START"] = 0] = "YGJ_FLEX_START";
  YGJustify2[YGJustify2["YGJ_CENTER"] = 1] = "YGJ_CENTER";
  YGJustify2[YGJustify2["YGJ_FLEX_END"] = 2] = "YGJ_FLEX_END";
  YGJustify2[YGJustify2["YGJ_SPACE_BETWEEN"] = 3] = "YGJ_SPACE_BETWEEN";
  YGJustify2[YGJustify2["YGJ_SPACE_AROUND"] = 4] = "YGJ_SPACE_AROUND";
  YGJustify2[YGJustify2["YGJ_SPACE_EVENLY"] = 5] = "YGJ_SPACE_EVENLY";
})(YGJustify || (YGJustify = {}));
var YGOverflow;
(function(YGOverflow2) {
  YGOverflow2[YGOverflow2["YGO_VISIBLE"] = 0] = "YGO_VISIBLE";
  YGOverflow2[YGOverflow2["YGO_HIDDEN"] = 1] = "YGO_HIDDEN";
  YGOverflow2[YGOverflow2["YGO_SCROLL"] = 2] = "YGO_SCROLL";
})(YGOverflow || (YGOverflow = {}));
var YGDisplay;
(function(YGDisplay2) {
  YGDisplay2[YGDisplay2["YGD_FLEX"] = 0] = "YGD_FLEX";
  YGDisplay2[YGDisplay2["YGD_NONE"] = 1] = "YGD_NONE";
})(YGDisplay || (YGDisplay = {}));
var YGEdge;
(function(YGEdge2) {
  YGEdge2[YGEdge2["YGE_LEFT"] = 0] = "YGE_LEFT";
  YGEdge2[YGEdge2["YGE_TOP"] = 1] = "YGE_TOP";
  YGEdge2[YGEdge2["YGE_RIGHT"] = 2] = "YGE_RIGHT";
  YGEdge2[YGEdge2["YGE_BOTTOM"] = 3] = "YGE_BOTTOM";
  YGEdge2[YGEdge2["YGE_START"] = 4] = "YGE_START";
  YGEdge2[YGEdge2["YGE_END"] = 5] = "YGE_END";
  YGEdge2[YGEdge2["YGE_HORIZONTAL"] = 6] = "YGE_HORIZONTAL";
  YGEdge2[YGEdge2["YGE_VERTICAL"] = 7] = "YGE_VERTICAL";
  YGEdge2[YGEdge2["YGE_ALL"] = 8] = "YGE_ALL";
})(YGEdge || (YGEdge = {}));
var PointerFilterMode;
(function(PointerFilterMode2) {
  PointerFilterMode2[PointerFilterMode2["PFM_NONE"] = 0] = "PFM_NONE";
  PointerFilterMode2[PointerFilterMode2["PFM_BLOCK"] = 1] = "PFM_BLOCK";
})(PointerFilterMode || (PointerFilterMode = {}));
function createBasePBUiTransform() {
  return {
    parent: 0,
    rightOf: 0,
    alignContent: void 0,
    alignItems: void 0,
    flexWrap: void 0,
    flexShrink: void 0,
    positionType: 0,
    alignSelf: 0,
    flexDirection: 0,
    justifyContent: 0,
    overflow: 0,
    display: 0,
    flexBasisUnit: 0,
    flexBasis: 0,
    flexGrow: 0,
    widthUnit: 0,
    width: 0,
    heightUnit: 0,
    height: 0,
    minWidthUnit: 0,
    minWidth: 0,
    minHeightUnit: 0,
    minHeight: 0,
    maxWidthUnit: 0,
    maxWidth: 0,
    maxHeightUnit: 0,
    maxHeight: 0,
    positionLeftUnit: 0,
    positionLeft: 0,
    positionTopUnit: 0,
    positionTop: 0,
    positionRightUnit: 0,
    positionRight: 0,
    positionBottomUnit: 0,
    positionBottom: 0,
    marginLeftUnit: 0,
    marginLeft: 0,
    marginTopUnit: 0,
    marginTop: 0,
    marginRightUnit: 0,
    marginRight: 0,
    marginBottomUnit: 0,
    marginBottom: 0,
    paddingLeftUnit: 0,
    paddingLeft: 0,
    paddingTopUnit: 0,
    paddingTop: 0,
    paddingRightUnit: 0,
    paddingRight: 0,
    paddingBottomUnit: 0,
    paddingBottom: 0,
    pointerFilter: void 0
  };
}
var PBUiTransform;
(function(PBUiTransform2) {
  function encode(message, writer = import_minimal46.default.Writer.create()) {
    if (message.parent !== 0) {
      writer.uint32(8).int32(message.parent);
    }
    if (message.rightOf !== 0) {
      writer.uint32(16).int32(message.rightOf);
    }
    if (message.alignContent !== void 0) {
      writer.uint32(24).int32(message.alignContent);
    }
    if (message.alignItems !== void 0) {
      writer.uint32(32).int32(message.alignItems);
    }
    if (message.flexWrap !== void 0) {
      writer.uint32(40).int32(message.flexWrap);
    }
    if (message.flexShrink !== void 0) {
      writer.uint32(53).float(message.flexShrink);
    }
    if (message.positionType !== 0) {
      writer.uint32(56).int32(message.positionType);
    }
    if (message.alignSelf !== 0) {
      writer.uint32(64).int32(message.alignSelf);
    }
    if (message.flexDirection !== 0) {
      writer.uint32(72).int32(message.flexDirection);
    }
    if (message.justifyContent !== 0) {
      writer.uint32(80).int32(message.justifyContent);
    }
    if (message.overflow !== 0) {
      writer.uint32(88).int32(message.overflow);
    }
    if (message.display !== 0) {
      writer.uint32(96).int32(message.display);
    }
    if (message.flexBasisUnit !== 0) {
      writer.uint32(104).int32(message.flexBasisUnit);
    }
    if (message.flexBasis !== 0) {
      writer.uint32(117).float(message.flexBasis);
    }
    if (message.flexGrow !== 0) {
      writer.uint32(125).float(message.flexGrow);
    }
    if (message.widthUnit !== 0) {
      writer.uint32(128).int32(message.widthUnit);
    }
    if (message.width !== 0) {
      writer.uint32(141).float(message.width);
    }
    if (message.heightUnit !== 0) {
      writer.uint32(144).int32(message.heightUnit);
    }
    if (message.height !== 0) {
      writer.uint32(157).float(message.height);
    }
    if (message.minWidthUnit !== 0) {
      writer.uint32(160).int32(message.minWidthUnit);
    }
    if (message.minWidth !== 0) {
      writer.uint32(173).float(message.minWidth);
    }
    if (message.minHeightUnit !== 0) {
      writer.uint32(176).int32(message.minHeightUnit);
    }
    if (message.minHeight !== 0) {
      writer.uint32(189).float(message.minHeight);
    }
    if (message.maxWidthUnit !== 0) {
      writer.uint32(192).int32(message.maxWidthUnit);
    }
    if (message.maxWidth !== 0) {
      writer.uint32(205).float(message.maxWidth);
    }
    if (message.maxHeightUnit !== 0) {
      writer.uint32(208).int32(message.maxHeightUnit);
    }
    if (message.maxHeight !== 0) {
      writer.uint32(221).float(message.maxHeight);
    }
    if (message.positionLeftUnit !== 0) {
      writer.uint32(224).int32(message.positionLeftUnit);
    }
    if (message.positionLeft !== 0) {
      writer.uint32(237).float(message.positionLeft);
    }
    if (message.positionTopUnit !== 0) {
      writer.uint32(240).int32(message.positionTopUnit);
    }
    if (message.positionTop !== 0) {
      writer.uint32(253).float(message.positionTop);
    }
    if (message.positionRightUnit !== 0) {
      writer.uint32(256).int32(message.positionRightUnit);
    }
    if (message.positionRight !== 0) {
      writer.uint32(269).float(message.positionRight);
    }
    if (message.positionBottomUnit !== 0) {
      writer.uint32(272).int32(message.positionBottomUnit);
    }
    if (message.positionBottom !== 0) {
      writer.uint32(285).float(message.positionBottom);
    }
    if (message.marginLeftUnit !== 0) {
      writer.uint32(288).int32(message.marginLeftUnit);
    }
    if (message.marginLeft !== 0) {
      writer.uint32(301).float(message.marginLeft);
    }
    if (message.marginTopUnit !== 0) {
      writer.uint32(304).int32(message.marginTopUnit);
    }
    if (message.marginTop !== 0) {
      writer.uint32(317).float(message.marginTop);
    }
    if (message.marginRightUnit !== 0) {
      writer.uint32(320).int32(message.marginRightUnit);
    }
    if (message.marginRight !== 0) {
      writer.uint32(333).float(message.marginRight);
    }
    if (message.marginBottomUnit !== 0) {
      writer.uint32(336).int32(message.marginBottomUnit);
    }
    if (message.marginBottom !== 0) {
      writer.uint32(349).float(message.marginBottom);
    }
    if (message.paddingLeftUnit !== 0) {
      writer.uint32(352).int32(message.paddingLeftUnit);
    }
    if (message.paddingLeft !== 0) {
      writer.uint32(365).float(message.paddingLeft);
    }
    if (message.paddingTopUnit !== 0) {
      writer.uint32(368).int32(message.paddingTopUnit);
    }
    if (message.paddingTop !== 0) {
      writer.uint32(381).float(message.paddingTop);
    }
    if (message.paddingRightUnit !== 0) {
      writer.uint32(384).int32(message.paddingRightUnit);
    }
    if (message.paddingRight !== 0) {
      writer.uint32(397).float(message.paddingRight);
    }
    if (message.paddingBottomUnit !== 0) {
      writer.uint32(400).int32(message.paddingBottomUnit);
    }
    if (message.paddingBottom !== 0) {
      writer.uint32(413).float(message.paddingBottom);
    }
    if (message.pointerFilter !== void 0) {
      writer.uint32(416).int32(message.pointerFilter);
    }
    return writer;
  }
  PBUiTransform2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal46.default.Reader ? input : import_minimal46.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBUiTransform();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.parent = reader.int32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.rightOf = reader.int32();
          continue;
        case 3:
          if (tag !== 24) {
            break;
          }
          message.alignContent = reader.int32();
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.alignItems = reader.int32();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.flexWrap = reader.int32();
          continue;
        case 6:
          if (tag !== 53) {
            break;
          }
          message.flexShrink = reader.float();
          continue;
        case 7:
          if (tag !== 56) {
            break;
          }
          message.positionType = reader.int32();
          continue;
        case 8:
          if (tag !== 64) {
            break;
          }
          message.alignSelf = reader.int32();
          continue;
        case 9:
          if (tag !== 72) {
            break;
          }
          message.flexDirection = reader.int32();
          continue;
        case 10:
          if (tag !== 80) {
            break;
          }
          message.justifyContent = reader.int32();
          continue;
        case 11:
          if (tag !== 88) {
            break;
          }
          message.overflow = reader.int32();
          continue;
        case 12:
          if (tag !== 96) {
            break;
          }
          message.display = reader.int32();
          continue;
        case 13:
          if (tag !== 104) {
            break;
          }
          message.flexBasisUnit = reader.int32();
          continue;
        case 14:
          if (tag !== 117) {
            break;
          }
          message.flexBasis = reader.float();
          continue;
        case 15:
          if (tag !== 125) {
            break;
          }
          message.flexGrow = reader.float();
          continue;
        case 16:
          if (tag !== 128) {
            break;
          }
          message.widthUnit = reader.int32();
          continue;
        case 17:
          if (tag !== 141) {
            break;
          }
          message.width = reader.float();
          continue;
        case 18:
          if (tag !== 144) {
            break;
          }
          message.heightUnit = reader.int32();
          continue;
        case 19:
          if (tag !== 157) {
            break;
          }
          message.height = reader.float();
          continue;
        case 20:
          if (tag !== 160) {
            break;
          }
          message.minWidthUnit = reader.int32();
          continue;
        case 21:
          if (tag !== 173) {
            break;
          }
          message.minWidth = reader.float();
          continue;
        case 22:
          if (tag !== 176) {
            break;
          }
          message.minHeightUnit = reader.int32();
          continue;
        case 23:
          if (tag !== 189) {
            break;
          }
          message.minHeight = reader.float();
          continue;
        case 24:
          if (tag !== 192) {
            break;
          }
          message.maxWidthUnit = reader.int32();
          continue;
        case 25:
          if (tag !== 205) {
            break;
          }
          message.maxWidth = reader.float();
          continue;
        case 26:
          if (tag !== 208) {
            break;
          }
          message.maxHeightUnit = reader.int32();
          continue;
        case 27:
          if (tag !== 221) {
            break;
          }
          message.maxHeight = reader.float();
          continue;
        case 28:
          if (tag !== 224) {
            break;
          }
          message.positionLeftUnit = reader.int32();
          continue;
        case 29:
          if (tag !== 237) {
            break;
          }
          message.positionLeft = reader.float();
          continue;
        case 30:
          if (tag !== 240) {
            break;
          }
          message.positionTopUnit = reader.int32();
          continue;
        case 31:
          if (tag !== 253) {
            break;
          }
          message.positionTop = reader.float();
          continue;
        case 32:
          if (tag !== 256) {
            break;
          }
          message.positionRightUnit = reader.int32();
          continue;
        case 33:
          if (tag !== 269) {
            break;
          }
          message.positionRight = reader.float();
          continue;
        case 34:
          if (tag !== 272) {
            break;
          }
          message.positionBottomUnit = reader.int32();
          continue;
        case 35:
          if (tag !== 285) {
            break;
          }
          message.positionBottom = reader.float();
          continue;
        case 36:
          if (tag !== 288) {
            break;
          }
          message.marginLeftUnit = reader.int32();
          continue;
        case 37:
          if (tag !== 301) {
            break;
          }
          message.marginLeft = reader.float();
          continue;
        case 38:
          if (tag !== 304) {
            break;
          }
          message.marginTopUnit = reader.int32();
          continue;
        case 39:
          if (tag !== 317) {
            break;
          }
          message.marginTop = reader.float();
          continue;
        case 40:
          if (tag !== 320) {
            break;
          }
          message.marginRightUnit = reader.int32();
          continue;
        case 41:
          if (tag !== 333) {
            break;
          }
          message.marginRight = reader.float();
          continue;
        case 42:
          if (tag !== 336) {
            break;
          }
          message.marginBottomUnit = reader.int32();
          continue;
        case 43:
          if (tag !== 349) {
            break;
          }
          message.marginBottom = reader.float();
          continue;
        case 44:
          if (tag !== 352) {
            break;
          }
          message.paddingLeftUnit = reader.int32();
          continue;
        case 45:
          if (tag !== 365) {
            break;
          }
          message.paddingLeft = reader.float();
          continue;
        case 46:
          if (tag !== 368) {
            break;
          }
          message.paddingTopUnit = reader.int32();
          continue;
        case 47:
          if (tag !== 381) {
            break;
          }
          message.paddingTop = reader.float();
          continue;
        case 48:
          if (tag !== 384) {
            break;
          }
          message.paddingRightUnit = reader.int32();
          continue;
        case 49:
          if (tag !== 397) {
            break;
          }
          message.paddingRight = reader.float();
          continue;
        case 50:
          if (tag !== 400) {
            break;
          }
          message.paddingBottomUnit = reader.int32();
          continue;
        case 51:
          if (tag !== 413) {
            break;
          }
          message.paddingBottom = reader.float();
          continue;
        case 52:
          if (tag !== 416) {
            break;
          }
          message.pointerFilter = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBUiTransform2.decode = decode;
})(PBUiTransform || (PBUiTransform = {}));

// node_modules/@dcl/ecs/dist/components/generated/UiTransform.gen.js
var UiTransformSchema = {
  COMPONENT_ID: 1050,
  serialize(value, builder) {
    const writer = PBUiTransform.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBUiTransform.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBUiTransform.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBUiTransform"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_event.gen.js
var import_minimal47 = __toESM(require_minimal2());
var VideoState;
(function(VideoState2) {
  VideoState2[VideoState2["VS_NONE"] = 0] = "VS_NONE";
  VideoState2[VideoState2["VS_ERROR"] = 1] = "VS_ERROR";
  VideoState2[VideoState2["VS_LOADING"] = 2] = "VS_LOADING";
  VideoState2[VideoState2["VS_READY"] = 3] = "VS_READY";
  VideoState2[VideoState2["VS_PLAYING"] = 4] = "VS_PLAYING";
  VideoState2[VideoState2["VS_BUFFERING"] = 5] = "VS_BUFFERING";
  VideoState2[VideoState2["VS_SEEKING"] = 6] = "VS_SEEKING";
  VideoState2[VideoState2["VS_PAUSED"] = 7] = "VS_PAUSED";
})(VideoState || (VideoState = {}));
function createBasePBVideoEvent() {
  return { timestamp: 0, tickNumber: 0, currentOffset: 0, videoLength: 0, state: 0 };
}
var PBVideoEvent;
(function(PBVideoEvent2) {
  function encode(message, writer = import_minimal47.default.Writer.create()) {
    if (message.timestamp !== 0) {
      writer.uint32(8).uint32(message.timestamp);
    }
    if (message.tickNumber !== 0) {
      writer.uint32(16).uint32(message.tickNumber);
    }
    if (message.currentOffset !== 0) {
      writer.uint32(29).float(message.currentOffset);
    }
    if (message.videoLength !== 0) {
      writer.uint32(37).float(message.videoLength);
    }
    if (message.state !== 0) {
      writer.uint32(40).int32(message.state);
    }
    return writer;
  }
  PBVideoEvent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal47.default.Reader ? input : import_minimal47.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoEvent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.timestamp = reader.uint32();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.tickNumber = reader.uint32();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.currentOffset = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.videoLength = reader.float();
          continue;
        case 5:
          if (tag !== 40) {
            break;
          }
          message.state = reader.int32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoEvent2.decode = decode;
})(PBVideoEvent || (PBVideoEvent = {}));

// node_modules/@dcl/ecs/dist/components/generated/VideoEvent.gen.js
var VideoEventSchema = {
  COMPONENT_ID: 1044,
  serialize(value, builder) {
    const writer = PBVideoEvent.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVideoEvent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoEvent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVideoEvent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/video_player.gen.js
var import_minimal48 = __toESM(require_minimal2());
function createBasePBVideoPlayer() {
  return {
    src: "",
    playing: void 0,
    position: void 0,
    volume: void 0,
    playbackRate: void 0,
    loop: void 0
  };
}
var PBVideoPlayer;
(function(PBVideoPlayer2) {
  function encode(message, writer = import_minimal48.default.Writer.create()) {
    if (message.src !== "") {
      writer.uint32(10).string(message.src);
    }
    if (message.playing !== void 0) {
      writer.uint32(16).bool(message.playing);
    }
    if (message.position !== void 0) {
      writer.uint32(29).float(message.position);
    }
    if (message.volume !== void 0) {
      writer.uint32(37).float(message.volume);
    }
    if (message.playbackRate !== void 0) {
      writer.uint32(45).float(message.playbackRate);
    }
    if (message.loop !== void 0) {
      writer.uint32(48).bool(message.loop);
    }
    return writer;
  }
  PBVideoPlayer2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal48.default.Reader ? input : import_minimal48.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVideoPlayer();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.src = reader.string();
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.playing = reader.bool();
          continue;
        case 3:
          if (tag !== 29) {
            break;
          }
          message.position = reader.float();
          continue;
        case 4:
          if (tag !== 37) {
            break;
          }
          message.volume = reader.float();
          continue;
        case 5:
          if (tag !== 45) {
            break;
          }
          message.playbackRate = reader.float();
          continue;
        case 6:
          if (tag !== 48) {
            break;
          }
          message.loop = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVideoPlayer2.decode = decode;
})(PBVideoPlayer || (PBVideoPlayer = {}));

// node_modules/@dcl/ecs/dist/components/generated/VideoPlayer.gen.js
var VideoPlayerSchema = {
  COMPONENT_ID: 1043,
  serialize(value, builder) {
    const writer = PBVideoPlayer.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVideoPlayer.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVideoPlayer.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVideoPlayer"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/virtual_camera.gen.js
var import_minimal50 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/camera_transition.gen.js
var import_minimal49 = __toESM(require_minimal2());
function createBaseCameraTransition() {
  return { transitionMode: void 0 };
}
var CameraTransition;
(function(CameraTransition2) {
  function encode(message, writer = import_minimal49.default.Writer.create()) {
    switch (message.transitionMode?.$case) {
      case "time":
        writer.uint32(13).float(message.transitionMode.time);
        break;
      case "speed":
        writer.uint32(21).float(message.transitionMode.speed);
        break;
    }
    return writer;
  }
  CameraTransition2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal49.default.Reader ? input : import_minimal49.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCameraTransition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 13) {
            break;
          }
          message.transitionMode = { $case: "time", time: reader.float() };
          continue;
        case 2:
          if (tag !== 21) {
            break;
          }
          message.transitionMode = { $case: "speed", speed: reader.float() };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CameraTransition2.decode = decode;
})(CameraTransition || (CameraTransition = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/virtual_camera.gen.js
function createBasePBVirtualCamera() {
  return { defaultTransition: void 0, lookAtEntity: void 0 };
}
var PBVirtualCamera;
(function(PBVirtualCamera2) {
  function encode(message, writer = import_minimal50.default.Writer.create()) {
    if (message.defaultTransition !== void 0) {
      CameraTransition.encode(message.defaultTransition, writer.uint32(10).fork()).ldelim();
    }
    if (message.lookAtEntity !== void 0) {
      writer.uint32(16).uint32(message.lookAtEntity);
    }
    return writer;
  }
  PBVirtualCamera2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal50.default.Reader ? input : import_minimal50.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVirtualCamera();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.defaultTransition = CameraTransition.decode(reader, reader.uint32());
          continue;
        case 2:
          if (tag !== 16) {
            break;
          }
          message.lookAtEntity = reader.uint32();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVirtualCamera2.decode = decode;
})(PBVirtualCamera || (PBVirtualCamera = {}));

// node_modules/@dcl/ecs/dist/components/generated/VirtualCamera.gen.js
var VirtualCameraSchema = {
  COMPONENT_ID: 1076,
  serialize(value, builder) {
    const writer = PBVirtualCamera.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVirtualCamera.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVirtualCamera.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVirtualCamera"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/visibility_component.gen.js
var import_minimal51 = __toESM(require_minimal2());
function createBasePBVisibilityComponent() {
  return { visible: void 0 };
}
var PBVisibilityComponent;
(function(PBVisibilityComponent2) {
  function encode(message, writer = import_minimal51.default.Writer.create()) {
    if (message.visible !== void 0) {
      writer.uint32(8).bool(message.visible);
    }
    return writer;
  }
  PBVisibilityComponent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal51.default.Reader ? input : import_minimal51.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBasePBVisibilityComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.visible = reader.bool();
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  PBVisibilityComponent2.decode = decode;
})(PBVisibilityComponent || (PBVisibilityComponent = {}));

// node_modules/@dcl/ecs/dist/components/generated/VisibilityComponent.gen.js
var VisibilityComponentSchema = {
  COMPONENT_ID: 1081,
  serialize(value, builder) {
    const writer = PBVisibilityComponent.encode(value);
    const buffer2 = new Uint8Array(writer.finish(), 0, writer.len);
    builder.writeBuffer(buffer2, false);
  },
  deserialize(reader) {
    return PBVisibilityComponent.decode(reader.buffer(), reader.remainingBytes());
  },
  create() {
    return PBVisibilityComponent.decode(new Uint8Array());
  },
  jsonSchema: {
    type: "object",
    properties: {},
    serializationType: "protocol-buffer",
    protocolBuffer: "PBVisibilityComponent"
  }
};

// node_modules/@dcl/ecs/dist/components/generated/index.gen.js
var Animator = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Animator", AnimatorSchema);
var AudioEvent = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::AudioEvent", AudioEventSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var AudioSource = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AudioSource", AudioSourceSchema);
var AudioStream = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AudioStream", AudioStreamSchema);
var AvatarAttach = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarAttach", AvatarAttachSchema);
var AvatarBase = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarBase", AvatarBaseSchema);
var AvatarEmoteCommand = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::AvatarEmoteCommand", AvatarEmoteCommandSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var AvatarEquippedData = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarEquippedData", AvatarEquippedDataSchema);
var AvatarModifierArea = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarModifierArea", AvatarModifierAreaSchema);
var AvatarShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::AvatarShape", AvatarShapeSchema);
var Billboard = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Billboard", BillboardSchema);
var CameraMode = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::CameraMode", CameraModeSchema);
var CameraModeArea = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::CameraModeArea", CameraModeAreaSchema);
var EngineInfo = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::EngineInfo", EngineInfoSchema);
var GltfContainer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::GltfContainer", GltfContainerSchema);
var GltfContainerLoadingState = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::GltfContainerLoadingState", GltfContainerLoadingStateSchema);
var InputModifier = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::InputModifier", InputModifierSchema);
var MainCamera = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MainCamera", MainCameraSchema);
var Material = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Material", MaterialSchema);
var MeshCollider = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MeshCollider", MeshColliderSchema);
var MeshRenderer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::MeshRenderer", MeshRendererSchema);
var NftShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::NftShape", NftShapeSchema);
var PlayerIdentityData = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PlayerIdentityData", PlayerIdentityDataSchema);
var PointerEvents = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PointerEvents", PointerEventsSchema);
var PointerEventsResult = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::PointerEventsResult", PointerEventsResultSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var PointerLock = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::PointerLock", PointerLockSchema);
var Raycast = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Raycast", RaycastSchema);
var RaycastResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::RaycastResult", RaycastResultSchema);
var RealmInfo = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::RealmInfo", RealmInfoSchema);
var TextShape = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TextShape", TextShapeSchema);
var Tween = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::Tween", TweenSchema);
var TweenSequence = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TweenSequence", TweenSequenceSchema);
var TweenState = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::TweenState", TweenStateSchema);
var UiBackground = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiBackground", UiBackgroundSchema);
var UiCanvasInformation = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiCanvasInformation", UiCanvasInformationSchema);
var UiDropdown = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiDropdown", UiDropdownSchema);
var UiDropdownResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiDropdownResult", UiDropdownResultSchema);
var UiInput = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiInput", UiInputSchema);
var UiInputResult = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiInputResult", UiInputResultSchema);
var UiText = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiText", UiTextSchema);
var UiTransform = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::UiTransform", UiTransformSchema);
var VideoEvent = (engine2) => /* @__PURE__ */ engine2.defineValueSetComponentFromSchema("core::VideoEvent", VideoEventSchema, {
  timestampFunction: (t) => t.timestamp,
  maxElements: 100
});
var VideoPlayer = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VideoPlayer", VideoPlayerSchema);
var VirtualCamera = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VirtualCamera", VirtualCameraSchema);
var VisibilityComponent = (engine2) => /* @__PURE__ */ engine2.defineComponentFromSchema("core::VisibilityComponent", VisibilityComponentSchema);
var componentDefinitionByName = {
  "core::Animator": Animator,
  "core::AudioEvent": AudioEvent,
  "core::AudioSource": AudioSource,
  "core::AudioStream": AudioStream,
  "core::AvatarAttach": AvatarAttach,
  "core::AvatarBase": AvatarBase,
  "core::AvatarEmoteCommand": AvatarEmoteCommand,
  "core::AvatarEquippedData": AvatarEquippedData,
  "core::AvatarModifierArea": AvatarModifierArea,
  "core::AvatarShape": AvatarShape,
  "core::Billboard": Billboard,
  "core::CameraMode": CameraMode,
  "core::CameraModeArea": CameraModeArea,
  "core::EngineInfo": EngineInfo,
  "core::GltfContainer": GltfContainer,
  "core::GltfContainerLoadingState": GltfContainerLoadingState,
  "core::InputModifier": InputModifier,
  "core::MainCamera": MainCamera,
  "core::Material": Material,
  "core::MeshCollider": MeshCollider,
  "core::MeshRenderer": MeshRenderer,
  "core::NftShape": NftShape,
  "core::PlayerIdentityData": PlayerIdentityData,
  "core::PointerEvents": PointerEvents,
  "core::PointerEventsResult": PointerEventsResult,
  "core::PointerLock": PointerLock,
  "core::Raycast": Raycast,
  "core::RaycastResult": RaycastResult,
  "core::RealmInfo": RealmInfo,
  "core::TextShape": TextShape,
  "core::Tween": Tween,
  "core::TweenSequence": TweenSequence,
  "core::TweenState": TweenState,
  "core::UiBackground": UiBackground,
  "core::UiCanvasInformation": UiCanvasInformation,
  "core::UiDropdown": UiDropdown,
  "core::UiDropdownResult": UiDropdownResult,
  "core::UiInput": UiInput,
  "core::UiInputResult": UiInputResult,
  "core::UiText": UiText,
  "core::UiTransform": UiTransform,
  "core::VideoEvent": VideoEvent,
  "core::VideoPlayer": VideoPlayer,
  "core::VirtualCamera": VirtualCamera,
  "core::VisibilityComponent": VisibilityComponent
};

// node_modules/@dcl/ecs/dist/components/extended/Animator.js
function defineAnimatorComponent(engine2) {
  const theComponent = Animator(engine2);
  function getClipAndAnimator(entity, clipName) {
    const anim = theComponent.getMutableOrNull(entity);
    if (!anim)
      return [null, null];
    const state = anim.states.find((item) => item.clip === clipName);
    if (!state)
      return [anim, null];
    return [anim, state];
  }
  return {
    ...theComponent,
    getClipOrNull(entity, clipName) {
      const [_, state] = getClipAndAnimator(entity, clipName);
      return state;
    },
    getClip(entity, clipName) {
      const [animator, state] = getClipAndAnimator(entity, clipName);
      if (!animator) {
        throw new Error(`There is no Animator found in the entity ${entity}`);
      }
      if (!state) {
        throw new Error(`The Animator component of ${entity} has no the state ${clipName}`);
      }
      return state;
    },
    playSingleAnimation(entity, clipName, shouldReset = true) {
      const [animator, state] = getClipAndAnimator(entity, clipName);
      if (!animator || !state)
        return false;
      for (const state2 of animator.states) {
        state2.playing = false;
        state2.shouldReset = true;
      }
      state.playing = true;
      state.shouldReset = shouldReset;
      return true;
    },
    stopAllAnimations(entity, resetCursor = true) {
      const animator = theComponent.getMutableOrNull(entity);
      if (!animator)
        return false;
      for (const state of animator.states) {
        state.playing = false;
        state.shouldReset = resetCursor;
      }
      return true;
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/AudioSource.js
function defineAudioSourceComponent(engine2) {
  const theComponent = AudioSource(engine2);
  return {
    ...theComponent,
    playSound(entity, src, resetCursor = true) {
      const audioSource = theComponent.getMutableOrNull(entity);
      if (!audioSource)
        return false;
      audioSource.audioClipUrl = src;
      audioSource.playing = true;
      audioSource.currentTime = resetCursor ? 0 : audioSource.currentTime;
      return true;
    },
    stopSound(entity, resetCursor = true) {
      const audioSource = theComponent.getMutableOrNull(entity);
      if (!audioSource)
        return false;
      audioSource.playing = false;
      audioSource.currentTime = resetCursor ? 0 : audioSource.currentTime;
      return true;
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/Material.js
var TextureHelper = {
  Common(texture) {
    return {
      tex: {
        $case: "texture",
        texture
      }
    };
  },
  Avatar(avatarTexture) {
    return {
      tex: {
        $case: "avatarTexture",
        avatarTexture
      }
    };
  },
  Video(videoTexture) {
    return {
      tex: {
        $case: "videoTexture",
        videoTexture
      }
    };
  }
};
function defineMaterialComponent(engine2) {
  const theComponent = Material(engine2);
  return {
    ...theComponent,
    Texture: TextureHelper,
    setBasicMaterial(entity, material) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: "unlit",
          unlit: material
        }
      });
    },
    setPbrMaterial(entity, material) {
      theComponent.createOrReplace(entity, {
        material: {
          $case: "pbr",
          pbr: material
        }
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/MeshCollider.js
function defineMeshColliderComponent(engine2) {
  const theComponent = MeshCollider(engine2);
  function getCollisionMask(layers) {
    if (Array.isArray(layers)) {
      return layers.map((item) => item).reduce((prev, item) => prev | item, 0);
    } else if (layers) {
      return layers;
    }
  }
  return {
    ...theComponent,
    setBox(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "box", box: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setPlane(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "plane", plane: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setCylinder(entity, radiusBottom, radiusTop, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "cylinder", cylinder: { radiusBottom, radiusTop } },
        collisionMask: getCollisionMask(colliderLayers)
      });
    },
    setSphere(entity, colliderLayers) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "sphere", sphere: {} },
        collisionMask: getCollisionMask(colliderLayers)
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/MeshRenderer.js
function defineMeshRendererComponent(engine2) {
  const theComponent = MeshRenderer(engine2);
  return {
    ...theComponent,
    setBox(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "box", box: { uvs: uvs || [] } }
      });
    },
    setPlane(entity, uvs) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "plane", plane: { uvs: uvs || [] } }
      });
    },
    setCylinder(entity, radiusBottom, radiusTop) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "cylinder", cylinder: { radiusBottom, radiusTop } }
      });
    },
    setSphere(entity) {
      theComponent.createOrReplace(entity, {
        mesh: { $case: "sphere", sphere: {} }
      });
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/Tween.js
var TweenHelper = {
  Move(move) {
    return {
      $case: "move",
      move
    };
  },
  Rotate(rotate) {
    return {
      $case: "rotate",
      rotate
    };
  },
  Scale(scale) {
    return {
      $case: "scale",
      scale
    };
  }
};
function defineTweenComponent(engine2) {
  const theComponent = Tween(engine2);
  return {
    ...theComponent,
    Mode: TweenHelper
  };
}

// node_modules/@dcl/ecs/dist/schemas/Array.js
var IArray = (type) => {
  return {
    serialize(value, builder) {
      builder.writeUint32(value.length);
      for (const item of value) {
        type.serialize(item, builder);
      }
    },
    deserialize(reader) {
      const newArray = [];
      const length2 = reader.readUint32();
      for (let index = 0; index < length2; index++) {
        newArray.push(type.deserialize(reader));
      }
      return newArray;
    },
    create() {
      return [];
    },
    jsonSchema: {
      type: "array",
      items: type.jsonSchema,
      serializationType: "array"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/basic/Boolean.js
var Bool = {
  serialize(value, builder) {
    builder.writeInt8(value ? 1 : 0);
  },
  deserialize(reader) {
    return reader.readInt8() === 1;
  },
  create() {
    return false;
  },
  jsonSchema: {
    type: "boolean",
    serializationType: "boolean"
  }
};

// node_modules/@dcl/ecs/dist/schemas/basic/Integer.js
var Int64 = {
  serialize(value, builder) {
    builder.writeInt64(BigInt(value));
  },
  deserialize(reader) {
    return Number(reader.readInt64());
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int64"
  }
};
var Int32 = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int32"
  }
};
var Int16 = {
  serialize(value, builder) {
    builder.writeInt16(value);
  },
  deserialize(reader) {
    return reader.readInt16();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int16"
  }
};
var Int8 = {
  serialize(value, builder) {
    builder.writeInt8(value);
  },
  deserialize(reader) {
    return reader.readInt8();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "int8"
  }
};

// node_modules/@dcl/ecs/dist/schemas/basic/String.js
var FlatString = {
  serialize(value, builder) {
    builder.writeUtf8String(value);
  },
  deserialize(reader) {
    return reader.readUtf8String();
  },
  create() {
    return "";
  },
  jsonSchema: {
    type: "string",
    serializationType: "utf8-string"
  }
};
var EcsString = FlatString;

// node_modules/@dcl/ecs/dist/schemas/basic/Enum.js
function validateMemberValuesAreNumbersAndInRangeInt32(enumValue) {
  const MIN_VALUE2 = -(2 ** 31), MAX_VALUE2 = 2 ** 31 - 1;
  let valueCount = 0, totalCount = 0;
  for (const key in enumValue) {
    if (typeof enumValue[key] === "number") {
      if (enumValue[key] > MAX_VALUE2 || enumValue[key] < MIN_VALUE2) {
        throw new Error(`Enum member values must be numbers within the range of ${MIN_VALUE2} to ${MAX_VALUE2}.`);
      }
      valueCount++;
    }
    totalCount++;
  }
  if (totalCount !== valueCount * 2) {
    throw new Error("All enum member values must be of numeric type.");
  }
}
function validateMemberValuesAreStrings(enumValue) {
  for (const key in enumValue) {
    if (typeof enumValue[key] !== "string") {
      throw new Error("All enum member values must be of string type.");
    }
  }
}
var IntEnumReflectionType = "enum-int";
var IntEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreNumbersAndInRangeInt32(enumObject);
  return {
    serialize(value, builder) {
      Int32.serialize(value, builder);
    },
    deserialize(reader) {
      return Int32.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: "integer",
      enum: Object.values(enumObject).filter((item) => Number.isInteger(item)),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: IntEnumReflectionType,
      enumObject
    }
  };
};
var StringEnumReflectionType = "enum-string";
var StringEnum = (enumObject, defaultValue) => {
  validateMemberValuesAreStrings(enumObject);
  return {
    serialize(value, builder) {
      FlatString.serialize(value, builder);
    },
    deserialize(reader) {
      return FlatString.deserialize(reader);
    },
    create() {
      return defaultValue;
    },
    jsonSchema: {
      // JSON-schema
      type: "string",
      enum: Object.values(enumObject),
      default: defaultValue,
      // @dcl/ecs Schema Spec
      serializationType: StringEnumReflectionType,
      enumObject
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/basic/Float.js
var Float32 = {
  serialize(value, builder) {
    builder.writeFloat32(value);
  },
  deserialize(reader) {
    return reader.readFloat32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "number",
    serializationType: "float32"
  }
};
var Float64 = {
  serialize(value, builder) {
    builder.writeFloat64(value);
  },
  deserialize(reader) {
    return reader.readFloat64();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "number",
    serializationType: "float64"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Color3.js
var Color3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32()
    };
  },
  create() {
    return { r: 0, g: 0, b: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      r: { type: "number" },
      g: { type: "number" },
      b: { type: "number" }
    },
    serializationType: "color3"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Color4.js
var Color4Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.r);
    builder.writeFloat32(value.g);
    builder.writeFloat32(value.b);
    builder.writeFloat32(value.a);
  },
  deserialize(reader) {
    return {
      r: reader.readFloat32(),
      g: reader.readFloat32(),
      b: reader.readFloat32(),
      a: reader.readFloat32()
    };
  },
  create() {
    return { r: 0, g: 0, b: 0, a: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      r: { type: "number" },
      g: { type: "number" },
      b: { type: "number" },
      a: { type: "number" }
    },
    serializationType: "color4"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Entity.js
var EntitySchema = {
  serialize(value, builder) {
    builder.writeInt32(value);
  },
  deserialize(reader) {
    return reader.readInt32();
  },
  create() {
    return 0;
  },
  jsonSchema: {
    type: "integer",
    serializationType: "entity"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Quaternion.js
var QuaternionSchema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
    builder.writeFloat32(value.w);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32(),
      w: reader.readFloat32()
    };
  },
  create() {
    return { x: 0, y: 0, z: 0, w: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      x: { type: "number" },
      y: { type: "number" },
      z: { type: "number" },
      w: { type: "number" }
    },
    serializationType: "quaternion"
  }
};

// node_modules/@dcl/ecs/dist/schemas/custom/Vector3.js
var Vector3Schema = {
  serialize(value, builder) {
    builder.writeFloat32(value.x);
    builder.writeFloat32(value.y);
    builder.writeFloat32(value.z);
  },
  deserialize(reader) {
    return {
      x: reader.readFloat32(),
      y: reader.readFloat32(),
      z: reader.readFloat32()
    };
  },
  create() {
    return { x: 0, y: 0, z: 0 };
  },
  jsonSchema: {
    type: "object",
    properties: {
      x: { type: "number" },
      y: { type: "number" },
      z: { type: "number" },
      w: { type: "number" }
    },
    serializationType: "vector3"
  }
};

// node_modules/@dcl/ecs/dist/schemas/Map.js
var IMap = (spec, defaultValue) => {
  const specReflection = Object.keys(spec).reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = spec[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize(value, builder) {
      for (const key in spec) {
        spec[key].serialize(value[key], builder);
      }
    },
    deserialize(reader) {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].deserialize(reader);
      }
      return newValue;
    },
    create() {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue };
    },
    extend: (base) => {
      const newValue = {};
      for (const key in spec) {
        ;
        newValue[key] = spec[key].create();
      }
      return { ...newValue, ...defaultValue, ...base };
    },
    jsonSchema: {
      type: "object",
      properties: specReflection,
      serializationType: "map"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/Optional.js
var IOptional = (spec) => {
  return {
    serialize(value, builder) {
      if (value) {
        builder.writeInt8(1);
        spec.serialize(value, builder);
      } else {
        builder.writeInt8(0);
      }
    },
    deserialize(reader) {
      const exists = reader.readInt8();
      if (exists) {
        return spec.deserialize(reader);
      }
    },
    create() {
      return void 0;
    },
    jsonSchema: {
      type: spec.jsonSchema.type,
      serializationType: "optional",
      optionalJsonSchema: spec.jsonSchema
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/OneOf.js
var IOneOf = (specs) => {
  const specKeys = Object.keys(specs);
  const keyToIndex = specKeys.reduce((dict, key, index) => {
    dict[key] = index;
    return dict;
  }, {});
  const specReflection = specKeys.reduce((specReflection2, currentKey) => {
    specReflection2[currentKey] = specs[currentKey].jsonSchema;
    return specReflection2;
  }, {});
  return {
    serialize({ $case, value }, builder) {
      const _value = keyToIndex[$case.toString()] + 1;
      builder.writeUint8(_value);
      specs[$case].serialize(value, builder);
    },
    deserialize(reader) {
      const $case = specKeys[reader.readInt8() - 1];
      const value = specs[$case].deserialize(reader);
      return { $case, value };
    },
    create() {
      return {};
    },
    jsonSchema: {
      type: "object",
      properties: specReflection,
      serializationType: "one-of"
    }
  };
};

// node_modules/@dcl/ecs/dist/schemas/buildSchema/utils.js
var isSchemaType = (value, types) => types.includes(value.serializationType);
var isOneOfJsonSchema = (type) => isSchemaType(type, ["one-of"]);
var getUnknownSchema = () => ({
  type: { type: "object", serializationType: "unknown" },
  value: void 0
});
var isCompoundType = (type) => isSchemaType(type, ["array", "map"]);
var getTypeAndValue = (properties, value, key) => {
  const type = properties[key];
  const valueKey = value[key];
  if (isOneOfJsonSchema(type)) {
    const typedMapValue = valueKey;
    if (!typedMapValue.$case)
      return getUnknownSchema();
    const propType = type.properties[typedMapValue.$case];
    if (isCompoundType(propType))
      value[key] = { [typedMapValue.$case]: typedMapValue.value };
    return { type: propType, value: typedMapValue.value };
  }
  return { type, value: valueKey };
};

// node_modules/@dcl/ecs/dist/schemas/buildSchema/index.js
var primitiveSchemas = {
  [Bool.jsonSchema.serializationType]: Bool,
  [EcsString.jsonSchema.serializationType]: EcsString,
  [Float32.jsonSchema.serializationType]: Float32,
  [Float64.jsonSchema.serializationType]: Float64,
  [Int8.jsonSchema.serializationType]: Int8,
  [Int16.jsonSchema.serializationType]: Int16,
  [Int32.jsonSchema.serializationType]: Int32,
  [Int64.jsonSchema.serializationType]: Int64,
  [Vector3Schema.jsonSchema.serializationType]: Vector3Schema,
  [QuaternionSchema.jsonSchema.serializationType]: QuaternionSchema,
  [Color3Schema.jsonSchema.serializationType]: Color3Schema,
  [Color4Schema.jsonSchema.serializationType]: Color4Schema,
  [EntitySchema.jsonSchema.serializationType]: EntitySchema
};
function jsonSchemaToSchema(jsonSchema) {
  if (primitiveSchemas[jsonSchema.serializationType]) {
    return primitiveSchemas[jsonSchema.serializationType];
  }
  if (jsonSchema.serializationType === "map") {
    const mapJsonSchema = jsonSchema;
    const spec = {};
    for (const key in mapJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(mapJsonSchema.properties[key]);
    }
    return IMap(spec);
  }
  if (jsonSchema.serializationType === "optional") {
    const withItemsJsonSchema = jsonSchema;
    return IOptional(jsonSchemaToSchema(withItemsJsonSchema.optionalJsonSchema));
  }
  if (jsonSchema.serializationType === "array") {
    const withItemsJsonSchema = jsonSchema;
    return IArray(jsonSchemaToSchema(withItemsJsonSchema.items));
  }
  if (jsonSchema.serializationType === "enum-int") {
    const enumJsonSchema = jsonSchema;
    return IntEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === "enum-string") {
    const enumJsonSchema = jsonSchema;
    return StringEnum(enumJsonSchema.enumObject, enumJsonSchema.default);
  }
  if (jsonSchema.serializationType === "one-of") {
    const oneOfJsonSchema = jsonSchema;
    const spec = {};
    for (const key in oneOfJsonSchema.properties) {
      spec[key] = jsonSchemaToSchema(oneOfJsonSchema.properties[key]);
    }
    return IOneOf(spec);
  }
  throw new Error(`${jsonSchema.serializationType} is not supported as reverse schema generation.`);
}
function mutateValues(jsonSchema, value, mutateFn) {
  if (jsonSchema.serializationType === "map") {
    const { properties } = jsonSchema;
    const typedValue = value;
    for (const key in properties) {
      const { type, value: mapValue } = getTypeAndValue(properties, typedValue, key);
      if (type.serializationType === "unknown")
        continue;
      if (isCompoundType(type)) {
        mutateValues(type, mapValue, mutateFn);
      } else {
        const newValue = mutateFn(mapValue, type);
        if (newValue.changed) {
          typedValue[key] = newValue.value;
        }
      }
    }
  } else if (jsonSchema.serializationType === "array") {
    const { items } = jsonSchema;
    const arrayValue = value;
    for (let i = 0, n = arrayValue.length; i < n; i++) {
      const { type, value: value2 } = getTypeAndValue({ items }, { items: arrayValue[i] }, "items");
      if (isCompoundType(type)) {
        mutateValues(type, value2, mutateFn);
      } else {
        const newValue = mutateFn(value2, type);
        if (newValue.changed) {
          arrayValue[i] = newValue.value;
        }
      }
    }
  }
}

// node_modules/@dcl/ecs/dist/schemas/index.js
var Schemas;
(function(Schemas2) {
  Schemas2.Boolean = Bool;
  Schemas2.String = EcsString;
  Schemas2.Float = Float32;
  Schemas2.Double = Float64;
  Schemas2.Byte = Int8;
  Schemas2.Short = Int16;
  Schemas2.Int = Int32;
  Schemas2.Int64 = Int64;
  Schemas2.Number = Float32;
  Schemas2.Vector3 = Vector3Schema;
  Schemas2.Quaternion = QuaternionSchema;
  Schemas2.Color3 = Color3Schema;
  Schemas2.Color4 = Color4Schema;
  Schemas2.Entity = EntitySchema;
  Schemas2.EnumNumber = IntEnum;
  Schemas2.EnumString = StringEnum;
  Schemas2.Array = IArray;
  Schemas2.Map = IMap;
  Schemas2.Optional = IOptional;
  Schemas2.OneOf = IOneOf;
  Schemas2.fromJson = jsonSchemaToSchema;
  Schemas2.mutateNestedValues = mutateValues;
})(Schemas || (Schemas = {}));

// node_modules/@dcl/ecs/dist/components/manual/Name.js
function defineNameComponent(engine2) {
  const Name3 = engine2.defineComponent("core-schema::Name", {
    value: Schemas.String
  });
  return Name3;
}
var Name_default = defineNameComponent;

// node_modules/@dcl/ecs/dist/components/manual/SyncComponents.js
function defineSyncComponents(engine2) {
  const SyncComponents3 = engine2.defineComponent("core-schema::Sync-Components", {
    componentIds: Schemas.Array(Schemas.Int64)
  });
  return SyncComponents3;
}
var SyncComponents_default = defineSyncComponents;

// node_modules/@dcl/ecs/dist/components/manual/NetworkEntity.js
function defineNetworkEntityComponent(engine2) {
  const EntityNetwork = engine2.defineComponent("core-schema::Network-Entity", {
    networkId: Schemas.Int64,
    entityId: Schemas.Entity
  });
  return EntityNetwork;
}
var NetworkEntity_default = defineNetworkEntityComponent;

// node_modules/@dcl/ecs/dist/components/manual/NetworkParent.js
function defineNetworkParentComponent(engine2) {
  const EntityNetwork = engine2.defineComponent("core-schema::Network-Parent", {
    networkId: Schemas.Int64,
    entityId: Schemas.Entity
  });
  return EntityNetwork;
}
var NetworkParent_default = defineNetworkParentComponent;

// node_modules/@dcl/ecs/dist/components/manual/Transform.js
var TRANSFORM_LENGTH = 44;
var TransformSchema = {
  serialize(value, builder) {
    const ptr = builder.incrementWriteOffset(TRANSFORM_LENGTH);
    builder.setFloat32(ptr, value.position.x);
    builder.setFloat32(ptr + 4, value.position.y);
    builder.setFloat32(ptr + 8, value.position.z);
    builder.setFloat32(ptr + 12, value.rotation.x);
    builder.setFloat32(ptr + 16, value.rotation.y);
    builder.setFloat32(ptr + 20, value.rotation.z);
    builder.setFloat32(ptr + 24, value.rotation.w);
    builder.setFloat32(ptr + 28, value.scale.x);
    builder.setFloat32(ptr + 32, value.scale.y);
    builder.setFloat32(ptr + 36, value.scale.z);
    builder.setUint32(ptr + 40, value.parent || 0);
  },
  deserialize(reader) {
    const ptr = reader.incrementReadOffset(TRANSFORM_LENGTH);
    return {
      position: {
        x: reader.getFloat32(ptr),
        y: reader.getFloat32(ptr + 4),
        z: reader.getFloat32(ptr + 8)
      },
      rotation: {
        x: reader.getFloat32(ptr + 12),
        y: reader.getFloat32(ptr + 16),
        z: reader.getFloat32(ptr + 20),
        w: reader.getFloat32(ptr + 24)
      },
      scale: {
        x: reader.getFloat32(ptr + 28),
        y: reader.getFloat32(ptr + 32),
        z: reader.getFloat32(ptr + 36)
      },
      parent: reader.getUint32(ptr + 40)
    };
  },
  create() {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0
    };
  },
  extend(value) {
    return {
      position: { x: 0, y: 0, z: 0 },
      scale: { x: 1, y: 1, z: 1 },
      rotation: { x: 0, y: 0, z: 0, w: 1 },
      parent: 0,
      ...value
    };
  },
  jsonSchema: {
    type: "object",
    properties: {
      position: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" }
        }
      },
      scale: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" }
        }
      },
      rotation: {
        type: "object",
        properties: {
          x: { type: "number" },
          y: { type: "number" },
          z: { type: "number" },
          w: { type: "number" }
        }
      },
      parent: { type: "integer" }
    },
    serializationType: "transform"
  }
};
function defineTransformComponent(engine2) {
  const transformDef = engine2.defineComponentFromSchema("core::Transform", TransformSchema);
  return {
    ...transformDef,
    create(entity, val) {
      return transformDef.create(entity, TransformSchema.extend(val));
    },
    createOrReplace(entity, val) {
      return transformDef.createOrReplace(entity, TransformSchema.extend(val));
    }
  };
}

// node_modules/@dcl/ecs/dist/components/extended/AudioStream.js
function defineAudioStreamComponent(engine2) {
  const theComponent = AudioStream(engine2);
  const AudioEvent3 = AudioEvent(engine2);
  return {
    ...theComponent,
    getAudioState(entity) {
      const AudioStream4 = theComponent.getMutableOrNull(entity);
      if (!AudioStream4 || !AudioEvent3.has(entity))
        return void 0;
      const lastEvent = Array.from(AudioEvent3.get(entity)).pop();
      return lastEvent;
    }
  };
}

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/media_state.gen.js
var MediaState;
(function(MediaState2) {
  MediaState2[MediaState2["MS_NONE"] = 0] = "MS_NONE";
  MediaState2[MediaState2["MS_ERROR"] = 1] = "MS_ERROR";
  MediaState2[MediaState2["MS_LOADING"] = 2] = "MS_LOADING";
  MediaState2[MediaState2["MS_READY"] = 3] = "MS_READY";
  MediaState2[MediaState2["MS_PLAYING"] = 4] = "MS_PLAYING";
  MediaState2[MediaState2["MS_BUFFERING"] = 5] = "MS_BUFFERING";
  MediaState2[MediaState2["MS_SEEKING"] = 6] = "MS_SEEKING";
  MediaState2[MediaState2["MS_PAUSED"] = 7] = "MS_PAUSED";
})(MediaState || (MediaState = {}));

// node_modules/@dcl/ecs/dist/components/index.js
var Transform = (engine2) => defineTransformComponent(engine2);
var Material2 = (engine2) => defineMaterialComponent(engine2);
var Animator2 = (engine2) => defineAnimatorComponent(engine2);
var AudioSource2 = (engine2) => defineAudioSourceComponent(engine2);
var AudioStream2 = (engine2) => defineAudioStreamComponent(engine2);
var MeshRenderer2 = (engine2) => defineMeshRendererComponent(engine2);
var MeshCollider2 = (engine2) => defineMeshColliderComponent(engine2);
var Tween2 = (engine2) => defineTweenComponent(engine2);
var Name = (engine2) => Name_default(engine2);
var SyncComponents = (engine2) => SyncComponents_default(engine2);
var NetworkEntity = (engine2) => NetworkEntity_default(engine2);
var NetworkParent = (engine2) => NetworkParent_default(engine2);

// node_modules/@dcl/ecs/dist/components/generated/component-names.gen.js
var coreComponentMappings = {
  "core::Transform": 1,
  "core::Animator": 1042,
  "core::AudioEvent": 1105,
  "core::AudioSource": 1020,
  "core::AudioStream": 1021,
  "core::AvatarAttach": 1073,
  "core::AvatarBase": 1087,
  "core::AvatarEmoteCommand": 1088,
  "core::AvatarEquippedData": 1091,
  "core::AvatarModifierArea": 1070,
  "core::AvatarShape": 1080,
  "core::Billboard": 1090,
  "core::CameraMode": 1072,
  "core::CameraModeArea": 1071,
  "core::EngineInfo": 1048,
  "core::GltfContainer": 1041,
  "core::GltfContainerLoadingState": 1049,
  "core::InputModifier": 1078,
  "core::MainCamera": 1075,
  "core::MapPin": 1097,
  "core::Material": 1017,
  "core::MeshCollider": 1019,
  "core::MeshRenderer": 1018,
  "core::NftShape": 1040,
  "core::PlayerIdentityData": 1089,
  "core::PointerEvents": 1062,
  "core::PointerEventsResult": 1063,
  "core::PointerLock": 1074,
  "core::Raycast": 1067,
  "core::RaycastResult": 1068,
  "core::RealmInfo": 1106,
  "core::TextShape": 1030,
  "core::Tween": 1102,
  "core::TweenSequence": 1104,
  "core::TweenState": 1103,
  "core::UiBackground": 1053,
  "core::UiCanvasInformation": 1054,
  "core::UiDropdown": 1094,
  "core::UiDropdownResult": 1096,
  "core::UiInput": 1093,
  "core::UiInputResult": 1095,
  "core::UiText": 1052,
  "core::UiTransform": 1050,
  "core::VideoEvent": 1044,
  "core::VideoPlayer": 1043,
  "core::VirtualCamera": 1076,
  "core::VisibilityComponent": 1081
};

// node_modules/@dcl/ecs/dist/components/component-number.js
var utf8 = __toESM(require_utf8());

// node_modules/@dcl/ecs/dist/runtime/crc.js
var CRC_TABLE = new Int32Array([
  0,
  1996959894,
  3993919788,
  2567524794,
  124634137,
  1886057615,
  3915621685,
  2657392035,
  249268274,
  2044508324,
  3772115230,
  2547177864,
  162941995,
  2125561021,
  3887607047,
  2428444049,
  498536548,
  1789927666,
  4089016648,
  2227061214,
  450548861,
  1843258603,
  4107580753,
  2211677639,
  325883990,
  1684777152,
  4251122042,
  2321926636,
  335633487,
  1661365465,
  4195302755,
  2366115317,
  997073096,
  1281953886,
  3579855332,
  2724688242,
  1006888145,
  1258607687,
  3524101629,
  2768942443,
  901097722,
  1119000684,
  3686517206,
  2898065728,
  853044451,
  1172266101,
  3705015759,
  2882616665,
  651767980,
  1373503546,
  3369554304,
  3218104598,
  565507253,
  1454621731,
  3485111705,
  3099436303,
  671266974,
  1594198024,
  3322730930,
  2970347812,
  795835527,
  1483230225,
  3244367275,
  3060149565,
  1994146192,
  31158534,
  2563907772,
  4023717930,
  1907459465,
  112637215,
  2680153253,
  3904427059,
  2013776290,
  251722036,
  2517215374,
  3775830040,
  2137656763,
  141376813,
  2439277719,
  3865271297,
  1802195444,
  476864866,
  2238001368,
  4066508878,
  1812370925,
  453092731,
  2181625025,
  4111451223,
  1706088902,
  314042704,
  2344532202,
  4240017532,
  1658658271,
  366619977,
  2362670323,
  4224994405,
  1303535960,
  984961486,
  2747007092,
  3569037538,
  1256170817,
  1037604311,
  2765210733,
  3554079995,
  1131014506,
  879679996,
  2909243462,
  3663771856,
  1141124467,
  855842277,
  2852801631,
  3708648649,
  1342533948,
  654459306,
  3188396048,
  3373015174,
  1466479909,
  544179635,
  3110523913,
  3462522015,
  1591671054,
  702138776,
  2966460450,
  3352799412,
  1504918807,
  783551873,
  3082640443,
  3233442989,
  3988292384,
  2596254646,
  62317068,
  1957810842,
  3939845945,
  2647816111,
  81470997,
  1943803523,
  3814918930,
  2489596804,
  225274430,
  2053790376,
  3826175755,
  2466906013,
  167816743,
  2097651377,
  4027552580,
  2265490386,
  503444072,
  1762050814,
  4150417245,
  2154129355,
  426522225,
  1852507879,
  4275313526,
  2312317920,
  282753626,
  1742555852,
  4189708143,
  2394877945,
  397917763,
  1622183637,
  3604390888,
  2714866558,
  953729732,
  1340076626,
  3518719985,
  2797360999,
  1068828381,
  1219638859,
  3624741850,
  2936675148,
  906185462,
  1090812512,
  3747672003,
  2825379669,
  829329135,
  1181335161,
  3412177804,
  3160834842,
  628085408,
  1382605366,
  3423369109,
  3138078467,
  570562233,
  1426400815,
  3317316542,
  2998733608,
  733239954,
  1555261956,
  3268935591,
  3050360625,
  752459403,
  1541320221,
  2607071920,
  3965973030,
  1969922972,
  40735498,
  2617837225,
  3943577151,
  1913087877,
  83908371,
  2512341634,
  3803740692,
  2075208622,
  213261112,
  2463272603,
  3855990285,
  2094854071,
  198958881,
  2262029012,
  4057260610,
  1759359992,
  534414190,
  2176718541,
  4139329115,
  1873836001,
  414664567,
  2282248934,
  4279200368,
  1711684554,
  285281116,
  2405801727,
  4167216745,
  1634467795,
  376229701,
  2685067896,
  3608007406,
  1308918612,
  956543938,
  2808555105,
  3495958263,
  1231636301,
  1047427035,
  2932959818,
  3654703836,
  1088359270,
  936918e3,
  2847714899,
  3736837829,
  1202900863,
  817233897,
  3183342108,
  3401237130,
  1404277552,
  615818150,
  3134207493,
  3453421203,
  1423857449,
  601450431,
  3009837614,
  3294710456,
  1567103746,
  711928724,
  3020668471,
  3272380065,
  1510334235,
  755167117
]);
function _crc32(buf, previous) {
  let crc = ~~previous ^ -1;
  for (let n = 0; n < buf.length; n++) {
    crc = CRC_TABLE[(crc ^ buf[n]) & 255] ^ crc >>> 8;
  }
  return crc ^ -1;
}
function unsignedCRC32(data, prev = 0) {
  return _crc32(data, prev) >>> 0;
}

// node_modules/@dcl/ecs/dist/components/component-number.js
var MAX_STATIC_COMPONENT = 1 << 11;
function componentNumberFromName(componentName) {
  if (coreComponentMappings[componentName])
    return coreComponentMappings[componentName];
  const bytes = new Uint8Array(128);
  utf8.write(componentName, bytes, 0);
  return (unsignedCRC32(bytes) + MAX_STATIC_COMPONENT & 4294967295) >>> 0;
}

// node_modules/@dcl/ecs/dist/runtime/invariant.js
var __DEV__ = true;
function checkNotThenable(t, error) {
  if (__DEV__) {
    if (t && typeof t === "object" && typeof t.then === "function") {
      throw new Error(error);
    }
  }
  return t;
}

// node_modules/@dcl/ecs/dist/systems/crdt/gset.js
function createVersionGSet() {
  const lastVersion = /* @__PURE__ */ new Map();
  return {
    /**
     *
     * @param number
     * @param version
     * @returns
     */
    addTo(number, version) {
      if (version < 0) {
        return false;
      }
      const currentValue = lastVersion.get(number);
      if (currentValue !== void 0 && currentValue >= version) {
        return true;
      }
      lastVersion.set(number, version);
      return true;
    },
    /**
     * @returns the set with [number, version] of each value
     */
    has(n, v) {
      const currentValue = lastVersion.get(n);
      if (currentValue !== void 0 && currentValue >= v) {
        return true;
      }
      return false;
    },
    /**
     * Warning: this function returns the reference to the internal map,
     *  if you need to mutate some value, make a copy.
     * For optimization purpose the copy isn't made here.
     *
     * @returns the map of number to version
     */
    getMap() {
      return lastVersion;
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/entity.js
var MAX_U16 = 65535;
var MASK_UPPER_16_ON_32 = 4294901760;
var AMOUNT_VERSION_AVAILABLE = MAX_U16 + 1;
var MAX_ENTITY_NUMBER = MAX_U16;
var RESERVED_STATIC_ENTITIES = 512;
var EntityUtils;
(function(EntityUtils2) {
  function fromEntityId(entityId) {
    return [(entityId & MAX_U16) >>> 0, ((entityId & MASK_UPPER_16_ON_32) >> 16 & MAX_U16) >>> 0];
  }
  EntityUtils2.fromEntityId = fromEntityId;
  function toEntityId(entityNumber, entityVersion) {
    return (entityNumber & MAX_U16 | (entityVersion & MAX_U16) << 16) >>> 0;
  }
  EntityUtils2.toEntityId = toEntityId;
})(EntityUtils || (EntityUtils = {}));
var EntityState;
(function(EntityState2) {
  EntityState2[EntityState2["Unknown"] = 0] = "Unknown";
  EntityState2[EntityState2["UsedEntity"] = 1] = "UsedEntity";
  EntityState2[EntityState2["Removed"] = 2] = "Removed";
  EntityState2[EntityState2["Reserved"] = 3] = "Reserved";
})(EntityState || (EntityState = {}));
function createEntityContainer(opts) {
  const reservedStaticEntities = opts?.reservedStaticEntities ?? RESERVED_STATIC_ENTITIES;
  let entityCounter = reservedStaticEntities;
  const usedEntities = /* @__PURE__ */ new Set();
  let toRemoveEntities = [];
  const removedEntities = createVersionGSet();
  function generateNewEntity() {
    if (entityCounter > MAX_ENTITY_NUMBER - 1) {
      throw new Error(`It fails trying to generate an entity out of range ${MAX_ENTITY_NUMBER}.`);
    }
    const entityNumber = entityCounter++;
    const entityVersion = removedEntities.getMap().has(entityNumber) ? removedEntities.getMap().get(entityNumber) + 1 : 0;
    const entity = EntityUtils.toEntityId(entityNumber, entityVersion);
    if (usedEntities.has(entity)) {
      return generateNewEntity();
    }
    usedEntities.add(entity);
    return entity;
  }
  function generateEntity() {
    const usedSize = usedEntities.size;
    if (usedSize + reservedStaticEntities >= entityCounter) {
      return generateNewEntity();
    }
    for (const [number, version] of removedEntities.getMap()) {
      if (version < MAX_U16) {
        const entity = EntityUtils.toEntityId(number, version + 1);
        if (!usedEntities.has(entity) && !toRemoveEntities.includes(entity)) {
          usedEntities.add(entity);
          return entity;
        }
      }
    }
    return generateNewEntity();
  }
  function removeEntity(entity) {
    if (entity < reservedStaticEntities)
      return false;
    if (usedEntities.has(entity)) {
      usedEntities.delete(entity);
      toRemoveEntities.push(entity);
    } else {
      updateRemovedEntity(entity);
    }
    return true;
  }
  function releaseRemovedEntities() {
    const arr = toRemoveEntities;
    if (arr.length) {
      toRemoveEntities = [];
      for (const entity of arr) {
        const [n, v] = EntityUtils.fromEntityId(entity);
        removedEntities.addTo(n, v);
      }
    }
    return arr;
  }
  function updateRemovedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    removedEntities.addTo(n, v);
    for (let i = 0; i <= v; i++) {
      usedEntities.delete(EntityUtils.toEntityId(n, i));
    }
    return true;
  }
  function updateUsedEntity(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (removedEntities.has(n, v))
      return false;
    if (v > 0) {
      for (let i = 0; i <= v - 1; i++) {
        usedEntities.delete(EntityUtils.toEntityId(n, i));
      }
      removedEntities.addTo(n, v - 1);
    }
    usedEntities.add(entity);
    return true;
  }
  function getEntityState(entity) {
    const [n, v] = EntityUtils.fromEntityId(entity);
    if (n < reservedStaticEntities) {
      return EntityState.Reserved;
    }
    if (usedEntities.has(entity)) {
      return EntityState.UsedEntity;
    }
    const removedVersion = removedEntities.getMap().get(n);
    if (removedVersion !== void 0 && removedVersion >= v) {
      return EntityState.Removed;
    }
    return EntityState.Unknown;
  }
  return {
    generateEntity,
    removeEntity,
    getExistingEntities() {
      return new Set(usedEntities);
    },
    getEntityState,
    releaseRemovedEntities,
    updateRemovedEntity,
    updateUsedEntity
  };
}

// node_modules/@dcl/ecs/dist/serialization/ByteBuffer/index.js
var utf82 = __toESM(require_utf8());
var __classPrivateFieldGet = function(receiver, state, kind, f) {
  if (kind === "a" && !f)
    throw new TypeError("Private accessor was defined without a getter");
  if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver))
    throw new TypeError("Cannot read private member from an object whose class did not declare it");
  return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
};
var _ReadWriteByteBuffer_instances;
var _ReadWriteByteBuffer_woAdd;
var _ReadWriteByteBuffer_roAdd;
function getNextSize(currentSize, intendedSize) {
  const minNewSize = Math.max(currentSize, intendedSize) + 1024;
  return Math.ceil(minNewSize / 1024) * 1024;
}
var defaultInitialCapacity = 10240;
var ReadWriteByteBuffer = class {
  /**
   * @param buffer - The initial buffer, provide a buffer if you need to set "initial capacity"
   * @param readingOffset - Set the cursor where begins to read. Default 0
   * @param writingOffset - Set the cursor to not start writing from the begin of it. Defaults to the buffer size
   */
  constructor(buffer2, readingOffset, writingOffset) {
    _ReadWriteByteBuffer_instances.add(this);
    this._buffer = buffer2 || new Uint8Array(defaultInitialCapacity);
    this.view = new DataView(this._buffer.buffer, this._buffer.byteOffset);
    this.woffset = writingOffset ?? (buffer2 ? this._buffer.length : null) ?? 0;
    this.roffset = readingOffset ?? 0;
  }
  buffer() {
    return this._buffer;
  }
  bufferLength() {
    return this._buffer.length;
  }
  resetBuffer() {
    this.roffset = 0;
    this.woffset = 0;
  }
  currentReadOffset() {
    return this.roffset;
  }
  currentWriteOffset() {
    return this.woffset;
  }
  incrementReadOffset(amount) {
    return __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, amount);
  }
  remainingBytes() {
    return this.woffset - this.roffset;
  }
  readFloat32() {
    return this.view.getFloat32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readFloat64() {
    return this.view.getFloat64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readInt8() {
    return this.view.getInt8(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 1));
  }
  readInt16() {
    return this.view.getInt16(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 2), true);
  }
  readInt32() {
    return this.view.getInt32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readInt64() {
    return this.view.getBigInt64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readUint8() {
    return this.view.getUint8(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 1));
  }
  readUint16() {
    return this.view.getUint16(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 2), true);
  }
  readUint32() {
    return this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
  }
  readUint64() {
    return this.view.getBigUint64(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 8), true);
  }
  readBuffer() {
    const length2 = this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
    return this._buffer.subarray(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, length2), __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 0));
  }
  readUtf8String() {
    const length2 = this.view.getUint32(__classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 4), true);
    return utf82.read(this._buffer, __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, length2), __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_roAdd).call(this, 0));
  }
  incrementWriteOffset(amount) {
    return __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, amount);
  }
  toBinary() {
    return this._buffer.subarray(0, this.woffset);
  }
  toCopiedBinary() {
    return new Uint8Array(this.toBinary());
  }
  writeBuffer(value, writeLength = true) {
    if (writeLength) {
      this.writeUint32(value.byteLength);
    }
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, value.byteLength);
    this._buffer.set(value, o);
  }
  writeUtf8String(value, writeLength = true) {
    const byteLength = utf82.length(value);
    if (writeLength) {
      this.writeUint32(byteLength);
    }
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, byteLength);
    utf82.write(value, this._buffer, o);
  }
  writeFloat32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setFloat32(o, value, true);
  }
  writeFloat64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setFloat64(o, value, true);
  }
  writeInt8(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 1);
    this.view.setInt8(o, value);
  }
  writeInt16(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 2);
    this.view.setInt16(o, value, true);
  }
  writeInt32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setInt32(o, value, true);
  }
  writeInt64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setBigInt64(o, value, true);
  }
  writeUint8(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 1);
    this.view.setUint8(o, value);
  }
  writeUint16(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 2);
    this.view.setUint16(o, value, true);
  }
  writeUint32(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 4);
    this.view.setUint32(o, value, true);
  }
  writeUint64(value) {
    const o = __classPrivateFieldGet(this, _ReadWriteByteBuffer_instances, "m", _ReadWriteByteBuffer_woAdd).call(this, 8);
    this.view.setBigUint64(o, value, true);
  }
  // DataView Proxy
  getFloat32(offset) {
    return this.view.getFloat32(offset, true);
  }
  getFloat64(offset) {
    return this.view.getFloat64(offset, true);
  }
  getInt8(offset) {
    return this.view.getInt8(offset);
  }
  getInt16(offset) {
    return this.view.getInt16(offset, true);
  }
  getInt32(offset) {
    return this.view.getInt32(offset, true);
  }
  getInt64(offset) {
    return this.view.getBigInt64(offset, true);
  }
  getUint8(offset) {
    return this.view.getUint8(offset);
  }
  getUint16(offset) {
    return this.view.getUint16(offset, true);
  }
  getUint32(offset) {
    return this.view.getUint32(offset, true);
  }
  getUint64(offset) {
    return this.view.getBigUint64(offset, true);
  }
  setFloat32(offset, value) {
    this.view.setFloat32(offset, value, true);
  }
  setFloat64(offset, value) {
    this.view.setFloat64(offset, value, true);
  }
  setInt8(offset, value) {
    this.view.setInt8(offset, value);
  }
  setInt16(offset, value) {
    this.view.setInt16(offset, value, true);
  }
  setInt32(offset, value) {
    this.view.setInt32(offset, value, true);
  }
  setInt64(offset, value) {
    this.view.setBigInt64(offset, value, true);
  }
  setUint8(offset, value) {
    this.view.setUint8(offset, value);
  }
  setUint16(offset, value) {
    this.view.setUint16(offset, value, true);
  }
  setUint32(offset, value) {
    this.view.setUint32(offset, value, true);
  }
  setUint64(offset, value) {
    this.view.setBigUint64(offset, value, true);
  }
};
_ReadWriteByteBuffer_instances = /* @__PURE__ */ new WeakSet(), _ReadWriteByteBuffer_woAdd = function _ReadWriteByteBuffer_woAdd2(amount) {
  if (this.woffset + amount > this._buffer.byteLength) {
    const newsize = getNextSize(this._buffer.byteLength, this.woffset + amount);
    const newBuffer = new Uint8Array(newsize);
    newBuffer.set(this._buffer);
    const oldOffset = this._buffer.byteOffset;
    this._buffer = newBuffer;
    this.view = new DataView(this._buffer.buffer, oldOffset);
  }
  this.woffset += amount;
  return this.woffset - amount;
}, _ReadWriteByteBuffer_roAdd = function _ReadWriteByteBuffer_roAdd2(amount) {
  if (this.roffset + amount > this.woffset) {
    throw new Error("Outside of the bounds of writen data.");
  }
  this.roffset += amount;
  return this.roffset - amount;
};

// node_modules/@dcl/ecs/dist/serialization/crdt/types.js
var CrdtMessageType;
(function(CrdtMessageType2) {
  CrdtMessageType2[CrdtMessageType2["RESERVED"] = 0] = "RESERVED";
  CrdtMessageType2[CrdtMessageType2["PUT_COMPONENT"] = 1] = "PUT_COMPONENT";
  CrdtMessageType2[CrdtMessageType2["DELETE_COMPONENT"] = 2] = "DELETE_COMPONENT";
  CrdtMessageType2[CrdtMessageType2["DELETE_ENTITY"] = 3] = "DELETE_ENTITY";
  CrdtMessageType2[CrdtMessageType2["APPEND_VALUE"] = 4] = "APPEND_VALUE";
  CrdtMessageType2[CrdtMessageType2["PUT_COMPONENT_NETWORK"] = 5] = "PUT_COMPONENT_NETWORK";
  CrdtMessageType2[CrdtMessageType2["DELETE_COMPONENT_NETWORK"] = 6] = "DELETE_COMPONENT_NETWORK";
  CrdtMessageType2[CrdtMessageType2["DELETE_ENTITY_NETWORK"] = 7] = "DELETE_ENTITY_NETWORK";
  CrdtMessageType2[CrdtMessageType2["MAX_MESSAGE_TYPE"] = 8] = "MAX_MESSAGE_TYPE";
})(CrdtMessageType || (CrdtMessageType = {}));
var CRDT_MESSAGE_HEADER_LENGTH = 8;
var ProcessMessageResultType;
(function(ProcessMessageResultType2) {
  ProcessMessageResultType2[ProcessMessageResultType2["StateUpdatedTimestamp"] = 1] = "StateUpdatedTimestamp";
  ProcessMessageResultType2[ProcessMessageResultType2["StateOutdatedTimestamp"] = 2] = "StateOutdatedTimestamp";
  ProcessMessageResultType2[ProcessMessageResultType2["NoChanges"] = 3] = "NoChanges";
  ProcessMessageResultType2[ProcessMessageResultType2["StateOutdatedData"] = 4] = "StateOutdatedData";
  ProcessMessageResultType2[ProcessMessageResultType2["StateUpdatedData"] = 5] = "StateUpdatedData";
  ProcessMessageResultType2[ProcessMessageResultType2["EntityWasDeleted"] = 6] = "EntityWasDeleted";
  ProcessMessageResultType2[ProcessMessageResultType2["EntityDeleted"] = 7] = "EntityDeleted";
})(ProcessMessageResultType || (ProcessMessageResultType = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/crdtMessageProtocol.js
var CrdtMessageProtocol;
(function(CrdtMessageProtocol2) {
  function validate(buf) {
    const rem = buf.remainingBytes();
    if (rem < CRDT_MESSAGE_HEADER_LENGTH) {
      return false;
    }
    const messageLength = buf.getUint32(buf.currentReadOffset());
    if (rem < messageLength) {
      return false;
    }
    return true;
  }
  CrdtMessageProtocol2.validate = validate;
  function readHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    return {
      length: buf.readUint32(),
      type: buf.readUint32()
    };
  }
  CrdtMessageProtocol2.readHeader = readHeader;
  function getHeader(buf) {
    if (!validate(buf)) {
      return null;
    }
    const currentOffset = buf.currentReadOffset();
    return {
      length: buf.getUint32(currentOffset),
      type: buf.getUint32(currentOffset + 4)
    };
  }
  CrdtMessageProtocol2.getHeader = getHeader;
  function consumeMessage(buf) {
    const header = getHeader(buf);
    if (!header) {
      return false;
    }
    buf.incrementReadOffset(header.length);
    return true;
  }
  CrdtMessageProtocol2.consumeMessage = consumeMessage;
})(CrdtMessageProtocol || (CrdtMessageProtocol = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/deleteComponent.js
var DeleteComponent;
(function(DeleteComponent2) {
  DeleteComponent2.MESSAGE_HEADER_LENGTH = 12;
  function write3(entity, componentId, timestamp, buf) {
    const messageLength = CRDT_MESSAGE_HEADER_LENGTH + DeleteComponent2.MESSAGE_HEADER_LENGTH;
    const startMessageOffset = buf.incrementWriteOffset(messageLength);
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.DELETE_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
  }
  DeleteComponent2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_COMPONENT) {
      throw new Error("DeleteComponentOperation tried to read another message type.");
    }
    const msg = {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32()
    };
    return msg;
  }
  DeleteComponent2.read = read2;
})(DeleteComponent || (DeleteComponent = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/appendValue.js
var AppendValueOperation;
(function(AppendValueOperation2) {
  AppendValueOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + AppendValueOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.APPEND_VALUE);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal = messageLength - AppendValueOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  AppendValueOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.APPEND_VALUE) {
      throw new Error("AppendValueOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  AppendValueOperation2.read = read2;
})(AppendValueOperation || (AppendValueOperation = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/deleteEntity.js
var DeleteEntity;
(function(DeleteEntity2) {
  DeleteEntity2.MESSAGE_HEADER_LENGTH = 4;
  function write3(entity, buf) {
    buf.writeUint32(CRDT_MESSAGE_HEADER_LENGTH + 4);
    buf.writeUint32(CrdtMessageType.DELETE_ENTITY);
    buf.writeUint32(entity);
  }
  DeleteEntity2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_ENTITY) {
      throw new Error("DeleteEntity tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32()
    };
  }
  DeleteEntity2.read = read2;
})(DeleteEntity || (DeleteEntity = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/putComponent.js
var PutComponentOperation;
(function(PutComponentOperation2) {
  PutComponentOperation2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, timestamp, componentId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + PutComponentOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.PUT_COMPONENT);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    const newLocal = messageLength - PutComponentOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 20, newLocal);
  }
  PutComponentOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.PUT_COMPONENT) {
      throw new Error("PutComponentOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  PutComponentOperation2.read = read2;
})(PutComponentOperation || (PutComponentOperation = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/network/putComponentNetwork.js
var PutNetworkComponentOperation;
(function(PutNetworkComponentOperation2) {
  PutNetworkComponentOperation2.MESSAGE_HEADER_LENGTH = 20;
  function write3(entity, timestamp, componentId, networkId, data, buf) {
    const startMessageOffset = buf.incrementWriteOffset(CRDT_MESSAGE_HEADER_LENGTH + PutNetworkComponentOperation2.MESSAGE_HEADER_LENGTH);
    buf.writeBuffer(data, false);
    const messageLength = buf.currentWriteOffset() - startMessageOffset;
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.PUT_COMPONENT_NETWORK);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    buf.setUint32(startMessageOffset + 20, networkId);
    const dataLength = messageLength - PutNetworkComponentOperation2.MESSAGE_HEADER_LENGTH - CRDT_MESSAGE_HEADER_LENGTH;
    buf.setUint32(startMessageOffset + 24, dataLength);
  }
  PutNetworkComponentOperation2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.PUT_COMPONENT_NETWORK) {
      throw new Error("PutComponentNetworkOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      networkId: buf.readUint32(),
      data: buf.readBuffer()
    };
  }
  PutNetworkComponentOperation2.read = read2;
})(PutNetworkComponentOperation || (PutNetworkComponentOperation = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/network/deleteComponentNetwork.js
var DeleteComponentNetwork;
(function(DeleteComponentNetwork2) {
  DeleteComponentNetwork2.MESSAGE_HEADER_LENGTH = 16;
  function write3(entity, componentId, timestamp, networkId, buf) {
    const messageLength = CRDT_MESSAGE_HEADER_LENGTH + DeleteComponentNetwork2.MESSAGE_HEADER_LENGTH;
    const startMessageOffset = buf.incrementWriteOffset(messageLength);
    buf.setUint32(startMessageOffset, messageLength);
    buf.setUint32(startMessageOffset + 4, CrdtMessageType.DELETE_COMPONENT_NETWORK);
    buf.setUint32(startMessageOffset + 8, entity);
    buf.setUint32(startMessageOffset + 12, componentId);
    buf.setUint32(startMessageOffset + 16, timestamp);
    buf.setUint32(startMessageOffset + 20, networkId);
  }
  DeleteComponentNetwork2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_COMPONENT_NETWORK) {
      throw new Error("DeleteComponentOperation tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      componentId: buf.readUint32(),
      timestamp: buf.readUint32(),
      networkId: buf.readUint32()
    };
  }
  DeleteComponentNetwork2.read = read2;
})(DeleteComponentNetwork || (DeleteComponentNetwork = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/network/deleteEntityNetwork.js
var DeleteEntityNetwork;
(function(DeleteEntityNetwork2) {
  DeleteEntityNetwork2.MESSAGE_HEADER_LENGTH = 8;
  function write3(entity, networkId, buf) {
    buf.writeUint32(CRDT_MESSAGE_HEADER_LENGTH + 4);
    buf.writeUint32(CrdtMessageType.DELETE_ENTITY_NETWORK);
    buf.writeUint32(entity);
    buf.writeUint32(networkId);
  }
  DeleteEntityNetwork2.write = write3;
  function read2(buf) {
    const header = CrdtMessageProtocol.readHeader(buf);
    if (!header) {
      return null;
    }
    if (header.type !== CrdtMessageType.DELETE_ENTITY_NETWORK) {
      throw new Error("DeleteEntityNetwork tried to read another message type.");
    }
    return {
      ...header,
      entityId: buf.readUint32(),
      networkId: buf.readUint32()
    };
  }
  DeleteEntityNetwork2.read = read2;
})(DeleteEntityNetwork || (DeleteEntityNetwork = {}));

// node_modules/@dcl/ecs/dist/serialization/crdt/network/utils.js
function isNetworkMessage(message) {
  return [
    CrdtMessageType.DELETE_COMPONENT_NETWORK,
    CrdtMessageType.DELETE_ENTITY_NETWORK,
    CrdtMessageType.PUT_COMPONENT_NETWORK
  ].includes(message.type);
}
function networkMessageToLocal(message, localEntityId, buffer2, destinationBuffer) {
  const offset = buffer2.currentWriteOffset();
  if (message.type === CrdtMessageType.PUT_COMPONENT_NETWORK) {
    PutComponentOperation.write(localEntityId, message.timestamp, message.componentId, message.data, buffer2);
  } else if (message.type === CrdtMessageType.DELETE_COMPONENT_NETWORK) {
    DeleteComponent.write(localEntityId, message.componentId, message.timestamp, buffer2);
  } else if (message.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
    DeleteEntity.write(localEntityId, buffer2);
  }
  destinationBuffer.writeBuffer(buffer2.buffer().subarray(offset, buffer2.currentWriteOffset()), false);
}
function localMessageToNetwork(message, network, buffer2, destinationBuffer) {
  const offset = buffer2.currentWriteOffset();
  if (message.type === CrdtMessageType.PUT_COMPONENT) {
    PutNetworkComponentOperation.write(network.entityId, message.timestamp, message.componentId, network.networkId, message.data, buffer2);
  } else if (message.type === CrdtMessageType.DELETE_COMPONENT) {
    DeleteComponentNetwork.write(network.entityId, message.componentId, message.timestamp, network.networkId, buffer2);
  } else if (message.type === CrdtMessageType.DELETE_ENTITY) {
    DeleteEntityNetwork.write(network.entityId, network.networkId, buffer2);
  }
  destinationBuffer.writeBuffer(buffer2.buffer().subarray(offset, buffer2.currentWriteOffset()), false);
}
var buffer = new ReadWriteByteBuffer();
function fixTransformParent(message, transformValue, parent) {
  buffer.resetBuffer();
  let transform = transformValue;
  if (!transform && "data" in message) {
    transform = TransformSchema.deserialize(new ReadWriteByteBuffer(message.data));
  }
  if (!transform)
    throw new Error("Invalid parent transform");
  const newTransform = { ...transform, parent };
  TransformSchema.serialize(newTransform, buffer);
  return buffer.toBinary();
}

// node_modules/@dcl/ecs/dist/systems/crdt/index.js
function crdtSceneSystem(engine2, onProcessEntityComponentChange) {
  const transports = [];
  const NetworkEntity4 = NetworkEntity(engine2);
  const NetworkParent3 = NetworkParent(engine2);
  const Transform3 = Transform(engine2);
  const receivedMessages = [];
  const broadcastMessages = [];
  function parseChunkMessage(transportId) {
    return function parseChunkMessage2(chunkMessage) {
      const buffer2 = new ReadWriteByteBuffer(chunkMessage);
      let header;
      while (header = CrdtMessageProtocol.getHeader(buffer2)) {
        const offset = buffer2.currentReadOffset();
        let message = void 0;
        if (header.type === CrdtMessageType.DELETE_COMPONENT) {
          message = DeleteComponent.read(buffer2);
        } else if (header.type === CrdtMessageType.DELETE_COMPONENT_NETWORK) {
          message = DeleteComponentNetwork.read(buffer2);
        } else if (header.type === CrdtMessageType.PUT_COMPONENT) {
          message = PutComponentOperation.read(buffer2);
        } else if (header.type === CrdtMessageType.PUT_COMPONENT_NETWORK) {
          message = PutNetworkComponentOperation.read(buffer2);
        } else if (header.type === CrdtMessageType.DELETE_ENTITY) {
          message = DeleteEntity.read(buffer2);
        } else if (header.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
          message = DeleteEntityNetwork.read(buffer2);
        } else if (header.type === CrdtMessageType.APPEND_VALUE) {
          message = AppendValueOperation.read(buffer2);
        } else {
          buffer2.incrementReadOffset(header.length);
        }
        if (message) {
          receivedMessages.push({
            ...message,
            transportId,
            messageBuffer: buffer2.buffer().subarray(offset, buffer2.currentReadOffset())
          });
        }
      }
    };
  }
  function getMessages(value) {
    const messagesToProcess = value.splice(0, value.length);
    return messagesToProcess;
  }
  function findNetworkId(msg) {
    const hasNetworkId = "networkId" in msg;
    if (hasNetworkId) {
      for (const [entityId, network] of engine2.getEntitiesWith(NetworkEntity4)) {
        if (network.networkId === msg.networkId && network.entityId === msg.entityId) {
          return { entityId, network };
        }
      }
    }
    return { entityId: msg.entityId };
  }
  async function receiveMessages() {
    const messagesToProcess = getMessages(receivedMessages);
    const entitiesShouldBeCleaned = [];
    for (const msg of messagesToProcess) {
      let { entityId, network } = findNetworkId(msg);
      if (isNetworkMessage(msg) && !network) {
        entityId = engine2.addEntity();
        network = { entityId: msg.entityId, networkId: msg.networkId };
        NetworkEntity4.createOrReplace(entityId, network);
      }
      if (msg.type === CrdtMessageType.DELETE_ENTITY || msg.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
        entitiesShouldBeCleaned.push(entityId);
        broadcastMessages.push(msg);
      } else {
        const entityState = engine2.entityContainer.getEntityState(entityId);
        if (entityState === EntityState.Removed)
          continue;
        if (entityState === EntityState.Unknown) {
          engine2.entityContainer.updateUsedEntity(entityId);
        }
        const component = engine2.getComponentOrNull(msg.componentId);
        if (component) {
          if (msg.type === CrdtMessageType.PUT_COMPONENT && component.componentId === Transform3.componentId && NetworkEntity4.has(entityId) && NetworkParent3.has(entityId)) {
            msg.data = fixTransformParent(msg);
          }
          const [conflictMessage, value] = component.updateFromCrdt({ ...msg, entityId });
          if (!conflictMessage) {
            broadcastMessages.push(msg);
            onProcessEntityComponentChange && onProcessEntityComponentChange(entityId, msg.type, component, value);
          }
        } else {
          broadcastMessages.push(msg);
        }
      }
    }
    for (const entity of entitiesShouldBeCleaned) {
      for (const definition of engine2.componentsIter()) {
        definition.entityDeleted(entity, true);
      }
      engine2.entityContainer.updateRemovedEntity(entity);
      onProcessEntityComponentChange && onProcessEntityComponentChange(entity, CrdtMessageType.DELETE_ENTITY);
    }
  }
  async function sendMessages(entitiesDeletedThisTick) {
    const crdtMessages = getMessages(broadcastMessages);
    const buffer2 = new ReadWriteByteBuffer();
    for (const component of engine2.componentsIter()) {
      for (const message of component.getCrdtUpdates()) {
        const offset = buffer2.currentWriteOffset();
        if (transports.some((t) => t.filter(message))) {
          if (message.type === CrdtMessageType.PUT_COMPONENT) {
            PutComponentOperation.write(message.entityId, message.timestamp, message.componentId, message.data, buffer2);
          } else if (message.type === CrdtMessageType.DELETE_COMPONENT) {
            DeleteComponent.write(message.entityId, component.componentId, message.timestamp, buffer2);
          } else if (message.type === CrdtMessageType.APPEND_VALUE) {
            AppendValueOperation.write(message.entityId, message.timestamp, message.componentId, message.data, buffer2);
          }
          crdtMessages.push({
            ...message,
            messageBuffer: buffer2.buffer().subarray(offset, buffer2.currentWriteOffset())
          });
          if (onProcessEntityComponentChange) {
            const rawValue = message.type === CrdtMessageType.PUT_COMPONENT || message.type === CrdtMessageType.APPEND_VALUE ? component.get(message.entityId) : void 0;
            onProcessEntityComponentChange(message.entityId, message.type, component, rawValue);
          }
        }
      }
    }
    for (const entityId of entitiesDeletedThisTick) {
      const offset = buffer2.currentWriteOffset();
      DeleteEntity.write(entityId, buffer2);
      crdtMessages.push({
        type: CrdtMessageType.DELETE_ENTITY,
        entityId,
        messageBuffer: buffer2.buffer().subarray(offset, buffer2.currentWriteOffset())
      });
      onProcessEntityComponentChange && onProcessEntityComponentChange(entityId, CrdtMessageType.DELETE_ENTITY);
    }
    const transportBuffer = new ReadWriteByteBuffer();
    for (const index in transports) {
      const transportIndex = Number(index);
      const transport = transports[transportIndex];
      const isRendererTransport = transport.type === "renderer";
      const isNetworkTransport = transport.type === "network";
      transportBuffer.resetBuffer();
      const buffer3 = new ReadWriteByteBuffer();
      for (const message2 of crdtMessages) {
        if (message2.transportId === transportIndex)
          continue;
        if (!transport.filter(message2))
          continue;
        const { entityId } = findNetworkId(message2);
        const transformNeedsFix = "componentId" in message2 && message2.componentId === Transform3.componentId && Transform3.has(entityId) && NetworkParent3.has(entityId) && NetworkEntity4.has(entityId);
        if (isRendererTransport && message2.type === CrdtMessageType.PUT_COMPONENT && transformNeedsFix) {
          const parent = findNetworkId(NetworkParent3.get(entityId));
          const transformData = fixTransformParent(message2, Transform3.get(entityId), parent.entityId);
          const offset = buffer3.currentWriteOffset();
          PutComponentOperation.write(entityId, message2.timestamp, message2.componentId, transformData, buffer3);
          transportBuffer.writeBuffer(buffer3.buffer().subarray(offset, buffer3.currentWriteOffset()), false);
          continue;
        }
        if (isRendererTransport && isNetworkMessage(message2)) {
          let transformData = "data" in message2 ? message2.data : new Uint8Array();
          if (transformNeedsFix) {
            const parent = findNetworkId(NetworkParent3.get(entityId));
            transformData = fixTransformParent(message2, Transform3.get(entityId), parent.entityId);
          }
          networkMessageToLocal({ ...message2, data: transformData }, entityId, buffer3, transportBuffer);
          continue;
        }
        if (isNetworkTransport && !isNetworkMessage(message2)) {
          const networkData = NetworkEntity4.getOrNull(message2.entityId);
          if (networkData) {
            localMessageToNetwork(message2, networkData, buffer3, transportBuffer);
            continue;
          }
        }
        transportBuffer.writeBuffer(message2.messageBuffer, false);
      }
      const message = transportBuffer.currentWriteOffset() ? transportBuffer.toBinary() : new Uint8Array([]);
      await transport.send(message);
    }
  }
  function addTransport(transport) {
    const id = transports.push(transport) - 1;
    transport.onmessage = parseChunkMessage(id);
  }
  return {
    sendMessages,
    receiveMessages,
    addTransport
  };
}

// node_modules/@dcl/ecs/dist/systems/crdt/utils.js
var CrdtUtils;
(function(CrdtUtils2) {
  let SynchronizedEntityType;
  (function(SynchronizedEntityType2) {
    SynchronizedEntityType2[SynchronizedEntityType2["NETWORKED"] = 0] = "NETWORKED";
    SynchronizedEntityType2[SynchronizedEntityType2["RENDERER"] = 1] = "RENDERER";
  })(SynchronizedEntityType = CrdtUtils2.SynchronizedEntityType || (CrdtUtils2.SynchronizedEntityType = {}));
})(CrdtUtils || (CrdtUtils = {}));
function dataCompare(a, b) {
  if (a === b)
    return 0;
  if (a === null && b !== null)
    return -1;
  if (a !== null && b === null)
    return 1;
  if (a instanceof Uint8Array && b instanceof Uint8Array) {
    const lengthDifference = a.byteLength - b.byteLength;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    let res;
    for (let i = 0, n = a.byteLength; i < n; i++) {
      res = a[i] - b[i];
      if (res !== 0) {
        return res > 0 ? 1 : -1;
      }
    }
    return 0;
  }
  if (typeof a === "string") {
    const lengthDifference = a.length - b.length;
    if (lengthDifference !== 0) {
      return lengthDifference > 0 ? 1 : -1;
    }
    return a.localeCompare(b);
  }
  return a > b ? 1 : -1;
}

// node_modules/@dcl/ecs/dist/engine/readonly.js
function deepReadonly(val) {
  return Object.freeze({ ...val });
}

// node_modules/@dcl/ecs/dist/engine/lww-element-set-component-definition.js
function incrementTimestamp(entity, timestamps) {
  const newTimestamp = (timestamps.get(entity) || 0) + 1;
  timestamps.set(entity, newTimestamp);
  return newTimestamp;
}
function createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data) {
  return function dumpCrdtState(buffer2, filterEntity) {
    for (const [entity, timestamp] of timestamps) {
      if (filterEntity) {
        if (!filterEntity(entity))
          continue;
      }
      if (data.has(entity)) {
        const it = data.get(entity);
        const buf = new ReadWriteByteBuffer();
        schema.serialize(it, buf);
        PutComponentOperation.write(entity, timestamp, componentId, buf.toBinary(), buffer2);
      } else {
        DeleteComponent.write(entity, componentId, timestamp, buffer2);
      }
    }
  };
}
function createUpdateLwwFromCrdt(componentId, timestamps, schema, data) {
  function crdtRuleForCurrentState(message) {
    const { entityId, timestamp } = message;
    const currentTimestamp = timestamps.get(entityId);
    if (currentTimestamp === void 0 || currentTimestamp < timestamp) {
      return ProcessMessageResultType.StateUpdatedTimestamp;
    }
    if (currentTimestamp > timestamp) {
      return ProcessMessageResultType.StateOutdatedTimestamp;
    }
    if (message.type === CrdtMessageType.DELETE_COMPONENT && !data.has(entityId)) {
      return ProcessMessageResultType.NoChanges;
    }
    let currentDataGreater = 0;
    if (data.has(entityId)) {
      const writeBuffer = new ReadWriteByteBuffer();
      schema.serialize(data.get(entityId), writeBuffer);
      currentDataGreater = dataCompare(writeBuffer.toBinary(), message.data || null);
    } else {
      currentDataGreater = dataCompare(null, message.data);
    }
    if (currentDataGreater === 0) {
      return ProcessMessageResultType.NoChanges;
    } else if (currentDataGreater > 0) {
      return ProcessMessageResultType.StateOutdatedData;
    } else {
      return ProcessMessageResultType.StateUpdatedData;
    }
  }
  return (msg) => {
    if (msg.type !== CrdtMessageType.PUT_COMPONENT && msg.type !== CrdtMessageType.PUT_COMPONENT_NETWORK && msg.type !== CrdtMessageType.DELETE_COMPONENT && msg.type !== CrdtMessageType.DELETE_COMPONENT_NETWORK)
      return [null, data.get(msg.entityId)];
    const action = crdtRuleForCurrentState(msg);
    const entity = msg.entityId;
    switch (action) {
      case ProcessMessageResultType.StateUpdatedData:
      case ProcessMessageResultType.StateUpdatedTimestamp: {
        timestamps.set(entity, msg.timestamp);
        if (msg.type === CrdtMessageType.PUT_COMPONENT || msg.type === CrdtMessageType.PUT_COMPONENT_NETWORK) {
          const buf = new ReadWriteByteBuffer(msg.data);
          data.set(entity, schema.deserialize(buf));
        } else {
          data.delete(entity);
        }
        return [null, data.get(entity)];
      }
      case ProcessMessageResultType.StateOutdatedTimestamp:
      case ProcessMessageResultType.StateOutdatedData: {
        if (data.has(entity)) {
          const writeBuffer = new ReadWriteByteBuffer();
          schema.serialize(data.get(entity), writeBuffer);
          return [
            {
              type: CrdtMessageType.PUT_COMPONENT,
              componentId,
              data: writeBuffer.toBinary(),
              entityId: entity,
              timestamp: timestamps.get(entity)
            },
            data.get(entity)
          ];
        } else {
          return [
            {
              type: CrdtMessageType.DELETE_COMPONENT,
              componentId,
              entityId: entity,
              timestamp: timestamps.get(entity)
            },
            void 0
          ];
        }
      }
    }
    return [null, data.get(entity)];
  };
}
function createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data) {
  return function* () {
    for (const entity of dirtyIterator) {
      const newTimestamp = incrementTimestamp(entity, timestamps);
      if (data.has(entity)) {
        const writeBuffer = new ReadWriteByteBuffer();
        schema.serialize(data.get(entity), writeBuffer);
        const msg = {
          type: CrdtMessageType.PUT_COMPONENT,
          componentId,
          entityId: entity,
          data: writeBuffer.toBinary(),
          timestamp: newTimestamp
        };
        yield msg;
      } else {
        const msg = {
          type: CrdtMessageType.DELETE_COMPONENT,
          componentId,
          entityId: entity,
          timestamp: newTimestamp
        };
        yield msg;
      }
    }
    dirtyIterator.clear();
  };
}
function createComponentDefinitionFromSchema(componentName, componentId, schema) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const timestamps = /* @__PURE__ */ new Map();
  const onChangeCallbacks = /* @__PURE__ */ new Map();
  return {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 0;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    deleteFrom(entity, markAsDirty = true) {
      const component = data.get(entity);
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
      return component || null;
    },
    entityDeleted(entity, markAsDirty) {
      if (data.delete(entity) && markAsDirty) {
        dirtyIterator.add(entity);
      }
    },
    getOrNull(entity) {
      const component = data.get(entity);
      return component ? deepReadonly(component) : null;
    },
    get(entity) {
      const component = data.get(entity);
      if (!component) {
        throw new Error(`[getFrom] Component ${componentName} for entity #${entity} not found`);
      }
      return deepReadonly(component);
    },
    create(entity, value) {
      const component = data.get(entity);
      if (component) {
        throw new Error(`[create] Component ${componentName} for ${entity} already exists`);
      }
      const usedValue = value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    createOrReplace(entity, value) {
      const usedValue = value === void 0 ? schema.create() : schema.extend ? schema.extend(value) : value;
      data.set(entity, usedValue);
      dirtyIterator.add(entity);
      return usedValue;
    },
    getMutableOrNull(entity) {
      const component = data.get(entity);
      if (!component) {
        return null;
      }
      dirtyIterator.add(entity);
      return component;
    },
    getOrCreateMutable(entity, value) {
      const component = data.get(entity);
      if (!component) {
        return this.create(entity, value);
      } else {
        dirtyIterator.add(entity);
        return component;
      }
    },
    getMutable(entity) {
      const component = this.getMutableOrNull(entity);
      if (component === null) {
        throw new Error(`[mutable] Component ${componentName} for ${entity} not found`);
      }
      return component;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates: createGetCrdtMessagesForLww(componentId, timestamps, dirtyIterator, schema, data),
    updateFromCrdt: createUpdateLwwFromCrdt(componentId, timestamps, schema, data),
    dumpCrdtStateToBuffer: createDumpLwwFunctionFromCrdt(componentId, timestamps, schema, data),
    onChange(entity, cb) {
      const cbs = onChangeCallbacks.get(entity) ?? [];
      cbs.push(cb);
      onChangeCallbacks.set(entity, cbs);
    },
    __onChangeCallbacks(entity, value) {
      const cbs = onChangeCallbacks.get(entity);
      if (!cbs)
        return;
      for (const cb of cbs) {
        cb(value);
      }
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/systems.js
var SYSTEMS_REGULAR_PRIORITY = 1e5;
function SystemContainer() {
  const systems = [];
  function sort() {
    systems.sort((a, b) => b.priority - a.priority);
  }
  function add2(fn, priority2, name) {
    const systemName = name ?? fn.name;
    if (systems.find((item) => item.fn === fn)) {
      throw new Error(`System ${JSON.stringify(systemName)} already added to the engine`);
    }
    systems.push({
      fn,
      priority: priority2,
      name: systemName
    });
    sort();
  }
  function remove(selector) {
    let index = -1;
    if (typeof selector === "string") {
      index = systems.findIndex((item) => item.name === selector);
    } else {
      index = systems.findIndex((item) => item.fn === selector);
    }
    if (index === -1) {
      return false;
    }
    systems.splice(index, 1);
    sort();
    return true;
  }
  return {
    add: add2,
    remove,
    getSystems() {
      return systems;
    }
  };
}

// node_modules/@dcl/ecs/dist/engine/grow-only-value-set-component-definition.js
var emptyReadonlySet = freezeSet(/* @__PURE__ */ new Set());
function frozenError() {
  throw new Error("The set is frozen");
}
function freezeSet(set) {
  ;
  set.add = frozenError;
  set.clear = frozenError;
  return set;
}
function sortByTimestamp(a, b) {
  return a.timestamp > b.timestamp ? 1 : -1;
}
function createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options) {
  const data = /* @__PURE__ */ new Map();
  const dirtyIterator = /* @__PURE__ */ new Set();
  const queuedCommands = [];
  const onChangeCallbacks = /* @__PURE__ */ new Map();
  function shouldSort(row) {
    const len = row.raw.length;
    if (len > 1 && row.raw[len - 1].timestamp <= row.raw[len - 2].timestamp) {
      return true;
    }
    return false;
  }
  function gotUpdated(entity) {
    const row = data.get(entity);
    if (row) {
      if (shouldSort(row)) {
        row.raw.sort(sortByTimestamp);
      }
      while (row.raw.length > options.maxElements) {
        row.raw.shift();
      }
      const frozenSet = freezeSet(new Set(row?.raw.map(($) => $.value)));
      row.frozenSet = frozenSet;
      return frozenSet;
    } else {
      return emptyReadonlySet;
    }
  }
  function append(entity, value) {
    let row = data.get(entity);
    if (!row) {
      row = { raw: [], frozenSet: emptyReadonlySet };
      data.set(entity, row);
    }
    const usedValue = schema.extend ? schema.extend(value) : value;
    const timestamp = options.timestampFunction(usedValue);
    if (__DEV__) {
      Object.freeze(usedValue);
    }
    row.raw.push({ value: usedValue, timestamp });
    return { set: gotUpdated(entity), value: usedValue };
  }
  const ret = {
    get componentId() {
      return componentId;
    },
    get componentName() {
      return componentName;
    },
    get componentType() {
      return 1;
    },
    schema,
    has(entity) {
      return data.has(entity);
    },
    entityDeleted(entity) {
      data.delete(entity);
    },
    get(entity) {
      const values = data.get(entity);
      if (values) {
        return values.frozenSet;
      } else {
        return emptyReadonlySet;
      }
    },
    addValue(entity, rawValue) {
      const { set, value } = append(entity, rawValue);
      dirtyIterator.add(entity);
      const buf = new ReadWriteByteBuffer();
      schema.serialize(value, buf);
      queuedCommands.push({
        componentId,
        data: buf.toBinary(),
        entityId: entity,
        timestamp: 0,
        type: CrdtMessageType.APPEND_VALUE
      });
      return set;
    },
    *iterator() {
      for (const [entity, component] of data) {
        yield [entity, component.frozenSet];
      }
    },
    *dirtyIterator() {
      for (const entity of dirtyIterator) {
        yield entity;
      }
    },
    getCrdtUpdates() {
      dirtyIterator.clear();
      return queuedCommands.splice(0, queuedCommands.length);
    },
    updateFromCrdt(_body) {
      if (_body.type === CrdtMessageType.APPEND_VALUE) {
        const buf = new ReadWriteByteBuffer(_body.data);
        const { value } = append(_body.entityId, schema.deserialize(buf));
        return [null, value];
      }
      return [null, void 0];
    },
    dumpCrdtStateToBuffer: function(buffer2, filterEntity) {
      for (const [entity, { raw }] of data) {
        if (filterEntity && !filterEntity(entity))
          continue;
        for (const it of raw) {
          const buf = new ReadWriteByteBuffer();
          schema.serialize(it.value, buf);
          AppendValueOperation.write(entity, 0, componentId, buf.toBinary(), buffer2);
        }
      }
    },
    onChange(entity, cb) {
      const cbs = onChangeCallbacks.get(entity) ?? [];
      cbs.push(cb);
      onChangeCallbacks.set(entity, cbs);
    },
    __onChangeCallbacks(entity, value) {
      const cbs = onChangeCallbacks.get(entity);
      if (!cbs)
        return;
      for (const cb of cbs) {
        cb(value);
      }
    }
  };
  return ret;
}

// node_modules/@dcl/ecs/dist/runtime/helpers/tree.js
function* genEntityTree(entity, entities) {
  if (!entities.has(entity))
    return;
  entities.delete(entity);
  for (const [_entity, value] of entities) {
    if (value.parent === entity) {
      yield* genEntityTree(_entity, entities);
    }
  }
  yield entity;
}
function getComponentEntityTree(engine2, entity, component) {
  const entities = new Map(engine2.getEntitiesWith(component));
  return genEntityTree(entity, entities);
}
function removeNetworkEntityChildrens(engine2, parent) {
  const NetworkParent3 = NetworkParent(engine2);
  const NetworkEntity4 = NetworkEntity(engine2);
  engine2.removeEntity(parent);
  const network = NetworkEntity4.getOrNull(parent);
  if (network) {
    for (const [entity, parent2] of engine2.getEntitiesWith(NetworkParent3)) {
      if (parent2.entityId === network.entityId && parent2.networkId === network.networkId) {
        removeNetworkEntityChildrens(engine2, entity);
      }
    }
  }
  return;
}
function removeEntityWithChildren(engine2, entity) {
  const Transform3 = Transform(engine2);
  const NetworkEntity4 = NetworkEntity(engine2);
  if (NetworkEntity4.has(entity)) {
    return removeNetworkEntityChildrens(engine2, entity);
  }
  for (const ent of getComponentEntityTree(engine2, entity, Transform3)) {
    engine2.removeEntity(ent);
  }
}

// node_modules/@dcl/ecs/dist/engine/input.js
var InputCommands = [
  0,
  1,
  2,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  12,
  13
  /* InputAction.IA_ACTION_6 */
];
var InputStateUpdateSystemPriority = 1 << 20;
function createInputSystem(engine2) {
  const PointerEventsResult3 = PointerEventsResult(engine2);
  const globalState = {
    previousFrameMaxTimestamp: 0,
    currentFrameMaxTimestamp: 0,
    buttonState: /* @__PURE__ */ new Map(),
    thisFrameCommands: []
  };
  function findLastAction(pointerEventType, inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult3.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction && command.state === pointerEventType) {
        return command;
      }
    }
  }
  function* findCommandsByActionDescending(inputAction, entity) {
    const ascendingTimestampIterator = PointerEventsResult3.get(entity);
    for (const command of Array.from(ascendingTimestampIterator).reverse()) {
      if (command.button === inputAction) {
        yield command;
      }
    }
  }
  function buttonStateUpdateSystem() {
    let maxTimestamp = globalState.currentFrameMaxTimestamp;
    globalState.previousFrameMaxTimestamp = maxTimestamp;
    if (globalState.thisFrameCommands.length) {
      globalState.thisFrameCommands = [];
    }
    for (const [, commands] of engine2.getEntitiesWith(PointerEventsResult3)) {
      const arrayCommands = Array.from(commands);
      for (let i = arrayCommands.length - 1; i >= 0; i--) {
        const command = arrayCommands[i];
        if (command.timestamp > maxTimestamp) {
          maxTimestamp = command.timestamp;
        }
        if (command.timestamp > globalState.previousFrameMaxTimestamp) {
          globalState.thisFrameCommands.push(command);
        }
        if (command.state === 0 || command.state === 1) {
          const prevCommand = globalState.buttonState.get(command.button);
          if (!prevCommand || command.timestamp > prevCommand.timestamp) {
            globalState.buttonState.set(command.button, command);
          } else {
            break;
          }
        }
      }
    }
    globalState.currentFrameMaxTimestamp = maxTimestamp;
  }
  engine2.addSystem(buttonStateUpdateSystem, InputStateUpdateSystemPriority, "@dcl/ecs#inputSystem");
  function timestampIsCurrentFrame(timestamp) {
    if (timestamp > globalState.previousFrameMaxTimestamp && timestamp <= globalState.currentFrameMaxTimestamp) {
      return true;
    } else {
      return false;
    }
  }
  function getClick(inputAction, entity) {
    if (inputAction !== 3) {
      return findClick(inputAction, entity);
    }
    for (const input of InputCommands) {
      const cmd = findClick(input, entity);
      if (cmd)
        return cmd;
    }
    return null;
  }
  function findClick(inputAction, entity) {
    let down = null;
    let up = null;
    for (const it of findCommandsByActionDescending(inputAction, entity)) {
      if (!up) {
        if (it.state === 0) {
          up = it;
          continue;
        }
      } else if (!down) {
        if (it.state === 1) {
          down = it;
          break;
        }
      }
    }
    if (!up || !down)
      return null;
    if (down.timestamp < up.timestamp && timestampIsCurrentFrame(up.timestamp)) {
      return { up, down };
    }
    return null;
  }
  function getInputCommandFromEntity(inputAction, pointerEventType, entity) {
    if (inputAction !== 3) {
      return findInputCommand(inputAction, pointerEventType, entity);
    }
    for (const input of InputCommands) {
      const cmd = findInputCommand(input, pointerEventType, entity);
      if (cmd)
        return cmd;
    }
    return null;
  }
  function getInputCommand(inputAction, pointerEventType, entity) {
    if (entity) {
      return getInputCommandFromEntity(inputAction, pointerEventType, entity);
    } else {
      for (const command of globalState.thisFrameCommands) {
        if ((command.button === inputAction || inputAction === 3) && command.state === pointerEventType) {
          return command;
        }
      }
      return null;
    }
  }
  function findInputCommand(inputAction, pointerEventType, entity) {
    const command = findLastAction(pointerEventType, inputAction, entity);
    if (!command)
      return null;
    if (timestampIsCurrentFrame(command.timestamp)) {
      return command;
    } else {
      return null;
    }
  }
  function isClicked(inputAction, entity) {
    return getClick(inputAction, entity) !== null;
  }
  function isTriggered(inputAction, pointerEventType, entity) {
    if (entity) {
      const command = findLastAction(pointerEventType, inputAction, entity);
      return command && timestampIsCurrentFrame(command.timestamp) || false;
    } else {
      for (const command of globalState.thisFrameCommands) {
        if ((command.button === inputAction || inputAction === 3) && command.state === pointerEventType) {
          return true;
        }
      }
      return false;
    }
  }
  function isPressed(inputAction) {
    return globalState.buttonState.get(inputAction)?.state === 1;
  }
  return {
    isPressed,
    getClick,
    getInputCommand,
    isClicked,
    isTriggered
  };
}

// node_modules/@dcl/ecs/dist/engine/component.js
var ComponentType;
(function(ComponentType2) {
  ComponentType2[ComponentType2["LastWriteWinElementSet"] = 0] = "LastWriteWinElementSet";
  ComponentType2[ComponentType2["GrowOnlyValueSet"] = 1] = "GrowOnlyValueSet";
})(ComponentType || (ComponentType = {}));

// node_modules/@dcl/ecs/dist/engine/index.js
function preEngine(options) {
  const entityContainer = options?.entityContainer ?? createEntityContainer();
  const componentsDefinition = /* @__PURE__ */ new Map();
  const systems = SystemContainer();
  let sealed = false;
  function addSystem(fn, priority2 = SYSTEMS_REGULAR_PRIORITY, name) {
    systems.add(fn, priority2, name);
  }
  function removeSystem(selector) {
    return systems.remove(selector);
  }
  function addEntity() {
    const entity = entityContainer.generateEntity();
    return entity;
  }
  function removeEntity(entity) {
    for (const [, component] of componentsDefinition) {
      if (component.componentName === "core-schema::Network-Entity")
        continue;
      component.entityDeleted(entity, true);
    }
    return entityContainer.removeEntity(entity);
  }
  function removeEntityWithChildren2(entity) {
    return removeEntityWithChildren({ removeEntity, defineComponentFromSchema, getEntitiesWith, defineComponent }, entity);
  }
  function registerComponentDefinition(componentName, component) {
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      throw new Error(`Component number ${componentId} was already registered.`);
    }
    if (component.componentName !== componentName) {
      throw new Error(`Component name doesn't match componentDefinition.componentName ${componentName} != ${component.componentName}`);
    }
    if (component.componentId !== componentId) {
      throw new Error(`Component number doesn't match componentDefinition.componentId ${componentId} != ${component.componentId}`);
    }
    componentsDefinition.set(componentId, component);
    return component;
  }
  function defineComponentFromSchema(componentName, schema) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const newComponent = createComponentDefinitionFromSchema(componentName, componentId, schema);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineValueSetComponentFromSchema(componentName, schema, options2) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const newComponent = createValueSetComponentDefinitionFromSchema(componentName, componentId, schema, options2);
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function defineComponent(componentName, mapSpec, constructorDefault) {
    const componentId = componentNumberFromName(componentName);
    const prev = componentsDefinition.get(componentId);
    if (prev) {
      return prev;
    }
    if (sealed)
      throw new Error("Engine is already sealed. No components can be added at this stage");
    const schemaSpec = Schemas.Map(mapSpec, constructorDefault);
    const def = createComponentDefinitionFromSchema(componentName, componentId, schemaSpec);
    const newComponent = {
      ...def,
      create(entity, val) {
        return def.create(entity, val);
      },
      createOrReplace(entity, val) {
        return def.createOrReplace(entity, val);
      }
    };
    componentsDefinition.set(componentId, newComponent);
    return newComponent;
  }
  function getComponent2(componentIdOrName) {
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    const component = componentsDefinition.get(componentId);
    if (!component) {
      throw new Error(`Component ${componentIdOrName} not found. You need to declare the components at the beginnig of the engine declaration`);
    }
    return component;
  }
  function getComponentOrNull(componentIdOrName) {
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    return componentsDefinition.get(componentId) ?? /* istanbul ignore next */
    null;
  }
  function* getEntitiesWith(...components) {
    for (const [entity, ...groupComp] of getComponentDefGroup(...components)) {
      yield [entity, ...groupComp.map((c) => c.get(entity))];
    }
  }
  function getEntityOrNullByName(value) {
    const NameComponent = Name({ defineComponent });
    for (const [entity, name] of getEntitiesWith(NameComponent)) {
      if (name.value === value)
        return entity;
    }
    return null;
  }
  function* getComponentDefGroup(...args) {
    const [firstComponentDef, ...componentDefinitions] = args;
    for (const [entity] of firstComponentDef.iterator()) {
      let matches = true;
      for (const componentDef of componentDefinitions) {
        if (!componentDef.has(entity)) {
          matches = false;
          break;
        }
      }
      if (matches) {
        yield [entity, ...args];
      }
    }
  }
  function getSystems() {
    return systems.getSystems();
  }
  function componentsIter() {
    return componentsDefinition.values();
  }
  function removeComponentDefinition(componentIdOrName) {
    if (sealed)
      throw new Error("Engine is already sealed. No components can be removed at this stage");
    const componentId = typeof componentIdOrName === "number" ? componentIdOrName : componentNumberFromName(componentIdOrName);
    componentsDefinition.delete(componentId);
  }
  Transform({ defineComponentFromSchema });
  function seal() {
    if (!sealed) {
      sealed = true;
    }
  }
  return {
    addEntity,
    removeEntity,
    removeEntityWithChildren: removeEntityWithChildren2,
    addSystem,
    getSystems,
    removeSystem,
    defineComponent,
    defineComponentFromSchema,
    defineValueSetComponentFromSchema,
    getEntitiesWith,
    getComponent: getComponent2,
    getComponentOrNull,
    getEntityOrNullByName,
    removeComponentDefinition,
    registerComponentDefinition,
    entityContainer,
    componentsIter,
    seal
  };
}
function Engine(options) {
  const partialEngine = preEngine(options);
  const onChangeFunction = (entity, operation, component, componentValue) => {
    if (operation === CrdtMessageType.DELETE_ENTITY) {
      for (const component2 of partialEngine.componentsIter()) {
        component2?.__onChangeCallbacks(entity, void 0);
      }
    } else {
      component?.__onChangeCallbacks(entity, componentValue);
    }
    return options?.onChangeFunction(entity, operation, component, componentValue);
  };
  const crdtSystem = crdtSceneSystem(partialEngine, onChangeFunction);
  async function update(dt) {
    await crdtSystem.receiveMessages();
    for (const system of partialEngine.getSystems()) {
      const ret = system.fn(dt);
      checkNotThenable(ret, `A system (${system.name || "anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`);
    }
    const deletedEntites = partialEngine.entityContainer.releaseRemovedEntities();
    await crdtSystem.sendMessages(deletedEntites);
  }
  return {
    _id: Date.now(),
    addEntity: partialEngine.addEntity,
    removeEntity: partialEngine.removeEntity,
    removeEntityWithChildren: partialEngine.removeEntityWithChildren,
    addSystem: partialEngine.addSystem,
    removeSystem: partialEngine.removeSystem,
    defineComponent: partialEngine.defineComponent,
    defineComponentFromSchema: partialEngine.defineComponentFromSchema,
    defineValueSetComponentFromSchema: partialEngine.defineValueSetComponentFromSchema,
    registerComponentDefinition: partialEngine.registerComponentDefinition,
    getEntitiesWith: partialEngine.getEntitiesWith,
    getComponent: partialEngine.getComponent,
    getComponentOrNull: partialEngine.getComponentOrNull,
    removeComponentDefinition: partialEngine.removeComponentDefinition,
    componentsIter: partialEngine.componentsIter,
    seal: partialEngine.seal,
    getEntityOrNullByName: partialEngine.getEntityOrNullByName,
    update,
    RootEntity: 0,
    PlayerEntity: 1,
    CameraEntity: 2,
    getEntityState: partialEngine.entityContainer.getEntityState,
    addTransport: crdtSystem.addTransport,
    entityContainer: partialEngine.entityContainer
  };
}

// node_modules/@dcl/ecs/dist/systems/events.js
var getDefaultOpts = (opts = {}) => ({
  button: 3,
  ...opts
});
function createPointerEventsSystem(engine2, inputSystem2) {
  const PointerEvents2 = PointerEvents(engine2);
  let EventType;
  (function(EventType2) {
    EventType2[EventType2["Click"] = 0] = "Click";
    EventType2[EventType2["Down"] = 1] = "Down";
    EventType2[EventType2["Up"] = 2] = "Up";
  })(EventType || (EventType = {}));
  const eventsMap = /* @__PURE__ */ new Map();
  function getEvent(entity) {
    return eventsMap.get(entity) || eventsMap.set(entity, /* @__PURE__ */ new Map()).get(entity);
  }
  function setPointerEvent(entity, type, opts) {
    const pointerEvent = PointerEvents2.getMutableOrNull(entity) || PointerEvents2.create(entity);
    pointerEvent.pointerEvents.push({
      eventType: type,
      eventInfo: {
        button: opts.button,
        showFeedback: opts.showFeedback,
        showHighlight: opts.showHighlight,
        hoverText: opts.hoverText,
        maxDistance: opts.maxDistance
      }
    });
  }
  function removePointerEvent(entity, type, button) {
    const pointerEvent = PointerEvents2.getMutableOrNull(entity);
    if (!pointerEvent)
      return;
    pointerEvent.pointerEvents = pointerEvent.pointerEvents.filter((pointer) => !(pointer.eventInfo?.button === button && pointer.eventType === type));
  }
  function getPointerEvent(eventType) {
    if (eventType === EventType.Up) {
      return 0;
    }
    return 1;
  }
  function removeEvent(entity, type) {
    const event = getEvent(entity);
    const pointerEvent = event.get(type);
    if (pointerEvent?.opts.hoverText) {
      removePointerEvent(entity, getPointerEvent(type), pointerEvent.opts.button);
    }
    event.delete(type);
  }
  engine2.addSystem(function EventSystem() {
    for (const [entity, event] of eventsMap) {
      if (engine2.getEntityState(entity) === EntityState.Removed) {
        eventsMap.delete(entity);
        continue;
      }
      for (const [eventType, { cb, opts }] of event) {
        if (eventType === EventType.Click) {
          const command = inputSystem2.getClick(opts.button, entity);
          if (command)
            checkNotThenable(cb(command.up), "Click event returned a thenable. Only synchronous functions are allowed");
        }
        if (eventType === EventType.Down || eventType === EventType.Up) {
          const command = inputSystem2.getInputCommand(opts.button, getPointerEvent(eventType), entity);
          if (command) {
            checkNotThenable(cb(command), "Event handler returned a thenable. Only synchronous functions are allowed");
          }
        }
      }
    }
  });
  const onPointerDown = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === "number") {
      return onPointerDown({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Down);
    getEvent(entity).set(EventType.Down, { cb, opts: options });
    setPointerEvent(entity, 1, options);
  };
  const onPointerUp = (...args) => {
    const [data, cb, maybeOpts] = args;
    if (typeof data === "number") {
      return onPointerUp({ entity: data, opts: maybeOpts ?? {} }, cb);
    }
    const { entity, opts } = data;
    const options = getDefaultOpts(opts);
    removeEvent(entity, EventType.Up);
    getEvent(entity).set(EventType.Up, { cb, opts: options });
    setPointerEvent(entity, 0, options);
  };
  return {
    removeOnClick(entity) {
      removeEvent(entity, EventType.Click);
    },
    removeOnPointerDown(entity) {
      removeEvent(entity, EventType.Down);
    },
    removeOnPointerUp(entity) {
      removeEvent(entity, EventType.Up);
    },
    onClick(value, cb) {
      const { entity } = value;
      const options = getDefaultOpts(value.opts);
      removeEvent(entity, EventType.Click);
      getEvent(entity).set(EventType.Click, { cb, opts: options });
      setPointerEvent(entity, 1, options);
    },
    onPointerDown,
    onPointerUp
  };
}

// node_modules/@dcl/ecs/dist/systems/tween.js
var cacheTween = /* @__PURE__ */ new Map();
function createTweenSystem(engine2) {
  if (cacheTween.has(engine2._id)) {
    return cacheTween.get(engine2._id);
  }
  const Tween4 = Tween2(engine2);
  const TweenState3 = TweenState(engine2);
  const TweenSequence3 = TweenSequence(engine2);
  const cache = /* @__PURE__ */ new Map();
  function isCompleted(entity) {
    const tweenState = TweenState3.getOrNull(entity);
    const tween = Tween4.getOrNull(entity);
    const tweenCache = cache.get(entity);
    if (!tweenState || !tween)
      return false;
    if (
      // Renderer notified that the tween is completed
      (tweenChanged(entity) || tweenState.state === 1) && // Avoid sending isCompleted multiple times
      !tweenCache?.completed && // Amount of frames needed to consider a tween completed
      (tweenCache?.frames ?? 0) > 2
    ) {
      return true;
    }
    return false;
  }
  function tweenChanged(entity) {
    const currentTween = Tween4.getOrNull(entity);
    const prevTween = cache.get(entity)?.tween;
    if (currentTween && !prevTween || !currentTween && prevTween) {
      return true;
    }
    const currentBuff = new ReadWriteByteBuffer();
    Tween4.schema.serialize(currentTween, currentBuff);
    const equal = dataCompare(currentBuff.toBinary(), prevTween);
    return equal;
  }
  const restartTweens = [];
  engine2.addSystem(() => {
    for (const restart of restartTweens) {
      restart();
    }
    restartTweens.length = 0;
    for (const [entity, tween] of engine2.getEntitiesWith(Tween4)) {
      if (tweenChanged(entity)) {
        const buffer2 = new ReadWriteByteBuffer();
        Tween4.schema.serialize(tween, buffer2);
        cache.set(entity, {
          tween: buffer2.toBinary(),
          frames: 0,
          completed: false,
          changed: true
        });
        continue;
      }
      const tweenCache = cache.get(entity);
      tweenCache.frames += 1;
      tweenCache.changed = false;
      if (isCompleted(entity)) {
        tweenCache.frames = 0;
        tweenCache.completed = true;
        const tweenSequence = TweenSequence3.getOrNull(entity);
        if (!tweenSequence)
          continue;
        const { sequence } = tweenSequence;
        if (sequence && sequence.length) {
          const [nextTweenSequence, ...otherTweens] = sequence;
          Tween4.createOrReplace(entity, nextTweenSequence);
          const mutableTweenHelper = TweenSequence3.getMutable(entity);
          mutableTweenHelper.sequence = otherTweens;
          if (tweenSequence.loop === 0) {
            mutableTweenHelper.sequence.push(tween);
          }
        } else if (tweenSequence.loop === 1) {
          Tween4.createOrReplace(entity, backwardsTween(tween));
        } else if (tweenSequence.loop === 0) {
          Tween4.deleteFrom(entity);
          cache.delete(entity);
          restartTweens.push(() => {
            Tween4.createOrReplace(entity, tween);
          });
        }
      }
    }
  }, Number.NEGATIVE_INFINITY);
  function backwardsTween(tween) {
    if (tween.mode?.$case === "move" && tween.mode.move) {
      return { ...tween, mode: { ...tween.mode, move: { start: tween.mode.move.end, end: tween.mode.move.start } } };
    }
    if (tween.mode?.$case === "rotate" && tween.mode.rotate) {
      return {
        ...tween,
        mode: { ...tween.mode, rotate: { start: tween.mode.rotate.end, end: tween.mode.rotate.start } }
      };
    }
    if (tween.mode?.$case === "scale" && tween.mode.scale) {
      return { ...tween, mode: { ...tween.mode, scale: { start: tween.mode.scale.end, end: tween.mode.scale.start } } };
    }
    throw new Error("Invalid tween");
  }
  const tweenSystem2 = {
    // This event is fired only once per tween
    tweenCompleted: isCompleted
  };
  cacheTween.set(engine2._id, tweenSystem2);
  return tweenSystem2;
}

// node_modules/@dcl/ecs/dist/systems/pointer-event-collider-checker.js
function pointerEventColliderChecker(engine2) {
  const PointerEvents2 = PointerEvents(engine2);
  const MeshCollider4 = MeshCollider2(engine2);
  const GltfContainer3 = GltfContainer(engine2);
  const UiTransform3 = UiTransform(engine2);
  const alreadyShownlog = /* @__PURE__ */ new Set();
  let timer = 0;
  function systemChecker(dt) {
    timer += dt;
    if (timer <= 10) {
      return;
    }
    timer = 0;
    for (const [entity] of engine2.getEntitiesWith(PointerEvents2)) {
      if (alreadyShownlog.has(entity))
        continue;
      if (GltfContainer3.has(entity))
        continue;
      if (UiTransform3.has(entity))
        continue;
      const mesh = MeshCollider4.getOrNull(entity);
      if (mesh) {
        if (mesh.collisionMask === void 0 || mesh.collisionMask & 1) {
          continue;
        }
      }
      alreadyShownlog.add(entity);
      console.log(`\u26A0\uFE0F Missing MeshCollider component on entity ${entity}. Add a MeshCollider to the entity so it can be clickeable by the player.
See https://docs.decentraland.org/creator/development-guide/sdk7/colliders/#pointer-blocking`);
    }
  }
  engine2.removeSystem(systemChecker);
  engine2.addSystem(systemChecker);
}

// node_modules/@dcl/ecs/dist/runtime/initialization/index.js
var engine = /* @__PURE__ */ Engine();
var inputSystem = /* @__PURE__ */ createInputSystem(engine);
var pointerEventsSystem = /* @__PURE__ */ createPointerEventsSystem(engine, inputSystem);
var tweenSystem = createTweenSystem(engine);
pointerEventColliderChecker(engine);

// node_modules/@dcl/ecs/dist/components/generated/global.gen.js
var AudioEvent2 = /* @__PURE__ */ AudioEvent(engine);
var AvatarBase2 = /* @__PURE__ */ AvatarBase(engine);
var AvatarEmoteCommand2 = /* @__PURE__ */ AvatarEmoteCommand(engine);
var AvatarEquippedData2 = /* @__PURE__ */ AvatarEquippedData(engine);
var EngineInfo2 = /* @__PURE__ */ EngineInfo(engine);
var GltfContainer2 = /* @__PURE__ */ GltfContainer(engine);
var GltfContainerLoadingState2 = /* @__PURE__ */ GltfContainerLoadingState(engine);
var PlayerIdentityData2 = /* @__PURE__ */ PlayerIdentityData(engine);
var PointerEventsResult2 = /* @__PURE__ */ PointerEventsResult(engine);
var RaycastResult2 = /* @__PURE__ */ RaycastResult(engine);
var RealmInfo2 = /* @__PURE__ */ RealmInfo(engine);
var TweenSequence2 = /* @__PURE__ */ TweenSequence(engine);
var TweenState2 = /* @__PURE__ */ TweenState(engine);
var UiDropdown2 = /* @__PURE__ */ UiDropdown(engine);
var UiDropdownResult2 = /* @__PURE__ */ UiDropdownResult(engine);
var UiInput2 = /* @__PURE__ */ UiInput(engine);
var UiInputResult2 = /* @__PURE__ */ UiInputResult(engine);
var UiText2 = /* @__PURE__ */ UiText(engine);
var UiTransform2 = /* @__PURE__ */ UiTransform(engine);
var VideoEvent2 = /* @__PURE__ */ VideoEvent(engine);
var VideoPlayer2 = /* @__PURE__ */ VideoPlayer(engine);

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/camera_type.gen.js
var CameraType;
(function(CameraType2) {
  CameraType2[CameraType2["CT_FIRST_PERSON"] = 0] = "CT_FIRST_PERSON";
  CameraType2[CameraType2["CT_THIRD_PERSON"] = 1] = "CT_THIRD_PERSON";
  CameraType2[CameraType2["CT_CINEMATIC"] = 2] = "CT_CINEMATIC";
})(CameraType || (CameraType = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/input_action.gen.js
var InputAction;
(function(InputAction2) {
  InputAction2[InputAction2["IA_POINTER"] = 0] = "IA_POINTER";
  InputAction2[InputAction2["IA_PRIMARY"] = 1] = "IA_PRIMARY";
  InputAction2[InputAction2["IA_SECONDARY"] = 2] = "IA_SECONDARY";
  InputAction2[InputAction2["IA_ANY"] = 3] = "IA_ANY";
  InputAction2[InputAction2["IA_FORWARD"] = 4] = "IA_FORWARD";
  InputAction2[InputAction2["IA_BACKWARD"] = 5] = "IA_BACKWARD";
  InputAction2[InputAction2["IA_RIGHT"] = 6] = "IA_RIGHT";
  InputAction2[InputAction2["IA_LEFT"] = 7] = "IA_LEFT";
  InputAction2[InputAction2["IA_JUMP"] = 8] = "IA_JUMP";
  InputAction2[InputAction2["IA_WALK"] = 9] = "IA_WALK";
  InputAction2[InputAction2["IA_ACTION_3"] = 10] = "IA_ACTION_3";
  InputAction2[InputAction2["IA_ACTION_4"] = 11] = "IA_ACTION_4";
  InputAction2[InputAction2["IA_ACTION_5"] = 12] = "IA_ACTION_5";
  InputAction2[InputAction2["IA_ACTION_6"] = 13] = "IA_ACTION_6";
})(InputAction || (InputAction = {}));
var PointerEventType;
(function(PointerEventType2) {
  PointerEventType2[PointerEventType2["PET_UP"] = 0] = "PET_UP";
  PointerEventType2[PointerEventType2["PET_DOWN"] = 1] = "PET_DOWN";
  PointerEventType2[PointerEventType2["PET_HOVER_ENTER"] = 2] = "PET_HOVER_ENTER";
  PointerEventType2[PointerEventType2["PET_HOVER_LEAVE"] = 3] = "PET_HOVER_LEAVE";
})(PointerEventType || (PointerEventType = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/loading_state.gen.js
var LoadingState;
(function(LoadingState2) {
  LoadingState2[LoadingState2["UNKNOWN"] = 0] = "UNKNOWN";
  LoadingState2[LoadingState2["LOADING"] = 1] = "LOADING";
  LoadingState2[LoadingState2["NOT_FOUND"] = 2] = "NOT_FOUND";
  LoadingState2[LoadingState2["FINISHED_WITH_ERROR"] = 3] = "FINISHED_WITH_ERROR";
  LoadingState2[LoadingState2["FINISHED"] = 4] = "FINISHED";
})(LoadingState || (LoadingState = {}));

// node_modules/@dcl/ecs/dist/components/generated/pb/decentraland/sdk/components/common/texts.gen.js
var TextAlignMode;
(function(TextAlignMode2) {
  TextAlignMode2[TextAlignMode2["TAM_TOP_LEFT"] = 0] = "TAM_TOP_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_TOP_CENTER"] = 1] = "TAM_TOP_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_TOP_RIGHT"] = 2] = "TAM_TOP_RIGHT";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_LEFT"] = 3] = "TAM_MIDDLE_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_CENTER"] = 4] = "TAM_MIDDLE_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_MIDDLE_RIGHT"] = 5] = "TAM_MIDDLE_RIGHT";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_LEFT"] = 6] = "TAM_BOTTOM_LEFT";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_CENTER"] = 7] = "TAM_BOTTOM_CENTER";
  TextAlignMode2[TextAlignMode2["TAM_BOTTOM_RIGHT"] = 8] = "TAM_BOTTOM_RIGHT";
})(TextAlignMode || (TextAlignMode = {}));
var Font;
(function(Font3) {
  Font3[Font3["F_SANS_SERIF"] = 0] = "F_SANS_SERIF";
  Font3[Font3["F_SERIF"] = 1] = "F_SERIF";
  Font3[Font3["F_MONOSPACE"] = 2] = "F_MONOSPACE";
})(Font || (Font = {}));

// node_modules/@dcl/ecs/dist/composite/components.js
function getCompositeRootComponent(engine2) {
  const component = engine2.getComponentOrNull("composite::root");
  if (component) {
    return component;
  }
  return engine2.defineComponent("composite::root", {
    src: Schemas.String,
    entities: Schemas.Array(Schemas.Map({
      src: Schemas.Entity,
      dest: Schemas.Entity
    }))
  });
}

// node_modules/@dcl/ecs/dist/composite/path.js
var currentWorkingDir = "/";
function normalizeStringPosix(path, allowAboveRoot = false) {
  let res = "";
  let lastSegmentLength = 0;
  let lastSlash = -1;
  let dots = 0;
  let code;
  for (let i = 0; i <= path.length; ++i) {
    if (i < path.length)
      code = path.charCodeAt(i);
    else if (code === 47)
      break;
    else
      code = 47;
    if (code === 47) {
      if (lastSlash === i - 1 || dots === 1) {
      } else if (lastSlash !== i - 1 && dots === 2) {
        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {
          if (res.length > 2) {
            const lastSlashIndex = res.lastIndexOf("/");
            if (lastSlashIndex !== res.length - 1) {
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf("/");
              }
              lastSlash = i;
              dots = 0;
              continue;
            }
          } else if (res.length === 2 || res.length === 1) {
            res = "";
            lastSegmentLength = 0;
            lastSlash = i;
            dots = 0;
            continue;
          }
        }
        if (allowAboveRoot) {
          if (res.length > 0)
            res += "/..";
          else
            res = "..";
          lastSegmentLength = 2;
        }
      } else {
        if (res.length > 0)
          res += "/" + path.slice(lastSlash + 1, i);
        else
          res = path.slice(lastSlash + 1, i);
        lastSegmentLength = i - lastSlash - 1;
      }
      lastSlash = i;
      dots = 0;
    } else if (code === 46 && dots !== -1) {
      ++dots;
    } else {
      dots = -1;
    }
  }
  return res;
}
function resolve(...args) {
  let resolvedPath = "";
  let resolvedAbsolute = false;
  let cwd;
  for (let i = args.length - 1; i >= -1 && !resolvedAbsolute; i--) {
    let path;
    if (i >= 0)
      path = args[i];
    else {
      if (cwd === void 0)
        cwd = currentWorkingDir;
      path = cwd;
    }
    if (path.length === 0) {
      continue;
    }
    resolvedPath = path + "/" + resolvedPath;
    resolvedAbsolute = path.charCodeAt(0) === 47;
  }
  resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);
  if (resolvedAbsolute) {
    if (resolvedPath.length > 0)
      return "/" + resolvedPath;
    else
      return "/";
  } else if (resolvedPath.length > 0) {
    return resolvedPath;
  } else {
    return ".";
  }
}
function dirname(path) {
  if (path.length === 0)
    return ".";
  let code = path.charCodeAt(0);
  const hasRoot = code === 47;
  let end = -1;
  let matchedSlash = true;
  for (let i = path.length - 1; i >= 1; --i) {
    code = path.charCodeAt(i);
    if (code === 47) {
      if (!matchedSlash) {
        end = i;
        break;
      }
    } else {
      matchedSlash = false;
    }
  }
  if (end === -1)
    return hasRoot ? "/" : ".";
  if (hasRoot && end === 1)
    return "//";
  return path.slice(0, end);
}
function resolveComposite(path, cwd) {
  const absolutePath = path.startsWith(".") ? resolve(cwd, path) : resolve(path);
  return absolutePath.substring(1);
}

// node_modules/@dcl/ecs/dist/composite/instance.js
var EntityMappingMode;
(function(EntityMappingMode2) {
  EntityMappingMode2[EntityMappingMode2["EMM_NONE"] = 0] = "EMM_NONE";
  EntityMappingMode2[EntityMappingMode2["EMM_NEXT_AVAILABLE"] = 1] = "EMM_NEXT_AVAILABLE";
  EntityMappingMode2[EntityMappingMode2["EMM_DIRECT_MAPPING"] = 2] = "EMM_DIRECT_MAPPING";
})(EntityMappingMode || (EntityMappingMode = {}));
function getComponentValue(componentDefinition, component) {
  if (component.data?.$case === "json") {
    return component.data.json;
  } else {
    return componentDefinition.schema.deserialize(new ReadWriteByteBuffer(component.data?.binary));
  }
}
function getComponentDefinition(engine2, component) {
  const existingComponentDefinition = engine2.getComponentOrNull(component.name);
  if (!existingComponentDefinition) {
    if (component.name.startsWith("core::")) {
      if (component.name in componentDefinitionByName) {
        return componentDefinitionByName[component.name](engine2);
      } else {
        throw new Error(`The core component ${component.name} was not found.`);
      }
    } else if (component.jsonSchema) {
      return engine2.defineComponentFromSchema(component.name, Schemas.fromJson(component.jsonSchema));
    } else {
      throw new Error(`${component.name} is not defined and there is no schema to define it.`);
    }
  } else {
    return existingComponentDefinition;
  }
}
function getEntityMapping(engine2, compositeEntity, mappedEntities, { entityMapping }) {
  const existingEntity = mappedEntities.get(compositeEntity);
  if (existingEntity) {
    return existingEntity;
  }
  if (entityMapping?.type === EntityMappingMode.EMM_DIRECT_MAPPING) {
    const entity = entityMapping.getCompositeEntity(compositeEntity);
    mappedEntities.set(compositeEntity, entity);
    return entity;
  }
  const newEntity = entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping.getNextAvailableEntity() : engine2.addEntity();
  if (newEntity === null) {
    throw new Error("There is no more entities to allocate");
  }
  mappedEntities.set(compositeEntity, newEntity);
  return newEntity;
}
function instanceComposite(engine2, compositeResource, compositeProvider2, options) {
  const { rootEntity, alreadyRequestedSrc: optionalAlreadyRequestedSrc, entityMapping } = options;
  const alreadyRequestedSrc = optionalAlreadyRequestedSrc || /* @__PURE__ */ new Set();
  const compositeDirectoryPath = dirname(resolve(compositeResource.src));
  const TransformComponentNumber = componentNumberFromName("core::Transform");
  const CompositeRootComponent = getCompositeRootComponent(engine2);
  const mappedEntities = /* @__PURE__ */ new Map();
  const getCompositeEntity = (compositeEntity) => getEntityMapping(engine2, compositeEntity, mappedEntities, options);
  const compositeRootEntity = rootEntity ?? getCompositeEntity(0);
  if (rootEntity) {
    mappedEntities.set(0, rootEntity);
  }
  const childrenComposite = compositeResource.composite.components.find((item) => item.name === CompositeRootComponent.componentName);
  if (childrenComposite) {
    for (const [childCompositeEntity, compositeRawData] of childrenComposite.data) {
      const childComposite = getComponentValue(CompositeRootComponent, compositeRawData);
      const childCompositePath = resolveComposite(childComposite.src, compositeDirectoryPath);
      const childCompositeResource = compositeProvider2.getCompositeOrNull(childCompositePath);
      const targetEntity = getCompositeEntity(childCompositeEntity);
      if (childCompositeResource) {
        if (alreadyRequestedSrc.has(childCompositeResource.src) || childCompositeResource.src === compositeResource.src) {
          throw new Error(`Composite ${compositeResource.src} has a recursive instanciation while try to instance ${childCompositeResource.src}. Previous instances: ${alreadyRequestedSrc.toString()}`);
        }
        instanceComposite(engine2, childCompositeResource, compositeProvider2, {
          rootEntity: targetEntity,
          alreadyRequestedSrc: new Set(alreadyRequestedSrc).add(childCompositeResource.src),
          entityMapping: entityMapping?.type === EntityMappingMode.EMM_NEXT_AVAILABLE ? entityMapping : void 0
        });
      }
    }
  }
  for (const component of compositeResource.composite.components) {
    if (component.name === CompositeRootComponent.componentName)
      continue;
    const componentDefinition = getComponentDefinition(engine2, component);
    for (const [entity, compositeComponentValue] of component.data) {
      const componentValueDeserialized = getComponentValue(componentDefinition, compositeComponentValue);
      const targetEntity = getCompositeEntity(entity);
      const componentValue = componentDefinition.create(targetEntity, componentValueDeserialized);
      if (componentDefinition.componentId === TransformComponentNumber) {
        const transform = componentValue;
        if (transform.parent) {
          transform.parent = getCompositeEntity(transform.parent);
        } else {
          transform.parent = getCompositeEntity(0);
        }
      } else {
        Schemas.mutateNestedValues(componentDefinition.schema.jsonSchema, componentValue, (value, valueType) => {
          if (valueType.serializationType === "entity") {
            return { changed: true, value: getCompositeEntity(value) };
          } else {
            return { changed: false };
          }
        });
      }
    }
  }
  const composite = CompositeRootComponent.getMutableOrNull(compositeRootEntity) || CompositeRootComponent.create(compositeRootEntity);
  for (const [entitySource, targetEntity] of mappedEntities) {
    composite.entities.push({
      src: entitySource,
      dest: targetEntity
    });
  }
  composite.src = compositeResource.src;
  return compositeRootEntity;
}

// node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
var import_minimal53 = __toESM(require_minimal2());

// node_modules/@dcl/ecs/dist/composite/proto/gen/google/protobuf/struct.gen.js
var import_minimal52 = __toESM(require_minimal2());
var NullValue;
(function(NullValue2) {
  NullValue2[NullValue2["NULL_VALUE"] = 0] = "NULL_VALUE";
})(NullValue || (NullValue = {}));
function nullValueFromJSON(object) {
  switch (object) {
    case 0:
    case "NULL_VALUE":
      return 0;
    default:
      throw new tsProtoGlobalThis2.Error("Unrecognized enum value " + object + " for enum NullValue");
  }
}
function nullValueToJSON(object) {
  switch (object) {
    case 0:
      return "NULL_VALUE";
    default:
      throw new tsProtoGlobalThis2.Error("Unrecognized enum value " + object + " for enum NullValue");
  }
}
function createBaseStruct() {
  return { fields: /* @__PURE__ */ new Map() };
}
var Struct;
(function(Struct2) {
  function encode(message, writer = import_minimal52.default.Writer.create()) {
    message.fields.forEach((value, key) => {
      if (value !== void 0) {
        Struct_FieldsEntry.encode({ key, value }, writer.uint32(10).fork()).ldelim();
      }
    });
    return writer;
  }
  Struct2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal52.default.Reader ? input : import_minimal52.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          const entry1 = Struct_FieldsEntry.decode(reader, reader.uint32());
          if (entry1.value !== void 0) {
            message.fields.set(entry1.key, entry1.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct2.decode = decode;
  function fromJSON(object) {
    return {
      fields: isObject(object.fields) ? Object.entries(object.fields).reduce((acc, [key, value]) => {
        acc.set(key, value);
        return acc;
      }, /* @__PURE__ */ new Map()) : /* @__PURE__ */ new Map()
    };
  }
  Struct2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    obj.fields = {};
    if (message.fields) {
      message.fields.forEach((v, k) => {
        obj.fields[k] = v;
      });
    }
    return obj;
  }
  Struct2.toJSON = toJSON;
  function wrap(object) {
    const struct = createBaseStruct();
    if (object !== void 0) {
      Object.keys(object).forEach((key) => {
        struct.fields.set(key, object[key]);
      });
    }
    return struct;
  }
  Struct2.wrap = wrap;
  function unwrap(message) {
    const object = {};
    [...message.fields.keys()].forEach((key) => {
      object[key] = message.fields.get(key);
    });
    return object;
  }
  Struct2.unwrap = unwrap;
})(Struct || (Struct = {}));
function createBaseStruct_FieldsEntry() {
  return { key: "", value: void 0 };
}
var Struct_FieldsEntry;
(function(Struct_FieldsEntry2) {
  function encode(message, writer = import_minimal52.default.Writer.create()) {
    if (message.key !== "") {
      writer.uint32(10).string(message.key);
    }
    if (message.value !== void 0) {
      Value.encode(Value.wrap(message.value), writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  Struct_FieldsEntry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal52.default.Reader ? input : import_minimal52.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseStruct_FieldsEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.key = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Struct_FieldsEntry2.decode = decode;
  function fromJSON(object) {
    return { key: isSet(object.key) ? String(object.key) : "", value: isSet(object?.value) ? object.value : void 0 };
  }
  Struct_FieldsEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = message.key);
    message.value !== void 0 && (obj.value = message.value);
    return obj;
  }
  Struct_FieldsEntry2.toJSON = toJSON;
})(Struct_FieldsEntry || (Struct_FieldsEntry = {}));
function createBaseValue() {
  return { kind: void 0 };
}
var Value;
(function(Value2) {
  function encode(message, writer = import_minimal52.default.Writer.create()) {
    switch (message.kind?.$case) {
      case "nullValue":
        writer.uint32(8).int32(message.kind.nullValue);
        break;
      case "numberValue":
        writer.uint32(17).double(message.kind.numberValue);
        break;
      case "stringValue":
        writer.uint32(26).string(message.kind.stringValue);
        break;
      case "boolValue":
        writer.uint32(32).bool(message.kind.boolValue);
        break;
      case "structValue":
        Struct.encode(Struct.wrap(message.kind.structValue), writer.uint32(42).fork()).ldelim();
        break;
      case "listValue":
        ListValue.encode(ListValue.wrap(message.kind.listValue), writer.uint32(50).fork()).ldelim();
        break;
    }
    return writer;
  }
  Value2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal52.default.Reader ? input : import_minimal52.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.kind = { $case: "nullValue", nullValue: reader.int32() };
          continue;
        case 2:
          if (tag !== 17) {
            break;
          }
          message.kind = { $case: "numberValue", numberValue: reader.double() };
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          message.kind = { $case: "stringValue", stringValue: reader.string() };
          continue;
        case 4:
          if (tag !== 32) {
            break;
          }
          message.kind = { $case: "boolValue", boolValue: reader.bool() };
          continue;
        case 5:
          if (tag !== 42) {
            break;
          }
          message.kind = { $case: "structValue", structValue: Struct.unwrap(Struct.decode(reader, reader.uint32())) };
          continue;
        case 6:
          if (tag !== 50) {
            break;
          }
          message.kind = { $case: "listValue", listValue: ListValue.unwrap(ListValue.decode(reader, reader.uint32())) };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  Value2.decode = decode;
  function fromJSON(object) {
    return {
      kind: isSet(object.nullValue) ? { $case: "nullValue", nullValue: nullValueFromJSON(object.nullValue) } : isSet(object.numberValue) ? { $case: "numberValue", numberValue: Number(object.numberValue) } : isSet(object.stringValue) ? { $case: "stringValue", stringValue: String(object.stringValue) } : isSet(object.boolValue) ? { $case: "boolValue", boolValue: Boolean(object.boolValue) } : isSet(object.structValue) ? { $case: "structValue", structValue: object.structValue } : isSet(object.listValue) ? { $case: "listValue", listValue: [...object.listValue] } : void 0
    };
  }
  Value2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.kind?.$case === "nullValue" && (obj.nullValue = message.kind?.nullValue !== void 0 ? nullValueToJSON(message.kind?.nullValue) : void 0);
    message.kind?.$case === "numberValue" && (obj.numberValue = message.kind?.numberValue);
    message.kind?.$case === "stringValue" && (obj.stringValue = message.kind?.stringValue);
    message.kind?.$case === "boolValue" && (obj.boolValue = message.kind?.boolValue);
    message.kind?.$case === "structValue" && (obj.structValue = message.kind?.structValue);
    message.kind?.$case === "listValue" && (obj.listValue = message.kind?.listValue);
    return obj;
  }
  Value2.toJSON = toJSON;
  function wrap(value) {
    const result = createBaseValue();
    if (value === null) {
      result.kind = {
        $case: "nullValue",
        nullValue: 0
        /* NullValue.NULL_VALUE */
      };
    } else if (typeof value === "boolean") {
      result.kind = { $case: "boolValue", boolValue: value };
    } else if (typeof value === "number") {
      result.kind = { $case: "numberValue", numberValue: value };
    } else if (typeof value === "string") {
      result.kind = { $case: "stringValue", stringValue: value };
    } else if (Array.isArray(value)) {
      result.kind = { $case: "listValue", listValue: value };
    } else if (typeof value === "object") {
      result.kind = { $case: "structValue", structValue: value };
    } else if (typeof value !== "undefined") {
      throw new Error("Unsupported any value type: " + typeof value);
    }
    return result;
  }
  Value2.wrap = wrap;
  function unwrap(message) {
    if (message.kind?.$case === "nullValue") {
      return null;
    } else if (message.kind?.$case === "numberValue") {
      return message.kind?.numberValue;
    } else if (message.kind?.$case === "stringValue") {
      return message.kind?.stringValue;
    } else if (message.kind?.$case === "boolValue") {
      return message.kind?.boolValue;
    } else if (message.kind?.$case === "structValue") {
      return message.kind?.structValue;
    } else if (message.kind?.$case === "listValue") {
      return message.kind?.listValue;
    } else {
      return void 0;
    }
  }
  Value2.unwrap = unwrap;
})(Value || (Value = {}));
function createBaseListValue() {
  return { values: [] };
}
var ListValue;
(function(ListValue2) {
  function encode(message, writer = import_minimal52.default.Writer.create()) {
    for (const v of message.values) {
      Value.encode(Value.wrap(v), writer.uint32(10).fork()).ldelim();
    }
    return writer;
  }
  ListValue2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal52.default.Reader ? input : import_minimal52.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseListValue();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.values.push(Value.unwrap(Value.decode(reader, reader.uint32())));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ListValue2.decode = decode;
  function fromJSON(object) {
    return { values: Array.isArray(object?.values) ? [...object.values] : [] };
  }
  ListValue2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    if (message.values) {
      obj.values = message.values.map((e) => e);
    } else {
      obj.values = [];
    }
    return obj;
  }
  ListValue2.toJSON = toJSON;
  function wrap(array) {
    const result = createBaseListValue();
    result.values = array ?? [];
    return result;
  }
  ListValue2.wrap = wrap;
  function unwrap(message) {
    if (message?.hasOwnProperty("values") && Array.isArray(message.values)) {
      return message.values;
    } else {
      return message;
    }
  }
  ListValue2.unwrap = unwrap;
})(ListValue || (ListValue = {}));
var tsProtoGlobalThis2 = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function isObject(value) {
  return typeof value === "object" && value !== null;
}
function isSet(value) {
  return value !== null && value !== void 0;
}

// node_modules/@dcl/ecs/dist/composite/proto/gen/composite.gen.js
function createBaseComponentData() {
  return { data: void 0 };
}
var ComponentData;
(function(ComponentData2) {
  function encode(message, writer = import_minimal53.default.Writer.create()) {
    switch (message.data?.$case) {
      case "json":
        Value.encode(Value.wrap(message.data.json), writer.uint32(10).fork()).ldelim();
        break;
      case "binary":
        writer.uint32(18).bytes(message.data.binary);
        break;
    }
    return writer;
  }
  ComponentData2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal53.default.Reader ? input : import_minimal53.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseComponentData();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.data = { $case: "json", json: Value.unwrap(Value.decode(reader, reader.uint32())) };
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.data = { $case: "binary", binary: reader.bytes() };
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  ComponentData2.decode = decode;
  function fromJSON(object) {
    return {
      data: isSet2(object.json) ? { $case: "json", json: object.json } : isSet2(object.binary) ? { $case: "binary", binary: bytesFromBase64(object.binary) } : void 0
    };
  }
  ComponentData2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.data?.$case === "json" && (obj.json = message.data?.json);
    message.data?.$case === "binary" && (obj.binary = message.data?.binary !== void 0 ? base64FromBytes(message.data?.binary) : void 0);
    return obj;
  }
  ComponentData2.toJSON = toJSON;
})(ComponentData || (ComponentData = {}));
function createBaseCompositeComponent() {
  return { name: "", jsonSchema: void 0, data: /* @__PURE__ */ new Map() };
}
var CompositeComponent;
(function(CompositeComponent2) {
  function encode(message, writer = import_minimal53.default.Writer.create()) {
    if (message.name !== "") {
      writer.uint32(10).string(message.name);
    }
    if (message.jsonSchema !== void 0) {
      Value.encode(Value.wrap(message.jsonSchema), writer.uint32(18).fork()).ldelim();
    }
    message.data.forEach((value, key) => {
      CompositeComponent_DataEntry.encode({ key, value }, writer.uint32(26).fork()).ldelim();
    });
    return writer;
  }
  CompositeComponent2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal53.default.Reader ? input : import_minimal53.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 10) {
            break;
          }
          message.name = reader.string();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.jsonSchema = Value.unwrap(Value.decode(reader, reader.uint32()));
          continue;
        case 3:
          if (tag !== 26) {
            break;
          }
          const entry3 = CompositeComponent_DataEntry.decode(reader, reader.uint32());
          if (entry3.value !== void 0) {
            message.data.set(entry3.key, entry3.value);
          }
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent2.decode = decode;
  function fromJSON(object) {
    return {
      name: isSet2(object.name) ? String(object.name) : "",
      jsonSchema: isSet2(object?.jsonSchema) ? object.jsonSchema : void 0,
      data: isObject2(object.data) ? Object.entries(object.data).reduce((acc, [key, value]) => {
        acc.set(Number(key), ComponentData.fromJSON(value));
        return acc;
      }, /* @__PURE__ */ new Map()) : /* @__PURE__ */ new Map()
    };
  }
  CompositeComponent2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.name !== void 0 && (obj.name = message.name);
    message.jsonSchema !== void 0 && (obj.jsonSchema = message.jsonSchema);
    obj.data = {};
    if (message.data) {
      message.data.forEach((v, k) => {
        obj.data[k] = ComponentData.toJSON(v);
      });
    }
    return obj;
  }
  CompositeComponent2.toJSON = toJSON;
})(CompositeComponent || (CompositeComponent = {}));
function createBaseCompositeComponent_DataEntry() {
  return { key: 0, value: void 0 };
}
var CompositeComponent_DataEntry;
(function(CompositeComponent_DataEntry2) {
  function encode(message, writer = import_minimal53.default.Writer.create()) {
    if (message.key !== 0) {
      writer.uint32(8).int32(message.key);
    }
    if (message.value !== void 0) {
      ComponentData.encode(message.value, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeComponent_DataEntry2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal53.default.Reader ? input : import_minimal53.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeComponent_DataEntry();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.key = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.value = ComponentData.decode(reader, reader.uint32());
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeComponent_DataEntry2.decode = decode;
  function fromJSON(object) {
    return {
      key: isSet2(object.key) ? Number(object.key) : 0,
      value: isSet2(object.value) ? ComponentData.fromJSON(object.value) : void 0
    };
  }
  CompositeComponent_DataEntry2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.key !== void 0 && (obj.key = Math.round(message.key));
    message.value !== void 0 && (obj.value = message.value ? ComponentData.toJSON(message.value) : void 0);
    return obj;
  }
  CompositeComponent_DataEntry2.toJSON = toJSON;
})(CompositeComponent_DataEntry || (CompositeComponent_DataEntry = {}));
function createBaseCompositeDefinition() {
  return { version: 0, components: [] };
}
var CompositeDefinition;
(function(CompositeDefinition2) {
  function encode(message, writer = import_minimal53.default.Writer.create()) {
    if (message.version !== 0) {
      writer.uint32(8).int32(message.version);
    }
    for (const v of message.components) {
      CompositeComponent.encode(v, writer.uint32(18).fork()).ldelim();
    }
    return writer;
  }
  CompositeDefinition2.encode = encode;
  function decode(input, length2) {
    const reader = input instanceof import_minimal53.default.Reader ? input : import_minimal53.default.Reader.create(input);
    let end = length2 === void 0 ? reader.len : reader.pos + length2;
    const message = createBaseCompositeDefinition();
    while (reader.pos < end) {
      const tag = reader.uint32();
      switch (tag >>> 3) {
        case 1:
          if (tag !== 8) {
            break;
          }
          message.version = reader.int32();
          continue;
        case 2:
          if (tag !== 18) {
            break;
          }
          message.components.push(CompositeComponent.decode(reader, reader.uint32()));
          continue;
      }
      if ((tag & 7) === 4 || tag === 0) {
        break;
      }
      reader.skipType(tag & 7);
    }
    return message;
  }
  CompositeDefinition2.decode = decode;
  function fromJSON(object) {
    return {
      version: isSet2(object.version) ? Number(object.version) : 0,
      components: Array.isArray(object?.components) ? object.components.map((e) => CompositeComponent.fromJSON(e)) : []
    };
  }
  CompositeDefinition2.fromJSON = fromJSON;
  function toJSON(message) {
    const obj = {};
    message.version !== void 0 && (obj.version = Math.round(message.version));
    if (message.components) {
      obj.components = message.components.map((e) => e ? CompositeComponent.toJSON(e) : void 0);
    } else {
      obj.components = [];
    }
    return obj;
  }
  CompositeDefinition2.toJSON = toJSON;
})(CompositeDefinition || (CompositeDefinition = {}));
var tsProtoGlobalThis3 = (() => {
  if (typeof globalThis !== "undefined") {
    return globalThis;
  }
  if (typeof self !== "undefined") {
    return self;
  }
  if (false) {
    return void 0;
  }
  if (typeof global !== "undefined") {
    return global;
  }
  throw "Unable to locate global object";
})();
function bytesFromBase64(b64) {
  if (tsProtoGlobalThis3.Buffer) {
    return Uint8Array.from(tsProtoGlobalThis3.Buffer.from(b64, "base64"));
  } else {
    const bin = tsProtoGlobalThis3.atob(b64);
    const arr = new Uint8Array(bin.length);
    for (let i = 0; i < bin.length; ++i) {
      arr[i] = bin.charCodeAt(i);
    }
    return arr;
  }
}
function base64FromBytes(arr) {
  if (tsProtoGlobalThis3.Buffer) {
    return tsProtoGlobalThis3.Buffer.from(arr).toString("base64");
  } else {
    const bin = [];
    arr.forEach((byte) => {
      bin.push(String.fromCharCode(byte));
    });
    return tsProtoGlobalThis3.btoa(bin.join(""));
  }
}
function isObject2(value) {
  return typeof value === "object" && value !== null;
}
function isSet2(value) {
  return value !== null && value !== void 0;
}

// node_modules/@dcl/ecs/dist/composite/index.js
var Composite;
(function(Composite2) {
  function fromJson(object) {
    return CompositeDefinition.fromJSON(object);
  }
  Composite2.fromJson = fromJson;
  function fromBinary(buffer2) {
    return CompositeDefinition.decode(buffer2);
  }
  Composite2.fromBinary = fromBinary;
  function toJson(composite) {
    return CompositeDefinition.toJSON(composite);
  }
  Composite2.toJson = toJson;
  function toBinary(composite) {
    return CompositeDefinition.encode(composite).finish();
  }
  Composite2.toBinary = toBinary;
  function instance(engine2, compositeData, compositeProvider2, options = {}) {
    instanceComposite(engine2, compositeData, compositeProvider2, options);
  }
  Composite2.instance = instance;
  function resolveAndNormalizePath(src, cwd = "/") {
    return resolveComposite(src, cwd);
  }
  Composite2.resolveAndNormalizePath = resolveAndNormalizePath;
})(Composite || (Composite = {}));

// node_modules/@dcl/ecs/dist/index.js
var Transform2 = /* @__PURE__ */ Transform(engine);
var AudioSource3 = /* @__PURE__ */ AudioSource2(engine);
var AudioStream3 = /* @__PURE__ */ AudioStream2(engine);
var Material3 = /* @__PURE__ */ Material2(engine);
var MeshRenderer3 = /* @__PURE__ */ MeshRenderer2(engine);
var MeshCollider3 = /* @__PURE__ */ MeshCollider2(engine);
var Name2 = Name(engine);
var Tween3 = /* @__PURE__ */ Tween2(engine);
var SyncComponents2 = /* @__PURE__ */ SyncComponents(engine);
var NetworkEntity2 = /* @__PURE__ */ NetworkEntity(engine);
var NetworkParent2 = /* @__PURE__ */ NetworkParent(engine);

// src/index.ts
function main() {
  const myModel = engine.addEntity();
  Transform2.create(myModel, {
    position: { x: 2, y: 0, z: 32 },
    scale: { x: 0.85, y: 0.85, z: 0.85 },
    rotation: { x: 0, y: 0, z: 0, w: 1 }
  });
  GltfContainer2.create(myModel, {
    src: "assets/scene/LAUNDROMAT.glb",
    invisibleMeshesCollisionMask: ColliderLayer.CL_PHYSICS,
    visibleMeshesCollisionMask: ColliderLayer.CL_PHYSICS
  });
}

// node_modules/@dcl/sdk/network/index.js
var import_CommunicationsController = require("~system/CommunicationsController");

// node_modules/@dcl/sdk/network/state.js
var NOT_SYNC_COMPONENTS = [
  VideoEvent2,
  VideoPlayer2,
  TweenState2,
  AudioEvent2,
  AudioSource3,
  EngineInfo2,
  GltfContainerLoadingState2,
  PointerEventsResult2,
  RaycastResult2,
  RealmInfo2,
  UiDropdown2,
  UiDropdownResult2,
  UiInput2,
  UiInputResult2,
  UiTransform2,
  UiText2
];
var NOT_SYNC_COMPONENTS_IDS = NOT_SYNC_COMPONENTS.map(($) => $.componentId);
function engineToCrdt(engine2) {
  const crdtBuffer = new ReadWriteByteBuffer();
  const networkBuffer = new ReadWriteByteBuffer();
  const NetworkEntity4 = engine2.getComponent(NetworkEntity2.componentId);
  for (const itComponentDefinition of engine2.componentsIter()) {
    if (NOT_SYNC_COMPONENTS_IDS.includes(itComponentDefinition.componentId)) {
      continue;
    }
    itComponentDefinition.dumpCrdtStateToBuffer(crdtBuffer, (entity) => {
      const isNetworkEntity = NetworkEntity4.has(entity);
      return isNetworkEntity;
    });
  }
  let header;
  while (header = CrdtMessageProtocol.getHeader(crdtBuffer)) {
    if (header.type === CrdtMessageType.PUT_COMPONENT) {
      const message = PutComponentOperation.read(crdtBuffer);
      const networkEntity = NetworkEntity4.getOrNull(message.entityId);
      if (networkEntity) {
        PutNetworkComponentOperation.write(networkEntity.entityId, message.timestamp, message.componentId, networkEntity.networkId, message.data, networkBuffer);
      } else {
        PutComponentOperation.write(message.entityId, message.timestamp, message.componentId, message.data, networkBuffer);
      }
    } else {
      crdtBuffer.incrementReadOffset(header.length);
    }
  }
  return networkBuffer.toBinary();
}

// node_modules/@dcl/sdk/network/filter.js
function syncFilter(engine2) {
  const NetworkEntity4 = engine2.getComponent(NetworkEntity2.componentId);
  const SyncComponents3 = engine2.getComponent(SyncComponents2.componentId);
  return function(message) {
    const componentId = message.componentId;
    if (NOT_SYNC_COMPONENTS_IDS.includes(componentId)) {
      return false;
    }
    const [entityId] = EntityUtils.fromEntityId(message.entityId);
    if (entityId < RESERVED_STATIC_ENTITIES) {
      return false;
    }
    const network = NetworkEntity4.getOrNull(message.entityId);
    if (message.type === CrdtMessageType.DELETE_ENTITY_NETWORK || network && message.type === CrdtMessageType.DELETE_ENTITY) {
      return true;
    }
    const sync = SyncComponents3.getOrNull(message.entityId);
    if (!sync)
      return false;
    if (message.timestamp <= 1) {
      return true;
    }
    if (componentId === NetworkEntity4.componentId) {
      return false;
    }
    if (componentId === NetworkParent2.componentId || componentId === SyncComponents3.componentId) {
      return true;
    }
    if (componentId && sync.componentIds.includes(componentId)) {
      return true;
    }
    return false;
  };
}

// node_modules/@dcl/sdk/network/binary-message-bus.js
var CommsMessage;
(function(CommsMessage2) {
  CommsMessage2[CommsMessage2["CRDT"] = 1] = "CRDT";
  CommsMessage2[CommsMessage2["REQ_CRDT_STATE"] = 2] = "REQ_CRDT_STATE";
  CommsMessage2[CommsMessage2["RES_CRDT_STATE"] = 3] = "RES_CRDT_STATE";
})(CommsMessage || (CommsMessage = {}));
function BinaryMessageBus(send) {
  const mapping = /* @__PURE__ */ new Map();
  return {
    on: (message, callback) => {
      mapping.set(message, callback);
    },
    emit: (message, value) => {
      send(craftCommsMessage(message, value));
    },
    __processMessages: (messages) => {
      for (const message of messages) {
        const commsMsg = decodeCommsMessage(message);
        if (!commsMsg)
          continue;
        const { sender, messageType, data } = commsMsg;
        const fn = mapping.get(messageType);
        if (fn)
          fn(data, sender);
      }
    }
  };
}
function craftCommsMessage(messageType, payload) {
  const msg = new Uint8Array(payload.byteLength + 1);
  msg.set([messageType]);
  msg.set(payload, 1);
  return msg;
}
function decodeCommsMessage(data) {
  try {
    let offset = 0;
    const r = new Uint8Array(data);
    const view = new DataView(r.buffer);
    const senderLength = view.getUint8(offset);
    offset += 1;
    const sender = decodeString(data.subarray(1, senderLength + 1));
    offset += senderLength;
    const messageType = view.getUint8(offset);
    offset += 1;
    const message = r.subarray(offset);
    return {
      sender,
      messageType,
      data: message
    };
  } catch (e) {
    console.error("Invalid Comms message", e);
  }
}
function decodeString(data) {
  const buffer2 = new ReadWriteByteBuffer();
  buffer2.writeBuffer(data, true);
  return buffer2.readUtf8String();
}
function encodeString(s) {
  const buffer2 = new ReadWriteByteBuffer();
  buffer2.writeUtf8String(s);
  return buffer2.readBuffer();
}

// node_modules/@dcl/sdk/network/utils.js
function fetchProfile(myProfile2, getUserData2) {
  void getUserData2({}).then(({ data }) => {
    if (data?.userId) {
      const userId = data.userId;
      const networkId = componentNumberFromName(data.userId);
      myProfile2.networkId = networkId;
      myProfile2.userId = userId;
    } else {
      throw new Error(`Couldn't fetch profile data`);
    }
  });
}

// node_modules/@dcl/sdk/network/entities.js
function entityUtils(engine2, profile) {
  const NetworkEntity4 = engine2.getComponent(NetworkEntity2.componentId);
  const NetworkParent3 = engine2.getComponent(NetworkParent2.componentId);
  const Transform3 = engine2.getComponent(Transform2.componentId);
  const SyncComponents3 = engine2.getComponent(SyncComponents2.componentId);
  function syncEntity2(entityId, componentIds, entityEnumId) {
    let componentsIdsMutable = [...componentIds];
    if (!profile?.networkId) {
      throw new Error("Profile not initialized. Call syncEntity inside the main() function.");
    }
    const networkValue = { entityId, networkId: profile.networkId };
    if (entityEnumId !== void 0) {
      networkValue.networkId = 0;
      networkValue.entityId = entityEnumId;
      for (const [_, network] of engine2.getEntitiesWith(NetworkEntity4)) {
        if (network.networkId === networkValue.networkId && network.entityId === networkValue.entityId) {
          throw new Error("syncEntity failed because the id provided is already in use");
        }
      }
    }
    for (const component of NOT_SYNC_COMPONENTS) {
      if (componentsIdsMutable.includes(component.componentId)) {
        console.log(`\u26A0\uFE0F ${component.componentName} can't be sync through the network!`);
        componentsIdsMutable = componentsIdsMutable.filter(($) => $ !== component.componentId);
      }
    }
    NetworkEntity4.createOrReplace(entityId, networkValue);
    SyncComponents3.createOrReplace(entityId, { componentIds: componentsIdsMutable });
  }
  function* getChildren2(parent) {
    const network = NetworkEntity4.getOrNull(parent);
    if (network) {
      for (const [entity, parent2] of engine2.getEntitiesWith(NetworkParent3)) {
        if (parent2.entityId === network.entityId && parent2.networkId === network.networkId) {
          yield entity;
        }
      }
    }
  }
  function getFirstChild2(entity) {
    return Array.from(getChildren2(entity))[0];
  }
  function getParent2(child) {
    const parent = NetworkParent3.getOrNull(child);
    if (!parent)
      return void 0;
    for (const [entity, network] of engine2.getEntitiesWith(NetworkEntity4)) {
      if (parent.networkId === network.networkId && parent.entityId === network.entityId) {
        return entity;
      }
    }
    return void 0;
  }
  function parentEntity2(entity, parent) {
    const network = NetworkEntity4.getOrNull(parent);
    if (!network) {
      throw new Error("Entity is not sync. Call syncEntity on the parent.");
    }
    NetworkParent3.createOrReplace(entity, network);
    if (!Transform3.getOrNull(entity)) {
      Transform3.create(entity);
    } else {
      Transform3.getMutable(entity);
    }
  }
  function removeParent2(entity) {
    const network = NetworkEntity4.getOrNull(entity);
    if (!network) {
      throw new Error("Entity is not sync");
    }
    NetworkParent3.deleteFrom(entity);
  }
  return {
    syncEntity: syncEntity2,
    getChildren: getChildren2,
    getParent: getParent2,
    parentEntity: parentEntity2,
    removeParent: removeParent2,
    getFirstChild: getFirstChild2
  };
}

// node_modules/@dcl/sdk/players/index.js
function definePlayerHelper(engine2) {
  const Transform3 = Transform(engine2);
  const PlayerIdentityData3 = PlayerIdentityData(engine2);
  const AvatarEquippedData3 = AvatarEquippedData(engine2);
  const AvatarBase3 = AvatarBase(engine2);
  const playerEntities = /* @__PURE__ */ new Map();
  const onEnterSceneCb = [];
  const onLeaveSceneCb = [];
  engine2.addSystem(() => {
    const players2 = Array.from(engine2.getEntitiesWith(PlayerIdentityData3, AvatarBase3));
    if (players2.length === playerEntities.size)
      return;
    for (const [entity, identity] of players2) {
      if (!playerEntities.has(entity)) {
        playerEntities.set(entity, identity.address);
        if (onEnterSceneCb.length) {
          onEnterSceneCb.forEach((cb) => cb(getPlayer({ userId: identity.address })));
        }
        AvatarBase3.onChange(entity, (value) => {
          if (!value && onLeaveSceneCb.length && playerEntities.get(entity)) {
            onLeaveSceneCb.forEach((cb) => cb(playerEntities.get(entity)));
            playerEntities.delete(entity);
          }
        });
      }
    }
  });
  return {
    onEnterScene(cb) {
      onEnterSceneCb.push(cb);
    },
    onLeaveScene(cb) {
      onLeaveSceneCb.push(cb);
    },
    /**
     * Returns the info of the player if it's in the scene.
     */
    getPlayer(user) {
      function getEntity() {
        if (!user?.userId)
          return engine2.PlayerEntity;
        for (const [entity, data] of engine2.getEntitiesWith(PlayerIdentityData3)) {
          if (data.address === user.userId) {
            return entity;
          }
        }
        return void 0;
      }
      const userEntity = getEntity();
      if (!userEntity)
        return null;
      const playerData = PlayerIdentityData3.getOrNull(userEntity);
      const avatarData = AvatarBase3.getOrNull(userEntity);
      const wearablesData = AvatarEquippedData3.getOrNull(userEntity);
      if (!playerData && !avatarData && !wearablesData)
        return null;
      return {
        entity: userEntity,
        name: avatarData?.name ?? "",
        isGuest: !!playerData?.isGuest,
        userId: playerData?.address ?? "",
        avatar: avatarData ?? void 0,
        wearables: wearablesData?.wearableUrns ?? [],
        emotes: wearablesData?.emoteUrns ?? [],
        position: Transform3.getOrNull(userEntity)?.position
      };
    }
  };
}
var players = definePlayerHelper(engine);
var { getPlayer, onEnterScene, onLeaveScene } = players;
var players_default = players;

// node_modules/@dcl/ecs/dist/serialization/crdt/message.js
function readMessage(buf) {
  const header = CrdtMessageProtocol.getHeader(buf);
  if (!header)
    return null;
  if (header.type === CrdtMessageType.PUT_COMPONENT) {
    return PutComponentOperation.read(buf);
  } else if (header.type === CrdtMessageType.PUT_COMPONENT_NETWORK) {
    return PutNetworkComponentOperation.read(buf);
  } else if (header.type === CrdtMessageType.DELETE_COMPONENT) {
    return DeleteComponent.read(buf);
  } else if (header.type === CrdtMessageType.DELETE_COMPONENT_NETWORK) {
    return DeleteComponentNetwork.read(buf);
  } else if (header.type === CrdtMessageType.APPEND_VALUE) {
    return AppendValueOperation.read(buf);
  } else if (header.type === CrdtMessageType.DELETE_ENTITY) {
    return DeleteEntity.read(buf);
  } else if (header.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
    return DeleteEntityNetwork.read(buf);
  }
  return null;
}

// node_modules/@dcl/sdk/internal/transports/logger.js
function* serializeCrdtMessages(prefix, data, engine2) {
  const buffer2 = new ReadWriteByteBuffer(data);
  let message;
  while (message = readMessage(buffer2)) {
    const ent = message.entityId;
    const preface = `${prefix}: ${CrdtMessageType[message.type]} e=${ent}`;
    if (message.type === CrdtMessageType.DELETE_ENTITY || message.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
      yield `${preface}`;
    }
    if (message.type === CrdtMessageType.PUT_COMPONENT || message.type === CrdtMessageType.PUT_COMPONENT_NETWORK || message.type === CrdtMessageType.DELETE_COMPONENT_NETWORK || message.type === CrdtMessageType.DELETE_COMPONENT || message.type === CrdtMessageType.APPEND_VALUE) {
      const { componentId, timestamp } = message;
      const data2 = "data" in message ? message.data : void 0;
      try {
        const c = engine2.getComponent(componentId);
        yield `${preface} c=${c.componentName} t=${timestamp} data=${JSON.stringify(data2 && c.schema.deserialize(new ReadWriteByteBuffer(data2)) || null)}`;
      } catch {
        yield `${preface} c=${componentId} t=${timestamp} data=?`;
      }
    } else if (message.type === CrdtMessageType.DELETE_ENTITY || message.type === CrdtMessageType.DELETE_ENTITY_NETWORK) {
      yield preface;
    } else {
      yield `${preface} Unknown CrdtMessageType`;
    }
  }
}

// node_modules/@dcl/sdk/network/message-bus-sync.js
function addSyncTransport(engine2, sendBinary2, getUserData2) {
  const DEBUG_NETWORK_MESSAGES = () => globalThis.DEBUG_NETWORK_MESSAGES ?? true;
  const myProfile2 = {};
  fetchProfile(myProfile2, getUserData2);
  const entityDefinitions = entityUtils(engine2, myProfile2);
  const pendingMessageBusMessagesToSend = [];
  const binaryMessageBus = BinaryMessageBus((message) => pendingMessageBusMessagesToSend.push(message));
  function getMessagesToSend() {
    const messages = [...pendingMessageBusMessagesToSend];
    pendingMessageBusMessagesToSend.length = 0;
    return messages;
  }
  const players2 = definePlayerHelper(engine2);
  let stateIsSyncronized = false;
  let transportInitialzed = false;
  const transport = {
    filter: syncFilter(engine2),
    send: async (message) => {
      if (message.byteLength && transportInitialzed) {
        DEBUG_NETWORK_MESSAGES() && console.log(...Array.from(serializeCrdtMessages("[NetworkMessage sent]:", message, engine2)));
        binaryMessageBus.emit(CommsMessage.CRDT, message);
      }
      const messages = getMessagesToSend();
      const response = await sendBinary2({ data: messages });
      binaryMessageBus.__processMessages(response.data);
      transportInitialzed = true;
    },
    type: "network"
  };
  engine2.addTransport(transport);
  binaryMessageBus.on(CommsMessage.RES_CRDT_STATE, (value) => {
    const { sender, data } = decodeCRDTState(value);
    if (sender !== myProfile2.userId)
      return;
    DEBUG_NETWORK_MESSAGES() && console.log("[Processing CRDT State]", data.byteLength);
    transport.onmessage(data);
    stateIsSyncronized = true;
  });
  binaryMessageBus.on(CommsMessage.REQ_CRDT_STATE, async (message, userId) => {
    console.log(`Sending CRDT State to: ${userId}`);
    transport.onmessage(message);
    binaryMessageBus.emit(CommsMessage.RES_CRDT_STATE, encodeCRDTState(userId, engineToCrdt(engine2)));
  });
  binaryMessageBus.on(CommsMessage.CRDT, (value) => {
    DEBUG_NETWORK_MESSAGES() && console.log(Array.from(serializeCrdtMessages("[NetworkMessage received]:", value, engine2)));
    transport.onmessage(value);
  });
  async function requestState(retryCount = 1) {
    let players3 = Array.from(engine2.getEntitiesWith(PlayerIdentityData2));
    DEBUG_NETWORK_MESSAGES() && console.log(`Requesting state. Players connected: ${players3.length - 1}`);
    if (!RealmInfo2.getOrNull(engine2.RootEntity)?.isConnectedSceneRoom) {
      DEBUG_NETWORK_MESSAGES() && console.log(`Aborting Requesting state?. Disconnected`);
      return;
    }
    binaryMessageBus.emit(CommsMessage.REQ_CRDT_STATE, engineToCrdt(engine2));
    await sleep(5e3);
    players3 = Array.from(engine2.getEntitiesWith(PlayerIdentityData2));
    if (!stateIsSyncronized) {
      if (players3.length > 1 && retryCount <= 2) {
        DEBUG_NETWORK_MESSAGES() && console.log(`Requesting state again ${retryCount} (no response). Players connected: ${players3.length - 1}`);
        void requestState(retryCount + 1);
      } else {
        DEBUG_NETWORK_MESSAGES() && console.log("No active players. State syncronized");
        stateIsSyncronized = true;
      }
    }
  }
  players2.onEnterScene((player) => {
    DEBUG_NETWORK_MESSAGES() && console.log("[onEnterScene]", player.userId);
  });
  RealmInfo2.onChange(engine2.RootEntity, (value) => {
    if (!value?.isConnectedSceneRoom) {
      DEBUG_NETWORK_MESSAGES() && console.log("Disconnected from comms");
      stateIsSyncronized = false;
    }
    if (value?.isConnectedSceneRoom) {
      DEBUG_NETWORK_MESSAGES() && console.log("Connected to comms");
    }
    if (value?.isConnectedSceneRoom && !stateIsSyncronized) {
      void requestState();
    }
  });
  players2.onLeaveScene((userId) => {
    DEBUG_NETWORK_MESSAGES() && console.log("[onLeaveScene]", userId);
  });
  function isStateSyncronized2() {
    return stateIsSyncronized;
  }
  function sleep(ms) {
    return new Promise((resolve2) => {
      let timer = 0;
      function sleepSystem(dt) {
        timer += dt;
        if (timer * 1e3 >= ms) {
          engine2.removeSystem(sleepSystem);
          resolve2();
        }
      }
      engine2.addSystem(sleepSystem);
    });
  }
  return {
    ...entityDefinitions,
    myProfile: myProfile2,
    isStateSyncronized: isStateSyncronized2
  };
}
function decodeCRDTState(data) {
  let offset = 0;
  const r = new Uint8Array(data);
  const view = new DataView(r.buffer);
  const senderLength = view.getUint8(offset);
  offset += 1;
  const sender = decodeString(data.subarray(1, senderLength + 1));
  offset += senderLength;
  const state = r.subarray(offset);
  return { sender, data: state };
}
function encodeCRDTState(address, data) {
  const addressBuffer = encodeString(address);
  const addressOffset = 1;
  const messageLength = addressOffset + addressBuffer.byteLength + data.byteLength;
  const serializedMessage = new Uint8Array(messageLength);
  serializedMessage.set(new Uint8Array([addressBuffer.byteLength]), 0);
  serializedMessage.set(addressBuffer, 1);
  serializedMessage.set(data, addressBuffer.byteLength + 1);
  return serializedMessage;
}

// node_modules/@dcl/sdk/network/index.js
var import_UserIdentity = require("~system/UserIdentity");
var { getChildren, syncEntity, parentEntity, getParent, myProfile, removeParent, getFirstChild, isStateSyncronized } = addSyncTransport(engine, import_CommunicationsController.sendBinary, import_UserIdentity.getUserData);

// node_modules/@dcl/asset-packs/dist/action-types.js
function addActionType(engine2, type, schema) {
  const ActionTypes = getComponent(ComponentName.ACTION_TYPES, engine2);
  const actionTypes = ActionTypes.getOrCreateMutable(engine2.RootEntity);
  const actionType = {
    type,
    jsonSchema: JSON.stringify(schema?.jsonSchema || Schemas.Map({}).jsonSchema)
  };
  actionTypes.value = [
    ...actionTypes.value.filter(($) => $.type !== actionType.type),
    actionType
  ];
}
function getPayload(action) {
  return JSON.parse(action.jsonPayload);
}

// node_modules/@dcl/asset-packs/dist/enums.js
var ComponentName;
(function(ComponentName2) {
  ComponentName2["ACTION_TYPES"] = "asset-packs::ActionTypes";
  ComponentName2["ACTIONS"] = "asset-packs::Actions";
  ComponentName2["COUNTER"] = "asset-packs::Counter";
  ComponentName2["TRIGGERS"] = "asset-packs::Triggers";
  ComponentName2["STATES"] = "asset-packs::States";
  ComponentName2["COUNTER_BAR"] = "asset-packs::CounterBar";
})(ComponentName || (ComponentName = {}));
var TweenType;
(function(TweenType2) {
  TweenType2["MOVE_ITEM"] = "move_item";
  TweenType2["ROTATE_ITEM"] = "rotate_item";
  TweenType2["SCALE_ITEM"] = "scale_item";
})(TweenType || (TweenType = {}));
var InterpolationType;
(function(InterpolationType3) {
  InterpolationType3["LINEAR"] = "linear";
  InterpolationType3["EASEINQUAD"] = "easeinquad";
  InterpolationType3["EASEOUTQUAD"] = "easeoutquad";
  InterpolationType3["EASEQUAD"] = "easequad";
  InterpolationType3["EASEINSINE"] = "easeinsine";
  InterpolationType3["EASEOUTSINE"] = "easeoutsine";
  InterpolationType3["EASESINE"] = "easeinoutsine";
  InterpolationType3["EASEINEXPO"] = "easeinexpo";
  InterpolationType3["EASEOUTEXPO"] = "easeoutexpo";
  InterpolationType3["EASEEXPO"] = "easeinoutexpo";
  InterpolationType3["EASEINELASTIC"] = "easeinelastic";
  InterpolationType3["EASEOUTELASTIC"] = "easeoutelastic";
  InterpolationType3["EASEELASTIC"] = "easeinoutelastic";
  InterpolationType3["EASEINBOUNCE"] = "easeinbounce";
  InterpolationType3["EASEOUTEBOUNCE"] = "easeoutbounce";
  InterpolationType3["EASEBOUNCE"] = "easeinoutbounce";
})(InterpolationType || (InterpolationType = {}));
var ActionType;
(function(ActionType2) {
  ActionType2["PLAY_ANIMATION"] = "play_animation";
  ActionType2["STOP_ANIMATION"] = "stop_animation";
  ActionType2["SET_STATE"] = "set_state";
  ActionType2["START_TWEEN"] = "start_tween";
  ActionType2["SET_COUNTER"] = "set_counter";
  ActionType2["INCREMENT_COUNTER"] = "increment_counter";
  ActionType2["DECREASE_COUNTER"] = "decrease_counter";
  ActionType2["PLAY_SOUND"] = "play_sound";
  ActionType2["STOP_SOUND"] = "stop_sound";
  ActionType2["SET_VISIBILITY"] = "set_visibility";
  ActionType2["ATTACH_TO_PLAYER"] = "attach_to_player";
  ActionType2["DETACH_FROM_PLAYER"] = "detach_from_player";
  ActionType2["PLAY_VIDEO_STREAM"] = "play_video_stream";
  ActionType2["STOP_VIDEO_STREAM"] = "stop_video_stream";
  ActionType2["PLAY_AUDIO_STREAM"] = "play_audio_stream";
  ActionType2["STOP_AUDIO_STREAM"] = "stop_audio_stream";
  ActionType2["TELEPORT_PLAYER"] = "teleport_player";
  ActionType2["MOVE_PLAYER"] = "move_player";
  ActionType2["PLAY_DEFAULT_EMOTE"] = "play_default_emote";
  ActionType2["PLAY_CUSTOM_EMOTE"] = "play_custom_emote";
  ActionType2["OPEN_LINK"] = "open_link";
  ActionType2["SHOW_TEXT"] = "show_text";
  ActionType2["HIDE_TEXT"] = "hide_text";
  ActionType2["START_DELAY"] = "start_delay";
  ActionType2["STOP_DELAY"] = "stop_delay";
  ActionType2["START_LOOP"] = "start_loop";
  ActionType2["STOP_LOOP"] = "stop_loop";
  ActionType2["CLONE_ENTITY"] = "clone_entity";
  ActionType2["REMOVE_ENTITY"] = "remove_entity";
  ActionType2["SHOW_IMAGE"] = "show_image";
  ActionType2["HIDE_IMAGE"] = "hide_image";
  ActionType2["DAMAGE"] = "damage";
  ActionType2["MOVE_PLAYER_HERE"] = "move_player_here";
  ActionType2["PLACE_ON_PLAYER"] = "place_on_player";
  ActionType2["ROTATE_AS_PLAYER"] = "rotate_as_player";
  ActionType2["PLACE_ON_CAMERA"] = "place_on_camera";
  ActionType2["ROTATE_AS_CAMERA"] = "rotate_as_camera";
  ActionType2["SET_POSITION"] = "set_position";
  ActionType2["SET_ROTATION"] = "set_rotation";
  ActionType2["SET_SCALE"] = "set_scale";
  ActionType2["FOLLOW_PLAYER"] = "follow_player";
  ActionType2["STOP_FOLLOWING_PLAYER"] = "stop_following_player";
  ActionType2["RANDOM"] = "random";
  ActionType2["BATCH"] = "batch";
  ActionType2["HEAL_PLAYER"] = "heal_player";
})(ActionType || (ActionType = {}));
var TriggerType;
(function(TriggerType2) {
  TriggerType2["ON_CLICK"] = "on_click";
  TriggerType2["ON_INPUT_ACTION"] = "on_input_action";
  TriggerType2["ON_STATE_CHANGE"] = "on_state_change";
  TriggerType2["ON_SPAWN"] = "on_spawn";
  TriggerType2["ON_TWEEN_END"] = "on_tween_end";
  TriggerType2["ON_COUNTER_CHANGE"] = "on_counter_change";
  TriggerType2["ON_PLAYER_ENTERS_AREA"] = "on_player_enters_area";
  TriggerType2["ON_PLAYER_LEAVES_AREA"] = "on_player_leaves_area";
  TriggerType2["ON_DELAY"] = "on_delay";
  TriggerType2["ON_LOOP"] = "on_loop";
  TriggerType2["ON_CLONE"] = "on_clone";
  TriggerType2["ON_CLICK_IMAGE"] = "on_click_image";
  TriggerType2["ON_DAMAGE"] = "on_damage";
  TriggerType2["ON_GLOBAL_CLICK"] = "on_global_click";
  TriggerType2["ON_GLOBAL_PRIMARY"] = "on_global_primary";
  TriggerType2["ON_GLOBAL_SECONDARY"] = "on_global_secondary";
  TriggerType2["ON_TICK"] = "on_tick";
  TriggerType2["ON_HEAL_PLAYER"] = "on_heal_player";
  TriggerType2["ON_PLAYER_SPAWN"] = "on_player_spawn";
})(TriggerType || (TriggerType = {}));
var TriggerConditionType;
(function(TriggerConditionType2) {
  TriggerConditionType2["WHEN_STATE_IS"] = "when_state_is";
  TriggerConditionType2["WHEN_STATE_IS_NOT"] = "when_state_is_not";
  TriggerConditionType2["WHEN_COUNTER_EQUALS"] = "when_counter_equals";
  TriggerConditionType2["WHEN_COUNTER_IS_GREATER_THAN"] = "when_counter_is_greater_than";
  TriggerConditionType2["WHEN_COUNTER_IS_LESS_THAN"] = "when_counter_is_less_than";
  TriggerConditionType2["WHEN_DISTANCE_TO_PLAYER_LESS_THAN"] = "when_distance_to_player_less_than";
  TriggerConditionType2["WHEN_DISTANCE_TO_PLAYER_GREATER_THAN"] = "when_distance_to_player_greater_than";
  TriggerConditionType2["WHEN_PREVIOUS_STATE_IS"] = "when_previous_state_is";
  TriggerConditionType2["WHEN_PREVIOUS_STATE_IS_NOT"] = "when_previous_state_is_not";
})(TriggerConditionType || (TriggerConditionType = {}));
var TriggerConditionOperation;
(function(TriggerConditionOperation2) {
  TriggerConditionOperation2["AND"] = "and";
  TriggerConditionOperation2["OR"] = "or";
})(TriggerConditionOperation || (TriggerConditionOperation = {}));
var AlignMode;
(function(AlignMode2) {
  AlignMode2[AlignMode2["TAM_TOP_LEFT"] = 0] = "TAM_TOP_LEFT";
  AlignMode2[AlignMode2["TAM_TOP_CENTER"] = 1] = "TAM_TOP_CENTER";
  AlignMode2[AlignMode2["TAM_TOP_RIGHT"] = 2] = "TAM_TOP_RIGHT";
  AlignMode2[AlignMode2["TAM_MIDDLE_LEFT"] = 3] = "TAM_MIDDLE_LEFT";
  AlignMode2[AlignMode2["TAM_MIDDLE_CENTER"] = 4] = "TAM_MIDDLE_CENTER";
  AlignMode2[AlignMode2["TAM_MIDDLE_RIGHT"] = 5] = "TAM_MIDDLE_RIGHT";
  AlignMode2[AlignMode2["TAM_BOTTOM_LEFT"] = 6] = "TAM_BOTTOM_LEFT";
  AlignMode2[AlignMode2["TAM_BOTTOM_CENTER"] = 7] = "TAM_BOTTOM_CENTER";
  AlignMode2[AlignMode2["TAM_BOTTOM_RIGHT"] = 8] = "TAM_BOTTOM_RIGHT";
})(AlignMode || (AlignMode = {}));
var Font2;
(function(Font3) {
  Font3[Font3["F_SANS_SERIF"] = 0] = "F_SANS_SERIF";
  Font3[Font3["F_SERIF"] = 1] = "F_SERIF";
  Font3[Font3["F_MONOSPACE"] = 2] = "F_MONOSPACE";
})(Font2 || (Font2 = {}));
var Colliders;
(function(Colliders2) {
  Colliders2[Colliders2["CL_NONE"] = 0] = "CL_NONE";
  Colliders2[Colliders2["CL_POINTER"] = 1] = "CL_POINTER";
  Colliders2[Colliders2["CL_PHYSICS"] = 2] = "CL_PHYSICS";
  Colliders2[Colliders2["CL_RESERVED1"] = 4] = "CL_RESERVED1";
  Colliders2[Colliders2["CL_RESERVED2"] = 8] = "CL_RESERVED2";
  Colliders2[Colliders2["CL_RESERVED3"] = 16] = "CL_RESERVED3";
  Colliders2[Colliders2["CL_RESERVED4"] = 32] = "CL_RESERVED4";
  Colliders2[Colliders2["CL_RESERVED5"] = 64] = "CL_RESERVED5";
  Colliders2[Colliders2["CL_RESERVED6"] = 128] = "CL_RESERVED6";
  Colliders2[Colliders2["CL_CUSTOM1"] = 256] = "CL_CUSTOM1";
  Colliders2[Colliders2["CL_CUSTOM2"] = 512] = "CL_CUSTOM2";
  Colliders2[Colliders2["CL_CUSTOM3"] = 1024] = "CL_CUSTOM3";
  Colliders2[Colliders2["CL_CUSTOM4"] = 2048] = "CL_CUSTOM4";
  Colliders2[Colliders2["CL_CUSTOM5"] = 4096] = "CL_CUSTOM5";
  Colliders2[Colliders2["CL_CUSTOM6"] = 8192] = "CL_CUSTOM6";
  Colliders2[Colliders2["CL_CUSTOM7"] = 16384] = "CL_CUSTOM7";
  Colliders2[Colliders2["CL_CUSTOM8"] = 32768] = "CL_CUSTOM8";
})(Colliders || (Colliders = {}));
var ProximityLayer;
(function(ProximityLayer2) {
  ProximityLayer2["ALL"] = "all";
  ProximityLayer2["PLAYER"] = "player";
  ProximityLayer2["NON_PLAYER"] = "non_player";
})(ProximityLayer || (ProximityLayer = {}));

// node_modules/@dcl/asset-packs/dist/components.js
function getExplorerComponents(engine2) {
  return {
    Animator: Animator2(engine2),
    Transform: Transform(engine2),
    AudioSource: AudioSource2(engine2),
    AvatarAttach: AvatarAttach(engine2),
    VisibilityComponent: VisibilityComponent(engine2),
    GltfContainer: GltfContainer(engine2),
    UiTransform: UiTransform(engine2),
    UiText: UiText(engine2),
    UiBackground: UiBackground(engine2),
    VideoPlayer: VideoPlayer(engine2),
    Material: Material2(engine2),
    MeshRenderer: MeshRenderer2(engine2),
    Billboard: Billboard(engine2),
    Name: Name(engine2),
    Tween: Tween2(engine2),
    TweenSequence: TweenSequence(engine2),
    PointerEvents: PointerEvents(engine2),
    NetworkEntity: NetworkEntity(engine2),
    SyncComponents: SyncComponents(engine2)
  };
}

// node_modules/mitt/dist/mitt.mjs
function mitt_default(n) {
  return { all: n = n || /* @__PURE__ */ new Map(), on: function(t, e) {
    var i = n.get(t);
    i ? i.push(e) : n.set(t, [e]);
  }, off: function(t, e) {
    var i = n.get(t);
    i && (e ? i.splice(i.indexOf(e) >>> 0, 1) : n.set(t, []));
  }, emit: function(t, e) {
    var i = n.get(t);
    i && i.slice().map(function(n2) {
      n2(e);
    }), (i = n.get("*")) && i.slice().map(function(n2) {
      n2(t, e);
    });
  } };
}

// node_modules/@dcl/asset-packs/dist/events.js
var triggers = /* @__PURE__ */ new Map();
var actions = /* @__PURE__ */ new Map();
function getTriggerEvents(entity) {
  if (!triggers.has(entity)) {
    triggers.set(entity, mitt_default());
  }
  return triggers.get(entity);
}
function getActionEvents(entity) {
  if (!actions.has(entity)) {
    actions.set(entity, mitt_default());
  }
  return actions.get(entity);
}

// node_modules/@dcl/asset-packs/dist/id.js
var COMPONENTS_WITH_ID = [
  ComponentName.ACTIONS,
  ComponentName.STATES,
  ComponentName.COUNTER
];
function getCounterComponent(engine2) {
  return engine2.getComponent(ComponentName.COUNTER);
}
function getNextId(engine2) {
  const Counter = getCounterComponent(engine2);
  const counter = Counter.getOrCreateMutable(engine2.RootEntity);
  return ++counter.value;
}
function requiresId(component) {
  return COMPONENTS_WITH_ID.includes(component.componentName);
}

// node_modules/@dcl/asset-packs/dist/states.js
function isValidState(states, value) {
  return !!value && states.value.includes(value);
}
function getCurrentValue(states) {
  if (isValidState(states, states.currentValue)) {
    return states.currentValue;
  }
  return getDefaultValue(states);
}
function getDefaultValue(states) {
  if (isValidState(states, states.defaultValue)) {
    return states.defaultValue;
  }
  if (states.value.length > 0) {
    return states.value[0];
  }
}
function getPreviousValue(states) {
  if (isValidState(states, states.previousValue)) {
    return states.previousValue;
  }
  return null;
}

// node_modules/@dcl/asset-packs/dist/lww.js
function isLastWriteWinComponent(component) {
  return !!component.createOrReplace;
}

// node_modules/@dcl/asset-packs/dist/clone.js
function clone(entity, engine2, Transform3, Triggers, sdkHelpers) {
  const ids = /* @__PURE__ */ new Map();
  const entities = /* @__PURE__ */ new Map();
  const tree = getComponentEntityTree(engine2, entity, Transform3);
  const { NetworkEntity: NetworkEntity4, SyncComponents: SyncComponents3 } = getExplorerComponents(engine2);
  for (const original of tree) {
    const cloned2 = engine2.addEntity();
    for (const component of engine2.componentsIter()) {
      if (component.has(original)) {
        let newValue = JSON.parse(JSON.stringify(component.get(original)));
        if (requiresId(component)) {
          const oldId = newValue.id;
          const newId = getNextId(engine2);
          ids.set(oldId, newId);
          newValue = {
            ...newValue,
            id: newId
          };
        }
        if (isLastWriteWinComponent(component)) {
          component.createOrReplace(cloned2, newValue);
        }
      }
    }
    entities.set(original, cloned2);
  }
  const clones = Array.from(entities.values()).reverse();
  for (const cloned2 of clones) {
    if (Triggers.has(cloned2)) {
      const triggers3 = Triggers.getMutable(cloned2);
      for (const trigger of triggers3.value) {
        for (const action of trigger.actions) {
          if (action.id) {
            const newId = ids.get(action.id);
            if (newId) {
              action.id = newId;
            }
          }
        }
        if (trigger.conditions) {
          for (const condition of trigger.conditions) {
            if (condition.id) {
              const newId = ids.get(condition.id);
              if (newId) {
                condition.id = newId;
              }
            }
          }
        }
      }
    }
    if (NetworkEntity4.has(cloned2)) {
      const syncComponent = SyncComponents3.getOrNull(cloned2);
      if (syncComponent && sdkHelpers?.syncEntity) {
        sdkHelpers?.syncEntity(cloned2, syncComponent.componentIds);
      }
    }
    const transform = Transform3.getMutableOrNull(cloned2);
    if (transform && transform.parent) {
      const newParent = entities.get(transform.parent);
      if (newParent) {
        transform.parent = newParent;
      }
    }
  }
  const cloned = clones[0];
  return { ids, entities, cloned };
}

// node_modules/@dcl/asset-packs/dist/definitions.js
var ActionSchemas = {
  [ActionType.PLAY_ANIMATION]: Schemas.Map({
    animation: Schemas.String,
    loop: Schemas.Optional(Schemas.Boolean)
  }),
  [ActionType.STOP_ANIMATION]: Schemas.Map({}),
  [ActionType.SET_STATE]: Schemas.Map({ state: Schemas.String }),
  [ActionType.START_TWEEN]: Schemas.Map({
    type: Schemas.EnumString(TweenType, TweenType.MOVE_ITEM),
    end: Schemas.Vector3,
    interpolationType: Schemas.EnumString(InterpolationType, InterpolationType.LINEAR),
    duration: Schemas.Float,
    relative: Schemas.Boolean
  }),
  [ActionType.SET_COUNTER]: Schemas.Map({ counter: Schemas.Int }),
  [ActionType.INCREMENT_COUNTER]: Schemas.Map({
    amount: Schemas.Optional(Schemas.Int)
  }),
  [ActionType.DECREASE_COUNTER]: Schemas.Map({
    amount: Schemas.Optional(Schemas.Int)
  }),
  [ActionType.PLAY_SOUND]: Schemas.Map({
    src: Schemas.String,
    loop: Schemas.Optional(Schemas.Boolean),
    volume: Schemas.Optional(Schemas.Float)
  }),
  [ActionType.STOP_SOUND]: Schemas.Map({}),
  [ActionType.SET_VISIBILITY]: Schemas.Map({
    visible: Schemas.Boolean,
    physicsCollider: Schemas.Optional(Schemas.Boolean),
    collider: Schemas.Optional(Schemas.EnumNumber(Colliders, Colliders.CL_POINTER))
  }),
  [ActionType.ATTACH_TO_PLAYER]: Schemas.Map({
    anchorPointId: Schemas.Int
  }),
  [ActionType.DETACH_FROM_PLAYER]: Schemas.Map({}),
  [ActionType.PLAY_VIDEO_STREAM]: Schemas.Map({
    src: Schemas.Optional(Schemas.String),
    loop: Schemas.Optional(Schemas.Boolean),
    volume: Schemas.Optional(Schemas.Float),
    dclCast: Schemas.Optional(Schemas.Boolean)
  }),
  [ActionType.STOP_VIDEO_STREAM]: Schemas.Map({}),
  [ActionType.PLAY_AUDIO_STREAM]: Schemas.Map({
    url: Schemas.String,
    volume: Schemas.Optional(Schemas.Float)
  }),
  [ActionType.STOP_AUDIO_STREAM]: Schemas.Map({}),
  [ActionType.TELEPORT_PLAYER]: Schemas.Map({
    x: Schemas.Int,
    y: Schemas.Int
  }),
  [ActionType.MOVE_PLAYER]: Schemas.Map({
    position: Schemas.Vector3,
    cameraTarget: Schemas.Optional(Schemas.Vector3)
  }),
  [ActionType.PLAY_DEFAULT_EMOTE]: Schemas.Map({
    emote: Schemas.String
  }),
  [ActionType.PLAY_CUSTOM_EMOTE]: Schemas.Map({
    src: Schemas.String,
    loop: Schemas.Optional(Schemas.Boolean)
  }),
  [ActionType.OPEN_LINK]: Schemas.Map({
    url: Schemas.String
  }),
  [ActionType.SHOW_TEXT]: Schemas.Map({
    text: Schemas.String,
    hideAfterSeconds: Schemas.Float,
    font: Schemas.EnumNumber(Font2, Font2.F_SANS_SERIF),
    fontSize: Schemas.Optional(Schemas.Float),
    textAlign: Schemas.EnumNumber(AlignMode, AlignMode.TAM_MIDDLE_CENTER)
  }),
  [ActionType.HIDE_TEXT]: Schemas.Map({}),
  [ActionType.START_DELAY]: Schemas.Map({
    actions: Schemas.Array(Schemas.String),
    timeout: Schemas.Float
  }),
  [ActionType.STOP_DELAY]: Schemas.Map({
    action: Schemas.String
  }),
  [ActionType.START_LOOP]: Schemas.Map({
    actions: Schemas.Array(Schemas.String),
    interval: Schemas.Float
  }),
  [ActionType.STOP_LOOP]: Schemas.Map({
    action: Schemas.String
  }),
  [ActionType.CLONE_ENTITY]: Schemas.Map({
    position: Schemas.Vector3
  }),
  [ActionType.REMOVE_ENTITY]: Schemas.Map({}),
  [ActionType.SHOW_IMAGE]: Schemas.Map({
    src: Schemas.String,
    align: Schemas.EnumNumber(AlignMode, AlignMode.TAM_MIDDLE_CENTER),
    height: Schemas.Float,
    width: Schemas.Float,
    hideAfterSeconds: Schemas.Optional(Schemas.Float),
    text: Schemas.Optional(Schemas.String),
    fontSize: Schemas.Optional(Schemas.Float)
  }),
  [ActionType.HIDE_IMAGE]: Schemas.Map({
    imageEntity: Schemas.Optional(Schemas.Int)
  }),
  [ActionType.DAMAGE]: Schemas.Map({
    radius: Schemas.Float,
    layer: Schemas.Optional(Schemas.EnumString(ProximityLayer, ProximityLayer.ALL)),
    hits: Schemas.Optional(Schemas.Int)
  }),
  [ActionType.MOVE_PLAYER_HERE]: Schemas.Map({}),
  [ActionType.PLACE_ON_PLAYER]: Schemas.Map({}),
  [ActionType.ROTATE_AS_PLAYER]: Schemas.Map({}),
  [ActionType.PLACE_ON_CAMERA]: Schemas.Map({}),
  [ActionType.ROTATE_AS_CAMERA]: Schemas.Map({}),
  [ActionType.SET_POSITION]: Schemas.Map({
    x: Schemas.Float,
    y: Schemas.Float,
    z: Schemas.Float,
    relative: Schemas.Optional(Schemas.Boolean)
  }),
  [ActionType.SET_ROTATION]: Schemas.Map({
    x: Schemas.Float,
    y: Schemas.Float,
    z: Schemas.Float,
    relative: Schemas.Optional(Schemas.Boolean)
  }),
  [ActionType.SET_SCALE]: Schemas.Map({
    x: Schemas.Float,
    y: Schemas.Float,
    z: Schemas.Float,
    relative: Schemas.Optional(Schemas.Boolean)
  }),
  [ActionType.FOLLOW_PLAYER]: Schemas.Map({
    speed: Schemas.Float,
    x: Schemas.Boolean,
    y: Schemas.Boolean,
    z: Schemas.Boolean,
    minDistance: Schemas.Float
  }),
  [ActionType.STOP_FOLLOWING_PLAYER]: Schemas.Map({}),
  [ActionType.RANDOM]: Schemas.Map({
    actions: Schemas.Array(Schemas.String)
  }),
  [ActionType.BATCH]: Schemas.Map({
    actions: Schemas.Array(Schemas.String)
  }),
  [ActionType.HEAL_PLAYER]: Schemas.Map({
    multiplier: Schemas.Int
  })
};
function getComponent(componentName, engine2) {
  try {
    return engine2.getComponent(componentName);
  } catch (error) {
    console.error(`Error using getComponent with componentName="${componentName}"`);
    throw error;
  }
}
function getComponents(engine2) {
  return {
    Actions: getComponent(ComponentName.ACTIONS, engine2),
    States: getComponent(ComponentName.STATES, engine2),
    Counter: getComponent(ComponentName.COUNTER, engine2),
    Triggers: getComponent(ComponentName.TRIGGERS, engine2),
    CounterBar: getComponent(ComponentName.COUNTER_BAR, engine2)
  };
}
function createComponents(engine2) {
  const ActionTypes = engine2.defineComponent(ComponentName.ACTION_TYPES, {
    value: Schemas.Array(Schemas.Map({
      type: Schemas.String,
      jsonSchema: Schemas.String
    }))
  });
  const Actions = engine2.defineComponent(ComponentName.ACTIONS, {
    id: Schemas.Int,
    value: Schemas.Array(Schemas.Map({
      name: Schemas.String,
      type: Schemas.String,
      jsonPayload: Schemas.String,
      allowedInBasicView: Schemas.Optional(Schemas.Boolean),
      basicViewId: Schemas.Optional(Schemas.String)
    }))
  });
  const Counter = engine2.defineComponent(ComponentName.COUNTER, {
    id: Schemas.Number,
    value: Schemas.Int
  });
  const Triggers = engine2.defineComponent(ComponentName.TRIGGERS, {
    value: Schemas.Array(Schemas.Map({
      type: Schemas.EnumString(TriggerType, TriggerType.ON_INPUT_ACTION),
      conditions: Schemas.Optional(Schemas.Array(Schemas.Map({
        id: Schemas.Optional(Schemas.Int),
        type: Schemas.EnumString(TriggerConditionType, TriggerConditionType.WHEN_STATE_IS),
        value: Schemas.String
      }))),
      operation: Schemas.Optional(Schemas.EnumString(TriggerConditionOperation, TriggerConditionOperation.AND)),
      actions: Schemas.Array(Schemas.Map({
        id: Schemas.Optional(Schemas.Int),
        name: Schemas.Optional(Schemas.String)
      })),
      basicViewId: Schemas.Optional(Schemas.String)
    }))
  });
  const States = engine2.defineComponent(ComponentName.STATES, {
    id: Schemas.Number,
    value: Schemas.Array(Schemas.String),
    defaultValue: Schemas.Optional(Schemas.String),
    currentValue: Schemas.Optional(Schemas.String),
    previousValue: Schemas.Optional(Schemas.String)
  });
  const CounterBar = engine2.defineComponent(ComponentName.COUNTER_BAR, {
    primaryColor: Schemas.Optional(Schemas.String),
    secondaryColor: Schemas.Optional(Schemas.String),
    maxValue: Schemas.Optional(Schemas.Float)
  });
  return {
    ActionTypes,
    Actions,
    Counter,
    Triggers,
    States,
    CounterBar
  };
}
function initComponents(engine2) {
  const actionTypes = Object.values(ActionType);
  for (const type of actionTypes) {
    const actionType = type;
    addActionType(engine2, actionType, ActionSchemas[actionType]);
  }
  const Counter = engine2.getComponent(ComponentName.COUNTER);
  const counter = Counter.getOrCreateMutable(engine2.RootEntity);
  counter.value = counter.value || 0;
  const { VideoPlayer: VideoPlayer3, Material: Material4 } = getExplorerComponents(engine2);
  initVideoPlayerComponents(engine2, { VideoPlayer: VideoPlayer3, Material: Material4 });
}
function getVideoTexture({ material }) {
  if (material?.$case === "pbr" && material.pbr.texture?.tex?.$case === "videoTexture") {
    return material.pbr.texture.tex.videoTexture;
  }
  return void 0;
}
function initVideoPlayerComponentMaterial(entity, { Material: Material4 }, material) {
  if (!material || !material.material || material.material.$case !== "pbr") {
    return null;
  }
  Material4.setPbrMaterial(entity, {
    ...material.material.pbr,
    texture: Material4.Texture.Video({
      videoPlayerEntity: entity
    })
  });
}
function initVideoPlayerComponents(engine2, components) {
  function replaceVideoTexture() {
    const { Material: Material4, VideoPlayer: VideoPlayer3 } = components;
    engine2.removeSystem(replaceVideoTexture);
    for (const [entity, material] of engine2.getEntitiesWith(Material4, VideoPlayer3)) {
      const videoTexture = getVideoTexture(material);
      if (videoTexture?.videoPlayerEntity === engine2.RootEntity) {
        initVideoPlayerComponentMaterial(entity, components, material);
      }
    }
  }
  engine2.addSystem(replaceVideoTexture);
}
function getConditionTypesByComponentName(componentName) {
  switch (componentName) {
    case ComponentName.STATES: {
      return [
        TriggerConditionType.WHEN_STATE_IS,
        TriggerConditionType.WHEN_STATE_IS_NOT,
        TriggerConditionType.WHEN_PREVIOUS_STATE_IS,
        TriggerConditionType.WHEN_PREVIOUS_STATE_IS_NOT
      ];
    }
    case ComponentName.COUNTER: {
      return [
        TriggerConditionType.WHEN_COUNTER_EQUALS,
        TriggerConditionType.WHEN_COUNTER_IS_GREATER_THAN,
        TriggerConditionType.WHEN_COUNTER_IS_LESS_THAN
      ];
    }
    case ComponentName.ACTIONS: {
      return [
        TriggerConditionType.WHEN_DISTANCE_TO_PLAYER_LESS_THAN,
        TriggerConditionType.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN
      ];
    }
    default: {
      return [];
    }
  }
}

// node_modules/@dcl/ecs-math/dist/types.js
var ToGammaSpace = 1 / 2.2;
var ToLinearSpace = 2.2;
var Epsilon = 1e-6;
var DEG2RAD = Math.PI / 180;
var RAD2DEG = 360 / (Math.PI * 2);

// node_modules/@dcl/ecs-math/dist/Scalar.js
var Scalar;
(function(Scalar2) {
  Scalar2.TwoPi = Math.PI * 2;
  function withinEpsilon(a, b, epsilon = 1401298e-51) {
    const num = a - b;
    return -epsilon <= num && num <= epsilon;
  }
  Scalar2.withinEpsilon = withinEpsilon;
  function toHex(i) {
    const str = i.toString(16);
    if (i <= 15) {
      return ("0" + str).toUpperCase();
    }
    return str.toUpperCase();
  }
  Scalar2.toHex = toHex;
  function sign(value) {
    const _value = +value;
    if (_value === 0 || isNaN(_value)) {
      return _value;
    }
    return _value > 0 ? 1 : -1;
  }
  Scalar2.sign = sign;
  function clamp(value, min = 0, max = 1) {
    return Math.min(max, Math.max(min, value));
  }
  Scalar2.clamp = clamp;
  function log2(value) {
    return Math.log(value) * Math.LOG2E;
  }
  Scalar2.log2 = log2;
  function repeat(value, length2) {
    return value - Math.floor(value / length2) * length2;
  }
  Scalar2.repeat = repeat;
  function normalize(value, min, max) {
    return (value - min) / (max - min);
  }
  Scalar2.normalize = normalize;
  function denormalize(normalized, min, max) {
    return normalized * (max - min) + min;
  }
  Scalar2.denormalize = denormalize;
  function deltaAngle(current, target) {
    let num = repeat(target - current, 360);
    if (num > 180) {
      num -= 360;
    }
    return num;
  }
  Scalar2.deltaAngle = deltaAngle;
  function pingPong(tx, length2) {
    const t = repeat(tx, length2 * 2);
    return length2 - Math.abs(t - length2);
  }
  Scalar2.pingPong = pingPong;
  function smoothStep(from, to, tx) {
    let t = clamp(tx);
    t = -2 * t * t * t + 3 * t * t;
    return to * t + from * (1 - t);
  }
  Scalar2.smoothStep = smoothStep;
  function moveTowards(current, target, maxDelta) {
    let result = 0;
    if (Math.abs(target - current) <= maxDelta) {
      result = target;
    } else {
      result = current + sign(target - current) * maxDelta;
    }
    return result;
  }
  Scalar2.moveTowards = moveTowards;
  function moveTowardsAngle(current, target, maxDelta) {
    const num = deltaAngle(current, target);
    let result = 0;
    if (-maxDelta < num && num < maxDelta) {
      result = target;
    } else {
      result = moveTowards(current, current + num, maxDelta);
    }
    return result;
  }
  Scalar2.moveTowardsAngle = moveTowardsAngle;
  function lerp(start, end, amount) {
    return start + (end - start) * amount;
  }
  Scalar2.lerp = lerp;
  function lerpAngle(start, end, amount) {
    let num = repeat(end - start, 360);
    if (num > 180) {
      num -= 360;
    }
    return start + num * clamp(amount);
  }
  Scalar2.lerpAngle = lerpAngle;
  function inverseLerp(a, b, value) {
    let result = 0;
    if (a !== b) {
      result = clamp((value - a) / (b - a));
    } else {
      result = 0;
    }
    return result;
  }
  Scalar2.inverseLerp = inverseLerp;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;
  }
  Scalar2.hermite = hermite;
  function randomRange(min, max) {
    if (min === max) {
      return min;
    }
    return Math.random() * (max - min) + min;
  }
  Scalar2.randomRange = randomRange;
  function rangeToPercent(num, min, max) {
    return (num - min) / (max - min);
  }
  Scalar2.rangeToPercent = rangeToPercent;
  function percentToRange(percent, min, max) {
    return (max - min) * percent + min;
  }
  Scalar2.percentToRange = percentToRange;
  function normalizeRadians(angle) {
    return angle - Scalar2.TwoPi * Math.floor((angle + Math.PI) / Scalar2.TwoPi);
  }
  Scalar2.normalizeRadians = normalizeRadians;
})(Scalar || (Scalar = {}));

// node_modules/@dcl/ecs-math/dist/Vector3.js
var Vector32;
(function(Vector33) {
  function isNonUniform(vector) {
    const absX = Math.abs(vector.x);
    const absY = Math.abs(vector.y);
    if (absX !== absY) {
      return true;
    }
    const absZ = Math.abs(vector.z);
    if (absX !== absZ) {
      return true;
    }
    return false;
  }
  Vector33.isNonUniform = isNonUniform;
  function create(x = 0, y = 0, z = 0) {
    return { x, y, z };
  }
  Vector33.create = create;
  function add2(vector1, vector2) {
    return {
      x: vector1.x + vector2.x,
      y: vector1.y + vector2.y,
      z: vector1.z + vector2.z
    };
  }
  Vector33.add = add2;
  function addToRef(vectorA, vectorB, result) {
    result.x = vectorA.x + vectorB.x;
    result.y = vectorA.y + vectorB.y;
    result.z = vectorA.z + vectorB.z;
  }
  Vector33.addToRef = addToRef;
  function subtract2(vector1, vector2) {
    return {
      x: vector1.x - vector2.x,
      y: vector1.y - vector2.y,
      z: vector1.z - vector2.z
    };
  }
  Vector33.subtract = subtract2;
  function subtractToRef(vectorA, vectorB, result) {
    result.x = vectorA.x - vectorB.x;
    result.y = vectorA.y - vectorB.y;
    result.z = vectorA.z - vectorB.z;
  }
  Vector33.subtractToRef = subtractToRef;
  function subtractFromFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x - x;
    result.y = vector1.y - y;
    result.z = vector1.z - z;
  }
  Vector33.subtractFromFloatsToRef = subtractFromFloatsToRef;
  function negate2(value) {
    return { x: -value.x, y: -value.y, z: -value.z };
  }
  Vector33.negate = negate2;
  function copyFrom(source, dest) {
    dest.x = source.x;
    dest.y = source.y;
    dest.z = source.z;
  }
  Vector33.copyFrom = copyFrom;
  function copyFromFloats(x, y, z, dest) {
    dest.x = x;
    dest.y = y;
    dest.z = z;
  }
  Vector33.copyFromFloats = copyFromFloats;
  function clone2(source) {
    return create(source.x, source.y, source.z);
  }
  Vector33.clone = clone2;
  function getClipFactor(vector0, vector1, axis, size) {
    const d0 = dot(vector0, axis) - size;
    const d1 = dot(vector1, axis) - size;
    const s = d0 / (d0 - d1);
    return s;
  }
  Vector33.getClipFactor = getClipFactor;
  function getAngleBetweenVectors(vector0, vector1, normal) {
    const v0 = normalize(vector0);
    const v1 = normalize(vector1);
    const v0v1dot = dot(v0, v1);
    const n = create();
    crossToRef(v0, v1, n);
    if (dot(n, normal) > 0) {
      return Math.acos(v0v1dot);
    }
    return -Math.acos(v0v1dot);
  }
  Vector33.getAngleBetweenVectors = getAngleBetweenVectors;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Vector33.fromArray = fromArray;
  function fromFloatArray(array, offset) {
    return fromArray(array, offset);
  }
  Vector33.fromFloatArray = fromFloatArray;
  function fromArrayToRef(array, offset, result) {
    result.x = array[offset];
    result.y = array[offset + 1];
    result.z = array[offset + 2];
  }
  Vector33.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRef(array, offset, result) {
    return fromArrayToRef(array, offset, result);
  }
  Vector33.fromFloatArrayToRef = fromFloatArrayToRef;
  function length2(vector) {
    return Math.sqrt(vector.x * vector.x + vector.y * vector.y + vector.z * vector.z);
  }
  Vector33.length = length2;
  function lengthSquared(vector) {
    return vector.x * vector.x + vector.y * vector.y + vector.z * vector.z;
  }
  Vector33.lengthSquared = lengthSquared;
  function scaleToRef(vector, scale2, result) {
    result.x = vector.x * scale2;
    result.y = vector.y * scale2;
    result.z = vector.z * scale2;
  }
  Vector33.scaleToRef = scaleToRef;
  function scale(vector, scale2) {
    return create(vector.x * scale2, vector.y * scale2, vector.z * scale2);
  }
  Vector33.scale = scale;
  function normalizeFromLength(vector, len) {
    const result = create(0, 0, 0);
    normalizeFromLengthToRef(vector, len, result);
    return result;
  }
  Vector33.normalizeFromLength = normalizeFromLength;
  function normalizeFromLengthToRef(vector, len, result) {
    if (len === 0 || len === 1) {
      copyFrom(vector, result);
      return;
    }
    scaleToRef(vector, 1 / len, result);
  }
  Vector33.normalizeFromLengthToRef = normalizeFromLengthToRef;
  function normalize(vector) {
    return normalizeFromLength(vector, length2(vector));
  }
  Vector33.normalize = normalize;
  function normalizeToRef(vector, result) {
    normalizeFromLengthToRef(vector, length2(vector), result);
  }
  Vector33.normalizeToRef = normalizeToRef;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z;
  }
  Vector33.dot = dot;
  function applyMatrix4(vector, matrix) {
    const result = clone2(vector);
    applyMatrix4ToRef(vector, matrix, result);
    return result;
  }
  Vector33.applyMatrix4 = applyMatrix4;
  function applyMatrix4ToRef(vector, matrix, result) {
    const { x, y, z } = vector;
    const m = matrix._m;
    const w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);
    result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;
    result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;
    result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;
  }
  Vector33.applyMatrix4ToRef = applyMatrix4ToRef;
  function rotate(vector, q) {
    const result = create();
    rotateToRef(vector, q, result);
    return result;
  }
  Vector33.rotate = rotate;
  function rotateToRef(vector, q, result) {
    const { x, y, z } = vector;
    const { x: qx, y: qy, z: qz, w: qw } = q;
    const ix = qw * x + qy * z - qz * y;
    const iy = qw * y + qz * x - qx * z;
    const iz = qw * z + qx * y - qy * x;
    const iw = -qx * x - qy * y - qz * z;
    result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;
    result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;
    result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;
  }
  Vector33.rotateToRef = rotateToRef;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    lerpToRef(start, end, amount, result);
    return result;
  }
  Vector33.lerp = lerp;
  function lerpToRef(start, end, amount, result) {
    result.x = start.x + (end.x - start.x) * amount;
    result.y = start.y + (end.y - start.y) * amount;
    result.z = start.z + (end.z - start.z) * amount;
  }
  Vector33.lerpToRef = lerpToRef;
  function cross(left, right) {
    const result = Zero();
    crossToRef(left, right, result);
    return result;
  }
  Vector33.cross = cross;
  function crossToRef(left, right, result) {
    result.x = left.y * right.z - left.z * right.y;
    result.y = left.z * right.x - left.x * right.z;
    result.z = left.x * right.y - left.y * right.x;
  }
  Vector33.crossToRef = crossToRef;
  function transformCoordinates(vector, transformation) {
    const result = Zero();
    transformCoordinatesToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformCoordinates = transformCoordinates;
  function transformCoordinatesToRef(vector, transformation, result) {
    return transformCoordinatesFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformCoordinatesToRef = transformCoordinatesToRef;
  function transformCoordinatesFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    const rx = x * m[0] + y * m[4] + z * m[8] + m[12];
    const ry = x * m[1] + y * m[5] + z * m[9] + m[13];
    const rz = x * m[2] + y * m[6] + z * m[10] + m[14];
    const rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);
    result.x = rx * rw;
    result.y = ry * rw;
    result.z = rz * rw;
  }
  Vector33.transformCoordinatesFromFloatsToRef = transformCoordinatesFromFloatsToRef;
  function transformNormal(vector, transformation) {
    const result = Zero();
    transformNormalToRef(vector, transformation, result);
    return result;
  }
  Vector33.transformNormal = transformNormal;
  function transformNormalToRef(vector, transformation, result) {
    transformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);
  }
  Vector33.transformNormalToRef = transformNormalToRef;
  function transformNormalFromFloatsToRef(x, y, z, transformation, result) {
    const m = transformation._m;
    result.x = x * m[0] + y * m[4] + z * m[8];
    result.y = x * m[1] + y * m[5] + z * m[9];
    result.z = x * m[2] + y * m[6] + z * m[10];
  }
  Vector33.transformNormalFromFloatsToRef = transformNormalFromFloatsToRef;
  function catmullRom(value1, value2, value3, value4, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const x = 0.5 * (2 * value2.x + (-value1.x + value3.x) * amount + (2 * value1.x - 5 * value2.x + 4 * value3.x - value4.x) * squared + (-value1.x + 3 * value2.x - 3 * value3.x + value4.x) * cubed);
    const y = 0.5 * (2 * value2.y + (-value1.y + value3.y) * amount + (2 * value1.y - 5 * value2.y + 4 * value3.y - value4.y) * squared + (-value1.y + 3 * value2.y - 3 * value3.y + value4.y) * cubed);
    const z = 0.5 * (2 * value2.z + (-value1.z + value3.z) * amount + (2 * value1.z - 5 * value2.z + 4 * value3.z - value4.z) * squared + (-value1.z + 3 * value2.z - 3 * value3.z + value4.z) * cubed);
    return create(x, y, z);
  }
  Vector33.catmullRom = catmullRom;
  function clamp(value, min, max) {
    const v = create();
    clampToRef(value, min, max, v);
    return v;
  }
  Vector33.clamp = clamp;
  function clampToRef(value, min, max, result) {
    let x = value.x;
    x = x > max.x ? max.x : x;
    x = x < min.x ? min.x : x;
    let y = value.y;
    y = y > max.y ? max.y : y;
    y = y < min.y ? min.y : y;
    let z = value.z;
    z = z > max.z ? max.z : z;
    z = z < min.z ? min.z : z;
    copyFromFloats(x, y, z, result);
  }
  Vector33.clampToRef = clampToRef;
  function hermite(value1, tangent1, value2, tangent2, amount) {
    const squared = amount * amount;
    const cubed = amount * squared;
    const part1 = 2 * cubed - 3 * squared + 1;
    const part2 = -2 * cubed + 3 * squared;
    const part3 = cubed - 2 * squared + amount;
    const part4 = cubed - squared;
    const x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;
    const y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;
    const z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;
    return create(x, y, z);
  }
  Vector33.hermite = hermite;
  function minimize(left, right) {
    const min = create();
    minimizeInPlaceFromFloatsToRef(right, left.x, left.y, left.z, min);
    return min;
  }
  Vector33.minimize = minimize;
  function maximize(left, right) {
    const max = create();
    maximizeInPlaceFromFloatsToRef(left, right.x, right.y, right.z, max);
    return max;
  }
  Vector33.maximize = maximize;
  function distance(value1, value2) {
    return Math.sqrt(distanceSquared(value1, value2));
  }
  Vector33.distance = distance;
  function distanceSquared(value1, value2) {
    const x = value1.x - value2.x;
    const y = value1.y - value2.y;
    const z = value1.z - value2.z;
    return x * x + y * y + z * z;
  }
  Vector33.distanceSquared = distanceSquared;
  function center(value1, value2) {
    const center2 = add2(value1, value2);
    scaleToRef(center2, 0.5, center2);
    return center2;
  }
  Vector33.center = center;
  function rotationFromAxis(axis1, axis2, axis3) {
    const rotation = Zero();
    rotationFromAxisToRef(axis1, axis2, axis3, rotation);
    return rotation;
  }
  Vector33.rotationFromAxis = rotationFromAxis;
  function rotationFromAxisToRef(axis1, axis2, axis3, result) {
    const quat = Quaternion2.create();
    Quaternion2.fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    copyFrom(Quaternion2.toEulerAngles(quat), result);
  }
  Vector33.rotationFromAxisToRef = rotationFromAxisToRef;
  function toString2(vector) {
    return `(${vector.x}, ${vector.y}, ${vector.z})`;
  }
  Vector33.toString = toString2;
  function getHashCode(vector) {
    let hash = vector.x || 0;
    hash = hash * 397 ^ (vector.y || 0);
    hash = hash * 397 ^ (vector.z || 0);
    return hash;
  }
  Vector33.getHashCode = getHashCode;
  function equals2(vector1, vector2) {
    return vector1.x === vector2.x && vector1.y === vector2.y && vector1.z === vector2.z;
  }
  Vector33.equals = equals2;
  function equalsWithEpsilon(vector1, vector2, epsilon = Epsilon) {
    return Scalar.withinEpsilon(vector1.x, vector2.x, epsilon) && Scalar.withinEpsilon(vector1.y, vector2.y, epsilon) && Scalar.withinEpsilon(vector1.z, vector2.z, epsilon);
  }
  Vector33.equalsWithEpsilon = equalsWithEpsilon;
  function equalsToFloats(vector, x, y, z) {
    return vector.x === x && vector.y === y && vector.z === z;
  }
  Vector33.equalsToFloats = equalsToFloats;
  function multiply2(vector1, vector2) {
    const result = create();
    multiplyToRef(vector1, vector2, result);
    return result;
  }
  Vector33.multiply = multiply2;
  function multiplyToRef(vector1, vector2, result) {
    result.x = vector1.x * vector2.x;
    result.y = vector1.y * vector2.y;
    result.z = vector1.z * vector2.z;
  }
  Vector33.multiplyToRef = multiplyToRef;
  function multiplyByFloatsToRef(vector1, x, y, z, result) {
    result.x = vector1.x * x;
    result.y = vector1.y * y;
    result.z = vector1.z * z;
  }
  Vector33.multiplyByFloatsToRef = multiplyByFloatsToRef;
  function multiplyByFloats(vector1, x, y, z) {
    const result = create();
    multiplyByFloatsToRef(vector1, x, y, z, result);
    return result;
  }
  Vector33.multiplyByFloats = multiplyByFloats;
  function divide2(vector1, vector2) {
    return {
      x: vector1.x / vector2.x,
      y: vector1.y / vector2.y,
      z: vector1.z / vector2.z
    };
  }
  Vector33.divide = divide2;
  function divideToRef(vector1, vector2, result) {
    result.x = vector1.x / vector2.x;
    result.y = vector1.y / vector2.y;
    result.z = vector1.z / vector2.z;
  }
  Vector33.divideToRef = divideToRef;
  function maximizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x > vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y > vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z > vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.maximizeInPlaceFromFloatsToRef = maximizeInPlaceFromFloatsToRef;
  function minimizeInPlaceFromFloatsToRef(vector1, x, y, z, result) {
    if (x < vector1.x) {
      result.x = x;
    } else {
      result.x = vector1.x;
    }
    if (y < vector1.y) {
      result.y = y;
    } else {
      result.y = vector1.y;
    }
    if (z < vector1.z) {
      result.z = z;
    } else {
      result.z = vector1.z;
    }
  }
  Vector33.minimizeInPlaceFromFloatsToRef = minimizeInPlaceFromFloatsToRef;
  function floor(vector1) {
    return create(Math.floor(vector1.x), Math.floor(vector1.y), Math.floor(vector1.z));
  }
  Vector33.floor = floor;
  function fract(vector1) {
    return create(vector1.x - Math.floor(vector1.x), vector1.y - Math.floor(vector1.y), vector1.z - Math.floor(vector1.z));
  }
  Vector33.fract = fract;
  function Zero() {
    return create(0, 0, 0);
  }
  Vector33.Zero = Zero;
  function One() {
    return create(1, 1, 1);
  }
  Vector33.One = One;
  function Up() {
    return create(0, 1, 0);
  }
  Vector33.Up = Up;
  function Down() {
    return create(0, -1, 0);
  }
  Vector33.Down = Down;
  function Forward() {
    return create(0, 0, 1);
  }
  Vector33.Forward = Forward;
  function Backward() {
    return create(0, 0, -1);
  }
  Vector33.Backward = Backward;
  function Right() {
    return create(1, 0, 0);
  }
  Vector33.Right = Right;
  function Left() {
    return create(-1, 0, 0);
  }
  Vector33.Left = Left;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Vector33.Random = Random;
})(Vector32 || (Vector32 = {}));

// node_modules/@dcl/ecs-math/dist/Plane.js
var Plane;
(function(Plane2) {
  function create(a, b, c, d) {
    return {
      normal: Vector32.create(a, b, c),
      d
    };
  }
  Plane2.create = create;
  function fromArray(array) {
    return create(array[0], array[1], array[2], array[3]);
  }
  Plane2.fromArray = fromArray;
  function fromPoints(_point1, _point2, _point3) {
    const result = create(0, 0, 0, 0);
    return result;
  }
  Plane2.fromPoints = fromPoints;
  function romPositionAndNormal(origin, normal) {
    const result = create(0, 0, 0, 0);
    result.normal = Vector32.normalize(normal);
    result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return result;
  }
  Plane2.romPositionAndNormal = romPositionAndNormal;
  function signedDistanceToPlaneFromPositionAndNormal(origin, normal, point) {
    const d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);
    return Vector32.dot(point, normal) + d;
  }
  Plane2.signedDistanceToPlaneFromPositionAndNormal = signedDistanceToPlaneFromPositionAndNormal;
  function asArray(plane) {
    return [plane.normal.x, plane.normal.y, plane.normal.z, plane.d];
  }
  Plane2.asArray = asArray;
  function clone2(plane) {
    return create(plane.normal.x, plane.normal.y, plane.normal.z, plane.d);
  }
  Plane2.clone = clone2;
  function getHashCode(_plane) {
    return 0;
  }
  Plane2.getHashCode = getHashCode;
  function normalize(plane) {
    const result = create(0, 0, 0, 0);
    const norm = Math.sqrt(plane.normal.x * plane.normal.x + plane.normal.y * plane.normal.y + plane.normal.z * plane.normal.z);
    let magnitude = 0;
    if (norm !== 0) {
      magnitude = 1 / norm;
    }
    result.normal.x = plane.normal.x * magnitude;
    result.normal.y = plane.normal.y * magnitude;
    result.normal.z = plane.normal.z * magnitude;
    result.d *= magnitude;
    return plane;
  }
  Plane2.normalize = normalize;
  function transform(plane, transformation) {
    const transposedMatrix = Matrix.create();
    Matrix.transposeToRef(transformation, transposedMatrix);
    const m = transposedMatrix._m;
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const d = plane.d;
    const normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];
    const normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];
    const normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];
    const finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];
    return create(normalX, normalY, normalZ, finalD);
  }
  Plane2.transform = transform;
  function dotCoordinate(plane, point) {
    return plane.normal.x * point.x + plane.normal.y * point.y + plane.normal.z * point.z + plane.d;
  }
  Plane2.dotCoordinate = dotCoordinate;
  function copyFromPoints(point1, point2, point3) {
    const x1 = point2.x - point1.x;
    const y1 = point2.y - point1.y;
    const z1 = point2.z - point1.z;
    const x2 = point3.x - point1.x;
    const y2 = point3.y - point1.y;
    const z2 = point3.z - point1.z;
    const yz = y1 * z2 - z1 * y2;
    const xz = z1 * x2 - x1 * z2;
    const xy = x1 * y2 - y1 * x2;
    const pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);
    let invPyth;
    if (pyth !== 0) {
      invPyth = 1 / pyth;
    } else {
      invPyth = 0;
    }
    const normal = Vector32.create(yz * invPyth, xz * invPyth, xy * invPyth);
    return {
      normal,
      d: -(normal.x * point1.x + normal.y * point1.y + normal.z * point1.z)
    };
  }
  Plane2.copyFromPoints = copyFromPoints;
  function isFrontFacingTo(plane, direction, epsilon) {
    const dot = Vector32.dot(plane.normal, direction);
    return dot <= epsilon;
  }
  Plane2.isFrontFacingTo = isFrontFacingTo;
  function signedDistanceTo(plane, point) {
    return Vector32.dot(point, plane.normal) + plane.d;
  }
  Plane2.signedDistanceTo = signedDistanceTo;
})(Plane || (Plane = {}));

// node_modules/@dcl/ecs-math/dist/Matrix.js
var Matrix;
(function(Matrix2) {
  function m(self2) {
    return self2._m;
  }
  Matrix2.m = m;
  let _updateFlagSeed = 0;
  const _identityReadonly = {};
  function IdentityReadonly() {
    return _identityReadonly;
  }
  Matrix2.IdentityReadonly = IdentityReadonly;
  function create() {
    const newMatrix = {
      updateFlag: 0,
      isIdentity: false,
      isIdentity3x2: true,
      _isIdentityDirty: true,
      _isIdentity3x2Dirty: true,
      _m: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    };
    _updateIdentityStatus(newMatrix, false);
    return newMatrix;
  }
  Matrix2.create = create;
  function fromArray(array, offset = 0) {
    const result = create();
    fromArrayToRef(array, offset, result);
    return result;
  }
  Matrix2.fromArray = fromArray;
  function fromArrayToRef(array, offset, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset];
    }
    _markAsUpdated(result);
  }
  Matrix2.fromArrayToRef = fromArrayToRef;
  function fromFloatArrayToRefScaled(array, offset, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = array[index + offset] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.fromFloatArrayToRefScaled = fromFloatArrayToRefScaled;
  function fromValuesToRef(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
  }
  Matrix2.fromValuesToRef = fromValuesToRef;
  function fromValues(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {
    const result = create();
    const m2 = result._m;
    m2[0] = initialM11;
    m2[1] = initialM12;
    m2[2] = initialM13;
    m2[3] = initialM14;
    m2[4] = initialM21;
    m2[5] = initialM22;
    m2[6] = initialM23;
    m2[7] = initialM24;
    m2[8] = initialM31;
    m2[9] = initialM32;
    m2[10] = initialM33;
    m2[11] = initialM34;
    m2[12] = initialM41;
    m2[13] = initialM42;
    m2[14] = initialM43;
    m2[15] = initialM44;
    _markAsUpdated(result);
    return result;
  }
  Matrix2.fromValues = fromValues;
  function compose(scale2, rotation, translation2) {
    const result = create();
    composeToRef(scale2, rotation, translation2, result);
    return result;
  }
  Matrix2.compose = compose;
  function composeToRef(scale2, rotation, translation2, result) {
    const tmpMatrix = [create(), create(), create()];
    scalingToRef(scale2.x, scale2.y, scale2.z, tmpMatrix[1]);
    fromQuaternionToRef(rotation, tmpMatrix[0]);
    multiplyToRef(tmpMatrix[1], tmpMatrix[0], result);
    setTranslation(result, translation2);
  }
  Matrix2.composeToRef = composeToRef;
  function Identity() {
    const identity = fromValues(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    _updateIdentityStatus(identity, true);
    return identity;
  }
  Matrix2.Identity = Identity;
  function IdentityToRef(result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, true);
  }
  Matrix2.IdentityToRef = IdentityToRef;
  function Zero() {
    const zero = fromValues(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    _updateIdentityStatus(zero, false);
    return zero;
  }
  Matrix2.Zero = Zero;
  function RotationX(angle) {
    const result = create();
    rotationXToRef(angle, result);
    return result;
  }
  Matrix2.RotationX = RotationX;
  function rotationXToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationXToRef = rotationXToRef;
  function rotationY(angle) {
    const result = create();
    rotationYToRef(angle, result);
    return result;
  }
  Matrix2.rotationY = rotationY;
  function rotationYToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationYToRef = rotationYToRef;
  function rotationZ(angle) {
    const result = create();
    rotationZToRef(angle, result);
    return result;
  }
  Matrix2.rotationZ = rotationZ;
  function rotationZToRef(angle, result) {
    const s = Math.sin(angle);
    const c = Math.cos(angle);
    fromValuesToRef(c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, c === 1 && s === 0);
  }
  Matrix2.rotationZToRef = rotationZToRef;
  function rotationAxis(axis, angle) {
    const result = create();
    rotationAxisToRef(axis, angle, result);
    return result;
  }
  Matrix2.rotationAxis = rotationAxis;
  function rotationAxisToRef(_axis, angle, result) {
    const s = Math.sin(-angle);
    const c = Math.cos(-angle);
    const c1 = 1 - c;
    const axis = Vector32.normalize(_axis);
    const m2 = result._m;
    m2[0] = axis.x * axis.x * c1 + c;
    m2[1] = axis.x * axis.y * c1 - axis.z * s;
    m2[2] = axis.x * axis.z * c1 + axis.y * s;
    m2[3] = 0;
    m2[4] = axis.y * axis.x * c1 + axis.z * s;
    m2[5] = axis.y * axis.y * c1 + c;
    m2[6] = axis.y * axis.z * c1 - axis.x * s;
    m2[7] = 0;
    m2[8] = axis.z * axis.x * c1 - axis.y * s;
    m2[9] = axis.z * axis.y * c1 + axis.x * s;
    m2[10] = axis.z * axis.z * c1 + c;
    m2[11] = 0;
    m2[12] = 0;
    m2[13] = 0;
    m2[14] = 0;
    m2[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.rotationAxisToRef = rotationAxisToRef;
  function rotationYawPitchRoll(yaw, pitch, roll) {
    const result = create();
    rotationYawPitchRollToRef(yaw, pitch, roll, result);
    return result;
  }
  Matrix2.rotationYawPitchRoll = rotationYawPitchRoll;
  function rotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const quaternionResult = Quaternion2.Zero();
    Quaternion2.fromRotationYawPitchRollToRef(yaw, pitch, roll, quaternionResult);
    fromQuaternionToRef(quaternionResult, result);
  }
  Matrix2.rotationYawPitchRollToRef = rotationYawPitchRollToRef;
  function scaling(x, y, z) {
    const result = create();
    scalingToRef(x, y, z, result);
    return result;
  }
  Matrix2.scaling = scaling;
  function scalingToRef(x, y, z, result) {
    fromValuesToRef(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1, result);
    _updateIdentityStatus(result, x === 1 && y === 1 && z === 1);
  }
  Matrix2.scalingToRef = scalingToRef;
  function translation(x, y, z) {
    const result = create();
    translationToRef(x, y, z, result);
    return result;
  }
  Matrix2.translation = translation;
  function translationToRef(x, y, z, result) {
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1, result);
    _updateIdentityStatus(result, x === 0 && y === 0 && z === 0);
  }
  Matrix2.translationToRef = translationToRef;
  function lerp(startValue, endValue, gradient) {
    const result = create();
    lerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.lerp = lerp;
  function lerpToRef(startValue, endValue, gradient, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = startValue._m[index] * (1 - gradient) + endValue._m[index] * gradient;
    }
    _markAsUpdated(result);
  }
  Matrix2.lerpToRef = lerpToRef;
  function decomposeLerp(startValue, endValue, gradient) {
    const result = create();
    decomposeLerpToRef(startValue, endValue, gradient, result);
    return result;
  }
  Matrix2.decomposeLerp = decomposeLerp;
  function decomposeLerpToRef(startValue, endValue, gradient, result) {
    const startScale = Vector32.Zero();
    const startRotation = Quaternion2.Zero();
    const startTranslation = Vector32.Zero();
    decompose(startValue, startScale, startRotation, startTranslation);
    const endScale = Vector32.Zero();
    const endRotation = Quaternion2.Zero();
    const endTranslation = Vector32.Zero();
    decompose(endValue, endScale, endRotation, endTranslation);
    const resultScale = Vector32.Zero();
    Vector32.lerpToRef(startScale, endScale, gradient, resultScale);
    const resultRotation = Quaternion2.Zero();
    Quaternion2.slerpToRef(startRotation, endRotation, gradient, resultRotation);
    const resultTranslation = Vector32.Zero();
    Vector32.lerpToRef(startTranslation, endTranslation, gradient, resultTranslation);
    composeToRef(resultScale, resultRotation, resultTranslation, result);
  }
  Matrix2.decomposeLerpToRef = decomposeLerpToRef;
  function LookAtLH(eye, target, up) {
    const result = create();
    lookAtLHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.LookAtLH = LookAtLH;
  function lookAtLHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(target, eye, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
  }
  Matrix2.lookAtLHToRef = lookAtLHToRef;
  function lookAtRH(eye, target, up) {
    const result = create();
    lookAtRHToRef(eye, target, up, result);
    return result;
  }
  Matrix2.lookAtRH = lookAtRH;
  function lookAtRHToRef(eye, target, up, result) {
    const xAxis = Vector32.Zero();
    const yAxis = Vector32.Zero();
    const zAxis = Vector32.Zero();
    Vector32.subtractToRef(eye, target, zAxis);
    Vector32.normalizeToRef(zAxis, zAxis);
    Vector32.crossToRef(up, zAxis, xAxis);
    const xSquareLength = Vector32.lengthSquared(xAxis);
    if (xSquareLength === 0) {
      xAxis.x = 1;
    } else {
      Vector32.normalizeFromLengthToRef(xAxis, Math.sqrt(xSquareLength), xAxis);
    }
    Vector32.crossToRef(zAxis, xAxis, yAxis);
    Vector32.normalizeToRef(yAxis, yAxis);
    const ex = -Vector32.dot(xAxis, eye);
    const ey = -Vector32.dot(yAxis, eye);
    const ez = -Vector32.dot(zAxis, eye);
    fromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, ex, ey, ez, 1, result);
  }
  Matrix2.lookAtRHToRef = lookAtRHToRef;
  function orthoLH(width, height, znear, zfar) {
    const matrix = create();
    orthoLHToRef(width, height, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoLH = orthoLH;
  function orthoLHToRef(width, height, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / width;
    const b = 2 / height;
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, 0, 0, d, 1, result);
    _updateIdentityStatus(result, a === 1 && b === 1 && c === 1 && d === 0);
  }
  Matrix2.orthoLHToRef = orthoLHToRef;
  function OrthoOffCenterLH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.OrthoOffCenterLH = OrthoOffCenterLH;
  function orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result) {
    const n = znear;
    const f = zfar;
    const a = 2 / (right - left);
    const b = 2 / (top - bottom);
    const c = 2 / (f - n);
    const d = -(f + n) / (f - n);
    const i0 = (left + right) / (left - right);
    const i1 = (top + bottom) / (bottom - top);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 0, i0, i1, d, 1, result);
    _markAsUpdated(result);
  }
  Matrix2.orthoOffCenterLHToRef = orthoOffCenterLHToRef;
  function orthoOffCenterRH(left, right, bottom, top, znear, zfar) {
    const matrix = create();
    orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.orthoOffCenterRH = orthoOffCenterRH;
  function orthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, result) {
    orthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);
    result._m[10] *= -1;
  }
  Matrix2.orthoOffCenterRHToRef = orthoOffCenterRHToRef;
  function perspectiveLH(width, height, znear, zfar) {
    const matrix = create();
    const n = znear;
    const f = zfar;
    const a = 2 * n / width;
    const b = 2 * n / height;
    const c = (f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, matrix);
    _updateIdentityStatus(matrix, false);
    return matrix;
  }
  Matrix2.perspectiveLH = perspectiveLH;
  function perspectiveFovLH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.perspectiveFovLH = perspectiveFovLH;
  function perspectiveFovLHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = (f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, 1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovLHToRef = perspectiveFovLHToRef;
  function PerspectiveFovRH(fov, aspect, znear, zfar) {
    const matrix = create();
    perspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);
    return matrix;
  }
  Matrix2.PerspectiveFovRH = PerspectiveFovRH;
  function perspectiveFovRHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {
    const n = znear;
    const f = zfar;
    const t = 1 / Math.tan(fov * 0.5);
    const a = isVerticalFovFixed ? t / aspect : t;
    const b = isVerticalFovFixed ? t : t * aspect;
    const c = -(f + n) / (f - n);
    const d = -2 * f * n / (f - n);
    fromValuesToRef(a, 0, 0, 0, 0, b, 0, 0, 0, 0, c, -1, 0, 0, d, 0, result);
    _updateIdentityStatus(result, false);
  }
  Matrix2.perspectiveFovRHToRef = perspectiveFovRHToRef;
  function perspectiveFovWebVRToRef(fov, znear, zfar, result, rightHanded = false) {
    const rightHandedFactor = rightHanded ? -1 : 1;
    const upTan = Math.tan(fov.upDegrees * Math.PI / 180);
    const downTan = Math.tan(fov.downDegrees * Math.PI / 180);
    const leftTan = Math.tan(fov.leftDegrees * Math.PI / 180);
    const rightTan = Math.tan(fov.rightDegrees * Math.PI / 180);
    const xScale = 2 / (leftTan + rightTan);
    const yScale = 2 / (upTan + downTan);
    const m2 = result._m;
    m2[0] = xScale;
    m2[1] = m2[2] = m2[3] = m2[4] = 0;
    m2[5] = yScale;
    m2[6] = m2[7] = 0;
    m2[8] = (leftTan - rightTan) * xScale * 0.5;
    m2[9] = -((upTan - downTan) * yScale * 0.5);
    m2[10] = -zfar / (znear - zfar);
    m2[11] = 1 * rightHandedFactor;
    m2[12] = m2[13] = m2[15] = 0;
    m2[14] = -(2 * zfar * znear) / (zfar - znear);
    _markAsUpdated(result);
  }
  Matrix2.perspectiveFovWebVRToRef = perspectiveFovWebVRToRef;
  function GetAsMatrix2x2(matrix) {
    return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];
  }
  Matrix2.GetAsMatrix2x2 = GetAsMatrix2x2;
  function GetAsMatrix3x3(matrix) {
    return [
      matrix._m[0],
      matrix._m[1],
      matrix._m[2],
      matrix._m[4],
      matrix._m[5],
      matrix._m[6],
      matrix._m[8],
      matrix._m[9],
      matrix._m[10]
    ];
  }
  Matrix2.GetAsMatrix3x3 = GetAsMatrix3x3;
  function transpose(matrix) {
    const result = create();
    transposeToRef(matrix, result);
    return result;
  }
  Matrix2.transpose = transpose;
  function transposeToRef(matrix, result) {
    const rm = result._m;
    const mm = matrix._m;
    rm[0] = mm[0];
    rm[1] = mm[4];
    rm[2] = mm[8];
    rm[3] = mm[12];
    rm[4] = mm[1];
    rm[5] = mm[5];
    rm[6] = mm[9];
    rm[7] = mm[13];
    rm[8] = mm[2];
    rm[9] = mm[6];
    rm[10] = mm[10];
    rm[11] = mm[14];
    rm[12] = mm[3];
    rm[13] = mm[7];
    rm[14] = mm[11];
    rm[15] = mm[15];
    _updateIdentityStatus(result, matrix.isIdentity, matrix._isIdentityDirty);
  }
  Matrix2.transposeToRef = transposeToRef;
  function reflection(plane) {
    const matrix = create();
    reflectionToRef(plane, matrix);
    return matrix;
  }
  Matrix2.reflection = reflection;
  function reflectionToRef(_plane, result) {
    const plane = Plane.normalize(_plane);
    const x = plane.normal.x;
    const y = plane.normal.y;
    const z = plane.normal.z;
    const temp = -2 * x;
    const temp2 = -2 * y;
    const temp3 = -2 * z;
    fromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0, temp * y, temp2 * y + 1, temp3 * y, 0, temp * z, temp2 * z, temp3 * z + 1, 0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1, result);
  }
  Matrix2.reflectionToRef = reflectionToRef;
  function fromXYZAxesToRef(xaxis, yaxis, zaxis, result) {
    fromValuesToRef(xaxis.x, xaxis.y, xaxis.z, 0, yaxis.x, yaxis.y, yaxis.z, 0, zaxis.x, zaxis.y, zaxis.z, 0, 0, 0, 0, 1, result);
  }
  Matrix2.fromXYZAxesToRef = fromXYZAxesToRef;
  function fromQuaternionToRef(quat, result) {
    const xx = quat.x * quat.x;
    const yy = quat.y * quat.y;
    const zz = quat.z * quat.z;
    const xy = quat.x * quat.y;
    const zw = quat.z * quat.w;
    const zx = quat.z * quat.x;
    const yw = quat.y * quat.w;
    const yz = quat.y * quat.z;
    const xw = quat.x * quat.w;
    result._m[0] = 1 - 2 * (yy + zz);
    result._m[1] = 2 * (xy + zw);
    result._m[2] = 2 * (zx - yw);
    result._m[3] = 0;
    result._m[4] = 2 * (xy - zw);
    result._m[5] = 1 - 2 * (zz + xx);
    result._m[6] = 2 * (yz + xw);
    result._m[7] = 0;
    result._m[8] = 2 * (zx + yw);
    result._m[9] = 2 * (yz - xw);
    result._m[10] = 1 - 2 * (yy + xx);
    result._m[11] = 0;
    result._m[12] = 0;
    result._m[13] = 0;
    result._m[14] = 0;
    result._m[15] = 1;
    _markAsUpdated(result);
  }
  Matrix2.fromQuaternionToRef = fromQuaternionToRef;
  function _markAsUpdated(self2) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = false;
    self2.isIdentity3x2 = false;
    self2._isIdentityDirty = true;
    self2._isIdentity3x2Dirty = true;
  }
  function isIdentityUpdate(self2) {
    if (self2._isIdentityDirty) {
      self2._isIdentityDirty = false;
      const m2 = self2._m;
      self2.isIdentity = m2[0] === 1 && m2[1] === 0 && m2[2] === 0 && m2[3] === 0 && m2[4] === 0 && m2[5] === 1 && m2[6] === 0 && m2[7] === 0 && m2[8] === 0 && m2[9] === 0 && m2[10] === 1 && m2[11] === 0 && m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1;
    }
    return self2.isIdentity;
  }
  Matrix2.isIdentityUpdate = isIdentityUpdate;
  function isIdentityAs3x2Update(self2) {
    if (self2._isIdentity3x2Dirty) {
      self2._isIdentity3x2Dirty = false;
      if (self2._m[0] !== 1 || self2._m[5] !== 1 || self2._m[15] !== 1) {
        self2.isIdentity3x2 = false;
      } else if (self2._m[1] !== 0 || self2._m[2] !== 0 || self2._m[3] !== 0 || self2._m[4] !== 0 || self2._m[6] !== 0 || self2._m[7] !== 0 || self2._m[8] !== 0 || self2._m[9] !== 0 || self2._m[10] !== 0 || self2._m[11] !== 0 || self2._m[12] !== 0 || self2._m[13] !== 0 || self2._m[14] !== 0) {
        self2.isIdentity3x2 = false;
      } else {
        self2.isIdentity3x2 = true;
      }
    }
    return self2.isIdentity3x2;
  }
  Matrix2.isIdentityAs3x2Update = isIdentityAs3x2Update;
  function determinant(self2) {
    if (self2.isIdentity === true) {
      return 1;
    }
    const m2 = self2._m;
    const m00 = m2[0], m01 = m2[1], m02 = m2[2], m03 = m2[3];
    const m10 = m2[4], m11 = m2[5], m12 = m2[6], m13 = m2[7];
    const m20 = m2[8], m21 = m2[9], m22 = m2[10], m23 = m2[11];
    const m30 = m2[12], m31 = m2[13], m32 = m2[14], m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
  }
  Matrix2.determinant = determinant;
  function toArray(self2) {
    return self2._m;
  }
  Matrix2.toArray = toArray;
  function asArray(self2) {
    return self2._m;
  }
  Matrix2.asArray = asArray;
  function reset(self2) {
    fromValuesToRef(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, self2);
    _updateIdentityStatus(self2, false);
  }
  Matrix2.reset = reset;
  function add2(self2, other) {
    const result = create();
    addToRef(self2, other, result);
    return result;
  }
  Matrix2.add = add2;
  function addToRef(self2, other, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] + other._m[index];
    }
    _markAsUpdated(result);
  }
  Matrix2.addToRef = addToRef;
  function addToSelf(self2, other) {
    for (let index = 0; index < 16; index++) {
      self2._m[index] += other._m[index];
    }
    _markAsUpdated(self2);
  }
  Matrix2.addToSelf = addToSelf;
  function invert(source) {
    const result = create();
    invertToRef(source, result);
    return result;
  }
  Matrix2.invert = invert;
  function invertToRef(source, result) {
    if (source.isIdentity === true) {
      copy(source, result);
      return;
    }
    const m2 = source._m;
    const m00 = m2[0], m01 = m2[1], m02 = m2[2], m03 = m2[3];
    const m10 = m2[4], m11 = m2[5], m12 = m2[6], m13 = m2[7];
    const m20 = m2[8], m21 = m2[9], m22 = m2[10], m23 = m2[11];
    const m30 = m2[12], m31 = m2[13], m32 = m2[14], m33 = m2[15];
    const det_22_33 = m22 * m33 - m32 * m23;
    const det_21_33 = m21 * m33 - m31 * m23;
    const det_21_32 = m21 * m32 - m31 * m22;
    const det_20_33 = m20 * m33 - m30 * m23;
    const det_20_32 = m20 * m32 - m22 * m30;
    const det_20_31 = m20 * m31 - m30 * m21;
    const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);
    const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);
    const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);
    const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);
    const det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;
    if (det === 0) {
      copy(source, result);
      return;
    }
    const detInv = 1 / det;
    const det_12_33 = m12 * m33 - m32 * m13;
    const det_11_33 = m11 * m33 - m31 * m13;
    const det_11_32 = m11 * m32 - m31 * m12;
    const det_10_33 = m10 * m33 - m30 * m13;
    const det_10_32 = m10 * m32 - m30 * m12;
    const det_10_31 = m10 * m31 - m30 * m11;
    const det_12_23 = m12 * m23 - m22 * m13;
    const det_11_23 = m11 * m23 - m21 * m13;
    const det_11_22 = m11 * m22 - m21 * m12;
    const det_10_23 = m10 * m23 - m20 * m13;
    const det_10_22 = m10 * m22 - m20 * m12;
    const det_10_21 = m10 * m21 - m20 * m11;
    const cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);
    const cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);
    const cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);
    const cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);
    const cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);
    const cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);
    const cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);
    const cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);
    const cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);
    const cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);
    const cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);
    const cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);
    fromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, result);
  }
  Matrix2.invertToRef = invertToRef;
  function addAtIndex(self2, index, value) {
    self2._m[index] += value;
    _markAsUpdated(self2);
  }
  Matrix2.addAtIndex = addAtIndex;
  function multiplyAtIndex(self2, index, value) {
    self2._m[index] *= value;
    _markAsUpdated(self2);
    return self2;
  }
  Matrix2.multiplyAtIndex = multiplyAtIndex;
  function setTranslationFromFloats(self2, x, y, z) {
    self2._m[12] = x;
    self2._m[13] = y;
    self2._m[14] = z;
    _markAsUpdated(self2);
  }
  Matrix2.setTranslationFromFloats = setTranslationFromFloats;
  function setTranslation(self2, vector3) {
    setTranslationFromFloats(self2, vector3.x, vector3.y, vector3.z);
  }
  Matrix2.setTranslation = setTranslation;
  function getTranslation(self2) {
    return Vector32.create(self2._m[12], self2._m[13], self2._m[14]);
  }
  Matrix2.getTranslation = getTranslation;
  function getTranslationToRef(self2, result) {
    result.x = self2._m[12];
    result.y = self2._m[13];
    result.z = self2._m[14];
  }
  Matrix2.getTranslationToRef = getTranslationToRef;
  function removeRotationAndScaling(self2) {
    const m2 = self2._m;
    fromValuesToRef(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, m2[12], m2[13], m2[14], m2[15], self2);
    _updateIdentityStatus(self2, m2[12] === 0 && m2[13] === 0 && m2[14] === 0 && m2[15] === 1);
    return self2;
  }
  Matrix2.removeRotationAndScaling = removeRotationAndScaling;
  function multiply2(self2, other) {
    const result = create();
    multiplyToRef(self2, other, result);
    return result;
  }
  Matrix2.multiply = multiply2;
  function copy(from, dest) {
    copyToArray(from, dest._m);
    _updateIdentityStatus(dest, from.isIdentity, from._isIdentityDirty, from.isIdentity3x2, from._isIdentity3x2Dirty);
  }
  Matrix2.copy = copy;
  function copyToArray(self2, arrayDest, offsetDest = 0) {
    for (let index = 0; index < 16; index++) {
      arrayDest[offsetDest + index] = self2._m[index];
    }
  }
  Matrix2.copyToArray = copyToArray;
  function multiplyToRef(self2, other, result) {
    if (self2.isIdentity) {
      copy(other, result);
      return;
    }
    if (other.isIdentity) {
      copy(self2, result);
      return;
    }
    multiplyToArray(self2, other, result._m, 0);
    _markAsUpdated(result);
  }
  Matrix2.multiplyToRef = multiplyToRef;
  function multiplyToArray(self2, other, result, offset) {
    const m2 = self2._m;
    const otherM = other._m;
    const tm0 = m2[0], tm1 = m2[1], tm2 = m2[2], tm3 = m2[3];
    const tm4 = m2[4], tm5 = m2[5], tm6 = m2[6], tm7 = m2[7];
    const tm8 = m2[8], tm9 = m2[9], tm10 = m2[10], tm11 = m2[11];
    const tm12 = m2[12], tm13 = m2[13], tm14 = m2[14], tm15 = m2[15];
    const om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];
    const om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];
    const om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];
    const om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];
    result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;
    result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;
    result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;
    result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;
    result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;
    result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;
    result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;
    result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;
    result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;
    result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;
    result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;
    result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;
    result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;
    result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;
    result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;
    result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;
  }
  Matrix2.multiplyToArray = multiplyToArray;
  function equals2(self2, value) {
    const other = value;
    if (!other) {
      return false;
    }
    if (self2.isIdentity || other.isIdentity) {
      if (!self2._isIdentityDirty && !other._isIdentityDirty) {
        return self2.isIdentity && other.isIdentity;
      }
    }
    const m2 = self2._m;
    const om = other._m;
    return m2[0] === om[0] && m2[1] === om[1] && m2[2] === om[2] && m2[3] === om[3] && m2[4] === om[4] && m2[5] === om[5] && m2[6] === om[6] && m2[7] === om[7] && m2[8] === om[8] && m2[9] === om[9] && m2[10] === om[10] && m2[11] === om[11] && m2[12] === om[12] && m2[13] === om[13] && m2[14] === om[14] && m2[15] === om[15];
  }
  Matrix2.equals = equals2;
  function clone2(self2) {
    const result = create();
    copy(self2, result);
    return result;
  }
  Matrix2.clone = clone2;
  function getHashCode(self2) {
    let hash = self2._m[0] || 0;
    for (let i = 1; i < 16; i++) {
      hash = hash * 397 ^ (self2._m[i] || 0);
    }
    return hash;
  }
  Matrix2.getHashCode = getHashCode;
  function decompose(self2, scale2, rotation, translation2) {
    if (self2.isIdentity) {
      if (translation2) {
        translation2.x = 0;
        translation2.y = 0;
        translation2.z = 0;
      }
      if (scale2) {
        scale2.x = 1;
        scale2.y = 1;
        scale2.z = 1;
      }
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return true;
    }
    const m2 = self2._m;
    if (translation2) {
      translation2.x = m2[12];
      translation2.y = m2[13];
      translation2.z = m2[14];
    }
    const usedScale = scale2 || Vector32.Zero();
    usedScale.x = Math.sqrt(m2[0] * m2[0] + m2[1] * m2[1] + m2[2] * m2[2]);
    usedScale.y = Math.sqrt(m2[4] * m2[4] + m2[5] * m2[5] + m2[6] * m2[6]);
    usedScale.z = Math.sqrt(m2[8] * m2[8] + m2[9] * m2[9] + m2[10] * m2[10]);
    if (determinant(self2) <= 0) {
      usedScale.y *= -1;
    }
    if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {
      if (rotation) {
        rotation.w = 1;
        rotation.x = 0;
        rotation.y = 0;
        rotation.z = 0;
      }
      return false;
    }
    if (rotation) {
      const sx = 1 / usedScale.x, sy = 1 / usedScale.y, sz = 1 / usedScale.z;
      const tmpMatrix = create();
      fromValuesToRef(m2[0] * sx, m2[1] * sx, m2[2] * sx, 0, m2[4] * sy, m2[5] * sy, m2[6] * sy, 0, m2[8] * sz, m2[9] * sz, m2[10] * sz, 0, 0, 0, 0, 1, tmpMatrix);
      Quaternion2.fromRotationMatrixToRef(tmpMatrix, rotation);
    }
    return true;
  }
  Matrix2.decompose = decompose;
  function setRowFromFloats(self2, index, x, y, z, w) {
    if (index < 0 || index > 3) {
      return;
    }
    const i = index * 4;
    self2._m[i + 0] = x;
    self2._m[i + 1] = y;
    self2._m[i + 2] = z;
    self2._m[i + 3] = w;
    _markAsUpdated(self2);
  }
  Matrix2.setRowFromFloats = setRowFromFloats;
  function scale(self2, scale2) {
    const result = create();
    scaleToRef(self2, scale2, result);
    return result;
  }
  Matrix2.scale = scale;
  function scaleToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] = self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleToRef = scaleToRef;
  function scaleAndAddToRef(self2, scale2, result) {
    for (let index = 0; index < 16; index++) {
      result._m[index] += self2._m[index] * scale2;
    }
    _markAsUpdated(result);
  }
  Matrix2.scaleAndAddToRef = scaleAndAddToRef;
  function normalMatrixToRef(self2, ref) {
    const tmp = create();
    invertToRef(self2, tmp);
    transposeToRef(tmp, ref);
    const m2 = ref._m;
    fromValuesToRef(m2[0], m2[1], m2[2], 0, m2[4], m2[5], m2[6], 0, m2[8], m2[9], m2[10], 0, 0, 0, 0, 1, ref);
  }
  Matrix2.normalMatrixToRef = normalMatrixToRef;
  function getRotationMatrix(self2) {
    const result = create();
    getRotationMatrixToRef(self2, result);
    return result;
  }
  Matrix2.getRotationMatrix = getRotationMatrix;
  function getRotationMatrixToRef(self2, result) {
    const scale2 = Vector32.Zero();
    if (!decompose(self2, scale2)) {
      result = Identity();
      return;
    }
    const m2 = self2._m;
    const sx = 1 / scale2.x, sy = 1 / scale2.y, sz = 1 / scale2.z;
    fromValuesToRef(m2[0] * sx, m2[1] * sx, m2[2] * sx, 0, m2[4] * sy, m2[5] * sy, m2[6] * sy, 0, m2[8] * sz, m2[9] * sz, m2[10] * sz, 0, 0, 0, 0, 1, result);
  }
  Matrix2.getRotationMatrixToRef = getRotationMatrixToRef;
  function toggleModelMatrixHandInPlace(self2) {
    self2._m[2] *= -1;
    self2._m[6] *= -1;
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[14] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleModelMatrixHandInPlace = toggleModelMatrixHandInPlace;
  function toggleProjectionMatrixHandInPlace(self2) {
    self2._m[8] *= -1;
    self2._m[9] *= -1;
    self2._m[10] *= -1;
    self2._m[11] *= -1;
    _markAsUpdated(self2);
  }
  Matrix2.toggleProjectionMatrixHandInPlace = toggleProjectionMatrixHandInPlace;
  function _updateIdentityStatus(self2, isIdentity, isIdentityDirty = false, isIdentity3x2 = false, isIdentity3x2Dirty = true) {
    self2.updateFlag = _updateFlagSeed++;
    self2.isIdentity = isIdentity;
    self2.isIdentity3x2 = isIdentity || isIdentity3x2;
    self2._isIdentityDirty = self2.isIdentity ? false : isIdentityDirty;
    self2._isIdentity3x2Dirty = self2.isIdentity3x2 ? false : isIdentity3x2Dirty;
  }
})(Matrix || (Matrix = {}));

// node_modules/@dcl/ecs-math/dist/Quaternion.js
var Quaternion2;
(function(Quaternion3) {
  function create(x = 0, y = 0, z = 0, w = 1) {
    return { x, y, z, w };
  }
  Quaternion3.create = create;
  function add2(q1, q2) {
    return { x: q1.x + q2.x, y: q1.y + q2.y, z: q1.z + q2.z, w: q1.w + q2.w };
  }
  Quaternion3.add = add2;
  function fromRotationYawPitchRoll(yaw, pitch, roll) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    return create(c2 * s1 * c3 + s2 * c1 * s3, s2 * c1 * c3 - c2 * s1 * s3, c2 * c1 * s3 - s2 * s1 * c3, c2 * c1 * c3 + s2 * s1 * s3);
  }
  Quaternion3.fromRotationYawPitchRoll = fromRotationYawPitchRoll;
  function fromEulerDegrees(x, y, z) {
    return fromRotationYawPitchRoll(y * DEG2RAD, x * DEG2RAD, z * DEG2RAD);
  }
  Quaternion3.fromEulerDegrees = fromEulerDegrees;
  function length2(q) {
    return Math.sqrt(lengthSquared(q));
  }
  Quaternion3.length = length2;
  function lengthSquared(q) {
    return q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
  }
  Quaternion3.lengthSquared = lengthSquared;
  function dot(left, right) {
    return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
  }
  Quaternion3.dot = dot;
  function angle(quat1, quat2) {
    const dotVal = dot(quat1, quat2);
    return Math.acos(Math.min(Math.abs(dotVal), 1)) * 2 * RAD2DEG;
  }
  Quaternion3.angle = angle;
  function rotateTowards(from, to, maxDegreesDelta) {
    const num = angle(from, to);
    if (num === 0) {
      return to;
    }
    const t = Math.min(1, maxDegreesDelta / num);
    return slerp(from, to, t);
  }
  Quaternion3.rotateTowards = rotateTowards;
  function lookRotation(forward, up = { x: 0, y: 1, z: 0 }) {
    const forwardNew = Vector32.normalize(forward);
    const right = Vector32.normalize(Vector32.cross(up, forwardNew));
    const upNew = Vector32.cross(forwardNew, right);
    const m00 = right.x;
    const m01 = right.y;
    const m02 = right.z;
    const m10 = upNew.x;
    const m11 = upNew.y;
    const m12 = upNew.z;
    const m20 = forwardNew.x;
    const m21 = forwardNew.y;
    const m22 = forwardNew.z;
    const num8 = m00 + m11 + m22;
    const quaternion = create();
    if (num8 > 0) {
      let num = Math.sqrt(num8 + 1);
      quaternion.w = num * 0.5;
      num = 0.5 / num;
      quaternion.x = (m12 - m21) * num;
      quaternion.y = (m20 - m02) * num;
      quaternion.z = (m01 - m10) * num;
      return quaternion;
    }
    if (m00 >= m11 && m00 >= m22) {
      const num7 = Math.sqrt(1 + m00 - m11 - m22);
      const num4 = 0.5 / num7;
      quaternion.x = 0.5 * num7;
      quaternion.y = (m01 + m10) * num4;
      quaternion.z = (m02 + m20) * num4;
      quaternion.w = (m12 - m21) * num4;
      return quaternion;
    }
    if (m11 > m22) {
      const num6 = Math.sqrt(1 + m11 - m00 - m22);
      const num3 = 0.5 / num6;
      quaternion.x = (m10 + m01) * num3;
      quaternion.y = 0.5 * num6;
      quaternion.z = (m21 + m12) * num3;
      quaternion.w = (m20 - m02) * num3;
      return quaternion;
    }
    const num5 = Math.sqrt(1 + m22 - m00 - m11);
    const num2 = 0.5 / num5;
    quaternion.x = (m20 + m02) * num2;
    quaternion.y = (m21 + m12) * num2;
    quaternion.z = 0.5 * num5;
    quaternion.w = (m01 - m10) * num2;
    return quaternion;
  }
  Quaternion3.lookRotation = lookRotation;
  function normalize(q) {
    const qLength = 1 / length2(q);
    return create(q.x * qLength, q.y * qLength, q.z * qLength, q.w * qLength);
  }
  Quaternion3.normalize = normalize;
  function fromToRotation(from, to, up = Vector32.Up()) {
    const v0 = Vector32.normalize(from);
    const v1 = Vector32.normalize(to);
    const a = Vector32.cross(v0, v1);
    const w = Math.sqrt(Vector32.lengthSquared(v0) * Vector32.lengthSquared(v1)) + Vector32.dot(v0, v1);
    if (Vector32.lengthSquared(a) < 1e-4) {
      return Math.abs(w) < 1e-4 ? normalize(create(up.x, up.y, up.z, 0)) : Identity();
    } else {
      return normalize(create(a.x, a.y, a.z, w));
    }
  }
  Quaternion3.fromToRotation = fromToRotation;
  function Identity() {
    return create(0, 0, 0, 1);
  }
  Quaternion3.Identity = Identity;
  function toEulerAngles(q) {
    const out = Vector32.create();
    const unit = q.x * q.x + q.y * q.y + q.z * q.z + q.w * q.w;
    const test = q.x * q.w - q.y * q.z;
    if (test > 0.4995 * unit) {
      out.x = Math.PI / 2;
      out.y = 2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else if (test < -0.4995 * unit) {
      out.x = -Math.PI / 2;
      out.y = -2 * Math.atan2(q.y, q.x);
      out.z = 0;
    } else {
      out.x = Math.asin(2 * (q.w * q.x - q.y * q.z));
      out.y = Math.atan2(2 * q.w * q.y + 2 * q.z * q.x, 1 - 2 * (q.x * q.x + q.y * q.y));
      out.z = Math.atan2(2 * q.w * q.z + 2 * q.x * q.y, 1 - 2 * (q.z * q.z + q.x * q.x));
    }
    out.x *= RAD2DEG;
    out.y *= RAD2DEG;
    out.z *= RAD2DEG;
    out.x = Scalar.repeat(out.x, 360);
    out.y = Scalar.repeat(out.y, 360);
    out.z = Scalar.repeat(out.z, 360);
    return out;
  }
  Quaternion3.toEulerAngles = toEulerAngles;
  function fromRotationYawPitchRollToRef(yaw, pitch, roll, result) {
    const halfPitch = pitch * 0.5;
    const halfYaw = yaw * 0.5;
    const halfRoll = roll * 0.5;
    const c1 = Math.cos(halfPitch);
    const c2 = Math.cos(halfYaw);
    const c3 = Math.cos(halfRoll);
    const s1 = Math.sin(halfPitch);
    const s2 = Math.sin(halfYaw);
    const s3 = Math.sin(halfRoll);
    result.x = c2 * s1 * c3 + s2 * c1 * s3;
    result.y = s2 * c1 * c3 - c2 * s1 * s3;
    result.z = c2 * c1 * s3 - s2 * s1 * c3;
    result.w = c2 * c1 * c3 + s2 * s1 * s3;
  }
  Quaternion3.fromRotationYawPitchRollToRef = fromRotationYawPitchRollToRef;
  function fromRotationMatrixToRef(matrix, result) {
    const data = matrix._m;
    const m11 = data[0], m12 = data[4], m13 = data[8];
    const m21 = data[1], m22 = data[5], m23 = data[9];
    const m31 = data[2], m32 = data[6], m33 = data[10];
    const trace = m11 + m22 + m33;
    let s;
    if (trace > 0) {
      s = 0.5 / Math.sqrt(trace + 1);
      result.w = 0.25 / s;
      result.x = (m32 - m23) * s;
      result.y = (m13 - m31) * s;
      result.z = (m21 - m12) * s;
    } else if (m11 > m22 && m11 > m33) {
      s = 2 * Math.sqrt(1 + m11 - m22 - m33);
      result.w = (m32 - m23) / s;
      result.x = 0.25 * s;
      result.y = (m12 + m21) / s;
      result.z = (m13 + m31) / s;
    } else if (m22 > m33) {
      s = 2 * Math.sqrt(1 + m22 - m11 - m33);
      result.w = (m13 - m31) / s;
      result.x = (m12 + m21) / s;
      result.y = 0.25 * s;
      result.z = (m23 + m32) / s;
    } else {
      s = 2 * Math.sqrt(1 + m33 - m11 - m22);
      result.w = (m21 - m12) / s;
      result.x = (m13 + m31) / s;
      result.y = (m23 + m32) / s;
      result.z = 0.25 * s;
    }
  }
  Quaternion3.fromRotationMatrixToRef = fromRotationMatrixToRef;
  function slerp(left, right, amount) {
    const result = Quaternion3.Identity();
    Quaternion3.slerpToRef(left, right, amount, result);
    return result;
  }
  Quaternion3.slerp = slerp;
  function slerpToRef(left, right, amount, result) {
    let num2;
    let num3;
    let num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;
    let flag = false;
    if (num4 < 0) {
      flag = true;
      num4 = -num4;
    }
    if (num4 > 0.999999) {
      num3 = 1 - amount;
      num2 = flag ? -amount : amount;
    } else {
      const num5 = Math.acos(num4);
      const num6 = 1 / Math.sin(num5);
      num3 = Math.sin((1 - amount) * num5) * num6;
      num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;
    }
    result.x = num3 * left.x + num2 * right.x;
    result.y = num3 * left.y + num2 * right.y;
    result.z = num3 * left.z + num2 * right.z;
    result.w = num3 * left.w + num2 * right.w;
  }
  Quaternion3.slerpToRef = slerpToRef;
  function multiply2(self2, q1) {
    const result = create(0, 0, 0, 1);
    multiplyToRef(self2, q1, result);
    return result;
  }
  Quaternion3.multiply = multiply2;
  function multiplyToRef(self2, q1, result) {
    result.x = self2.x * q1.w + self2.y * q1.z - self2.z * q1.y + self2.w * q1.x;
    result.y = -self2.x * q1.z + self2.y * q1.w + self2.z * q1.x + self2.w * q1.y;
    result.z = self2.x * q1.y - self2.y * q1.x + self2.z * q1.w + self2.w * q1.z;
    result.w = -self2.x * q1.x - self2.y * q1.y - self2.z * q1.z + self2.w * q1.w;
  }
  Quaternion3.multiplyToRef = multiplyToRef;
  function fromAngleAxis(degrees, axis) {
    if (Vector32.lengthSquared(axis) === 0) {
      return Quaternion3.Identity();
    }
    const result = Identity();
    let radians = degrees * DEG2RAD;
    radians *= 0.5;
    const a2 = Vector32.normalize(axis);
    Vector32.scaleToRef(a2, Math.sin(radians), a2);
    result.x = a2.x;
    result.y = a2.y;
    result.z = a2.z;
    result.w = Math.cos(radians);
    return normalize(result);
  }
  Quaternion3.fromAngleAxis = fromAngleAxis;
  function fromAxisToRotationQuaternion(axis1, axis2, axis3) {
    const quat = Quaternion3.create(0, 0, 0, 0);
    fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, quat);
    return quat;
  }
  Quaternion3.fromAxisToRotationQuaternion = fromAxisToRotationQuaternion;
  function fromAxisToRotationQuaternionToRef(axis1, axis2, axis3, ref) {
    const rotMat = Matrix.create();
    Matrix.fromXYZAxesToRef(Vector32.normalize(axis1), Vector32.normalize(axis2), Vector32.normalize(axis3), rotMat);
    Quaternion3.fromRotationMatrixToRef(rotMat, ref);
  }
  Quaternion3.fromAxisToRotationQuaternionToRef = fromAxisToRotationQuaternionToRef;
  function Zero() {
    return create(0, 0, 0, 0);
  }
  Quaternion3.Zero = Zero;
  function fromLookAt(position, target, worldUp = Vector32.Up()) {
    const result = Quaternion3.Identity();
    fromLookAtToRef(position, target, worldUp, result);
    return result;
  }
  Quaternion3.fromLookAt = fromLookAt;
  function fromLookAtToRef(position, target, worldUp = Vector32.Up(), result) {
    const m = Matrix.Identity();
    Matrix.lookAtLHToRef(position, target, worldUp, m);
    Matrix.invertToRef(m, m);
    Quaternion3.fromRotationMatrixToRef(m, result);
  }
  Quaternion3.fromLookAtToRef = fromLookAtToRef;
})(Quaternion2 || (Quaternion2 = {}));

// node_modules/@dcl/ecs-math/dist/Vector2.js
var Vector22;
(function(Vector23) {
  function create(x = 0, y = 0) {
    return { x, y };
  }
  Vector23.create = create;
  function Zero() {
    return create(0, 0);
  }
  Vector23.Zero = Zero;
  function One() {
    return create(1, 1);
  }
  Vector23.One = One;
})(Vector22 || (Vector22 = {}));

// node_modules/@dcl/ecs-math/dist/Color4.js
var Color42;
(function(Color43) {
  function create(r = 0, g = 0, b = 0, a = 1) {
    return { r, g, b, a };
  }
  Color43.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== "#" || hex.length !== 7 && hex.length !== 9) {
      return create(0, 0, 0, 1);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    const aStr = hex.substring(7, 9);
    const a = aStr ? parseInt(aStr, 16) : 255;
    return Color43.fromInts(r, g, b, a);
  }
  Color43.fromHexString = fromHexString;
  function lerp(left, right, amount) {
    const result = create(0, 0, 0, 0);
    Color43.lerpToRef(left, right, amount, result);
    return result;
  }
  Color43.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
    result.a = left.a + (right.a - left.a) * amount;
  }
  Color43.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0, 1);
  }
  Color43.Red = Red;
  function Green() {
    return create(0, 1, 0, 1);
  }
  Color43.Green = Green;
  function Blue() {
    return create(0, 0, 1, 1);
  }
  Color43.Blue = Blue;
  function Black() {
    return create(0, 0, 0, 1);
  }
  Color43.Black = Black;
  function White() {
    return create(1, 1, 1, 1);
  }
  Color43.White = White;
  function Purple() {
    return create(0.5, 0, 0.5, 1);
  }
  Color43.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1, 1);
  }
  Color43.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0, 1);
  }
  Color43.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5, 1);
  }
  Color43.Gray = Gray;
  function Teal() {
    return create(0, 1, 1, 1);
  }
  Color43.Teal = Teal;
  function Clear() {
    return create(0, 0, 0, 0);
  }
  Color43.Clear = Clear;
  function fromColor3(color3, alpha = 1) {
    return create(color3.r, color3.g, color3.b, alpha);
  }
  Color43.fromColor3 = fromColor3;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);
  }
  Color43.fromArray = fromArray;
  function fromInts(r, g, b, a) {
    return create(r / 255, g / 255, b / 255, a / 255);
  }
  Color43.fromInts = fromInts;
  function checkColors4(colors, count) {
    if (colors.length === count * 3) {
      const colors4 = [];
      for (let index = 0; index < colors.length; index += 3) {
        const newIndex = index / 3 * 4;
        colors4[newIndex] = colors[index];
        colors4[newIndex + 1] = colors[index + 1];
        colors4[newIndex + 2] = colors[index + 2];
        colors4[newIndex + 3] = 1;
      }
      return colors4;
    }
    return colors;
  }
  Color43.checkColors4 = checkColors4;
  function addToRef(a, b, ref) {
    ref.r = a.r + b.r;
    ref.g = a.g + b.g;
    ref.b = a.b + b.b;
    ref.a = a.a + b.a;
  }
  Color43.addToRef = addToRef;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
    array[index + 3] = value.a;
  }
  Color43.toArray = toArray;
  function add2(value, right) {
    const ret = Clear();
    addToRef(value, right, ret);
    return ret;
  }
  Color43.add = add2;
  function subtract2(value, right) {
    const ret = Clear();
    subtractToRef(value, right, ret);
    return ret;
  }
  Color43.subtract = subtract2;
  function subtractToRef(a, b, result) {
    result.r = a.r - b.r;
    result.g = a.g - b.g;
    result.b = a.b - b.b;
    result.a = a.a - b.a;
  }
  Color43.subtractToRef = subtractToRef;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2, value.a * scale2);
  }
  Color43.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
    result.a = value.a * scale2;
  }
  Color43.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
    result.a += value.a * scale2;
  }
  Color43.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
    result.a = Scalar.clamp(value.a, min, max);
  }
  Color43.clampToRef = clampToRef;
  function multiply2(value, color) {
    return create(value.r * color.r, value.g * color.g, value.b * color.b, value.a * color.a);
  }
  Color43.multiply = multiply2;
  function multiplyToRef(value, color, result) {
    result.r = value.r * color.r;
    result.g = value.g * color.g;
    result.b = value.b * color.b;
    result.a = value.a * color.a;
  }
  Color43.multiplyToRef = multiplyToRef;
  function toString2(value) {
    return "{R: " + value.r + " G:" + value.g + " B:" + value.b + " A:" + value.a + "}";
  }
  Color43.toString = toString2;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = hash * 397 ^ (value.g || 0);
    hash = hash * 397 ^ (value.b || 0);
    hash = hash * 397 ^ (value.a || 0);
    return hash;
  }
  Color43.getHashCode = getHashCode;
  function clone2(value) {
    return create(value.r, value.g, value.b, value.a);
  }
  Color43.clone = clone2;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
    dest.a = source.a;
  }
  Color43.copyFrom = copyFrom;
  function copyFromFloats(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color43.copyFromFloats = copyFromFloats;
  function set(r, g, b, a, dest) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
    dest.a = a;
  }
  Color43.set = set;
  function toHexString(value) {
    const intR = value.r * 255 | 0;
    const intG = value.g * 255 | 0;
    const intB = value.b * 255 | 0;
    const intA = value.a * 255 | 0;
    return "#" + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB) + Scalar.toHex(intA);
  }
  Color43.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color43.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, ref) {
    ref.r = Math.pow(value.r, ToLinearSpace);
    ref.g = Math.pow(value.g, ToLinearSpace);
    ref.b = Math.pow(value.b, ToLinearSpace);
    ref.a = value.a;
  }
  Color43.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color43.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
    convertedColor.a = value.a;
  }
  Color43.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color42 || (Color42 = {}));

// node_modules/@dcl/ecs-math/dist/Color3.js
var Color32;
(function(Color33) {
  function create(r = 0, g = 0, b = 0) {
    return { r, g, b };
  }
  Color33.create = create;
  function fromHexString(hex) {
    if (hex.substring(0, 1) !== "#" || hex.length !== 7) {
      return create(0, 0, 0);
    }
    const r = parseInt(hex.substring(1, 3), 16);
    const g = parseInt(hex.substring(3, 5), 16);
    const b = parseInt(hex.substring(5, 7), 16);
    return fromInts(r, g, b);
  }
  Color33.fromHexString = fromHexString;
  function fromArray(array, offset = 0) {
    return create(array[offset], array[offset + 1], array[offset + 2]);
  }
  Color33.fromArray = fromArray;
  function fromInts(r, g, b) {
    return create(r / 255, g / 255, b / 255);
  }
  Color33.fromInts = fromInts;
  function lerp(start, end, amount) {
    const result = create(0, 0, 0);
    Color33.lerpToRef(start, end, amount, result);
    return result;
  }
  Color33.lerp = lerp;
  function lerpToRef(left, right, amount, result) {
    result.r = left.r + (right.r - left.r) * amount;
    result.g = left.g + (right.g - left.g) * amount;
    result.b = left.b + (right.b - left.b) * amount;
  }
  Color33.lerpToRef = lerpToRef;
  function Red() {
    return create(1, 0, 0);
  }
  Color33.Red = Red;
  function Green() {
    return create(0, 1, 0);
  }
  Color33.Green = Green;
  function Blue() {
    return create(0, 0, 1);
  }
  Color33.Blue = Blue;
  function Black() {
    return create(0, 0, 0);
  }
  Color33.Black = Black;
  function White() {
    return create(1, 1, 1);
  }
  Color33.White = White;
  function Purple() {
    return create(0.5, 0, 0.5);
  }
  Color33.Purple = Purple;
  function Magenta() {
    return create(1, 0, 1);
  }
  Color33.Magenta = Magenta;
  function Yellow() {
    return create(1, 1, 0);
  }
  Color33.Yellow = Yellow;
  function Gray() {
    return create(0.5, 0.5, 0.5);
  }
  Color33.Gray = Gray;
  function Teal() {
    return create(0, 1, 1);
  }
  Color33.Teal = Teal;
  function Random() {
    return create(Math.random(), Math.random(), Math.random());
  }
  Color33.Random = Random;
  function toString2(value) {
    return "{R: " + value.r + " G:" + value.g + " B:" + value.b + "}";
  }
  Color33.toString = toString2;
  function getHashCode(value) {
    let hash = value.r || 0;
    hash = hash * 397 ^ (value.g || 0);
    hash = hash * 397 ^ (value.b || 0);
    return hash;
  }
  Color33.getHashCode = getHashCode;
  function toArray(value, array, index = 0) {
    array[index] = value.r;
    array[index + 1] = value.g;
    array[index + 2] = value.b;
  }
  Color33.toArray = toArray;
  function toColor4(value, alpha = 1) {
    return Color42.create(value.r, value.g, value.b, alpha);
  }
  Color33.toColor4 = toColor4;
  function asArray(value) {
    const result = new Array();
    toArray(value, result, 0);
    return result;
  }
  Color33.asArray = asArray;
  function toLuminance(value) {
    return value.r * 0.3 + value.g * 0.59 + value.b * 0.11;
  }
  Color33.toLuminance = toLuminance;
  function multiply2(value, otherColor) {
    return create(value.r * otherColor.r, value.g * otherColor.g, value.b * otherColor.b);
  }
  Color33.multiply = multiply2;
  function multiplyToRef(value, otherColor, result) {
    result.r = value.r * otherColor.r;
    result.g = value.g * otherColor.g;
    result.b = value.b * otherColor.b;
  }
  Color33.multiplyToRef = multiplyToRef;
  function equals2(value, otherColor) {
    return otherColor && value.r === otherColor.r && value.g === otherColor.g && value.b === otherColor.b;
  }
  Color33.equals = equals2;
  function equalsFloats(value, r, g, b) {
    return value.r === r && value.g === g && value.b === b;
  }
  Color33.equalsFloats = equalsFloats;
  function scale(value, scale2) {
    return create(value.r * scale2, value.g * scale2, value.b * scale2);
  }
  Color33.scale = scale;
  function scaleToRef(value, scale2, result) {
    result.r = value.r * scale2;
    result.g = value.g * scale2;
    result.b = value.b * scale2;
  }
  Color33.scaleToRef = scaleToRef;
  function scaleAndAddToRef(value, scale2, result) {
    result.r += value.r * scale2;
    result.g += value.g * scale2;
    result.b += value.b * scale2;
  }
  Color33.scaleAndAddToRef = scaleAndAddToRef;
  function clampToRef(value, min = 0, max = 1, result) {
    result.r = Scalar.clamp(value.r, min, max);
    result.g = Scalar.clamp(value.g, min, max);
    result.b = Scalar.clamp(value.b, min, max);
  }
  Color33.clampToRef = clampToRef;
  function clamp(value, min = 0, max = 1) {
    const result = Color33.Black();
    clampToRef(value, min, max, result);
    return result;
  }
  Color33.clamp = clamp;
  function add2(value, otherColor) {
    return create(value.r + otherColor.r, value.g + otherColor.g, value.b + otherColor.b);
  }
  Color33.add = add2;
  function addToRef(value, otherColor, result) {
    result.r = value.r + otherColor.r;
    result.g = value.g + otherColor.g;
    result.b = value.b + otherColor.b;
  }
  Color33.addToRef = addToRef;
  function subtract2(value, otherColor) {
    return create(value.r - otherColor.r, value.g - otherColor.g, value.b - otherColor.b);
  }
  Color33.subtract = subtract2;
  function subtractToRef(value, otherColor, result) {
    result.r = value.r - otherColor.r;
    result.g = value.g - otherColor.g;
    result.b = value.b - otherColor.b;
  }
  Color33.subtractToRef = subtractToRef;
  function clone2(value) {
    return create(value.r, value.g, value.b);
  }
  Color33.clone = clone2;
  function copyFrom(source, dest) {
    dest.r = source.r;
    dest.g = source.g;
    dest.b = source.b;
  }
  Color33.copyFrom = copyFrom;
  function set(dest, r, g, b) {
    dest.r = r;
    dest.g = g;
    dest.b = b;
  }
  Color33.set = set;
  function toHexString(value) {
    const intR = value.r * 255 | 0;
    const intG = value.g * 255 | 0;
    const intB = value.b * 255 | 0;
    return "#" + Scalar.toHex(intR) + Scalar.toHex(intG) + Scalar.toHex(intB);
  }
  Color33.toHexString = toHexString;
  function toLinearSpace(value) {
    const convertedColor = create();
    toLinearSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color33.toLinearSpace = toLinearSpace;
  function toLinearSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToLinearSpace);
    convertedColor.g = Math.pow(value.g, ToLinearSpace);
    convertedColor.b = Math.pow(value.b, ToLinearSpace);
  }
  Color33.toLinearSpaceToRef = toLinearSpaceToRef;
  function toGammaSpace(value) {
    const convertedColor = create();
    toGammaSpaceToRef(value, convertedColor);
    return convertedColor;
  }
  Color33.toGammaSpace = toGammaSpace;
  function toGammaSpaceToRef(value, convertedColor) {
    convertedColor.r = Math.pow(value.r, ToGammaSpace);
    convertedColor.g = Math.pow(value.g, ToGammaSpace);
    convertedColor.b = Math.pow(value.b, ToGammaSpace);
  }
  Color33.toGammaSpaceToRef = toGammaSpaceToRef;
})(Color32 || (Color32 = {}));

// node_modules/@dcl/asset-packs/dist/actions.js
var import_UserActionModule = require("~system/UserActionModule");
var import_RestrictedActions = require("~system/RestrictedActions");
var import_CommsApi = require("~system/CommsApi");

// node_modules/@dcl/asset-packs/dist/timer.js
var tickSet = /* @__PURE__ */ new Set();
var queueDelay = /* @__PURE__ */ new Map();
var queueInterval = /* @__PURE__ */ new Map();
function createTimerSystem() {
  return function timerSystem(dt) {
    intervalSystem(dt);
    delaySystem(dt);
    tickSystem(dt);
  };
  function intervalSystem(dt) {
    for (const [entity, actions3] of queueInterval.entries()) {
      const triggerEvents = getTriggerEvents(entity);
      for (const action of actions3) {
        if (action.timeout === action.interval) {
          action.callback();
        }
        action.timeout -= dt;
        if (action.timeout <= 0) {
          action.timeout = action.interval;
          triggerEvents.emit(TriggerType.ON_LOOP);
        }
      }
    }
  }
  function delaySystem(dt) {
    for (const [entity, actions3] of queueDelay.entries()) {
      const triggerEvents = getTriggerEvents(entity);
      const completedActions = [];
      let idx = 0;
      for (const action of actions3) {
        action.timeout -= dt;
        if (action.timeout <= 0) {
          action.callback();
          triggerEvents.emit(TriggerType.ON_DELAY);
          completedActions.push(idx);
        }
        idx++;
      }
      for (const action of completedActions) {
        actions3.splice(action, 1);
      }
    }
  }
  function tickSystem(_dt) {
    for (const entity of tickSet) {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_TICK);
    }
  }
}
function startTimeout(entity, action, timeout, callback) {
  const actionCallbacks = queueDelay.get(entity) ?? [];
  actionCallbacks.push({ timeout, action, callback });
  queueDelay.set(entity, actionCallbacks);
}
function stopTimeout(entity, action) {
  const delays = queueDelay.get(entity) ?? [];
  queueDelay.set(entity, delays.filter(($) => $.action !== action));
}
function stopAllTimeouts(entity) {
  queueDelay.delete(entity);
}
function startInterval(entity, action, interval, callback) {
  const actionCallbacks = queueInterval.get(entity) ?? [];
  actionCallbacks.push({ timeout: interval, action, callback, interval });
  queueInterval.set(entity, actionCallbacks);
}
function stopInterval(entity, action) {
  const intervals = queueInterval.get(entity) ?? [];
  queueInterval.set(entity, intervals.filter(($) => $.action !== action));
}
function stopAllIntervals(entity) {
  queueInterval.delete(entity);
}

// node_modules/@dcl/asset-packs/dist/ui.js
function getAlignMode(align, isColumn) {
  switch (align) {
    case AlignMode.TAM_TOP_LEFT: {
      return {
        alignItems: 1,
        justifyContent: 0
      };
    }
    case AlignMode.TAM_TOP_CENTER: {
      return isColumn ? {
        alignItems: 2,
        justifyContent: 0
      } : {
        alignItems: 1,
        justifyContent: 1
      };
    }
    case AlignMode.TAM_TOP_RIGHT: {
      return isColumn ? {
        alignItems: 3,
        justifyContent: 0
      } : {
        alignItems: 1,
        justifyContent: 2
      };
    }
    case AlignMode.TAM_MIDDLE_LEFT: {
      return isColumn ? {
        alignItems: 1,
        justifyContent: 1
      } : {
        alignItems: 2,
        justifyContent: 0
      };
    }
    case AlignMode.TAM_MIDDLE_CENTER: {
      return {
        alignItems: 2,
        justifyContent: 1
      };
    }
    case AlignMode.TAM_MIDDLE_RIGHT: {
      return isColumn ? {
        alignItems: 3,
        justifyContent: 1
      } : {
        alignItems: 2,
        justifyContent: 2
      };
    }
    case AlignMode.TAM_BOTTOM_LEFT: {
      return isColumn ? {
        alignItems: 1,
        justifyContent: 2
      } : {
        alignItems: 2,
        justifyContent: 1
      };
    }
    case AlignMode.TAM_BOTTOM_CENTER: {
      return isColumn ? {
        alignItems: 2,
        justifyContent: 2
      } : {
        alignItems: 3,
        justifyContent: 1
      };
    }
    case AlignMode.TAM_BOTTOM_RIGHT: {
      return {
        alignItems: 3,
        justifyContent: 2
      };
    }
  }
}
function mapAlignToScreenAlign(align, flexDirection = 0) {
  const isColumn = flexDirection === 1;
  switch (align) {
    case AlignMode.TAM_TOP_LEFT:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_TOP_CENTER:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_TOP_RIGHT:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_MIDDLE_LEFT:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_MIDDLE_CENTER:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_MIDDLE_RIGHT:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_BOTTOM_LEFT:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_BOTTOM_CENTER:
      return getAlignMode(align, isColumn);
    case AlignMode.TAM_BOTTOM_RIGHT:
      return getAlignMode(align, isColumn);
    default:
      throw new Error(`Unsupported AlignMode: ${align}`);
  }
}
function getUITransform(component, entiy, height = 100, width = 100, unit = 2) {
  let uiTransformComponent = component.getMutableOrNull(entiy);
  if (!uiTransformComponent) {
    uiTransformComponent = component.create(entiy);
    uiTransformComponent.heightUnit = unit;
    uiTransformComponent.widthUnit = unit;
    uiTransformComponent.height = height;
    uiTransformComponent.width = width;
    uiTransformComponent.maxHeightUnit = unit;
    uiTransformComponent.maxWidthUnit = unit;
    uiTransformComponent.maxHeight = height;
    uiTransformComponent.maxWidth = width;
  }
  if (entiy === 0) {
    uiTransformComponent.positionType = 1;
  }
  return uiTransformComponent;
}
function getUIBackground(component, entity, src, textureMode = 0, wrapMode = 1) {
  return component.createOrReplace(entity, {
    textureMode,
    texture: {
      tex: {
        $case: "texture",
        texture: {
          src,
          wrapMode
        }
      }
    },
    uvs: []
  });
}
function breakLines(text, linelength) {
  const lineBreak = "\n";
  let counter = 0;
  let line = "";
  let returnText = "";
  let bMatchFound = false;
  const lineLen = linelength ? linelength : 50;
  if (!text)
    return "";
  if (text.length < lineLen + 1) {
    return text;
  }
  while (counter < text.length) {
    line = text.substring(counter, counter + lineLen);
    bMatchFound = false;
    if (line.length == lineLen) {
      for (let i = line.length; i > -1; i--) {
        if (line.substring(i, i + 1) == " ") {
          counter += line.substring(0, i).length;
          line = line.substring(0, i) + lineBreak;
          returnText += line;
          bMatchFound = true;
          break;
        }
      }
      if (!bMatchFound) {
        counter += line.length;
        line = line + lineBreak;
        returnText += line;
      }
    } else {
      returnText += line;
      break;
    }
  }
  return returnText;
}
function getUIText(component, entity, text, fontSize = 10, containerWidth, align = AlignMode.TAM_MIDDLE_CENTER, color = { r: 0, g: 0, b: 0, a: 1 }) {
  const lineLength = Math.floor(containerWidth / (fontSize / 1.7));
  return component.createOrReplace(entity, {
    value: breakLines(text, lineLength),
    fontSize,
    font: Font2.F_MONOSPACE,
    textAlign: align,
    color
  });
}

// node_modules/@dcl-sdk/utils/dist/math.js
function getWorldPosition(entity) {
  let transform = Transform2.getOrNull(entity);
  if (!transform)
    return Vector32.Zero();
  let parent = transform.parent;
  if (!parent) {
    return transform.position;
  } else {
    let parentRotation = Transform2.get(parent).rotation;
    return Vector32.add(getWorldPosition(parent), Vector32.rotate(transform.position, getWorldRotation(parent)));
  }
}
function getWorldRotation(entity) {
  let transform = Transform2.getOrNull(entity);
  if (!transform)
    return Quaternion2.Identity();
  let parent = transform.parent;
  if (!parent) {
    return transform.rotation;
  } else {
    return Quaternion2.multiply(transform.rotation, getWorldRotation(parent));
  }
}
var InterpolationType2;
(function(InterpolationType3) {
  InterpolationType3["LINEAR"] = "linear";
  InterpolationType3["EASEINQUAD"] = "easeinquad";
  InterpolationType3["EASEOUTQUAD"] = "easeoutquad";
  InterpolationType3["EASEQUAD"] = "easequad";
  InterpolationType3["EASEINSINE"] = "easeinsine";
  InterpolationType3["EASEOUTSINE"] = "easeoutsine";
  InterpolationType3["EASESINE"] = "easeinoutsine";
  InterpolationType3["EASEINEXPO"] = "easeinexpo";
  InterpolationType3["EASEOUTEXPO"] = "easeoutexpo";
  InterpolationType3["EASEEXPO"] = "easeinoutexpo";
  InterpolationType3["EASEINELASTIC"] = "easeinelastic";
  InterpolationType3["EASEOUTELASTIC"] = "easeoutelastic";
  InterpolationType3["EASEELASTIC"] = "easeinoutelastic";
  InterpolationType3["EASEINBOUNCE"] = "easeinbounce";
  InterpolationType3["EASEOUTEBOUNCE"] = "easeoutbounce";
  InterpolationType3["EASEBOUNCE"] = "easeinoutbounce";
})(InterpolationType2 || (InterpolationType2 = {}));
function createCatmullRomSpline(points, nbPoints, closed) {
  const catmullRom = new Array();
  const step = 1 / nbPoints;
  let amount = 0;
  if (closed) {
    const pointsCount = points.length;
    for (let i = 0; i < pointsCount; i++) {
      amount = 0;
      for (let c = 0; c < nbPoints; c++) {
        catmullRom.push(Vector32.catmullRom(points[i % pointsCount], points[(i + 1) % pointsCount], points[(i + 2) % pointsCount], points[(i + 3) % pointsCount], amount));
        amount += step;
      }
    }
    catmullRom.push(catmullRom[0]);
  } else {
    const totalPoints = new Array();
    totalPoints.push(Vector32.clone(points[0]));
    Array.prototype.push.apply(totalPoints, points);
    totalPoints.push(Vector32.clone(points[points.length - 1]));
    let i = 0;
    for (; i < totalPoints.length - 3; i++) {
      amount = 0;
      for (let c = 0; c < nbPoints; c++) {
        catmullRom.push(Vector32.catmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));
        amount += step;
      }
    }
    i--;
    catmullRom.push(Vector32.catmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));
  }
  return catmullRom;
}
function areAABBIntersecting(aMin, aMax, bMin, bMax) {
  return aMin.x <= bMax.x && aMax.x >= bMin.x && aMin.y <= bMax.y && aMax.y >= bMin.y && aMin.z <= bMax.z && aMax.z >= bMin.z;
}
function areSpheresIntersecting(aPos, aRadius, bPos, bRadius) {
  const sqDist = Vector32.distanceSquared(aPos, bPos);
  const radiusSum = aRadius + bRadius;
  return sqDist < radiusSum * radiusSum;
}
function areAABBSphereIntersecting(boxMin, boxMax, spherePos, sphereRadius) {
  let dmin = 0;
  if (spherePos.x < boxMin.x)
    dmin += (boxMin.x - spherePos.x) * (boxMin.x - spherePos.x);
  if (spherePos.x > boxMax.x)
    dmin += (spherePos.x - boxMax.x) * (spherePos.x - boxMax.x);
  if (spherePos.y < boxMin.y)
    dmin += (boxMin.y - spherePos.y) * (boxMin.y - spherePos.y);
  if (spherePos.y > boxMax.y)
    dmin += (spherePos.y - boxMax.y) * (spherePos.y - boxMax.y);
  if (spherePos.z < boxMin.z)
    dmin += (boxMin.z - spherePos.z) * (boxMin.z - spherePos.z);
  if (spherePos.z > boxMax.z)
    dmin += (spherePos.z - boxMax.z) * (spherePos.z - boxMax.z);
  return dmin < sphereRadius * sphereRadius;
}

// node_modules/@dcl-sdk/utils/dist/priority.js
var REGULAR_PRIORITY = 1e5;
var priority;
(function(priority2) {
  priority2.TimerSystemPriority = REGULAR_PRIORITY + 256;
  priority2.TweenSystemPriority = REGULAR_PRIORITY + 192;
  priority2.PerpetualMotionSystemPriority = REGULAR_PRIORITY + 192;
  priority2.PathSystemPriority = REGULAR_PRIORITY + 192;
  priority2.TriggerSystemPriority = REGULAR_PRIORITY + 128;
  priority2.ActionSystemPriority = REGULAR_PRIORITY + 64;
})(priority || (priority = {}));

// node_modules/@dcl-sdk/utils/dist/timer.js
function createTimers(targetEngine) {
  const timers2 = /* @__PURE__ */ new Map();
  let timerIdCounter = 0;
  function system(dt) {
    let deadTimers = [];
    let callbacks = [];
    for (let [timerId, timerData] of timers2) {
      timerData.accumulatedTime += 1e3 * dt;
      if (timerData.accumulatedTime < timerData.interval)
        continue;
      callbacks.push(timerData.callback);
      if (timerData.recurrent) {
        timerData.accumulatedTime -= Math.floor(timerData.accumulatedTime / timerData.interval) * timerData.interval;
      } else {
        deadTimers.push(timerId);
      }
    }
    for (let timerId of deadTimers)
      timers2.delete(timerId);
    for (let callback of callbacks)
      callback();
  }
  targetEngine.addSystem(system, priority.TimerSystemPriority);
  return {
    setTimeout(callback, milliseconds) {
      let timerId = timerIdCounter++;
      timers2.set(timerId, { callback, interval: milliseconds, recurrent: false, accumulatedTime: 0 });
      return timerId;
    },
    clearTimeout(timer) {
      timers2.delete(timer);
    },
    setInterval(callback, milliseconds) {
      let timerId = timerIdCounter++;
      timers2.set(timerId, { callback, interval: milliseconds, recurrent: true, accumulatedTime: 0 });
      return timerId;
    },
    clearInterval(timer) {
      timers2.delete(timer);
    }
  };
}
var timers = createTimers(engine);

// node_modules/@dcl-sdk/utils/dist/toggle.js
var ToggleState;
(function(ToggleState2) {
  ToggleState2[ToggleState2["Off"] = 0] = "Off";
  ToggleState2[ToggleState2["On"] = 1] = "On";
})(ToggleState || (ToggleState = {}));
function createToggles(targetEngine, timers2) {
  const Toggle = targetEngine.defineComponent("dcl.utils.Toggle", {
    state: Schemas.EnumNumber(ToggleState, ToggleState.Off)
  });
  let toggles2 = /* @__PURE__ */ new Map();
  timers2.setInterval(function() {
    for (const entity of toggles2.keys()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !Toggle.has(entity)) {
        toggles2.delete(entity);
      }
    }
  }, 5e3);
  return {
    addToggle(entity, state, callback) {
      toggles2.set(entity, callback);
      Toggle.createOrReplace(entity, { state });
    },
    removeToggle(entity) {
      toggles2.delete(entity);
      Toggle.deleteFrom(entity);
    },
    setCallback(entity, callback) {
      toggles2.set(entity, callback);
    },
    set(entity, state) {
      const oldState = Toggle.get(entity).state;
      if (oldState != state) {
        Toggle.getMutable(entity).state = state;
        const callback = toggles2.get(entity);
        if (callback)
          callback(state);
      }
    },
    flip(entity) {
      this.set(entity, 1 - Toggle.get(entity).state);
    },
    isOn(entity) {
      return Toggle.get(entity).state == ToggleState.On;
    }
  };
}
var toggles = createToggles(engine, timers);

// node_modules/@dcl-sdk/utils/dist/helpers.js
function getEntityParent(child) {
  const transform = Transform2.getOrNull(child);
  if (transform) {
    return transform.parent;
  } else {
    return engine.RootEntity;
  }
}
function getPlayerPosition() {
  return Transform2.getOrNull(engine.PlayerEntity)?.position || Vector32.create();
}
function getEasingFunctionFromInterpolation(type) {
  switch (type) {
    case InterpolationType2.LINEAR:
      return 0;
    case InterpolationType2.EASEINQUAD:
      return 1;
    case InterpolationType2.EASEOUTQUAD:
      return 2;
    case InterpolationType2.EASEQUAD:
      return 3;
    case InterpolationType2.EASEINSINE:
      return 4;
    case InterpolationType2.EASEOUTSINE:
      return 5;
    case InterpolationType2.EASESINE:
      return 6;
    case InterpolationType2.EASEINEXPO:
      return 7;
    case InterpolationType2.EASEOUTEXPO:
      return 8;
    case InterpolationType2.EASEEXPO:
      return 9;
    case InterpolationType2.EASEINELASTIC:
      return 10;
    case InterpolationType2.EASEOUTELASTIC:
      return 11;
    case InterpolationType2.EASEELASTIC:
      return 12;
    case InterpolationType2.EASEINBOUNCE:
      return 13;
    case InterpolationType2.EASEOUTEBOUNCE:
      return 14;
    case InterpolationType2.EASEBOUNCE:
      return 15;
    default:
      return 0;
  }
}

// node_modules/@dcl-sdk/utils/dist/tween.js
function createTweens(targetEngine) {
  const tweenMap = /* @__PURE__ */ new Map();
  function makeSystem(dt) {
    const deadTweens = [];
    for (const [entity, tweenData] of tweenMap.entries()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !Tween3.has(entity)) {
        tweenMap.delete(entity);
        continue;
      }
      const tween = Tween3.get(entity);
      tweenData.normalizedTime += dt * 1e3;
      if (tweenData.normalizedTime >= tween.duration) {
        deadTweens.push(entity);
      }
    }
    for (const entity of deadTweens) {
      const callback = tweenMap.get(entity)?.callback;
      Tween3.deleteFrom(entity);
      tweenMap.delete(entity);
      if (callback)
        callback();
    }
  }
  function makeStop(entity) {
    Tween3.deleteFrom(entity);
    tweenMap.delete(entity);
  }
  function makeStart(mode) {
    return function(entity, start, end, duration, interpolationType = InterpolationType2.LINEAR, onFinish) {
      const currentTime = duration === 0 ? 1 : 0;
      tweenMap.set(entity, { normalizedTime: currentTime, callback: onFinish });
      Tween3.createOrReplace(entity, {
        duration: duration * 1e3,
        easingFunction: getEasingFunctionFromInterpolation(interpolationType),
        currentTime,
        mode: Tween3.Mode[mode]({ start, end })
      });
    };
  }
  function makeGetOnFinishCallback(entity) {
    if (!tweenMap.has(entity)) {
      throw new Error(`Entity ${entity} is not registered with tweens system`);
    }
    return tweenMap.get(entity);
  }
  targetEngine.addSystem(makeSystem, priority.TweenSystemPriority);
  return {
    startTranslation: makeStart("Move"),
    stopTranslation: makeStop,
    startRotation: makeStart("Rotate"),
    stopRotation: makeStop,
    startScaling: makeStart("Scale"),
    stopScaling: makeStop,
    getTranslationOnFinishCallback: makeGetOnFinishCallback,
    getRotationOnFinishCallback: makeGetOnFinishCallback,
    getScalingOnFinishCallback: makeGetOnFinishCallback
  };
}
var tweens = createTweens(engine);

// node_modules/@dcl-sdk/utils/dist/perpetualMotion.js
var AXIS;
(function(AXIS2) {
  AXIS2["X"] = "x";
  AXIS2["Y"] = "y";
  AXIS2["Z"] = "z";
})(AXIS || (AXIS = {}));
function createPerpetualMotions(targetEngine) {
  const PerpetualRotation = targetEngine.defineComponent("dcl.utils.PerpetualRotation", {
    velocity: Schemas.Quaternion
  });
  function system(dt) {
    for (const [entity, rotation] of targetEngine.getEntitiesWith(PerpetualRotation, Transform2)) {
      const rotationDelta = Quaternion2.slerp(Quaternion2.Identity(), rotation.velocity, dt);
      const transform = Transform2.getMutable(entity);
      transform.rotation = Quaternion2.normalize(Quaternion2.multiply(transform.rotation, rotationDelta));
    }
  }
  targetEngine.addSystem(system, priority.PerpetualMotionSystemPriority);
  return {
    startRotation(entity, velocity) {
      PerpetualRotation.createOrReplace(entity, { velocity });
    },
    stopRotation(entity) {
      if (Tween3.has(entity)) {
        Tween3.deleteFrom(entity);
      }
      if (TweenSequence2.has(entity)) {
        TweenSequence2.deleteFrom(entity);
      }
      if (PerpetualRotation.has(entity)) {
        PerpetualRotation.deleteFrom(entity);
      }
    },
    smoothRotation(entity, duration, axis) {
      let firstEnd = Quaternion2.fromEulerDegrees(0, 180, 0);
      let secondEnd = Quaternion2.fromEulerDegrees(0, 360, 0);
      switch (axis) {
        case AXIS.X:
          firstEnd = Quaternion2.fromEulerDegrees(180, 0, 0);
          secondEnd = Quaternion2.fromEulerDegrees(360, 0, 0);
          break;
        case AXIS.Y:
          firstEnd = Quaternion2.fromEulerDegrees(0, 180, 0);
          secondEnd = Quaternion2.fromEulerDegrees(0, 360, 0);
          break;
        case AXIS.Z:
          firstEnd = Quaternion2.fromEulerDegrees(0, 0, 180);
          secondEnd = Quaternion2.fromEulerDegrees(0, 0, 360);
          break;
      }
      Tween3.createOrReplace(entity, {
        mode: Tween3.Mode.Rotate({
          start: Quaternion2.fromEulerDegrees(0, 0, 0),
          end: firstEnd
        }),
        duration: duration / 2,
        easingFunction: 0
      });
      TweenSequence2.create(entity, {
        loop: 0,
        sequence: [
          {
            mode: Tween3.Mode.Rotate({
              start: firstEnd,
              end: secondEnd
            }),
            duration: duration / 2,
            easingFunction: 0
          }
        ]
      });
    }
  };
}
var perpetualMotions = createPerpetualMotions(engine);

// node_modules/@dcl-sdk/utils/dist/path.js
function createPaths(targetEngine) {
  const FollowPath = targetEngine.defineComponent("dcl.utils.FollowPath", {
    points: Schemas.Array(Schemas.Vector3),
    faceDirection: Schemas.Boolean,
    speed: Schemas.Number,
    normalizedTime: Schemas.Number,
    currentIndex: Schemas.Number,
    segmentTimes: Schemas.Array(Schemas.Number),
    curveSegmentCount: Schemas.Number
  });
  const finishCbs = /* @__PURE__ */ new Map();
  const pointReachedCbs = /* @__PURE__ */ new Map();
  function unregisterEntity(entity) {
    finishCbs.delete(entity);
    pointReachedCbs.delete(entity);
    FollowPath.deleteFrom(entity);
  }
  function system(dt) {
    const deadPaths = [];
    const pointReachedPaths = [];
    for (const entity of finishCbs.keys()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !FollowPath.has(entity)) {
        unregisterEntity(entity);
        continue;
      }
      const transform = Transform2.getMutable(entity);
      const path = FollowPath.getMutable(entity);
      path.normalizedTime = Scalar.clamp(path.normalizedTime + dt * path.speed, 0, 1);
      if (path.normalizedTime >= 1)
        deadPaths.push(entity);
      while (path.normalizedTime >= path.segmentTimes[path.currentIndex] && path.currentIndex < path.points.length - 1) {
        if (path.faceDirection) {
          const direction = Vector32.subtract(path.points[path.currentIndex + 1], path.points[path.currentIndex]);
          transform.rotation = Quaternion2.lookRotation(direction);
        }
        if (path.currentIndex > 0 && path.currentIndex % path.curveSegmentCount == 0) {
          const pointIndex = path.currentIndex / path.curveSegmentCount;
          const pointCoords = path.points[path.currentIndex];
          const nextPointCoords = path.points[path.currentIndex + path.curveSegmentCount];
          pointReachedPaths.push({ entity, index: pointIndex, coords: pointCoords, nextCoords: nextPointCoords });
        }
        path.currentIndex += 1;
      }
      const timeDiff = path.segmentTimes[path.currentIndex] - path.segmentTimes[path.currentIndex - 1];
      const coef = (path.segmentTimes[path.currentIndex] - path.normalizedTime) / timeDiff;
      transform.position = Vector32.lerp(path.points[path.currentIndex], path.points[path.currentIndex - 1], coef);
    }
    for (const pointReached of pointReachedPaths) {
      const callback = pointReachedCbs.get(pointReached.entity);
      if (callback) {
        callback(pointReached.index, pointReached.coords, pointReached.nextCoords);
      }
    }
    for (const entity of deadPaths) {
      const callback = finishCbs.get(entity);
      unregisterEntity(entity);
      if (callback)
        callback();
    }
  }
  targetEngine.addSystem(system, priority.PathSystemPriority);
  function startPath(entity, points, duration, faceDirection, curveSegmentCount, onFinishCallback, onPointReachedCallback) {
    if (points.length < 2)
      throw new Error("At least 2 points are required to form a path.");
    if (duration == 0)
      throw new Error("Path duration must not be zero");
    if (curveSegmentCount) {
      const loop = Vector32.equals(points[0], points[points.length - 1]);
      if (loop) {
        points.pop();
        points.unshift(points.pop());
      }
      points = createCatmullRomSpline(points, curveSegmentCount, loop);
    } else {
      curveSegmentCount = 1;
    }
    finishCbs.set(entity, onFinishCallback);
    pointReachedCbs.set(entity, onPointReachedCallback);
    let totalLength = 0;
    const segmentLengths = [];
    for (let i = 0; i < points.length - 1; i++) {
      let sqDist = Vector32.distance(points[i], points[i + 1]);
      totalLength += sqDist;
      segmentLengths.push(sqDist);
    }
    const segmentTimes = [0];
    for (let i = 0; i < segmentLengths.length; i++) {
      segmentTimes.push(segmentLengths[i] / totalLength + segmentTimes[i]);
    }
    FollowPath.createOrReplace(entity, {
      points,
      segmentTimes,
      curveSegmentCount,
      speed: 1 / duration,
      normalizedTime: 0,
      currentIndex: 0,
      faceDirection
    });
  }
  return {
    startStraightPath(entity, points, duration, faceDirection, onFinishCallback, onPointReachedCallback) {
      return startPath(entity, points, duration, faceDirection, 0, onFinishCallback, onPointReachedCallback);
    },
    startSmoothPath(entity, points, duration, segmentCount, faceDirection, onFinishCallback, onPointReachedCallback) {
      if (segmentCount < 2 || !Number.isInteger(segmentCount))
        throw new Error(`segmentCount must be an integer that is greater than 2, got: ${segmentCount}`);
      return startPath(entity, points, duration, faceDirection, segmentCount, onFinishCallback, onPointReachedCallback);
    },
    stopPath(entity) {
      unregisterEntity(entity);
    },
    getOnFinishCallback(entity) {
      if (!finishCbs.has(entity))
        throw new Error(`Entity ${entity} is not registered in triggers system`);
      return finishCbs.get(entity);
    }
  };
}
var paths = createPaths(engine);

// node_modules/@dcl-sdk/utils/dist/trigger.js
var LAYER_1 = 1;
var ALL_LAYERS = 255;
var NO_LAYERS = 0;
var PLAYER_LAYER_ID = LAYER_1;
function createTriggers(targetEngine) {
  const Trigger = engine.defineComponent("dcl.utils.Trigger", {
    active: Schemas.Boolean,
    layerMask: Schemas.Int,
    triggeredByMask: Schemas.Int,
    areas: Schemas.Array(Schemas.OneOf({
      box: Schemas.Map({
        position: Schemas.Vector3,
        scale: Schemas.Vector3
      }),
      sphere: Schemas.Map({
        position: Schemas.Vector3,
        radius: Schemas.Number
      })
    })),
    debugColor: Schemas.Color3
  });
  const triggerEnterCbs = /* @__PURE__ */ new Map();
  const triggerExitCbs = /* @__PURE__ */ new Map();
  let debugDraw = false;
  const activeCollisions = /* @__PURE__ */ new Map();
  const debugEntities = /* @__PURE__ */ new Map();
  function updateDebugDraw(enabled) {
    if (!enabled)
      return;
    for (const [entity, trigger] of targetEngine.getEntitiesWith(Trigger, Transform2)) {
      let shapes = debugEntities.get(entity);
      const areaCount = trigger.areas.length;
      while (shapes.length > areaCount) {
        targetEngine.removeEntity(shapes.pop());
      }
      while (shapes.length < areaCount) {
        shapes.push(targetEngine.addEntity());
      }
      const worldPosition = getWorldPosition(entity);
      const worldRotation = getWorldRotation(entity);
      for (let i = 0; i < areaCount; ++i) {
        const shapeSpec = trigger.areas[i];
        const shape = shapes[i];
        let scale;
        if (shapeSpec.$case == "box") {
          scale = shapeSpec.value.scale;
          MeshRenderer3.setBox(shape);
        } else {
          const radius = shapeSpec.value.radius;
          scale = { x: radius, y: radius, z: radius };
          MeshRenderer3.setSphere(shape);
        }
        Transform2.createOrReplace(shape, {
          position: Vector32.add(worldPosition, Vector32.rotate(shapeSpec.value.position, worldRotation)),
          scale
        });
        const color = trigger.active ? trigger.debugColor : Color32.Black();
        Material3.setPbrMaterial(shape, { albedoColor: Color42.fromInts(255 * color.r, 255 * color.g, 255 * color.b, 75) });
      }
    }
  }
  function areTriggersIntersecting(shapeWorldPos0, t0, shapeWorldPos1, t1) {
    for (let i = 0; i < t0.areas.length; ++i) {
      const t0World = shapeWorldPos0[i];
      const t0Area = t0.areas[i];
      if (t0Area.$case == "box") {
        const t0Box = t0Area.value;
        const t0Min = Vector32.subtract(t0World, Vector32.scale(t0Box.scale, 0.5));
        const t0Max = Vector32.add(t0Min, t0Box.scale);
        for (let j = 0; j < t1.areas.length; ++j) {
          const t1World = shapeWorldPos1[j];
          const t1Area = t1.areas[j];
          if (t1Area.$case == "box") {
            const t1Box = t1Area.value;
            const t1Min = Vector32.subtract(t1World, Vector32.scale(t1Box.scale, 0.5));
            const t1Max = Vector32.add(t1Min, t1Box.scale);
            if (areAABBIntersecting(t0Min, t0Max, t1Min, t1Max))
              return true;
          } else {
            if (areAABBSphereIntersecting(t0Min, t0Max, t1World, t1Area.value.radius))
              return true;
          }
        }
      } else {
        const t0Radius = t0Area.value.radius;
        for (let j = 0; j < t1.areas.length; ++j) {
          const t1World = shapeWorldPos1[j];
          const t1Area = t1.areas[j];
          if (t1Area.$case == "box") {
            const t1Box = t1Area.value;
            const t1Min = Vector32.subtract(t1World, Vector32.scale(t1Box.scale, 0.5));
            const t1Max = Vector32.add(t1Min, t1Box.scale);
            if (areAABBSphereIntersecting(t1Min, t1Max, t0World, t0Radius))
              return true;
          } else {
            if (areSpheresIntersecting(t0World, t0Radius, t1World, t1Area.value.radius))
              return true;
          }
        }
      }
    }
    return false;
  }
  function computeCollisions(entity, shapeWorldPos) {
    let collisions = EMPTY_IMMUTABLE_SET;
    const trigger = Trigger.get(entity);
    if (!trigger.active)
      return collisions;
    if (trigger.triggeredByMask == PLAYER_LAYER_ID) {
      const playerEntity = targetEngine.PlayerEntity;
      const playerTrigger = Trigger.get(targetEngine.PlayerEntity);
      if (playerEntity == entity)
        return collisions;
      if (!playerTrigger.active)
        return collisions;
      if (!(trigger.triggeredByMask & playerTrigger.layerMask))
        return collisions;
      const intersecting = areTriggersIntersecting(shapeWorldPos.get(entity), trigger, shapeWorldPos.get(playerEntity), playerTrigger);
      if (intersecting) {
        if (collisions === EMPTY_IMMUTABLE_SET)
          collisions = /* @__PURE__ */ new Set();
        collisions.add(playerEntity);
      }
    } else {
      for (const [otherEntity, otherTrigger] of targetEngine.getEntitiesWith(Trigger, Transform2)) {
        if (otherEntity == entity)
          continue;
        if (!otherTrigger.active)
          continue;
        if (!(trigger.triggeredByMask & otherTrigger.layerMask))
          continue;
        const intersecting = areTriggersIntersecting(shapeWorldPos.get(entity), trigger, shapeWorldPos.get(otherEntity), otherTrigger);
        if (intersecting) {
          if (collisions === EMPTY_IMMUTABLE_SET)
            collisions = /* @__PURE__ */ new Set();
          collisions.add(otherEntity);
        }
      }
    }
    return collisions;
  }
  function updateCollisions() {
    const collisionsStarted = [];
    const collisionsEnded = [];
    const shapeWorldPositions = /* @__PURE__ */ new Map();
    for (const entity of activeCollisions.keys()) {
      if (targetEngine.getEntityState(entity) == EntityState.Removed || !Trigger.has(entity)) {
        for (const debugEntity of debugEntities.get(entity))
          targetEngine.removeEntity(debugEntity);
        for (const collisions of activeCollisions.values()) {
          if (collisions.has(entity))
            collisions.delete(entity);
        }
        debugEntities.delete(entity);
        activeCollisions.delete(entity);
        triggerEnterCbs.delete(entity);
        triggerExitCbs.delete(entity);
        continue;
      }
      const positions = [];
      const entityWorldPosition = getWorldPosition(entity);
      const entityWorldRotation = getWorldRotation(entity);
      const trigger = Trigger.get(entity);
      for (const shape of trigger.areas) {
        positions.push(Vector32.add(entityWorldPosition, Vector32.rotate(shape.value.position, entityWorldRotation)));
      }
      shapeWorldPositions.set(entity, positions);
    }
    for (const entity of activeCollisions.keys()) {
      const newCollisions = computeCollisions(entity, shapeWorldPositions);
      const oldCollisions = activeCollisions.get(entity);
      for (const oldCollision of oldCollisions) {
        if (!newCollisions.has(oldCollision))
          collisionsEnded.push([entity, oldCollision]);
      }
      for (const newCollision of newCollisions) {
        if (!oldCollisions.has(newCollision))
          collisionsStarted.push([entity, newCollision]);
      }
      activeCollisions.set(entity, newCollisions);
    }
    for (const [entity, collision] of collisionsStarted) {
      const callback = triggerEnterCbs.get(entity);
      if (callback)
        callback(collision);
    }
    for (const [entity, collision] of collisionsEnded) {
      const callback = triggerExitCbs.get(entity);
      if (callback)
        callback(collision);
    }
  }
  function system(dt) {
    updateCollisions();
    updateDebugDraw(debugDraw);
  }
  targetEngine.addSystem(system, priority.TriggerSystemPriority);
  function triggerAreasFromSpec(areas) {
    if (!areas)
      areas = [{ type: "box" }];
    const triggerAreas = [];
    for (const area of areas) {
      if (area.type == "box") {
        triggerAreas.push({
          $case: "box",
          value: {
            position: area.position ? area.position : Vector32.Zero(),
            scale: area.scale ? area.scale : Vector32.One()
          }
        });
      } else {
        triggerAreas.push({
          $case: "sphere",
          value: {
            position: area.position ? area.position : Vector32.Zero(),
            radius: area.radius ? area.radius : 1
          }
        });
      }
    }
    return triggerAreas;
  }
  const triggersInterface = {
    addTrigger(entity, layerMask = NO_LAYERS, triggeredByMask = NO_LAYERS, areas, onEnterCallback, onExitCallback, debugColor) {
      if (layerMask < 0 || layerMask > ALL_LAYERS || !Number.isInteger(layerMask))
        throw new Error(`Bad layerMask: ${layerMask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      if (triggeredByMask < 0 || triggeredByMask > ALL_LAYERS || !Number.isInteger(triggeredByMask))
        throw new Error(`Bad triggeredByMask: ${triggeredByMask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      debugEntities.set(entity, []);
      activeCollisions.set(entity, /* @__PURE__ */ new Set());
      triggerEnterCbs.set(entity, onEnterCallback);
      triggerExitCbs.set(entity, onExitCallback);
      Trigger.createOrReplace(entity, {
        active: true,
        layerMask,
        triggeredByMask,
        areas: triggerAreasFromSpec(areas),
        debugColor: debugColor ? debugColor : Color32.Red()
      });
    },
    removeTrigger(entity) {
      const collisions = activeCollisions.get(entity);
      const callback = triggerExitCbs.get(entity);
      for (const debugEntity of debugEntities.get(entity))
        targetEngine.removeEntity(debugEntity);
      debugEntities.delete(entity);
      activeCollisions.delete(entity);
      triggerEnterCbs.delete(entity);
      triggerExitCbs.delete(entity);
      Trigger.deleteFrom(entity);
      const collidingEntities = [];
      for (const [otherEntity, otherEntityCollisions] of activeCollisions) {
        if (otherEntityCollisions.has(entity)) {
          otherEntityCollisions.delete(entity);
          collidingEntities.push(otherEntity);
        }
      }
      if (callback) {
        for (const collision of collisions)
          callback(collision);
      }
      for (const otherEntity of collidingEntities) {
        const callback2 = triggerExitCbs.get(otherEntity);
        if (callback2)
          callback2(entity);
      }
    },
    oneTimeTrigger(entity, layerMask = NO_LAYERS, triggeredByMask = NO_LAYERS, areas, onEnterCallback, debugColor) {
      this.addTrigger(entity, layerMask, triggeredByMask, areas, function(e) {
        triggers2.removeTrigger(entity);
        if (onEnterCallback)
          onEnterCallback(e);
      }, void 0, debugColor);
    },
    enableTrigger(entity, enabled) {
      Trigger.getMutable(entity).active = enabled;
    },
    isTriggerEnabled(entity) {
      return Trigger.get(entity).active;
    },
    getLayerMask(entity) {
      return Trigger.get(entity).layerMask;
    },
    setLayerMask(entity, mask) {
      if (mask < 0 || mask > ALL_LAYERS || !Number.isInteger(mask))
        throw new Error(`Bad layerMask: ${mask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      Trigger.getMutable(entity).layerMask = mask;
    },
    getTriggeredByMask(entity) {
      return Trigger.get(entity).triggeredByMask;
    },
    setTriggeredByMask(entity, mask) {
      if (mask < 0 || mask > ALL_LAYERS || !Number.isInteger(mask))
        throw new Error(`Bad layerMask: ${mask}. Expected a non-negative integer no greater than ${ALL_LAYERS}`);
      Trigger.getMutable(entity).triggeredByMask = mask;
    },
    getAreas(entity) {
      return Trigger.get(entity).areas;
    },
    setAreas(entity, areas) {
      Trigger.getMutable(entity).areas = triggerAreasFromSpec(areas);
    },
    setOnEnterCallback(entity, callback) {
      triggerEnterCbs.set(entity, callback);
    },
    setOnExitCallback(entity, callback) {
      triggerExitCbs.set(entity, callback);
    },
    enableDebugDraw(enabled) {
      debugDraw = enabled;
      if (!enabled) {
        for (const shapes of debugEntities.values()) {
          for (const shape of shapes)
            targetEngine.removeEntity(shape);
          shapes.length = 0;
        }
      }
    },
    isDebugDrawEnabled() {
      return debugDraw;
    }
  };
  triggersInterface.addTrigger(targetEngine.PlayerEntity, PLAYER_LAYER_ID, NO_LAYERS, [{
    type: "box",
    scale: { x: 0.65, y: 1.92, z: 0.65 },
    position: { x: 0, y: 1.92 / 2, z: 0 }
  }], void 0, void 0, Color32.Green());
  return triggersInterface;
}
var triggers2 = createTriggers(engine);
var EMPTY_IMMUTABLE_SET = /* @__PURE__ */ new Set();
EMPTY_IMMUTABLE_SET.add = (entity) => {
  debugger;
  throw new Error("EMPTY_SET is read only");
};
EMPTY_IMMUTABLE_SET.delete = (entity) => {
  throw new Error("EMPTY_SET is read only");
};
EMPTY_IMMUTABLE_SET.has = (entity) => {
  return false;
};

// node_modules/@dcl-sdk/utils/dist/action.js
var actions2;
(function(actions3) {
  class SequenceRunner {
    constructor(targetEngine, sequenceBuilt, onFinishCallback) {
      this.beginSequenceNode = null;
      this.currentSequenceNode = null;
      this.running = false;
      this.started = false;
      this.engine = targetEngine;
      this.systemFn = (dt) => {
        this.update(dt);
      };
      this.engine.addSystem(this.systemFn, priority.ActionSystemPriority);
      if (sequenceBuilt) {
        this.startSequence(sequenceBuilt);
      }
      if (onFinishCallback)
        this.setOnFinishCallback(onFinishCallback);
    }
    startSequence(sequenceBuilt) {
      this.beginSequenceNode = sequenceBuilt.beginSequenceNode;
      this.currentSequenceNode = this.beginSequenceNode;
      this.running = true;
      this.started = false;
    }
    destroy() {
      this.engine.removeSystem(this.systemFn);
    }
    setOnFinishCallback(onFinishCallback) {
      this.onFinishCallback = onFinishCallback;
    }
    isRunning() {
      return this.running;
    }
    stop() {
      this.running = false;
    }
    resume() {
      if (this.beginSequenceNode != null)
        this.running = true;
    }
    reset() {
      this.currentSequenceNode = this.beginSequenceNode;
      this.running = true;
      this.started = false;
    }
    getRunningAction() {
      let currentNode = this.currentSequenceNode;
      if (this.currentSequenceNode instanceof SubSequenceNode) {
        do {
          currentNode = currentNode.currentInnerSequence;
        } while (currentNode instanceof SubSequenceNode);
      }
      return currentNode.action;
    }
    update(dt) {
      if (!this.running)
        return;
      if (!this.started) {
        this.currentSequenceNode.onStart();
        this.started = true;
        return;
      }
      if (!this.currentSequenceNode.hasFinish()) {
        this.currentSequenceNode.update(dt);
        return;
      }
      this.currentSequenceNode.onFinish();
      this.currentSequenceNode = this.currentSequenceNode.next;
      if (this.currentSequenceNode) {
        this.currentSequenceNode.onStart();
      } else {
        this.running = false;
        if (this.onFinishCallback)
          this.onFinishCallback();
      }
    }
  }
  actions3.SequenceRunner = SequenceRunner;
  class SequenceBuilder {
    constructor() {
      this.currentSequenceNode = null;
      this.beginSequenceNode = null;
      this.whileNodeStack = [];
    }
    then(action) {
      if (this.currentSequenceNode == null) {
        this.currentSequenceNode = new SequenceNode();
        this.currentSequenceNode.action = action;
        this.beginSequenceNode = this.currentSequenceNode;
      } else {
        let next = new SequenceNode();
        next.action = action;
        this.currentSequenceNode = this.currentSequenceNode.then(next);
      }
      return this;
    }
    if(condition) {
      let ifSeq = new IfSequenceNode(condition);
      if (this.currentSequenceNode == null) {
        this.currentSequenceNode = ifSeq;
        this.beginSequenceNode = ifSeq;
      } else {
        this.currentSequenceNode = this.currentSequenceNode.then(ifSeq);
      }
      return this;
    }
    else() {
      let seq = this.currentSequenceNode.getSequence();
      if (seq instanceof IfSequenceNode) {
        seq.closed = true;
        let elseSeq = new ElseSequenceNode(seq);
        this.currentSequenceNode = this.currentSequenceNode.then(elseSeq);
      } else {
        throw new Error("IF statement is needed to be called before ELSE statement.");
      }
      return this;
    }
    endIf() {
      let seq = this.currentSequenceNode.getSequence();
      if (seq instanceof IfSequenceNode || seq instanceof ElseSequenceNode) {
        seq.closed = true;
      } else {
        throw new Error("IF statement is needed to be called before ENDIF statement.");
      }
      return this;
    }
    while(condition) {
      let whileSeq = new WhileSequenceNode(condition);
      if (this.currentSequenceNode == null) {
        this.currentSequenceNode = whileSeq;
        this.beginSequenceNode = whileSeq;
      } else {
        this.currentSequenceNode = this.currentSequenceNode.then(whileSeq);
      }
      this.whileNodeStack.push(whileSeq);
      return this;
    }
    endWhile() {
      let seq = this.currentSequenceNode.getSequence();
      if (seq instanceof WhileSequenceNode) {
        seq.closed = true;
        if (this.whileNodeStack.length > 0) {
          this.whileNodeStack.splice(this.whileNodeStack.length - 1, 1);
        }
      } else {
        throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");
      }
      return this;
    }
    breakWhile() {
      if (this.whileNodeStack.length > 0) {
        this.currentSequenceNode = this.currentSequenceNode.then(new BreakWhileSequenceNode(this.whileNodeStack[this.whileNodeStack.length - 1]));
      } else {
        throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");
      }
      return this;
    }
  }
  actions3.SequenceBuilder = SequenceBuilder;
  class SequenceNode {
    constructor() {
      this.action = null;
      this.next = null;
    }
    then(next) {
      this.next = next;
      return next;
    }
    onStart() {
      if (this.action)
        this.action.onStart();
    }
    update(dt) {
      if (this.action)
        this.action.update(dt);
    }
    onFinish() {
      if (this.action)
        this.action.onFinish();
    }
    hasFinish() {
      if (this.action)
        return this.action.hasFinished;
      else
        return true;
    }
    getSequence() {
      return this;
    }
  }
  actions3.SequenceNode = SequenceNode;
  class SubSequenceNode extends SequenceNode {
    constructor() {
      super(...arguments);
      this.currentInnerSequence = null;
      this.startingInnerSequence = null;
      this.closed = false;
    }
    then(next) {
      if (this.currentInnerSequence == null) {
        this.currentInnerSequence = next;
        this.startingInnerSequence = next;
      } else {
        if (this.closed) {
          this.next = next;
          return next;
        } else {
          this.currentInnerSequence = this.currentInnerSequence.then(next);
        }
      }
      return this;
    }
    onStart() {
      this.currentInnerSequence = this.startingInnerSequence;
      if (this.currentInnerSequence)
        this.currentInnerSequence.onStart();
    }
    update(dt) {
      if (this.currentInnerSequence) {
        if (!this.currentInnerSequence.hasFinish()) {
          this.currentInnerSequence.update(dt);
        } else {
          this.currentInnerSequence.onFinish();
          this.currentInnerSequence = this.currentInnerSequence.next;
          if (this.currentInnerSequence)
            this.currentInnerSequence.onStart();
        }
      }
    }
    onFinish() {
      if (this.currentInnerSequence)
        this.currentInnerSequence.onFinish();
    }
    hasFinish() {
      return this.currentInnerSequence == null;
    }
    getSequence() {
      if (this.currentInnerSequence) {
        let innerSeq = this.currentInnerSequence.getSequence();
        if (innerSeq instanceof SubSequenceNode) {
          if (!innerSeq.closed) {
            return innerSeq;
          }
        }
      }
      return this;
    }
  }
  class IfSequenceNode extends SubSequenceNode {
    constructor(condition) {
      super();
      this.result = false;
      this.condition = condition;
    }
    onStart() {
      this.result = this.condition();
      if (this.result)
        super.onStart();
      else
        this.currentInnerSequence = null;
    }
  }
  class ElseSequenceNode extends SubSequenceNode {
    constructor(ifSequence) {
      super();
      this.ifSequence = null;
      this.ifSequence = ifSequence;
    }
    onStart() {
      if (this.ifSequence && !this.ifSequence.result)
        super.onStart();
      else
        this.currentInnerSequence = null;
    }
  }
  class WhileSequenceNode extends SubSequenceNode {
    constructor(condition) {
      super();
      this.breakWhile = false;
      this.condition = condition;
    }
    onStart() {
      this.breakWhile = false;
      if (this.condition())
        super.onStart();
      else
        this.currentInnerSequence = null;
    }
    update(dt) {
      if (this.currentInnerSequence) {
        if (!this.currentInnerSequence.hasFinish()) {
          this.currentInnerSequence.update(dt);
        } else {
          this.currentInnerSequence.onFinish();
          this.currentInnerSequence = this.currentInnerSequence.next;
          if (this.currentInnerSequence == null)
            this.currentInnerSequence = this.startingInnerSequence;
          if (this.currentInnerSequence)
            this.currentInnerSequence.onStart();
        }
      }
    }
    hasFinish() {
      return this.breakWhile || !this.condition();
    }
  }
  class BreakWhileSequenceNode extends SequenceNode {
    constructor(whileNode) {
      super();
      this.whileNode = whileNode;
    }
    onStart() {
      this.whileNode.breakWhile = true;
    }
  }
})(actions2 || (actions2 = {}));

// node_modules/@dcl/asset-packs/dist/input-actions.js
var globalInputActions = mitt_default();
function createInputActionSystem(inputSystem2) {
  return function inputActionSystem() {
    if (inputSystem2.isTriggered(0, 1)) {
      globalInputActions.emit(0, null);
    }
    if (inputSystem2.isTriggered(1, 1)) {
      globalInputActions.emit(1, null);
    }
    if (inputSystem2.isTriggered(2, 1)) {
      globalInputActions.emit(2, null);
    }
  };
}

// node_modules/@dcl/asset-packs/dist/triggers.js
var initedEntities = /* @__PURE__ */ new Set();
var actionQueue = [];
var damageTargets = /* @__PURE__ */ new Set();
var healTargets = /* @__PURE__ */ new Set();
var internalInitTriggers = null;
function initTriggers(entity) {
  if (internalInitTriggers) {
    return internalInitTriggers(entity);
  }
  throw new Error(`Cannot call initTriggers while triggersSystem has not been created`);
}
function createTriggersSystem(engine2, components, pointerEventsSystem2, tweenSystem2) {
  const { Transform: Transform3, Tween: TweenComponent, PointerEvents: PointerEvents2 } = components;
  const { Actions, States, Counter, Triggers } = getComponents(engine2);
  internalInitTriggers = initEntityTriggers;
  return function triggersSystem(_dt) {
    while (actionQueue.length > 0) {
      const { entity, action } = actionQueue.shift();
      const actionEvents = getActionEvents(entity);
      actionEvents.emit(action.name, getPayload(action));
    }
    const entitiesWithTriggers = engine2.getEntitiesWith(Triggers);
    for (const [entity] of entitiesWithTriggers) {
      initEntityTriggers(entity);
      handleOnTweenEnd(entity);
    }
  };
  function initEntityTriggers(entity) {
    if (!Triggers.has(entity) || initedEntities.has(entity)) {
      return;
    }
    const triggers3 = Triggers.get(entity);
    const types = triggers3.value.reduce((types2, trigger) => types2.add(trigger.type), /* @__PURE__ */ new Set());
    for (const type of types) {
      switch (type) {
        case TriggerType.ON_CLICK: {
          initOnClickTrigger(entity);
          break;
        }
        case TriggerType.ON_INPUT_ACTION: {
          initOnInputActionTrigger(entity);
          break;
        }
        case TriggerType.ON_PLAYER_ENTERS_AREA:
        case TriggerType.ON_PLAYER_LEAVES_AREA: {
          initOnPlayerTriggerArea(entity);
          break;
        }
        case TriggerType.ON_DAMAGE: {
          initOnDamage(entity);
          break;
        }
        case TriggerType.ON_HEAL_PLAYER: {
          initOnHealPlayer(entity);
        }
        case TriggerType.ON_GLOBAL_CLICK: {
          initOnGlobalCick(entity);
          break;
        }
        case TriggerType.ON_GLOBAL_PRIMARY: {
          initOnGlobalPrimary(entity);
          break;
        }
        case TriggerType.ON_GLOBAL_SECONDARY: {
          initOnGlobalSecondary(entity);
          break;
        }
        case TriggerType.ON_TICK: {
          initOnTick(entity);
          break;
        }
      }
    }
    const triggerEvents = getTriggerEvents(entity);
    for (const trigger of triggers3.value) {
      triggerEvents.on(trigger.type, () => {
        if (checkConditions(trigger)) {
          for (const triggerAction of trigger.actions) {
            if (isValidAction(triggerAction)) {
              const entity2 = getEntityByAction(triggerAction);
              if (entity2) {
                const actions3 = Actions.getOrNull(entity2);
                if (actions3) {
                  const action = actions3.value.find(($) => $.name === triggerAction.name);
                  if (action) {
                    actionQueue.push({ entity: entity2, action });
                  }
                }
              }
            }
          }
        }
      });
    }
    triggerEvents.emit(TriggerType.ON_SPAWN);
    initedEntities.add(entity);
  }
  function isValidAction(action) {
    const { id, name } = action;
    return !!id && !!name;
  }
  function checkConditions(trigger) {
    if (trigger.conditions && trigger.conditions.length > 0) {
      const conditions = trigger.conditions.map(checkCondition);
      const isTrue = (result) => !!result;
      const operation = trigger.operation || TriggerConditionOperation.AND;
      switch (operation) {
        case TriggerConditionOperation.AND: {
          return conditions.every(isTrue);
        }
        case TriggerConditionOperation.OR: {
          return conditions.some(isTrue);
        }
      }
    }
    return true;
  }
  function checkCondition(condition) {
    const entity = getEntityByCondition(condition);
    if (entity) {
      try {
        switch (condition.type) {
          case TriggerConditionType.WHEN_STATE_IS: {
            const states = States.getOrNull(entity);
            if (states !== null) {
              const currentValue = getCurrentValue(states);
              return currentValue === condition.value;
            }
            break;
          }
          case TriggerConditionType.WHEN_STATE_IS_NOT: {
            const states = States.getOrNull(entity);
            if (states !== null) {
              const currentValue = getCurrentValue(states);
              return currentValue !== condition.value;
            }
            break;
          }
          case TriggerConditionType.WHEN_PREVIOUS_STATE_IS: {
            const states = States.getOrNull(entity);
            if (states !== null) {
              const previousValue = getPreviousValue(states);
              return previousValue === condition.value;
            }
            break;
          }
          case TriggerConditionType.WHEN_PREVIOUS_STATE_IS_NOT: {
            const states = States.getOrNull(entity);
            if (states !== null) {
              const previousValue = getPreviousValue(states);
              return previousValue !== condition.value;
            }
            break;
          }
          case TriggerConditionType.WHEN_COUNTER_EQUALS: {
            const counter = Counter.getOrNull(entity);
            if (counter !== null) {
              const numeric = Number(condition.value);
              if (!isNaN(numeric)) {
                return counter.value === numeric;
              }
            }
            break;
          }
          case TriggerConditionType.WHEN_COUNTER_IS_GREATER_THAN: {
            const counter = Counter.getOrNull(entity);
            if (counter !== null) {
              const numeric = Number(condition.value);
              if (!isNaN(numeric)) {
                return counter.value > numeric;
              }
            }
            break;
          }
          case TriggerConditionType.WHEN_COUNTER_IS_LESS_THAN: {
            const counter = Counter.getOrNull(entity);
            if (counter !== null) {
              const numeric = Number(condition.value);
              if (!isNaN(numeric)) {
                return counter.value < numeric;
              }
            }
            break;
          }
          case TriggerConditionType.WHEN_DISTANCE_TO_PLAYER_LESS_THAN: {
            const position = getWorldPosition(entity);
            const numeric = Number(condition.value);
            if (!isNaN(numeric)) {
              return Vector32.distance(position, getPlayerPosition()) < numeric;
            }
            break;
          }
          case TriggerConditionType.WHEN_DISTANCE_TO_PLAYER_GREATER_THAN: {
            const position = getWorldPosition(entity);
            const numeric = Number(condition.value);
            if (!isNaN(numeric)) {
              return Vector32.distance(position, getPlayerPosition()) > numeric;
            }
            break;
          }
        }
      } catch (error) {
        console.error("Error in condition", condition);
      }
    }
    return false;
  }
  function getEntityById(componentName, id) {
    const Component = engine2.getComponent(componentName);
    const entities = Array.from(engine2.getEntitiesWith(Component));
    const result = entities.find(([_entity, value]) => value.id === id);
    return Array.isArray(result) && result.length > 0 ? result[0] : null;
  }
  function getEntityByAction(action) {
    if (action.id) {
      const entity = getEntityById(ComponentName.ACTIONS, action.id);
      if (entity) {
        return entity;
      }
    }
    return null;
  }
  function getEntityByCondition(condition) {
    const componentName = Object.values(ComponentName).map((componentName2) => ({
      componentName: componentName2,
      conditionTypes: getConditionTypesByComponentName(componentName2)
    })).reduce((result, { componentName: componentName2, conditionTypes }) => conditionTypes.includes(condition.type) ? componentName2 : result, null);
    if (componentName && condition.id) {
      const entity = getEntityById(componentName, condition.id);
      if (entity) {
        return entity;
      }
    }
    return null;
  }
  function initOnClickTrigger(entity) {
    const pointerEvent = PointerEvents2.getMutableOrNull(entity);
    const opts = { button: 0, hoverText: "Click" };
    if (pointerEvent) {
      pointerEvent.pointerEvents = pointerEvent.pointerEvents.filter(($) => !($.eventInfo?.button === opts.button && $.eventInfo.hoverText === opts.hoverText));
    }
    pointerEventsSystem2.onPointerDown({
      entity,
      opts
    }, () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_CLICK);
    });
  }
  function initOnInputActionTrigger(entity) {
    const pointerEvent = PointerEvents2.getMutableOrNull(entity);
    const opts = {
      button: 1,
      hoverText: "Press"
    };
    if (pointerEvent) {
      pointerEvent.pointerEvents = pointerEvent.pointerEvents.filter(($) => !($.eventInfo?.button === opts.button && $.eventInfo.hoverText === opts.hoverText));
    }
    pointerEventsSystem2.onPointerDown({
      entity,
      opts
    }, () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_INPUT_ACTION);
    });
  }
  function initOnPlayerTriggerArea(entity) {
    const transform = Transform3.getOrNull(entity);
    triggers2.addTrigger(entity, NO_LAYERS, LAYER_1, [
      {
        type: "box",
        scale: transform ? transform.scale : { x: 1, y: 1, z: 1 }
      }
    ], () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_PLAYER_ENTERS_AREA);
    }, () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_PLAYER_LEAVES_AREA);
    });
  }
  function initOnDamage(entity) {
    damageTargets.add(entity);
  }
  function initOnHealPlayer(entity) {
    healTargets.add(entity);
  }
  function initOnGlobalCick(entity) {
    globalInputActions.on(0, () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_GLOBAL_CLICK);
    });
  }
  function initOnGlobalPrimary(entity) {
    globalInputActions.on(1, () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_GLOBAL_PRIMARY);
    });
  }
  function initOnGlobalSecondary(entity) {
    globalInputActions.on(2, () => {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_GLOBAL_SECONDARY);
    });
  }
  function initOnTick(entity) {
    tickSet.add(entity);
  }
  function handleOnTweenEnd(entity) {
    if (TweenComponent.getOrNull(entity) && TweenState2.getOrNull(entity)?.state === 1 && tweenSystem2.tweenCompleted(entity)) {
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_TWEEN_END);
    }
  }
}

// node_modules/@dcl/asset-packs/dist/transform.js
var followMap = /* @__PURE__ */ new Map();
function createTransformSystem(components) {
  const { Transform: Transform3 } = components;
  return function transformSystem() {
    for (const [entity, { target, speed, minDistance, axes }] of followMap) {
      const entityTransform = Transform3.getMutableOrNull(entity);
      const targetTransform = Transform3.getOrNull(target);
      if (!entityTransform || !targetTransform)
        continue;
      const direction = Vector32.subtract(targetTransform.position, entityTransform.position);
      const distance = Vector32.length(direction);
      if (distance < minDistance)
        continue;
      const normalized = Vector32.normalize(direction);
      const move = Vector32.scale(normalized, speed / 10);
      if (Vector32.length(move) > distance)
        continue;
      if (!axes.x)
        move.x = 0;
      if (!axes.y)
        move.y = 0;
      if (!axes.z)
        move.z = 0;
      Vector32.addToRef(move, entityTransform.position, entityTransform.position);
      const lookAt = Vector32.clone(targetTransform.position);
      if (!axes.x)
        lookAt.x = entityTransform.position.x;
      if (!axes.y)
        lookAt.y = entityTransform.position.y;
      if (!axes.z)
        lookAt.z = entityTransform.position.z;
      const lookAtRotation = Quaternion2.fromLookAt(entityTransform.position, lookAt);
      entityTransform.rotation = lookAtRotation;
    }
  };
}

// node_modules/@dcl/asset-packs/dist/tweens.js
function getEasingFunctionFromInterpolation2(type) {
  switch (type) {
    case InterpolationType.LINEAR:
      return 0;
    case InterpolationType.EASEINQUAD:
      return 1;
    case InterpolationType.EASEOUTQUAD:
      return 2;
    case InterpolationType.EASEQUAD:
      return 3;
    case InterpolationType.EASEINSINE:
      return 4;
    case InterpolationType.EASEOUTSINE:
      return 5;
    case InterpolationType.EASESINE:
      return 6;
    case InterpolationType.EASEINEXPO:
      return 7;
    case InterpolationType.EASEOUTEXPO:
      return 8;
    case InterpolationType.EASEEXPO:
      return 9;
    case InterpolationType.EASEINELASTIC:
      return 10;
    case InterpolationType.EASEOUTELASTIC:
      return 11;
    case InterpolationType.EASEELASTIC:
      return 12;
    case InterpolationType.EASEINBOUNCE:
      return 13;
    case InterpolationType.EASEOUTEBOUNCE:
      return 14;
    case InterpolationType.EASEBOUNCE:
      return 15;
    default:
      return 0;
  }
}

// node_modules/@dcl/asset-packs/dist/actions.js
var initedEntities2 = /* @__PURE__ */ new Set();
var uiStacks = /* @__PURE__ */ new Map();
var lastUiEntityClicked = /* @__PURE__ */ new Map();
var internalInitActions = null;
function createActionsSystem(engine2, sdkHelpers) {
  const { Animator: Animator3, Transform: Transform3, AudioSource: AudioSource4, AvatarAttach: AvatarAttach2, VisibilityComponent: VisibilityComponent2, GltfContainer: GltfContainer3, UiTransform: UiTransform3, UiText: UiText3, UiBackground: UiBackground2, Name: Name3, Tween: TweenComponent, TweenSequence: TweenSequence3 } = getExplorerComponents(engine2);
  const { Actions, States, Counter, Triggers } = getComponents(engine2);
  internalInitActions = initActions;
  return function actionsSystem(_dt) {
    const entitiesWithActions = engine2.getEntitiesWith(Actions);
    for (const [entity] of entitiesWithActions) {
      initActions(entity);
    }
  };
  function initActions(entity) {
    if (!Actions.has(entity) || initedEntities2.has(entity)) {
      return;
    }
    const actions3 = Actions.get(entity);
    const types = actions3.value.reduce((types2, action) => types2.add(action.type), /* @__PURE__ */ new Set());
    for (const type of types) {
      switch (type) {
        case ActionType.PLAY_ANIMATION: {
          initPlayAnimation(entity);
          break;
        }
        default:
          break;
      }
    }
    const actionEvents = getActionEvents(entity);
    for (const action of actions3.value) {
      actionEvents.on(action.name, () => {
        switch (action.type) {
          case ActionType.PLAY_ANIMATION: {
            handlePlayAnimation(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_ANIMATION: {
            handleStopAnimation(entity, getPayload(action));
            break;
          }
          case ActionType.SET_STATE: {
            handleSetState(entity, getPayload(action));
            break;
          }
          case ActionType.START_TWEEN: {
            handleStartTween(entity, getPayload(action));
            break;
          }
          case ActionType.SET_COUNTER: {
            handleSetCounter(entity, getPayload(action));
            break;
          }
          case ActionType.INCREMENT_COUNTER: {
            handleIncrementCounter(entity, getPayload(action));
            break;
          }
          case ActionType.DECREASE_COUNTER: {
            handleDecreaseCounter(entity, getPayload(action));
            break;
          }
          case ActionType.PLAY_SOUND: {
            handlePlaySound(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_SOUND: {
            handleStopSound(entity, getPayload(action));
            break;
          }
          case ActionType.SET_VISIBILITY: {
            handleSetVisibility(entity, getPayload(action));
            break;
          }
          case ActionType.ATTACH_TO_PLAYER: {
            handleAttachToPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.DETACH_FROM_PLAYER: {
            handleDetachFromPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.PLAY_VIDEO_STREAM: {
            handlePlayVideo(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_VIDEO_STREAM: {
            handleStopVideo(entity, getPayload(action));
            break;
          }
          case ActionType.PLAY_AUDIO_STREAM: {
            handlePlayAudioStream(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_AUDIO_STREAM: {
            handleStopAudioStream(entity, getPayload(action));
            break;
          }
          case ActionType.TELEPORT_PLAYER: {
            handleTeleportPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.MOVE_PLAYER: {
            handleMovePlayer(entity, getPayload(action));
            break;
          }
          case ActionType.PLAY_DEFAULT_EMOTE: {
            handlePlayDefaultEmote(entity, getPayload(action));
            break;
          }
          case ActionType.PLAY_CUSTOM_EMOTE: {
            handlePlayCustomEmote(entity, getPayload(action));
            break;
          }
          case ActionType.OPEN_LINK: {
            handleOpenLink(entity, getPayload(action));
            break;
          }
          case ActionType.SHOW_TEXT: {
            handleShowText(entity, getPayload(action));
            break;
          }
          case ActionType.HIDE_TEXT: {
            handleHideText(entity, getPayload(action));
            break;
          }
          case ActionType.START_DELAY: {
            handleStartDelay(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_DELAY: {
            handleStopDelay(entity, getPayload(action));
            break;
          }
          case ActionType.START_LOOP: {
            handleStartLoop(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_LOOP: {
            handleStopLoop(entity, getPayload(action));
            break;
          }
          case ActionType.CLONE_ENTITY: {
            handleCloneEntity(entity, getPayload(action));
            break;
          }
          case ActionType.REMOVE_ENTITY: {
            handleRemoveEntity(entity, getPayload(action));
            break;
          }
          case ActionType.SHOW_IMAGE: {
            handleShowImage(entity, getPayload(action));
            break;
          }
          case ActionType.HIDE_IMAGE: {
            handleHideImage(entity, getPayload(action));
            break;
          }
          case ActionType.DAMAGE: {
            handleDamage(entity, getPayload(action));
            break;
          }
          case ActionType.MOVE_PLAYER_HERE: {
            handleMovePlayerHere(entity, getPayload(action));
            break;
          }
          case ActionType.FOLLOW_PLAYER: {
            handleFollowPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.STOP_FOLLOWING_PLAYER: {
            handleStopFollowingPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.PLACE_ON_PLAYER: {
            handlePlaceOnPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.ROTATE_AS_PLAYER: {
            handleRotateAsPlayer(entity, getPayload(action));
            break;
          }
          case ActionType.PLACE_ON_CAMERA: {
            handlePlaceOnCamera(entity, getPayload(action));
            break;
          }
          case ActionType.ROTATE_AS_CAMERA: {
            handleRotateAsCamera(entity, getPayload(action));
            break;
          }
          case ActionType.SET_POSITION: {
            handleSetPosition(entity, getPayload(action));
            break;
          }
          case ActionType.SET_ROTATION: {
            handleSetRotation(entity, getPayload(action));
            break;
          }
          case ActionType.SET_SCALE: {
            handleSetScale(entity, getPayload(action));
            break;
          }
          case ActionType.RANDOM: {
            handleRandom(entity, getPayload(action));
            break;
          }
          case ActionType.BATCH: {
            handleBatch(entity, getPayload(action));
            break;
          }
          case ActionType.HEAL_PLAYER: {
            handleHealPlayer(entity, getPayload(action));
            break;
          }
          default:
            break;
        }
      });
    }
    initedEntities2.add(entity);
  }
  function initPlayAnimation(entity) {
    if (!Animator3.has(entity)) {
      Animator3.create(entity, {
        states: []
      });
      Animator3.stopAllAnimations(entity);
    }
  }
  function handlePlayAnimation(entity, payload) {
    const { animation, loop } = payload;
    const animator = Animator3.getMutable(entity);
    if (!animator.states.some(($) => $.clip === animation)) {
      animator.states = [
        ...animator.states,
        {
          clip: animation
        }
      ];
    }
    Animator3.stopAllAnimations(entity);
    const clip = Animator3.getClip(entity, animation);
    clip.playing = true;
    clip.loop = loop ?? false;
  }
  function handleStopAnimation(entity, _payload) {
    if (Animator3.has(entity)) {
      Animator3.stopAllAnimations(entity);
    }
  }
  function handleSetState(entity, payload) {
    const states = States.getMutableOrNull(entity);
    if (states) {
      const defaultValue = getDefaultValue(states);
      let nextState = payload.state;
      nextState = isValidState(states, nextState) ? nextState : defaultValue;
      const previousValue = states.currentValue ?? defaultValue ?? void 0;
      states.previousValue = previousValue;
      states.currentValue = nextState;
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_STATE_CHANGE);
    }
  }
  function handleStartTween(entity, payload) {
    if (payload) {
      const initialTween = TweenComponent.getMutableOrNull(entity);
      let tween;
      switch (payload.type) {
        case TweenType.MOVE_ITEM: {
          tween = handleMoveItem(entity, payload);
          break;
        }
        case TweenType.ROTATE_ITEM: {
          tween = handleRotateItem(entity, payload);
          break;
        }
        case TweenType.SCALE_ITEM: {
          tween = handleScaleItem(entity, payload);
          break;
        }
        default: {
          throw new Error(`Unknown tween type: ${payload.type}`);
        }
      }
      revertTween(entity, initialTween, tween);
    }
  }
  function revertTween(entity, initialTween, tween) {
    const tweenSequence = TweenSequence3.getMutableOrNull(entity);
    let _revertTween = {
      ...tween
    };
    if (!initialTween || !tweenSequence || !tweenSequence.loop)
      return;
    switch (initialTween.mode?.$case) {
      case "move": {
        _revertTween = {
          ..._revertTween,
          mode: Tween3.Mode.Move({
            start: tween.mode.move.end,
            end: initialTween.mode.move.start
          })
        };
        break;
      }
      case "rotate": {
        _revertTween = {
          ..._revertTween,
          mode: Tween3.Mode.Rotate({
            start: tween.mode.rotate.end,
            end: initialTween.mode.rotate.start
          })
        };
        break;
      }
      case "scale": {
        _revertTween = {
          ..._revertTween,
          mode: Tween3.Mode.Scale({
            start: tween.mode.scale.end,
            end: initialTween.mode.scale.start
          })
        };
        break;
      }
      default: {
        throw new Error(`Unknown tween mode: ${initialTween.mode}`);
      }
    }
    initialTween.playing = true;
    tweenSequence.sequence = [_revertTween, initialTween];
  }
  function handleMoveItem(entity, tween) {
    const transform = Transform3.get(entity);
    const { duration, interpolationType, relative } = tween;
    const end = Vector32.create(tween.end.x, tween.end.y, tween.end.z);
    const endPosition = relative ? Vector32.add(transform.position, end) : end;
    return TweenComponent.createOrReplace(entity, {
      mode: Tween3.Mode.Move({
        start: transform.position,
        end: endPosition
      }),
      duration: duration * 1e3,
      easingFunction: getEasingFunctionFromInterpolation2(interpolationType)
    });
  }
  function handleRotateItem(entity, tween) {
    const transform = Transform3.get(entity);
    const { duration, interpolationType, relative } = tween;
    const end = Quaternion2.fromEulerDegrees(tween.end.x, tween.end.y, tween.end.z);
    const endRotation = relative ? Quaternion2.multiply(transform.rotation, end) : end;
    return TweenComponent.createOrReplace(entity, {
      mode: Tween3.Mode.Rotate({
        start: transform.rotation,
        end: endRotation
      }),
      duration: duration * 1e3,
      easingFunction: getEasingFunctionFromInterpolation2(interpolationType)
    });
  }
  function handleScaleItem(entity, tween) {
    const transform = Transform3.get(entity);
    const { duration, interpolationType, relative } = tween;
    const end = Vector32.create(tween.end.x, tween.end.y, tween.end.z);
    const endScale = relative ? Vector32.add(transform.scale, end) : end;
    return TweenComponent.createOrReplace(entity, {
      mode: Tween3.Mode.Scale({
        start: transform.scale,
        end: endScale
      }),
      duration: duration * 1e3,
      easingFunction: getEasingFunctionFromInterpolation2(interpolationType)
    });
  }
  function handleSetCounter(entity, payload) {
    const counter = Counter.getMutableOrNull(entity);
    if (counter) {
      counter.value = payload.counter;
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_COUNTER_CHANGE);
    }
  }
  function handleIncrementCounter(entity, payload) {
    const counter = Counter.getMutableOrNull(entity);
    const amount = payload.amount ?? 1;
    if (counter) {
      counter.value += amount;
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_COUNTER_CHANGE);
    }
  }
  function handleDecreaseCounter(entity, payload) {
    const counter = Counter.getMutableOrNull(entity);
    const amount = payload.amount ?? 1;
    if (counter) {
      counter.value -= amount;
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_COUNTER_CHANGE);
    }
  }
  function handlePlaySound(entity, payload) {
    const { src, loop, volume } = payload;
    if (AudioSource4.has(entity)) {
      AudioSource4.playSound(entity, src);
      const audioSource = AudioSource4.getMutable(entity);
      audioSource.loop = loop;
      audioSource.volume = volume ?? 1;
    } else {
      AudioSource4.create(entity, {
        audioClipUrl: src,
        loop,
        playing: true,
        volume: volume ?? 1
      });
    }
  }
  function handleStopSound(entity, _payload) {
    const audioSource = AudioSource4.getMutableOrNull(entity);
    if (audioSource) {
      audioSource.playing = false;
    }
  }
  function handleSetVisibility(entity, payload) {
    const { visible, collider } = payload;
    VisibilityComponent2.createOrReplace(entity, { visible });
    const gltf = GltfContainer3.getMutableOrNull(entity);
    const meshCollider = MeshCollider3.getMutableOrNull(entity);
    if (collider !== void 0) {
      if (gltf) {
        gltf.invisibleMeshesCollisionMask = collider;
      } else if (meshCollider) {
        meshCollider.collisionMask = collider;
      }
    }
  }
  function handleAttachToPlayer(entity, payload) {
    const { anchorPointId } = payload;
    AvatarAttach2.createOrReplace(entity, { anchorPointId });
  }
  function handleDetachFromPlayer(entity, _payload) {
    if (AvatarAttach2.has(entity)) {
      AvatarAttach2.deleteFrom(entity);
    }
  }
  function handleTeleportPlayer(_entity, payload) {
    const { x, y } = payload;
    (0, import_UserActionModule.requestTeleport)({
      destination: `${x},${y}`
    });
  }
  function handleMovePlayer(_entity, payload) {
    const options = {
      newRelativePosition: payload.position,
      cameraTarget: payload.cameraTarget
    };
    void (0, import_RestrictedActions.movePlayerTo)(options);
  }
  function handlePlayDefaultEmote(_entity, payload) {
    const { emote } = payload;
    void (0, import_RestrictedActions.triggerEmote)({ predefinedEmote: emote });
  }
  function handlePlayCustomEmote(_entity, payload) {
    const { src, loop } = payload;
    void (0, import_RestrictedActions.triggerSceneEmote)({ src, loop });
  }
  function handleOpenLink(_entity, payload) {
    const { url } = payload;
    void (0, import_RestrictedActions.openExternalUrl)({ url });
  }
  async function getVideoSrc({ src, dclCast }) {
    if (dclCast) {
      const { streams } = await (0, import_CommsApi.getActiveVideoStreams)({});
      return streams.length > 0 ? streams[0].trackSid : "";
    }
    return src ?? "";
  }
  function handlePlayVideo(entity, payload) {
    const videoSource = VideoPlayer2.getMutableOrNull(entity);
    if (videoSource && videoSource.src) {
      videoSource.playing = true;
    } else {
      getVideoSrc(payload).then((src) => {
        if (!src)
          return;
        VideoPlayer2.createOrReplace(entity, {
          src,
          volume: payload.volume ?? 1,
          loop: payload.loop ?? false,
          playing: true
        });
        initVideoPlayerComponentMaterial(entity, { Material: Material3 }, Material3.getOrNull(entity));
      });
    }
  }
  function handleStopVideo(entity, _payload) {
    const videoSource = VideoPlayer2.getMutableOrNull(entity);
    if (videoSource) {
      videoSource.playing = false;
    }
  }
  function handlePlayAudioStream(entity, payload) {
    const { url, volume } = payload;
    AudioStream3.createOrReplace(entity, {
      url,
      playing: true,
      volume: volume ?? 1
    });
  }
  function handleStopAudioStream(entity, _payload) {
    const audioSource = AudioStream3.getMutableOrNull(entity);
    if (audioSource) {
      audioSource.playing = false;
    }
  }
  function handleShowText(entity, payload) {
    const { text, hideAfterSeconds, font, fontSize, textAlign } = payload;
    const uiTransformComponent = getUITransform(UiTransform3, entity);
    if (uiTransformComponent) {
      UiText3.createOrReplace(entity, {
        value: text,
        font,
        fontSize,
        textAlign
      });
      startTimeout(entity, ActionType.HIDE_TEXT, hideAfterSeconds, () => handleHideText(entity, {}));
    }
  }
  function handleHideText(entity, _payload) {
    const uiTextComponent = UiText3.getOrNull(entity);
    if (uiTextComponent) {
      UiText3.deleteFrom(entity);
    }
  }
  function findActionByName(entity, name) {
    const actions3 = Actions.getOrNull(entity);
    return actions3?.value.find(($) => $.name === name);
  }
  function handleStartDelay(entity, payload) {
    const { actions: actions3, timeout } = payload;
    for (const actionName of actions3) {
      const action = findActionByName(entity, actionName);
      if (action) {
        startTimeout(entity, actionName, timeout, () => {
          const actionEvents = getActionEvents(entity);
          actionEvents.emit(action.name, getPayload(action));
        });
      }
    }
  }
  function handleStopDelay(entity, payload) {
    const { action } = payload;
    stopTimeout(entity, action);
  }
  function handleStartLoop(entity, payload) {
    const { actions: actions3, interval } = payload;
    for (const actionName of actions3) {
      const action = findActionByName(entity, actionName);
      if (action) {
        startInterval(entity, actionName, interval, () => {
          const actionEvents = getActionEvents(entity);
          actionEvents.emit(action.name, getPayload(action));
        });
      }
    }
  }
  function handleStopLoop(entity, payload) {
    const { action } = payload;
    stopInterval(entity, action);
  }
  function handleCloneEntity(entity, payload) {
    const { position } = payload;
    const { cloned, entities } = clone(entity, engine2, Transform3, Triggers, sdkHelpers);
    for (const cloned2 of entities.values()) {
      initActions(cloned2);
      initTriggers(cloned2);
      const triggerEvents = getTriggerEvents(cloned2);
      triggerEvents.emit(TriggerType.ON_CLONE);
    }
    const transform = Transform3.getOrCreateMutable(cloned);
    transform.position = position;
  }
  function handleRemoveEntity(entity, _payload) {
    stopAllTimeouts(entity);
    stopAllIntervals(entity);
    const tree = getComponentEntityTree(engine2, entity, Transform3);
    for (const entityToRemove of tree) {
      engine2.removeEntity(entityToRemove);
    }
  }
  function getUiStack(align) {
    const key = `${align.alignItems},${align.justifyContent}`;
    if (!uiStacks.has(key)) {
      uiStacks.set(key, engine2.addEntity());
    }
    return uiStacks.get(key);
  }
  function handleShowImage(entity, payload) {
    const { src, text, hideAfterSeconds, fontSize, align, height, width } = payload;
    getUITransform(UiTransform3, engine2.RootEntity);
    const screenAlign = mapAlignToScreenAlign(align);
    const uiStack = getUiStack(screenAlign);
    const uiStackTransformComponent = getUITransform(UiTransform3, uiStack);
    uiStackTransformComponent.alignItems = screenAlign.alignItems;
    uiStackTransformComponent.justifyContent = screenAlign.justifyContent;
    uiStackTransformComponent.positionType = 1;
    const imageEntity = engine2.addEntity();
    const imageTransformComponent = getUITransform(UiTransform3, imageEntity, width, height, 1);
    imageTransformComponent.parent = uiStack;
    imageTransformComponent.pointerFilter = 1;
    getUIBackground(UiBackground2, imageEntity, src);
    if (text) {
      getUIText(UiText3, imageEntity, text, fontSize, width);
    }
    pointerEventsSystem.onPointerDown({
      entity: imageEntity,
      opts: {
        button: 0,
        hoverText: "Click"
      }
    }, () => {
      lastUiEntityClicked.set(entity, imageEntity);
      const triggerEvents = getTriggerEvents(entity);
      triggerEvents.emit(TriggerType.ON_CLICK_IMAGE);
    });
    if (hideAfterSeconds) {
      startTimeout(entity, ActionType.HIDE_IMAGE, hideAfterSeconds, () => handleHideImage(entity, { imageEntity }));
    }
  }
  function handleHideImage(entity, payload) {
    const { imageEntity } = payload;
    if (imageEntity) {
      engine2.removeEntity(imageEntity);
    } else {
      const clickedImage = lastUiEntityClicked.get(entity);
      if (clickedImage) {
        engine2.removeEntity(clickedImage);
        lastUiEntityClicked.delete(entity);
      }
    }
  }
  function handleDamage(entity, payload) {
    const { radius, layer, hits } = payload;
    const entityPosition = AvatarAttach2.has(entity) ? getPlayerPosition() : getWorldPosition(entity);
    const getRoot = (entity2) => {
      const parent = getEntityParent(entity2);
      return !parent ? entity2 : getRoot(parent);
    };
    for (const target of damageTargets) {
      const targetPosition = getWorldPosition(target);
      const distance = Vector32.distance(entityPosition, targetPosition);
      const entityTree = Array.from(getComponentEntityTree(engine2, entity, Transform3));
      const isPartOfEntityTree = entityTree.some(($) => $ === target);
      if (isPartOfEntityTree) {
        continue;
      }
      if (layer) {
        if (layer === ProximityLayer.PLAYER) {
          const root = getRoot(target);
          if (root !== engine2.PlayerEntity && root !== engine2.CameraEntity) {
            continue;
          }
        } else if (layer === ProximityLayer.NON_PLAYER) {
          const root = getRoot(target);
          if (root === engine2.PlayerEntity || root === engine2.CameraEntity) {
            continue;
          }
        }
      }
      if (distance <= radius) {
        const total = hits === void 0 ? 1 : Math.max(hits, 1);
        for (let i = 0; i < total; i++) {
          const triggerEvents = getTriggerEvents(target);
          triggerEvents.emit(TriggerType.ON_DAMAGE);
        }
      }
    }
  }
  function handleMovePlayerHere(entity, _payload) {
    const here = getWorldPosition(entity);
    void (0, import_RestrictedActions.movePlayerTo)({ newRelativePosition: here });
    const triggerEvents = getTriggerEvents(entity);
    triggerEvents.emit(TriggerType.ON_PLAYER_SPAWN);
  }
  function handlePlaceOnPlayer(entity, _payload) {
    const transform = Transform3.getMutableOrNull(entity);
    const player = Transform3.getOrNull(engine2.PlayerEntity);
    if (transform && player) {
      transform.position = player.position;
    }
  }
  function handleRotateAsPlayer(entity, _payload) {
    const transform = Transform3.getMutableOrNull(entity);
    const player = Transform3.getOrNull(engine2.PlayerEntity);
    if (transform && player) {
      transform.rotation = player.rotation;
    }
  }
  function handlePlaceOnCamera(entity, _payload) {
    const transform = Transform3.getMutableOrNull(entity);
    const camera = Transform3.getOrNull(engine2.CameraEntity);
    if (transform && camera) {
      transform.position = camera.position;
    }
  }
  function handleRotateAsCamera(entity, _payload) {
    const transform = Transform3.getMutableOrNull(entity);
    const camera = Transform3.getOrNull(engine2.CameraEntity);
    if (transform && camera) {
      transform.rotation = camera.rotation;
    }
  }
  function handleSetPosition(entity, payload) {
    const transform = Transform3.getMutableOrNull(entity);
    if (transform) {
      if (payload.relative) {
        transform.position = Vector32.add(transform.position, Vector32.create(payload.x, payload.y, payload.z));
      } else {
        transform.position = Vector32.create(payload.x, payload.y, payload.z);
      }
    }
  }
  function handleSetRotation(entity, payload) {
    const transform = Transform3.getMutableOrNull(entity);
    if (transform) {
      if (payload.relative) {
        transform.rotation = Quaternion2.multiply(transform.rotation, Quaternion2.fromEulerDegrees(payload.x, payload.y, payload.z));
      } else {
        transform.rotation = Quaternion2.fromEulerDegrees(payload.x, payload.y, payload.z);
      }
    }
  }
  function handleSetScale(entity, payload) {
    const transform = Transform3.getMutableOrNull(entity);
    if (transform) {
      if (payload.relative) {
        transform.scale = Vector32.add(transform.scale, Vector32.create(payload.x, payload.y, payload.z));
      } else {
        transform.scale = Vector32.create(payload.x, payload.y, payload.z);
      }
    }
  }
  function handleFollowPlayer(entity, payload) {
    const { speed, x, y, z, minDistance } = payload;
    followMap.set(entity, {
      target: engine2.PlayerEntity,
      speed,
      minDistance,
      axes: { x, y, z }
    });
  }
  function handleStopFollowingPlayer(entity, _payload) {
    followMap.delete(entity);
  }
  function handleRandom(entity, payload) {
    const { actions: actions3 } = payload;
    const actionEvents = getActionEvents(entity);
    const actionName = actions3[Math.floor(Math.random() * actions3.length)];
    const action = findActionByName(entity, actionName);
    if (action) {
      actionEvents.emit(action.name, getPayload(action));
    }
  }
  function handleBatch(entity, payload) {
    const { actions: actions3 } = payload;
    const actionEvents = getActionEvents(entity);
    for (const actionName of actions3) {
      const action = findActionByName(entity, actionName);
      if (action) {
        actionEvents.emit(action.name, getPayload(action));
      }
    }
  }
  function handleHealPlayer(entity, payload) {
    const { multiplier } = payload;
    const getRoot = (entity2) => {
      const parent = getEntityParent(entity2);
      return !parent ? entity2 : getRoot(parent);
    };
    for (const target of healTargets) {
      const root = getRoot(target);
      if (root === engine2.PlayerEntity) {
        const triggerEvents = getTriggerEvents(target);
        const total = Math.max(multiplier ?? 1, 1);
        for (let i = 0; i < total; i++) {
          triggerEvents.emit(TriggerType.ON_HEAL_PLAYER);
        }
      }
    }
  }
}

// node_modules/@dcl/asset-packs/dist/counter-bar.js
var bars = /* @__PURE__ */ new Map();
var backgrounds = /* @__PURE__ */ new Map();
var SCALE = 1;
function createCounterBarSystem(engine2, components) {
  const { Material: Material4, MeshRenderer: MeshRenderer4, Transform: Transform3, Billboard: Billboard3 } = components;
  const { Counter, CounterBar } = getComponents(engine2);
  return function counterBarSystem() {
    for (const [entity, { value }, { primaryColor, secondaryColor, maxValue }] of engine2.getEntitiesWith(Counter, CounterBar)) {
      if (!bars.has(entity)) {
        const primary = primaryColor ? Color42.fromHexString(primaryColor) : Color42.Green();
        const seconday = secondaryColor ? Color42.fromHexString(secondaryColor) : Color42.Red();
        const container = engine2.addEntity();
        Transform3.create(container, { parent: entity });
        Billboard3.create(container);
        const bar2 = engine2.addEntity();
        bars.set(entity, bar2);
        Material4.setBasicMaterial(bar2, {
          diffuseColor: primary
        });
        MeshRenderer4.setCylinder(bar2);
        Transform3.create(bar2, {
          position: { x: 0, y: 0, z: 0 },
          scale: { x: 0.1 * SCALE, y: 1 * SCALE, z: 0.1 * SCALE },
          rotation: Quaternion2.fromEulerDegrees(0, 0, 90),
          parent: container
        });
        const background2 = engine2.addEntity();
        backgrounds.set(entity, background2);
        Material4.setBasicMaterial(background2, {
          diffuseColor: seconday
        });
        MeshRenderer4.setCylinder(background2);
        Transform3.create(background2, {
          position: { x: 0, y: 0, z: 0 },
          scale: { x: 0.09 * SCALE, y: 1 * SCALE, z: 0.09 * SCALE },
          rotation: Quaternion2.fromEulerDegrees(0, 0, 90),
          parent: container
        });
        const entityTransform = Transform3.getMutableOrNull(entity);
        if (entityTransform) {
          if (entityTransform.parent === engine2.PlayerEntity) {
            entityTransform.position = { x: 0, y: 2.1, z: 0 };
            entityTransform.scale = { x: 0.5, y: 0.5, z: 0.5 };
          } else if (entityTransform.parent === engine2.CameraEntity) {
            entityTransform.position = { x: 0, y: 0.5, z: 1 };
            entityTransform.scale = { x: 0.5, y: 0.5, z: 0.5 };
          }
        }
      }
      const max = maxValue || 10;
      const counter = Counter.getMutable(entity);
      if (counter.value > max) {
        counter.value = max;
      }
      if (counter.value < 0) {
        counter.value = 0;
      }
      const currentValue = Math.max(Math.min(counter.value / max, 1), 0) / (1 / SCALE);
      const bar = bars.get(entity);
      const background = backgrounds.get(entity);
      const barTransform = Transform3.getMutable(bar);
      barTransform.position.x = (currentValue - SCALE) / 2;
      barTransform.scale.y = currentValue;
      const backgroundTransform = Transform3.getMutable(background);
      backgroundTransform.position.x = SCALE / 2 + barTransform.position.x;
      backgroundTransform.scale.y = SCALE - currentValue;
    }
  };
}

// node_modules/@dcl/asset-packs/dist/scene-entrypoint.js
var initialized = false;
function initAssetPacks(_engine, sdkHelpers) {
  if (initialized)
    return;
  initialized = true;
  const engine2 = _engine;
  try {
    const components = getExplorerComponents(engine2);
    createComponents(engine2);
    const inputSystem2 = createInputSystem(engine2);
    const pointerEventsSystem2 = createPointerEventsSystem(engine2, inputSystem2);
    const tweenSystem2 = createTweenSystem(engine2);
    initComponents(engine2);
    engine2.addSystem(createActionsSystem(engine2, sdkHelpers));
    engine2.addSystem(createTriggersSystem(engine2, components, pointerEventsSystem2, tweenSystem2));
    engine2.addSystem(createTimerSystem());
    engine2.addSystem(createInputActionSystem(inputSystem2));
    engine2.addSystem(createCounterBarSystem(engine2, components));
    engine2.addSystem(createTransformSystem(components));
  } catch (error) {
    console.error(`Error initializing Asset Packs: ${error.message}`);
  }
}

// node_modules/@dcl/sdk/index.js
var import_EngineApi2 = require("~system/EngineApi");

// node_modules/@dcl/sdk/internal/transports/rendererTransport.js
function createRendererTransport(engineApi) {
  async function sendToRenderer(message) {
    const response = await engineApi.crdtSendToRenderer({
      data: new Uint8Array(message)
    });
    if (response && response.data && response.data.length) {
      if (rendererTransport2.onmessage) {
        for (const byteArray of response.data) {
          rendererTransport2.onmessage(byteArray);
        }
      }
    }
  }
  const rendererTransport2 = {
    async send(message) {
      try {
        await sendToRenderer(message);
      } catch (error) {
        console.error(error);
        debugger;
      }
    },
    filter(message) {
      if (
        // filter out messages for non-core components
        message.componentId > MAX_STATIC_COMPONENT
      ) {
        return false;
      }
      return !!message;
    },
    type: "renderer"
  };
  return rendererTransport2;
}

// node_modules/@dcl/sdk/internal/Observable.js
var ObserverEventState = class {
  /**
   * Create a new EventState
   * @param mask - defines the mask associated with this state
   * @param skipNextObservers - defines a flag which will instruct the observable to skip following observers when set to true
   * @param target - defines the original target of the state
   * @param currentTarget - defines the current target of the state
   */
  constructor(mask, skipNextObservers = false, target, currentTarget) {
    this.initalize(mask, skipNextObservers, target, currentTarget);
  }
  /**
   * Initialize the current event state
   * @param mask - defines the mask associated with this state
   * @param skipNextObservers - defines a flag which will instruct the observable to skip following observers when set to true
   * @param target - defines the original target of the state
   * @param currentTarget - defines the current target of the state
   * @returns the current event state
   */
  initalize(mask, skipNextObservers = false, target, currentTarget) {
    this.mask = mask;
    this.skipNextObservers = skipNextObservers;
    this.target = target;
    this.currentTarget = currentTarget;
    return this;
  }
};
var Observer = class {
  /**
   * Creates a new observer
   * @param callback - defines the callback to call when the observer is notified
   * @param mask - defines the mask of the observer (used to filter notifications)
   * @param scope - defines the current scope used to restore the JS context
   */
  constructor(callback, mask, scope = null) {
    this.callback = callback;
    this.mask = mask;
    this.scope = scope;
    this.unregisterOnNextCall = false;
    this._willBeUnregistered = false;
  }
};
var Observable = class _Observable {
  /**
   * Creates a new observable
   * @param onObserverAdded - defines a callback to call when a new observer is added
   */
  constructor(onObserverAdded) {
    this._observers = new Array();
    this._onObserverAdded = null;
    this._eventState = new ObserverEventState(0);
    if (onObserverAdded) {
      this._onObserverAdded = onObserverAdded;
    }
  }
  /**
   * Create a new Observer with the specified callback
   * @param callback - the callback that will be executed for that Observer
   * @param mask - the mask used to filter observers
   * @param insertFirst - if true the callback will be inserted at the first position, hence executed before the others ones. If false (default behavior) the callback will be inserted at the last position, executed after all the others already present.
   * @param scope - optional scope for the callback to be called from
   * @param unregisterOnFirstCall - defines if the observer as to be unregistered after the next notification
   * @returns the new observer created for the callback
   */
  add(callback, mask = -1, insertFirst = false, scope = null, unregisterOnFirstCall = false) {
    if (!callback) {
      return null;
    }
    const observer = new Observer(callback, mask, scope);
    observer.unregisterOnNextCall = unregisterOnFirstCall;
    if (insertFirst) {
      this._observers.unshift(observer);
    } else {
      this._observers.push(observer);
    }
    if (this._onObserverAdded) {
      this._onObserverAdded(observer);
    }
    return observer;
  }
  /**
   * Create a new Observer with the specified callback and unregisters after the next notification
   * @param callback - the callback that will be executed for that Observer
   * @returns the new observer created for the callback
   */
  addOnce(callback) {
    return this.add(callback, void 0, void 0, void 0, true);
  }
  /**
   * Remove an Observer from the Observable object
   * @param observer - the instance of the Observer to remove
   * @returns false if it doesn't belong to this Observable
   */
  remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._deferUnregister(observer);
      return true;
    }
    return false;
  }
  /**
   * Remove a callback from the Observable object
   * @param callback - the callback to remove
   * @param scope - optional scope. If used only the callbacks with this scope will be removed
   * @returns false if it doesn't belong to this Observable
   */
  removeCallback(callback, scope) {
    for (let index = 0; index < this._observers.length; index++) {
      if (this._observers[index].callback === callback && (!scope || scope === this._observers[index].scope)) {
        this._deferUnregister(this._observers[index]);
        return true;
      }
    }
    return false;
  }
  /**
   * Notify all Observers by calling their respective callback with the given data
   * Will return true if all observers were executed, false if an observer set skipNextObservers to true, then prevent the subsequent ones to execute
   * @param eventData - defines the data to send to all observers
   * @param mask - defines the mask of the current notification (observers with incompatible mask (ie mask & observer.mask === 0) will not be notified)
   * @param target - defines the original target of the state
   * @param currentTarget - defines the current target of the state
   * @returns false if the complete observer chain was not processed (because one observer set the skipNextObservers to true)
   */
  notifyObservers(eventData, mask = -1, target, currentTarget) {
    if (!this._observers.length) {
      return true;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    state.lastReturnValue = eventData;
    for (const obs of this._observers) {
      if (obs._willBeUnregistered) {
        continue;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);
        } else {
          state.lastReturnValue = obs.callback(eventData, state);
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
      if (state.skipNextObservers) {
        return false;
      }
    }
    return true;
  }
  /**
   * Calling this will execute each callback, expecting it to be a promise or return a value.
   * If at any point in the chain one function fails, the promise will fail and the execution will not continue.
   * This is useful when a chain of events (sometimes async events) is needed to initialize a certain object
   * and it is crucial that all callbacks will be executed.
   * The order of the callbacks is kept, callbacks are not executed parallel.
   *
   * @param eventData - The data to be sent to each callback
   * @param mask - is used to filter observers defaults to -1
   * @param target - defines the callback target (see EventState)
   * @param currentTarget - defines he current object in the bubbling phase
   * @returns will return a Promise than resolves when all callbacks executed successfully.
   */
  notifyObserversWithPromise(eventData, mask = -1, target, currentTarget) {
    let p = Promise.resolve(eventData);
    if (!this._observers.length) {
      return p;
    }
    const state = this._eventState;
    state.mask = mask;
    state.target = target;
    state.currentTarget = currentTarget;
    state.skipNextObservers = false;
    this._observers.forEach((obs) => {
      if (state.skipNextObservers) {
        return;
      }
      if (obs._willBeUnregistered) {
        return;
      }
      if (obs.mask & mask) {
        if (obs.scope) {
          p = p.then((lastReturnedValue) => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback.apply(obs.scope, [eventData, state]);
          });
        } else {
          p = p.then((lastReturnedValue) => {
            state.lastReturnValue = lastReturnedValue;
            return obs.callback(eventData, state);
          });
        }
        if (obs.unregisterOnNextCall) {
          this._deferUnregister(obs);
        }
      }
    });
    return p.then(() => {
      return eventData;
    });
  }
  /**
   * Notify a specific observer
   * @param observer - defines the observer to notify
   * @param eventData - defines the data to be sent to each callback
   * @param mask - is used to filter observers defaults to -1
   */
  notifyObserver(observer, eventData, mask = -1) {
    const state = this._eventState;
    state.mask = mask;
    state.skipNextObservers = false;
    observer.callback(eventData, state);
  }
  /**
   * Gets a boolean indicating if the observable has at least one observer
   * @returns true is the Observable has at least one Observer registered
   */
  hasObservers() {
    return this._observers.length > 0;
  }
  /**
   * Clear the list of observers
   */
  clear() {
    this._observers = new Array();
    this._onObserverAdded = null;
  }
  /**
   * Clone the current observable
   * @returns a new observable
   */
  clone() {
    const result = new _Observable();
    result._observers = this._observers.slice(0);
    return result;
  }
  /**
   * Does this observable handles observer registered with a given mask
   * @param mask - defines the mask to be tested
   * @returns whether or not one observer registered with the given mask is handeled
   */
  hasSpecificMask(mask = -1) {
    for (const obs of this._observers) {
      if (obs.mask & mask || obs.mask === mask) {
        return true;
      }
    }
    return false;
  }
  _deferUnregister(observer) {
    observer.unregisterOnNextCall = false;
    observer._willBeUnregistered = true;
    Promise.resolve().then.bind(Promise.resolve())(async () => this._remove(observer)).catch(console.error);
  }
  // This should only be called when not iterating over _observers to avoid callback skipping.
  // Removes an observer from the _observer Array.
  _remove(observer) {
    if (!observer) {
      return false;
    }
    const index = this._observers.indexOf(observer);
    if (index !== -1) {
      this._observers.splice(index, 1);
      return true;
    }
    return false;
  }
};

// node_modules/@dcl/sdk/observables.js
var import_EngineApi = require("~system/EngineApi");
function createSubscriber(eventName) {
  return () => {
    if (eventName === "comms") {
      (0, import_EngineApi.subscribe)({ eventId: eventName }).catch(console.error);
    } else {
      SDK7ComponentsObservable?.subscribe(eventName);
    }
  };
}
var onEnterSceneObservable = new Observable(createSubscriber("onEnterScene"));
var onLeaveSceneObservable = new Observable(createSubscriber("onLeaveScene"));
var onSceneReadyObservable = new Observable(createSubscriber("sceneStart"));
var onPlayerExpressionObservable = new Observable(createSubscriber("playerExpression"));
var onVideoEvent = new Observable(createSubscriber("videoEvent"));
var onProfileChanged = new Observable(createSubscriber("profileChanged"));
var onPlayerConnectedObservable = new Observable(createSubscriber("playerConnected"));
var onPlayerDisconnectedObservable = new Observable(createSubscriber("playerDisconnected"));
var onRealmChangedObservable = new Observable(createSubscriber("onRealmChanged"));
var onPlayerClickedObservable = new Observable(createSubscriber("playerClicked"));
var onCommsMessage = new Observable(createSubscriber("comms"));
async function pollEvents(sendBatch2) {
  const { events } = await sendBatch2({ actions: [] });
  for (const e of events) {
    if (e.generic) {
      const data = JSON.parse(e.generic.eventData);
      switch (e.generic.eventId) {
        case "comms": {
          onCommsMessage.notifyObservers(data);
          break;
        }
      }
    }
  }
}
var SDK7ComponentsObservable = processObservables();
function processObservables() {
  const subscriptions = /* @__PURE__ */ new Set();
  function subscribe2(eventName) {
    if (subscriptions.has(eventName))
      return;
    switch (eventName) {
      case "playerClicked": {
        subscribePlayerClick();
      }
      case "onEnterScene":
      case "playerConnected": {
        subscribeEnterScene();
      }
      case "onLeaveScene":
      case "playerDisconnected": {
        subscribeLeaveScene();
      }
      case "onRealmChanged": {
        subscribeRealmChange();
      }
      case "playerExpression": {
        subscribePlayerExpression();
      }
      case "profileChanged": {
        subscribeProfileChange();
      }
    }
    subscriptions.add(eventName);
  }
  function subscribeEnterScene() {
    players_default.onEnterScene((player) => {
      if (subscriptions.has("onEnterScene")) {
        onEnterSceneObservable.notifyObservers({ userId: player.userId });
      }
      if (subscriptions.has("playerConnected")) {
        onPlayerConnectedObservable.notifyObservers({ userId: player.userId });
      }
    });
  }
  function subscribeLeaveScene() {
    players_default.onLeaveScene((userId) => {
      if (subscriptions.has("onLeaveScene")) {
        onLeaveSceneObservable.notifyObservers({ userId });
      }
      if (subscriptions.has("playerDisconnected")) {
        onPlayerDisconnectedObservable.notifyObservers({ userId });
      }
    });
  }
  function subscribeRealmChange() {
    RealmInfo2.onChange(engine.RootEntity, (value) => {
      if (value) {
        onRealmChangedObservable.notifyObservers({
          domain: value.baseUrl,
          displayName: value.realmName,
          room: value.room ?? "",
          serverName: value.realmName
        });
      }
    });
  }
  function subscribePlayerClick() {
    const playerEntities = /* @__PURE__ */ new Set();
    engine.addSystem(() => {
      for (const [entity] of engine.getEntitiesWith(PlayerIdentityData2)) {
        if (playerEntities.has(entity))
          return;
        playerEntities.add(entity);
        PointerEventsResult2.onChange(entity, (data) => {
          if (data?.hit) {
            onPlayerClickedObservable.notifyObservers({
              userId: PlayerIdentityData2.getOrNull(entity)?.address ?? "",
              ray: {
                direction: data.hit.direction,
                distance: data.hit.length,
                origin: data.hit.globalOrigin
              }
            });
          }
        });
      }
    });
  }
  function subscribePlayerExpression() {
    AvatarEmoteCommand2.onChange(engine.PlayerEntity, (value) => {
      onPlayerExpressionObservable.notifyObservers({ expressionId: value?.emoteUrn ?? "" });
    });
  }
  function subscribeProfileChange() {
    AvatarBase2.onChange(engine.PlayerEntity, () => {
      if (!profileAddress)
        return;
      onProfileChanged.notifyObservers({ ethAddress: profileAddress, version: 0 });
    });
    AvatarEquippedData2.onChange(engine.PlayerEntity, () => {
      if (!profileAddress)
        return;
      onProfileChanged.notifyObservers({ ethAddress: profileAddress, version: 0 });
    });
  }
  let sceneReady = false;
  let profileAddress;
  function observableSystem() {
    if (sceneReady && profileAddress) {
      return engine.removeSystem(observableSystem);
    }
    if (!sceneReady) {
      sceneReady = true;
      onSceneReadyObservable.notifyObservers({});
    }
    if (profileAddress)
      return;
    profileAddress = PlayerIdentityData2.getOrNull(engine.PlayerEntity)?.address;
  }
  engine.addSystem(observableSystem);
  return { subscribe: subscribe2 };
}

// sdk-composite:all-composites
var compositeFromLoader = { "assets/scene/main.composite": { "version": 1, "components": [{ "name": "composite::root", "jsonSchema": { "type": "object", "properties": { "src": { "type": "string", "serializationType": "utf8-string" }, "entities": { "type": "array", "items": { "type": "object", "properties": { "src": { "type": "integer", "serializationType": "entity" }, "dest": { "type": "integer", "serializationType": "entity" } }, "serializationType": "map" }, "serializationType": "array" } }, "serializationType": "map" }, "data": {} }, { "name": "inspector::Selection", "jsonSchema": { "type": "object", "properties": { "gizmo": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" }, "data": { "0": { "json": { "gizmo": 3 } } } }, { "name": "inspector::SceneMetadata", "jsonSchema": { "type": "object", "properties": { "name": { "type": "string", "serializationType": "optional", "optionalJsonSchema": { "type": "string", "serializationType": "utf8-string" } }, "description": { "type": "string", "serializationType": "optional", "optionalJsonSchema": { "type": "string", "serializationType": "utf8-string" } }, "thumbnail": { "type": "string", "serializationType": "optional", "optionalJsonSchema": { "type": "string", "serializationType": "utf8-string" } }, "ageRating": { "type": "string", "serializationType": "optional", "optionalJsonSchema": { "type": "string", "enum": ["T", "A"], "default": "T", "serializationType": "enum-string", "enumObject": { "Teen": "T", "Adult": "A" } } }, "categories": { "type": "array", "serializationType": "optional", "optionalJsonSchema": { "type": "array", "items": { "type": "string", "enum": ["art", "game", "casino", "social", "music", "fashion", "crypto", "education", "shop", "business", "sports"], "default": "game", "serializationType": "enum-string", "enumObject": { "ART": "art", "GAME": "game", "CASINO": "casino", "SOCIAL": "social", "MUSIC": "music", "FASHION": "fashion", "CRYPTO": "crypto", "EDUCATION": "education", "SHOP": "shop", "BUSINESS": "business", "SPORTS": "sports" } }, "serializationType": "array" } }, "author": { "type": "string", "serializationType": "optional", "optionalJsonSchema": { "type": "string", "serializationType": "utf8-string" } }, "email": { "type": "string", "serializationType": "optional", "optionalJsonSchema": { "type": "string", "serializationType": "utf8-string" } }, "tags": { "type": "array", "serializationType": "optional", "optionalJsonSchema": { "type": "array", "items": { "type": "string", "serializationType": "utf8-string" }, "serializationType": "array" } }, "layout": { "type": "object", "properties": { "base": { "type": "object", "properties": { "x": { "type": "integer", "serializationType": "int32" }, "y": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" }, "parcels": { "type": "array", "items": { "type": "object", "properties": { "x": { "type": "integer", "serializationType": "int32" }, "y": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" }, "serializationType": "array" } }, "serializationType": "map" }, "silenceVoiceChat": { "type": "boolean", "serializationType": "optional", "optionalJsonSchema": { "type": "boolean", "serializationType": "boolean" } }, "disablePortableExperiences": { "type": "boolean", "serializationType": "optional", "optionalJsonSchema": { "type": "boolean", "serializationType": "boolean" } }, "spawnPoints": { "type": "array", "serializationType": "optional", "optionalJsonSchema": { "type": "array", "items": { "type": "object", "properties": { "name": { "type": "string", "serializationType": "utf8-string" }, "default": { "type": "boolean", "serializationType": "optional", "optionalJsonSchema": { "type": "boolean", "serializationType": "boolean" } }, "position": { "type": "object", "properties": { "x": { "type": "object", "properties": { "single": { "type": "integer", "serializationType": "int32" }, "range": { "type": "array", "items": { "type": "integer", "serializationType": "int32" }, "serializationType": "array" } }, "serializationType": "one-of" }, "y": { "type": "object", "properties": { "single": { "type": "integer", "serializationType": "int32" }, "range": { "type": "array", "items": { "type": "integer", "serializationType": "int32" }, "serializationType": "array" } }, "serializationType": "one-of" }, "z": { "type": "object", "properties": { "single": { "type": "integer", "serializationType": "int32" }, "range": { "type": "array", "items": { "type": "integer", "serializationType": "int32" }, "serializationType": "array" } }, "serializationType": "one-of" } }, "serializationType": "map" }, "cameraTarget": { "type": "object", "serializationType": "optional", "optionalJsonSchema": { "type": "object", "properties": { "x": { "type": "integer", "serializationType": "int32" }, "y": { "type": "integer", "serializationType": "int32" }, "z": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" } } }, "serializationType": "map" }, "serializationType": "array" } } }, "serializationType": "map" }, "data": { "0": { "json": { "name": "New Scene 3", "description": "Empty Scene Template", "categories": [], "author": "SDK", "tags": [], "layout": { "base": { "x": 0, "y": 0 }, "parcels": [{ "x": 0, "y": 0 }] }, "spawnPoints": [{ "name": "spawn1", "default": true, "position": { "x": { "$case": "range", "value": [0, 3] }, "y": { "$case": "range", "value": [0, 0] }, "z": { "$case": "range", "value": [0, 3] } }, "cameraTarget": { "x": 8, "y": 1, "z": 8 } }] } } } }, { "name": "inspector::Nodes", "jsonSchema": { "type": "object", "properties": { "value": { "type": "array", "items": { "type": "object", "properties": { "entity": { "type": "integer", "serializationType": "entity" }, "open": { "type": "boolean", "serializationType": "optional", "optionalJsonSchema": { "type": "boolean", "serializationType": "boolean" } }, "children": { "type": "array", "items": { "type": "integer", "serializationType": "entity" }, "serializationType": "array" } }, "serializationType": "map" }, "serializationType": "array" } }, "serializationType": "map" }, "data": { "0": { "json": { "value": [{ "entity": 512, "children": [], "open": true }, { "entity": 513, "children": [] }, { "entity": 514, "children": [] }] } } } }, { "name": "asset-packs::ActionTypes", "jsonSchema": { "type": "object", "properties": { "value": { "type": "array", "items": { "type": "object", "properties": { "type": { "type": "string", "serializationType": "utf8-string" }, "jsonSchema": { "type": "string", "serializationType": "utf8-string" } }, "serializationType": "map" }, "serializationType": "array" } }, "serializationType": "map" }, "data": { "0": { "json": { "value": [{ "type": "play_animation", "jsonSchema": '{"type":"object","properties":{"animation":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}' }, { "type": "stop_animation", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "set_state", "jsonSchema": '{"type":"object","properties":{"state":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}' }, { "type": "start_tween", "jsonSchema": '{"type":"object","properties":{"type":{"type":"string","enum":["move_item","rotate_item","scale_item"],"default":"move_item","serializationType":"enum-string","enumObject":{"MOVE_ITEM":"move_item","ROTATE_ITEM":"rotate_item","SCALE_ITEM":"scale_item"}},"end":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"interpolationType":{"type":"string","enum":["linear","easeinquad","easeoutquad","easequad","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeinelastic","easeoutelastic","easeinoutelastic","easeinbounce","easeoutbounce","easeinoutbounce"],"default":"linear","serializationType":"enum-string","enumObject":{"LINEAR":"linear","EASEINQUAD":"easeinquad","EASEOUTQUAD":"easeoutquad","EASEQUAD":"easequad","EASEINSINE":"easeinsine","EASEOUTSINE":"easeoutsine","EASESINE":"easeinoutsine","EASEINEXPO":"easeinexpo","EASEOUTEXPO":"easeoutexpo","EASEEXPO":"easeinoutexpo","EASEINELASTIC":"easeinelastic","EASEOUTELASTIC":"easeoutelastic","EASEELASTIC":"easeinoutelastic","EASEINBOUNCE":"easeinbounce","EASEOUTEBOUNCE":"easeoutbounce","EASEBOUNCE":"easeinoutbounce"}},"duration":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"boolean"}},"serializationType":"map"}' }, { "type": "set_counter", "jsonSchema": '{"type":"object","properties":{"counter":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}' }, { "type": "increment_counter", "jsonSchema": '{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}' }, { "type": "decrease_counter", "jsonSchema": '{"type":"object","properties":{"amount":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}' }, { "type": "play_sound", "jsonSchema": '{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}' }, { "type": "stop_sound", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "set_visibility", "jsonSchema": '{"type":"object","properties":{"visible":{"type":"boolean","serializationType":"boolean"},"physicsCollider":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"collider":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","enum":[0,1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768],"default":1,"serializationType":"enum-int","enumObject":{"0":"CL_NONE","1":"CL_POINTER","2":"CL_PHYSICS","4":"CL_RESERVED1","8":"CL_RESERVED2","16":"CL_RESERVED3","32":"CL_RESERVED4","64":"CL_RESERVED5","128":"CL_RESERVED6","256":"CL_CUSTOM1","512":"CL_CUSTOM2","1024":"CL_CUSTOM3","2048":"CL_CUSTOM4","4096":"CL_CUSTOM5","8192":"CL_CUSTOM6","16384":"CL_CUSTOM7","32768":"CL_CUSTOM8","CL_NONE":0,"CL_POINTER":1,"CL_PHYSICS":2,"CL_RESERVED1":4,"CL_RESERVED2":8,"CL_RESERVED3":16,"CL_RESERVED4":32,"CL_RESERVED5":64,"CL_RESERVED6":128,"CL_CUSTOM1":256,"CL_CUSTOM2":512,"CL_CUSTOM3":1024,"CL_CUSTOM4":2048,"CL_CUSTOM5":4096,"CL_CUSTOM6":8192,"CL_CUSTOM7":16384,"CL_CUSTOM8":32768}}}},"serializationType":"map"}' }, { "type": "attach_to_player", "jsonSchema": '{"type":"object","properties":{"anchorPointId":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}' }, { "type": "detach_from_player", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "play_video_stream", "jsonSchema": '{"type":"object","properties":{"src":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"dclCast":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}' }, { "type": "stop_video_stream", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "play_audio_stream", "jsonSchema": '{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"},"volume":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}' }, { "type": "stop_audio_stream", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "teleport_player", "jsonSchema": '{"type":"object","properties":{"x":{"type":"integer","serializationType":"int32"},"y":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}' }, { "type": "move_player", "jsonSchema": '{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"},"cameraTarget":{"type":"object","serializationType":"optional","optionalJsonSchema":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}}},"serializationType":"map"}' }, { "type": "play_default_emote", "jsonSchema": '{"type":"object","properties":{"emote":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}' }, { "type": "play_custom_emote", "jsonSchema": '{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"loop":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}' }, { "type": "open_link", "jsonSchema": '{"type":"object","properties":{"url":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}' }, { "type": "show_text", "jsonSchema": '{"type":"object","properties":{"text":{"type":"string","serializationType":"utf8-string"},"hideAfterSeconds":{"type":"number","serializationType":"float32"},"font":{"type":"integer","enum":[0,1,2],"default":0,"serializationType":"enum-int","enumObject":{"0":"F_SANS_SERIF","1":"F_SERIF","2":"F_MONOSPACE","F_SANS_SERIF":0,"F_SERIF":1,"F_MONOSPACE":2}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"textAlign":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}}},"serializationType":"map"}' }, { "type": "hide_text", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "start_delay", "jsonSchema": '{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"timeout":{"type":"number","serializationType":"float32"}},"serializationType":"map"}' }, { "type": "stop_delay", "jsonSchema": '{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}' }, { "type": "start_loop", "jsonSchema": '{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"},"interval":{"type":"number","serializationType":"float32"}},"serializationType":"map"}' }, { "type": "stop_loop", "jsonSchema": '{"type":"object","properties":{"action":{"type":"string","serializationType":"utf8-string"}},"serializationType":"map"}' }, { "type": "clone_entity", "jsonSchema": '{"type":"object","properties":{"position":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"},"z":{"type":"number"},"w":{"type":"number"}},"serializationType":"vector3"}},"serializationType":"map"}' }, { "type": "remove_entity", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "show_image", "jsonSchema": '{"type":"object","properties":{"src":{"type":"string","serializationType":"utf8-string"},"align":{"type":"integer","enum":[0,1,2,3,4,5,6,7,8],"default":4,"serializationType":"enum-int","enumObject":{"0":"TAM_TOP_LEFT","1":"TAM_TOP_CENTER","2":"TAM_TOP_RIGHT","3":"TAM_MIDDLE_LEFT","4":"TAM_MIDDLE_CENTER","5":"TAM_MIDDLE_RIGHT","6":"TAM_BOTTOM_LEFT","7":"TAM_BOTTOM_CENTER","8":"TAM_BOTTOM_RIGHT","TAM_TOP_LEFT":0,"TAM_TOP_CENTER":1,"TAM_TOP_RIGHT":2,"TAM_MIDDLE_LEFT":3,"TAM_MIDDLE_CENTER":4,"TAM_MIDDLE_RIGHT":5,"TAM_BOTTOM_LEFT":6,"TAM_BOTTOM_CENTER":7,"TAM_BOTTOM_RIGHT":8}},"height":{"type":"number","serializationType":"float32"},"width":{"type":"number","serializationType":"float32"},"hideAfterSeconds":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}},"text":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","serializationType":"utf8-string"}},"fontSize":{"type":"number","serializationType":"optional","optionalJsonSchema":{"type":"number","serializationType":"float32"}}},"serializationType":"map"}' }, { "type": "hide_image", "jsonSchema": '{"type":"object","properties":{"imageEntity":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}' }, { "type": "damage", "jsonSchema": '{"type":"object","properties":{"radius":{"type":"number","serializationType":"float32"},"layer":{"type":"string","serializationType":"optional","optionalJsonSchema":{"type":"string","enum":["all","player","non_player"],"default":"all","serializationType":"enum-string","enumObject":{"ALL":"all","PLAYER":"player","NON_PLAYER":"non_player"}}},"hits":{"type":"integer","serializationType":"optional","optionalJsonSchema":{"type":"integer","serializationType":"int32"}}},"serializationType":"map"}' }, { "type": "move_player_here", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "place_on_player", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "rotate_as_player", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "place_on_camera", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "rotate_as_camera", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "set_position", "jsonSchema": '{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}' }, { "type": "set_rotation", "jsonSchema": '{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}' }, { "type": "set_scale", "jsonSchema": '{"type":"object","properties":{"x":{"type":"number","serializationType":"float32"},"y":{"type":"number","serializationType":"float32"},"z":{"type":"number","serializationType":"float32"},"relative":{"type":"boolean","serializationType":"optional","optionalJsonSchema":{"type":"boolean","serializationType":"boolean"}}},"serializationType":"map"}' }, { "type": "follow_player", "jsonSchema": '{"type":"object","properties":{"speed":{"type":"number","serializationType":"float32"},"x":{"type":"boolean","serializationType":"boolean"},"y":{"type":"boolean","serializationType":"boolean"},"z":{"type":"boolean","serializationType":"boolean"},"minDistance":{"type":"number","serializationType":"float32"}},"serializationType":"map"}' }, { "type": "stop_following_player", "jsonSchema": '{"type":"object","properties":{},"serializationType":"map"}' }, { "type": "random", "jsonSchema": '{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}' }, { "type": "batch", "jsonSchema": '{"type":"object","properties":{"actions":{"type":"array","items":{"type":"string","serializationType":"utf8-string"},"serializationType":"array"}},"serializationType":"map"}' }, { "type": "heal_player", "jsonSchema": '{"type":"object","properties":{"multiplier":{"type":"integer","serializationType":"int32"}},"serializationType":"map"}' }] } } } }, { "name": "asset-packs::Counter", "jsonSchema": { "type": "object", "properties": { "id": { "type": "number", "serializationType": "float32" }, "value": { "type": "integer", "serializationType": "int32" } }, "serializationType": "map" }, "data": { "0": { "json": { "id": 0, "value": 0 } } } }] } };

// node_modules/@dcl/sdk/composite-provider.js
var composites = [];
var compositeProvider = {
  getCompositeOrNull(src, _currentPath) {
    const fromLoader = compositeFromLoader[src];
    if (fromLoader) {
      try {
        if (fromLoader instanceof Uint8Array) {
          const composite = Composite.fromBinary(fromLoader);
          composites.push({ src, composite });
        } else if (typeof fromLoader === "string") {
          const composite = Composite.fromJson(JSON.parse(fromLoader));
          composites.push({ src, composite });
        } else if (typeof fromLoader === "object") {
          const composite = Composite.fromJson(fromLoader);
          composites.push({ src, composite });
        }
      } catch (err) {
        console.error(err);
      }
      delete compositeFromLoader[src];
    }
    return composites.find((item) => item.src === src) || null;
  }
};

// node_modules/@dcl/sdk/index.js
var rendererTransport = createRendererTransport({ crdtSendToRenderer: import_EngineApi2.crdtSendToRenderer });
engine.addTransport(rendererTransport);
async function onUpdate(deltaTime) {
  engine.seal();
  await engine.update(deltaTime);
  await pollEvents(import_EngineApi2.sendBatch);
}
async function onStart() {
  const response = await (0, import_EngineApi2.crdtGetState)({ data: new Uint8Array() });
  if (!response.hasEntities) {
    const mainComposite = compositeProvider.getCompositeOrNull("main.composite");
    if (mainComposite) {
      try {
        Composite.instance(engine, mainComposite, compositeProvider);
      } catch (err) {
        console.log(`Warning: main.composite couldn't be instanced.`);
        console.error(err);
      }
    }
  }
  if (!!rendererTransport.onmessage) {
    if (response && response.data && response.data.length) {
      for (const byteArray of response.data) {
        rendererTransport.onmessage(byteArray);
      }
    }
  }
}

// src/index.ts.entry-point.ts
initAssetPacks(engine, { syncEntity });
if (main !== void 0) {
  let _INTERNAL_startup_system = function() {
    try {
      const maybePromise = main();
      if (maybePromise && typeof maybePromise === "object" && typeof maybePromise.then === "function") {
        maybePromise.catch(console.error);
      }
    } catch (e) {
      console.error(e);
    } finally {
      engine.removeSystem(_INTERNAL_startup_system);
    }
  };
  engine.addSystem(_INTERNAL_startup_system, Infinity);
}
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2FzcHJvbWlzZS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYmFzZTY0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9ldmVudGVtaXR0ZXIvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL2Zsb2F0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9pbnF1aXJlL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy91dGY4L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9wb29sL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL2xvbmdiaXRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL21pbmltYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyaXRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvd3JpdGVyX2J1ZmZlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yZWFkZXJfYnVmZmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9ycGMvc2VydmljZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcnBjLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yb290cy5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvaW5kZXgtbWluaW1hbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9taW5pbWFsLmpzIiwgIi4uL3NyYy9pbmRleC50cy5lbnRyeS1wb2ludC50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYW5pbWF0b3IuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0FuaW1hdG9yLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fZXZlbnQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0F1ZGlvRXZlbnQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zb3VyY2UuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0F1ZGlvU291cmNlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc3RyZWFtLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdWRpb1N0cmVhbS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9hdHRhY2guZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0F2YXRhckF0dGFjaC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9iYXNlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvY29tbW9uL2NvbG9ycy5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXZhdGFyQmFzZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9lbW90ZV9jb21tYW5kLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJFbW90ZUNvbW1hbmQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfZXF1aXBwZWRfZGF0YS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXZhdGFyRXF1aXBwZWREYXRhLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX21vZGlmaWVyX2FyZWEuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9jb21tb24vdmVjdG9ycy5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQXZhdGFyTW9kaWZpZXJBcmVhLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvbG9uZy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX3NoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9BdmF0YXJTaGFwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2JpbGxib2FyZC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvQmlsbGJvYXJkLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0NhbWVyYU1vZGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jYW1lcmFfbW9kZV9hcmVhLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9DYW1lcmFNb2RlQXJlYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9FbmdpbmVJbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0dsdGZDb250YWluZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9HbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvaW5wdXRfbW9kaWZpZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL0lucHV0TW9kaWZpZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYWluX2NhbWVyYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWFpbkNhbWVyYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21hdGVyaWFsLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvY29tbW9uL3RleHR1cmUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL01hdGVyaWFsLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9jb2xsaWRlci5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWVzaENvbGxpZGVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9yZW5kZXJlci5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvTWVzaFJlbmRlcmVyLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbmZ0X3NoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9OZnRTaGFwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BsYXllcl9pZGVudGl0eV9kYXRhLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9QbGF5ZXJJZGVudGl0eURhdGEuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wb2ludGVyX2V2ZW50cy5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUG9pbnRlckV2ZW50cy5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfZXZlbnRzX3Jlc3VsdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NvbW1vbi9yYXljYXN0X2hpdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUG9pbnRlckV2ZW50c1Jlc3VsdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfbG9jay5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvUG9pbnRlckxvY2suZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9SYXljYXN0Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmF5Y2FzdF9yZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1JheWNhc3RSZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yZWFsbV9pbmZvLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9SZWFsbUluZm8uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90ZXh0X3NoYXBlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9UZXh0U2hhcGUuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbi5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVHdlZW4uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zZXF1ZW5jZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVHdlZW5TZXF1ZW5jZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuX3N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9Ud2VlblN0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL2NvbW1vbi9ib3JkZXJfcmVjdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlCYWNrZ3JvdW5kLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfY2FudmFzX2luZm9ybWF0aW9uLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9VaUNhbnZhc0luZm9ybWF0aW9uLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd24uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpRHJvcGRvd24uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bl9yZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpRHJvcGRvd25SZXN1bHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlJbnB1dC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0X3Jlc3VsdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlJbnB1dFJlc3VsdC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RleHQuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL1VpVGV4dC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX3RyYW5zZm9ybS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVWlUcmFuc2Zvcm0uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19ldmVudC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlkZW9FdmVudC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX3BsYXllci5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlkZW9QbGF5ZXIuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aXJ0dWFsX2NhbWVyYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NvbW1vbi9jYW1lcmFfdHJhbnNpdGlvbi5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvVmlydHVhbENhbWVyYS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3Zpc2liaWxpdHlfY29tcG9uZW50Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9WaXNpYmlsaXR5Q29tcG9uZW50Lmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9pbmRleC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9BbmltYXRvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2V4dGVuZGVkL0F1ZGlvU291cmNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZXh0ZW5kZWQvTWF0ZXJpYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9NZXNoQ29sbGlkZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9NZXNoUmVuZGVyZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9Ud2Vlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL0FycmF5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvQm9vbGVhbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2Jhc2ljL0ludGVnZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9iYXNpYy9TdHJpbmcuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9iYXNpYy9FbnVtLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYmFzaWMvRmxvYXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9jdXN0b20vQ29sb3IzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvY3VzdG9tL0NvbG9yNC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2N1c3RvbS9FbnRpdHkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9jdXN0b20vUXVhdGVybmlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2N1c3RvbS9WZWN0b3IzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvTWFwLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvT3B0aW9uYWwuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9PbmVPZi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zY2hlbWFzL2J1aWxkU2NoZW1hL3V0aWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NjaGVtYXMvYnVpbGRTY2hlbWEvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2NoZW1hcy9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL21hbnVhbC9OYW1lLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvbWFudWFsL1N5bmNDb21wb25lbnRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvbWFudWFsL05ldHdvcmtFbnRpdHkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9tYW51YWwvTmV0d29ya1BhcmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL21hbnVhbC9UcmFuc2Zvcm0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9leHRlbmRlZC9BdWRpb1N0cmVhbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL21lZGlhX3N0YXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL2NvbXBvbmVudC1uYW1lcy5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9jb21wb25lbnQtbnVtYmVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3J1bnRpbWUvY3JjLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3J1bnRpbWUvaW52YXJpYW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvY3JkdC9nc2V0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2VuZ2luZS9lbnRpdHkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC90eXBlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvY3JkdE1lc3NhZ2VQcm90b2NvbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvZGVsZXRlQ29tcG9uZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9hcHBlbmRWYWx1ZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvZGVsZXRlRW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9wdXRDb21wb25lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L25ldHdvcmsvcHV0Q29tcG9uZW50TmV0d29yay5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zZXJpYWxpemF0aW9uL2NyZHQvbmV0d29yay9kZWxldGVDb21wb25lbnROZXR3b3JrLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9uZXR3b3JrL2RlbGV0ZUVudGl0eU5ldHdvcmsuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L25ldHdvcmsvdXRpbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc3lzdGVtcy9jcmR0L2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L3N5c3RlbXMvY3JkdC91dGlscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvcmVhZG9ubHkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2x3dy1lbGVtZW50LXNldC1jb21wb25lbnQtZGVmaW5pdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvc3lzdGVtcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvZ3Jvdy1vbmx5LXZhbHVlLXNldC1jb21wb25lbnQtZGVmaW5pdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2hlbHBlcnMvdHJlZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvaW5wdXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvZW5naW5lL2NvbXBvbmVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9lbmdpbmUvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc3lzdGVtcy9ldmVudHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc3lzdGVtcy90d2Vlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9zeXN0ZW1zL3BvaW50ZXItZXZlbnQtY29sbGlkZXItY2hlY2tlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9ydW50aW1lL2luaXRpYWxpemF0aW9uL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL2dsb2JhbC5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NvbW1vbi9jYW1lcmFfdHlwZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NvbW1vbi9pbnB1dF9hY3Rpb24uZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvZ2VuZXJhdGVkL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9jb21tb24vbG9hZGluZ19zdGF0ZS5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cy9nZW5lcmF0ZWQvcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NvbW1vbi90ZXh0cy5nZW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL2NvbXBvbmVudHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL3BhdGguanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3QvY29tcG9zaXRlL2luc3RhbmNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9wcm90by9nZW4vY29tcG9zaXRlLmdlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9jb21wb3NpdGUvcHJvdG8vZ2VuL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QuZ2VuLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy9kaXN0L2NvbXBvc2l0ZS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MvZGlzdC9pbmRleC5qcyIsICIuLi9zcmMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9uZXR3b3JrL2luZGV4LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvbmV0d29yay9zdGF0ZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL25ldHdvcmsvZmlsdGVyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvbmV0d29yay9iaW5hcnktbWVzc2FnZS1idXMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9uZXR3b3JrL3V0aWxzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvbmV0d29yay9lbnRpdGllcy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL3BsYXllcnMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9jcmR0L21lc3NhZ2UuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9pbnRlcm5hbC90cmFuc3BvcnRzL2xvZ2dlci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL25ldHdvcmsvbWVzc2FnZS1idXMtc3luYy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvYWN0aW9uLXR5cGVzLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy9lbnVtcy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvY29tcG9uZW50cy50cyIsICIuLi9ub2RlX21vZHVsZXMvbWl0dC9zcmMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvYXNzZXQtcGFja3Mvc3JjL2V2ZW50cy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvaWQudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvYXNzZXQtcGFja3Mvc3JjL3N0YXRlcy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvbHd3LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy9jbG9uZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvZGVmaW5pdGlvbnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC90eXBlcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1NjYWxhci5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1ZlY3RvcjMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9QbGFuZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L01hdHJpeC5qcyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9lY3MtbWF0aC9kaXN0L1F1YXRlcm5pb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvZWNzLW1hdGgvZGlzdC9WZWN0b3IyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvQ29sb3I0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Vjcy1tYXRoL2Rpc3QvQ29sb3IzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy9hY3Rpb25zLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy90aW1lci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvdWkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy9tYXRoLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsLXNkay91dGlscy9zcmMvcHJpb3JpdHkudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy90aW1lci50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL3RvZ2dsZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL2hlbHBlcnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy90d2Vlbi50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL3BlcnBldHVhbE1vdGlvbi50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC1zZGsvdXRpbHMvc3JjL3BhdGgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wtc2RrL3V0aWxzL3NyYy90cmlnZ2VyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsLXNkay91dGlscy9zcmMvYWN0aW9uLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy9pbnB1dC1hY3Rpb25zLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy90cmlnZ2Vycy50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9hc3NldC1wYWNrcy9zcmMvdHJhbnNmb3JtLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy90d2VlbnMudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvYXNzZXQtcGFja3Mvc3JjL2NvdW50ZXItYmFyLnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL2Fzc2V0LXBhY2tzL3NyYy9zY2VuZS1lbnRyeXBvaW50LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvaW5kZXgudHMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9pbnRlcm5hbC90cmFuc3BvcnRzL3JlbmRlcmVyVHJhbnNwb3J0LnRzIiwgIi4uL25vZGVfbW9kdWxlcy9AZGNsL3Nkay9zcmMvaW50ZXJuYWwvT2JzZXJ2YWJsZS50cyIsICIuLi9ub2RlX21vZHVsZXMvQGRjbC9zZGsvc3JjL29ic2VydmFibGVzLnRzIiwgInNkay1jb21wb3NpdGU6YWxsLWNvbXBvc2l0ZXMiLCAiLi4vbm9kZV9tb2R1bGVzL0BkY2wvc2RrL3NyYy9jb21wb3NpdGUtcHJvdmlkZXIudHMiXSwKICAic291cmNlUm9vdCI6ICJmaWxlOi8vL1VzZXJzL2FuYWNhcm9saW5hbW9udGVzYW50aS9sYXVuZHJvbWF0L2JpbiIsCiAgInNvdXJjZXNDb250ZW50IjogWyJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBhc1Byb21pc2U7XHJcblxyXG4vKipcclxuICogQ2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5hc1Byb21pc2V9LlxyXG4gKiBAdHlwZWRlZiBhc1Byb21pc2VDYWxsYmFja1xyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxyXG4gKiBAcGFyYW0gey4uLip9IHBhcmFtcyBBZGRpdGlvbmFsIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmcm9tIGEgbm9kZS1zdHlsZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHthc1Byb21pc2VDYWxsYmFja30gZm4gRnVuY3Rpb24gdG8gY2FsbFxyXG4gKiBAcGFyYW0geyp9IGN0eCBGdW5jdGlvbiBjb250ZXh0XHJcbiAqIEBwYXJhbSB7Li4uKn0gcGFyYW1zIEZ1bmN0aW9uIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gUHJvbWlzaWZpZWQgZnVuY3Rpb25cclxuICovXHJcbmZ1bmN0aW9uIGFzUHJvbWlzZShmbiwgY3R4LyosIHZhcmFyZ3MgKi8pIHtcclxuICAgIHZhciBwYXJhbXMgID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcclxuICAgICAgICBvZmZzZXQgID0gMCxcclxuICAgICAgICBpbmRleCAgID0gMixcclxuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcclxuICAgIHdoaWxlIChpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAgICAgICAgcGFyYW1zW29mZnNldCsrXSA9IGFyZ3VtZW50c1tpbmRleCsrXTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBwYXJhbXNbb2Zmc2V0XSA9IGZ1bmN0aW9uIGNhbGxiYWNrKGVyci8qLCB2YXJhcmdzICovKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IHBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tvZmZzZXQrK10gPSBhcmd1bWVudHNbb2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KG51bGwsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KGN0eCB8fCBudWxsLCBwYXJhbXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKipcclxuICogQSBtaW5pbWFsIGJhc2U2NCBpbXBsZW1lbnRhdGlvbiBmb3IgbnVtYmVyIGFycmF5cy5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxudmFyIGJhc2U2NCA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgYnl0ZSBsZW5ndGggb2YgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgQmFzZTY0IGVuY29kZWQgc3RyaW5nXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGUgbGVuZ3RoXHJcbiAqL1xyXG5iYXNlNjQubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKHN0cmluZykge1xyXG4gICAgdmFyIHAgPSBzdHJpbmcubGVuZ3RoO1xyXG4gICAgaWYgKCFwKVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgdmFyIG4gPSAwO1xyXG4gICAgd2hpbGUgKC0tcCAlIDQgPiAxICYmIHN0cmluZy5jaGFyQXQocCkgPT09IFwiPVwiKVxyXG4gICAgICAgICsrbjtcclxuICAgIHJldHVybiBNYXRoLmNlaWwoc3RyaW5nLmxlbmd0aCAqIDMpIC8gNCAtIG47XHJcbn07XHJcblxyXG4vLyBCYXNlNjQgZW5jb2RpbmcgdGFibGVcclxudmFyIGI2NCA9IG5ldyBBcnJheSg2NCk7XHJcblxyXG4vLyBCYXNlNjQgZGVjb2RpbmcgdGFibGVcclxudmFyIHM2NCA9IG5ldyBBcnJheSgxMjMpO1xyXG5cclxuLy8gNjUuLjkwLCA5Ny4uMTIyLCA0OC4uNTcsIDQzLCA0N1xyXG5mb3IgKHZhciBpID0gMDsgaSA8IDY0OylcclxuICAgIHM2NFtiNjRbaV0gPSBpIDwgMjYgPyBpICsgNjUgOiBpIDwgNTIgPyBpICsgNzEgOiBpIDwgNjIgPyBpIC0gNCA6IGkgLSA1OSB8IDQzXSA9IGkrKztcclxuXHJcbi8qKlxyXG4gKiBFbmNvZGVzIGEgYnVmZmVyIHRvIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBTb3VyY2UgYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTb3VyY2Ugc3RhcnRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBTb3VyY2UgZW5kXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBlbmNvZGVkIHN0cmluZ1xyXG4gKi9cclxuYmFzZTY0LmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShidWZmZXIsIHN0YXJ0LCBlbmQpIHtcclxuICAgIHZhciBwYXJ0cyA9IG51bGwsXHJcbiAgICAgICAgY2h1bmsgPSBbXTtcclxuICAgIHZhciBpID0gMCwgLy8gb3V0cHV0IGluZGV4XHJcbiAgICAgICAgaiA9IDAsIC8vIGdvdG8gaW5kZXhcclxuICAgICAgICB0OyAgICAgLy8gdGVtcG9yYXJ5XHJcbiAgICB3aGlsZSAoc3RhcnQgPCBlbmQpIHtcclxuICAgICAgICB2YXIgYiA9IGJ1ZmZlcltzdGFydCsrXTtcclxuICAgICAgICBzd2l0Y2ggKGopIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFtiID4+IDJdO1xyXG4gICAgICAgICAgICAgICAgdCA9IChiICYgMykgPDwgNDtcclxuICAgICAgICAgICAgICAgIGogPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbdCB8IGIgPj4gNF07XHJcbiAgICAgICAgICAgICAgICB0ID0gKGIgJiAxNSkgPDwgMjtcclxuICAgICAgICAgICAgICAgIGogPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbdCB8IGIgPj4gNl07XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W2IgJiA2M107XHJcbiAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaSA+IDgxOTEpIHtcclxuICAgICAgICAgICAgKHBhcnRzIHx8IChwYXJ0cyA9IFtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmspKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGopIHtcclxuICAgICAgICBjaHVua1tpKytdID0gYjY0W3RdO1xyXG4gICAgICAgIGNodW5rW2krK10gPSA2MTtcclxuICAgICAgICBpZiAoaiA9PT0gMSlcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDYxO1xyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKGkpXHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKTtcclxufTtcclxuXHJcbnZhciBpbnZhbGlkRW5jb2RpbmcgPSBcImludmFsaWQgZW5jb2RpbmdcIjtcclxuXHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgYnVmZmVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFNvdXJjZSBzdHJpbmdcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgRGVzdGluYXRpb24gYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgRGVzdGluYXRpb24gb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IE51bWJlciBvZiBieXRlcyB3cml0dGVuXHJcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBlbmNvZGluZyBpcyBpbnZhbGlkXHJcbiAqL1xyXG5iYXNlNjQuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKHN0cmluZywgYnVmZmVyLCBvZmZzZXQpIHtcclxuICAgIHZhciBzdGFydCA9IG9mZnNldDtcclxuICAgIHZhciBqID0gMCwgLy8gZ290byBpbmRleFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDspIHtcclxuICAgICAgICB2YXIgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkrKyk7XHJcbiAgICAgICAgaWYgKGMgPT09IDYxICYmIGogPiAxKVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBpZiAoKGMgPSBzNjRbY10pID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKGludmFsaWRFbmNvZGluZyk7XHJcbiAgICAgICAgc3dpdGNoIChqKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IHQgPDwgMiB8IChjICYgNDgpID4+IDQ7XHJcbiAgICAgICAgICAgICAgICB0ID0gYztcclxuICAgICAgICAgICAgICAgIGogPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSAodCAmIDE1KSA8PCA0IHwgKGMgJiA2MCkgPj4gMjtcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDM7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9ICh0ICYgMykgPDwgNiB8IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChqID09PSAxKVxyXG4gICAgICAgIHRocm93IEVycm9yKGludmFsaWRFbmNvZGluZyk7XHJcbiAgICByZXR1cm4gb2Zmc2V0IC0gc3RhcnQ7XHJcbn07XHJcblxyXG4vKipcclxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBzdHJpbmcgYXBwZWFycyB0byBiZSBiYXNlNjQgZW5jb2RlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gdGVzdFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHByb2JhYmx5IGJhc2U2NCBlbmNvZGVkLCBvdGhlcndpc2UgZmFsc2VcclxuICovXHJcbmJhc2U2NC50ZXN0ID0gZnVuY3Rpb24gdGVzdChzdHJpbmcpIHtcclxuICAgIHJldHVybiAvXig/OltBLVphLXowLTkrL117NH0pKig/OltBLVphLXowLTkrL117Mn09PXxbQS1aYS16MC05Ky9dezN9PSk/JC8udGVzdChzdHJpbmcpO1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYSBuZXcgZXZlbnQgZW1pdHRlciBpbnN0YW5jZS5cclxuICogQGNsYXNzZGVzYyBBIG1pbmltYWwgZXZlbnQgZW1pdHRlci5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcmVkIGxpc3RlbmVycy5cclxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZywqPn1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xyXG59XHJcblxyXG4vKipcclxuICogUmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZ0IEV2ZW50IG5hbWVcclxuICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gTGlzdGVuZXJcclxuICogQHBhcmFtIHsqfSBbY3R4XSBMaXN0ZW5lciBjb250ZXh0XHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZ0LCBmbiwgY3R4KSB7XHJcbiAgICAodGhpcy5fbGlzdGVuZXJzW2V2dF0gfHwgKHRoaXMuX2xpc3RlbmVyc1tldnRdID0gW10pKS5wdXNoKHtcclxuICAgICAgICBmbiAgOiBmbixcclxuICAgICAgICBjdHggOiBjdHggfHwgdGhpc1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIG9yIGFueSBtYXRjaGluZyBsaXN0ZW5lcnMgaWYgYXJndW1lbnRzIGFyZSBvbWl0dGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2V2dF0gRXZlbnQgbmFtZS4gUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIGlmIG9taXR0ZWQuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtmbl0gTGlzdGVuZXIgdG8gcmVtb3ZlLiBSZW1vdmVzIGFsbCBsaXN0ZW5lcnMgb2YgYGV2dGAgaWYgb21pdHRlZC5cclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gb2ZmKGV2dCwgZm4pIHtcclxuICAgIGlmIChldnQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmIChmbiA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnNbZXZ0XSA9IFtdO1xyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2dF07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDspXHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLmZuID09PSBmbilcclxuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICsraTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBFbWl0cyBhbiBldmVudCBieSBjYWxsaW5nIGl0cyBsaXN0ZW5lcnMgd2l0aCB0aGUgc3BlY2lmaWVkIGFyZ3VtZW50cy5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2dCBFdmVudCBuYW1lXHJcbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHNcclxuICogQHJldHVybnMge3V0aWwuRXZlbnRFbWl0dGVyfSBgdGhpc2BcclxuICovXHJcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZ0KSB7XHJcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzW2V2dF07XHJcbiAgICBpZiAobGlzdGVuZXJzKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXSxcclxuICAgICAgICAgICAgaSA9IDE7XHJcbiAgICAgICAgZm9yICg7IGkgPCBhcmd1bWVudHMubGVuZ3RoOylcclxuICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpKytdKTtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDspXHJcbiAgICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaSsrXS5jdHgsIGFyZ3MpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcbiIsICJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShmYWN0b3J5KTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkcyAvIHdyaXRlcyBmbG9hdHMgLyBkb3VibGVzIGZyb20gLyB0byBidWZmZXJzLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0XHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgMzIgYml0IGZsb2F0IHRvIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZUZsb2F0TEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDMyIGJpdCBmbG9hdCB0byBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVGbG9hdEJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDMyIGJpdCBmbG9hdCBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRmxvYXRMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSAzMiBiaXQgZmxvYXQgZnJvbSBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZEZsb2F0QkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLy8gRmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2Ygbm9kZS1iYXNlZCB0ZXN0aW5nIGluIG1vZGlmaWVkIGdsb2JhbCBlbnZpcm9ubWVudHNcclxuZnVuY3Rpb24gZmFjdG9yeShleHBvcnRzKSB7XHJcblxyXG4gICAgLy8gZmxvYXQ6IHR5cGVkIGFycmF5XHJcbiAgICBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShbIC0wIF0pLFxyXG4gICAgICAgICAgICBmOGIgPSBuZXcgVWludDhBcnJheShmMzIuYnVmZmVyKSxcclxuICAgICAgICAgICAgbGUgID0gZjhiWzNdID09PSAxMjg7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfZjMyX2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGYzMlswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9mMzJfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjMyWzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdExFID0gbGUgPyB3cml0ZUZsb2F0X2YzMl9jcHkgOiB3cml0ZUZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IGxlID8gd3JpdGVGbG9hdF9mMzJfcmV2IDogd3JpdGVGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSBsZSA/IHJlYWRGbG9hdF9mMzJfY3B5IDogcmVhZEZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdEJFID0gbGUgPyByZWFkRmxvYXRfZjMyX3JldiA6IHJlYWRGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgIC8vIGZsb2F0OiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9pZWVlNzU0KHdyaXRlVWludCwgdmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IHZhbCA8IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgaWYgKHNpZ24pXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAtdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsID09PSAwKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDEgLyB2YWwgPiAwID8gLyogcG9zaXRpdmUgKi8gMCA6IC8qIG5lZ2F0aXZlIDAgKi8gMjE0NzQ4MzY0OCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChpc05hTih2YWwpKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDMyODkzNDQsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsID4gMy40MDI4MjM0NjYzODUyODg2ZSszOCkgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgMjEzOTA5NTA0MCkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgMS4xNzU0OTQzNTA4MjIyODc1ZS0zOCkgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IE1hdGgucm91bmQodmFsIC8gMS40MDEyOTg0NjQzMjQ4MTdlLTQ1KSkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSBNYXRoLnJvdW5kKHZhbCAqIE1hdGgucG93KDIsIC1leHBvbmVudCkgKiA4Mzg4NjA4KSAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBleHBvbmVudCArIDEyNyA8PCAyMyB8IG1hbnRpc3NhKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRMRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludExFKTtcclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2llZWU3NTQocmVhZFVpbnQsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciB1aW50ID0gcmVhZFVpbnQoYnVmLCBwb3MpLFxyXG4gICAgICAgICAgICAgICAgc2lnbiA9ICh1aW50ID4+IDMxKSAqIDIgKyAxLFxyXG4gICAgICAgICAgICAgICAgZXhwb25lbnQgPSB1aW50ID4+PiAyMyAmIDI1NSxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdWludCAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjU1XHJcbiAgICAgICAgICAgICAgICA/IG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA/IE5hTlxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIDogZXhwb25lbnQgPT09IDAgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgID8gc2lnbiAqIDEuNDAxMjk4NDY0MzI0ODE3ZS00NSAqIG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIDE1MCkgKiAobWFudGlzc2EgKyA4Mzg4NjA4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50TEUpO1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0QkUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUpO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gZG91YmxlOiB0eXBlZCBhcnJheVxyXG4gICAgaWYgKHR5cGVvZiBGbG9hdDY0QXJyYXkgIT09IFwidW5kZWZpbmVkXCIpIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoWy0wXSksXHJcbiAgICAgICAgICAgIGY4YiA9IG5ldyBVaW50OEFycmF5KGY2NC5idWZmZXIpLFxyXG4gICAgICAgICAgICBsZSAgPSBmOGJbN10gPT09IDEyODtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfZjY0X2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY2NFswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNF0gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA1XSA9IGY4Yls1XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDZdID0gZjhiWzZdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgN10gPSBmOGJbN107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9mNjRfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjY0WzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbN107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4Yls2XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzVdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA0XSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDVdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNl0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA3XSA9IGY4YlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUxFID0gbGUgPyB3cml0ZURvdWJsZV9mNjRfY3B5IDogd3JpdGVEb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVCRSA9IGxlID8gd3JpdGVEb3VibGVfZjY0X3JldiA6IHdyaXRlRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4Yls0XSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbNl0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4Yls3XSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbN10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4Yls2XSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbNF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSBsZSA/IHJlYWREb3VibGVfZjY0X2NweSA6IHJlYWREb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUJFID0gbGUgPyByZWFkRG91YmxlX2Y2NF9yZXYgOiByZWFkRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgLy8gZG91YmxlOiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfaWVlZTc1NCh3cml0ZVVpbnQsIG9mZjAsIG9mZjEsIHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSB2YWwgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGlmIChzaWduKVxyXG4gICAgICAgICAgICAgICAgdmFsID0gLXZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMSAvIHZhbCA+IDAgPyAvKiBwb3NpdGl2ZSAqLyAwIDogLyogbmVnYXRpdmUgMCAqLyAyMTQ3NDgzNjQ4LCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDY5NTkzNjAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpIHsgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCAyMTQ2NDM1MDcyKSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYW50aXNzYTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAyLjIyNTA3Mzg1ODUwNzIwMTRlLTMwOCkgeyAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdmFsIC8gNWUtMzI0O1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBtYW50aXNzYSAvIDQyOTQ5NjcyOTYpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9uZW50ID09PSAxMDI0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudCA9IDEwMjM7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSB2YWwgKiBNYXRoLnBvdygyLCAtZXhwb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSAqIDQ1MDM1OTk2MjczNzA0OTYgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgZXhwb25lbnQgKyAxMDIzIDw8IDIwIHwgbWFudGlzc2EgKiAxMDQ4NTc2ICYgMTA0ODU3NSkgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVMRSA9IHdyaXRlRG91YmxlX2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRMRSwgMCwgNCk7XHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUJFID0gd3JpdGVEb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFLCA0LCAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9pZWVlNzU0KHJlYWRVaW50LCBvZmYwLCBvZmYxLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgbG8gPSByZWFkVWludChidWYsIHBvcyArIG9mZjApLFxyXG4gICAgICAgICAgICAgICAgaGkgPSByZWFkVWludChidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IChoaSA+PiAzMSkgKiAyICsgMSxcclxuICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gaGkgPj4+IDIwICYgMjA0NyxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gNDI5NDk2NzI5NiAqIChoaSAmIDEwNDg1NzUpICsgbG87XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjA0N1xyXG4gICAgICAgICAgICAgICAgPyBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgPyBOYU5cclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICA6IGV4cG9uZW50ID09PSAwIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICA/IHNpZ24gKiA1ZS0zMjQgKiBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogTWF0aC5wb3coMiwgZXhwb25lbnQgLSAxMDc1KSAqIChtYW50aXNzYSArIDQ1MDM1OTk2MjczNzA0OTYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSByZWFkRG91YmxlX2llZWU3NTQuYmluZChudWxsLCByZWFkVWludExFLCAwLCA0KTtcclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVCRSA9IHJlYWREb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUsIDQsIDApO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIGV4cG9ydHM7XHJcbn1cclxuXHJcbi8vIHVpbnQgaGVscGVyc1xyXG5cclxuZnVuY3Rpb24gd3JpdGVVaW50TEUodmFsLCBidWYsIHBvcykge1xyXG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDE2ICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlVWludEJFKHZhbCwgYnVmLCBwb3MpIHtcclxuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgPj4+IDI0O1xyXG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gMTYgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgICAgICAgICYgMjU1O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVWludExFKGJ1ZiwgcG9zKSB7XHJcbiAgICByZXR1cm4gKGJ1Zltwb3MgICAgXVxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMV0gPDwgOFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMl0gPDwgMTZcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDNdIDw8IDI0KSA+Pj4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVpbnRCRShidWYsIHBvcykge1xyXG4gICAgcmV0dXJuIChidWZbcG9zICAgIF0gPDwgMjRcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDFdIDw8IDE2XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAyXSA8PCA4XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAzXSkgPj4+IDA7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGlucXVpcmU7XHJcblxyXG4vKipcclxuICogUmVxdWlyZXMgYSBtb2R1bGUgb25seSBpZiBhdmFpbGFibGUuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVOYW1lIE1vZHVsZSB0byByZXF1aXJlXHJcbiAqIEByZXR1cm5zIHs/T2JqZWN0fSBSZXF1aXJlZCBtb2R1bGUgaWYgYXZhaWxhYmxlIGFuZCBub3QgZW1wdHksIG90aGVyd2lzZSBgbnVsbGBcclxuICovXHJcbmZ1bmN0aW9uIGlucXVpcmUobW9kdWxlTmFtZSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgbW9kID0gZXZhbChcInF1aXJlXCIucmVwbGFjZSgvXi8sXCJyZVwiKSkobW9kdWxlTmFtZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxyXG4gICAgICAgIGlmIChtb2QgJiYgKG1vZC5sZW5ndGggfHwgT2JqZWN0LmtleXMobW9kKS5sZW5ndGgpKVxyXG4gICAgICAgICAgICByZXR1cm4gbW9kO1xyXG4gICAgfSBjYXRjaCAoZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyoqXHJcbiAqIEEgbWluaW1hbCBVVEY4IGltcGxlbWVudGF0aW9uIGZvciBudW1iZXIgYXJyYXlzLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG52YXIgdXRmOCA9IGV4cG9ydHM7XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgVVRGOCBieXRlIGxlbmd0aCBvZiBhIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmdcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZSBsZW5ndGhcclxuICovXHJcbnV0ZjgubGVuZ3RoID0gZnVuY3Rpb24gdXRmOF9sZW5ndGgoc3RyaW5nKSB7XHJcbiAgICB2YXIgbGVuID0gMCxcclxuICAgICAgICBjID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYyA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIGlmIChjIDwgMTI4KVxyXG4gICAgICAgICAgICBsZW4gKz0gMTtcclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OClcclxuICAgICAgICAgICAgbGVuICs9IDI7XHJcbiAgICAgICAgZWxzZSBpZiAoKGMgJiAweEZDMDApID09PSAweEQ4MDAgJiYgKHN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4RkMwMCkgPT09IDB4REMwMCkge1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGxlbiArPSA0O1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICBsZW4gKz0gMztcclxuICAgIH1cclxuICAgIHJldHVybiBsZW47XHJcbn07XHJcblxyXG4vKipcclxuICogUmVhZHMgVVRGOCBieXRlcyBhcyBhIHN0cmluZy5cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgU291cmNlIHN0YXJ0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgU291cmNlIGVuZFxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmcgcmVhZFxyXG4gKi9cclxudXRmOC5yZWFkID0gZnVuY3Rpb24gdXRmOF9yZWFkKGJ1ZmZlciwgc3RhcnQsIGVuZCkge1xyXG4gICAgdmFyIGxlbiA9IGVuZCAtIHN0YXJ0O1xyXG4gICAgaWYgKGxlbiA8IDEpXHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB2YXIgcGFydHMgPSBudWxsLFxyXG4gICAgICAgIGNodW5rID0gW10sXHJcbiAgICAgICAgaSA9IDAsIC8vIGNoYXIgb2Zmc2V0XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XHJcbiAgICAgICAgdCA9IGJ1ZmZlcltzdGFydCsrXTtcclxuICAgICAgICBpZiAodCA8IDEyOClcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IHQ7XHJcbiAgICAgICAgZWxzZSBpZiAodCA+IDE5MSAmJiB0IDwgMjI0KVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gKHQgJiAzMSkgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzO1xyXG4gICAgICAgIGVsc2UgaWYgKHQgPiAyMzkgJiYgdCA8IDM2NSkge1xyXG4gICAgICAgICAgICB0ID0gKCh0ICYgNykgPDwgMTggfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDEyIHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCA2IHwgYnVmZmVyW3N0YXJ0KytdICYgNjMpIC0gMHgxMDAwMDtcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDB4RDgwMCArICh0ID4+IDEwKTtcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9IDB4REMwMCArICh0ICYgMTAyMyk7XHJcbiAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAodCAmIDE1KSA8PCAxMiB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzO1xyXG4gICAgICAgIGlmIChpID4gODE5MSkge1xyXG4gICAgICAgICAgICAocGFydHMgfHwgKHBhcnRzID0gW10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuaykpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBpZiAoaSlcclxuICAgICAgICAgICAgcGFydHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpKTtcclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIHN0cmluZyBhcyBVVEY4IGJ5dGVzLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFNvdXJjZSBzdHJpbmdcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgRGVzdGluYXRpb24gYnVmZmVyXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgRGVzdGluYXRpb24gb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGVzIHdyaXR0ZW5cclxuICovXHJcbnV0Zjgud3JpdGUgPSBmdW5jdGlvbiB1dGY4X3dyaXRlKHN0cmluZywgYnVmZmVyLCBvZmZzZXQpIHtcclxuICAgIHZhciBzdGFydCA9IG9mZnNldCxcclxuICAgICAgICBjMSwgLy8gY2hhcmFjdGVyIDFcclxuICAgICAgICBjMjsgLy8gY2hhcmFjdGVyIDJcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgYzEgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYzEgPCAxMjgpIHtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYzEgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAgICAgIHwgMTkyO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9IGVsc2UgaWYgKChjMSAmIDB4RkMwMCkgPT09IDB4RDgwMCAmJiAoKGMyID0gc3RyaW5nLmNoYXJDb2RlQXQoaSArIDEpKSAmIDB4RkMwMCkgPT09IDB4REMwMCkge1xyXG4gICAgICAgICAgICBjMSA9IDB4MTAwMDAgKyAoKGMxICYgMHgwM0ZGKSA8PCAxMCkgKyAoYzIgJiAweDAzRkYpO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxOCAgICAgIHwgMjQwO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTIgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiAxMiAgICAgIHwgMjI0O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgJiA2MyB8IDEyODtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9mZnNldCAtIHN0YXJ0O1xyXG59O1xyXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gcG9vbDtcclxuXHJcbi8qKlxyXG4gKiBBbiBhbGxvY2F0b3IgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbEFsbG9jYXRvclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXJcclxuICovXHJcblxyXG4vKipcclxuICogQSBzbGljZXIgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbFNsaWNlclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTdGFydCBvZmZzZXRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXIgc2xpY2VcclxuICogQHRoaXMge1VpbnQ4QXJyYXl9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGJ1ZmZlciBwb29sLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtQb29sQWxsb2NhdG9yfSBhbGxvYyBBbGxvY2F0b3JcclxuICogQHBhcmFtIHtQb29sU2xpY2VyfSBzbGljZSBTbGljZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTgxOTJdIFNsYWIgc2l6ZVxyXG4gKiBAcmV0dXJucyB7UG9vbEFsbG9jYXRvcn0gUG9vbGVkIGFsbG9jYXRvclxyXG4gKi9cclxuZnVuY3Rpb24gcG9vbChhbGxvYywgc2xpY2UsIHNpemUpIHtcclxuICAgIHZhciBTSVpFICAgPSBzaXplIHx8IDgxOTI7XHJcbiAgICB2YXIgTUFYICAgID0gU0laRSA+Pj4gMTtcclxuICAgIHZhciBzbGFiICAgPSBudWxsO1xyXG4gICAgdmFyIG9mZnNldCA9IFNJWkU7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcG9vbF9hbGxvYyhzaXplKSB7XHJcbiAgICAgICAgaWYgKHNpemUgPCAxIHx8IHNpemUgPiBNQVgpXHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvYyhzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IFNJWkUpIHtcclxuICAgICAgICAgICAgc2xhYiA9IGFsbG9jKFNJWkUpO1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYnVmID0gc2xpY2UuY2FsbChzbGFiLCBvZmZzZXQsIG9mZnNldCArPSBzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICYgNykgLy8gYWxpZ24gdG8gMzIgYml0XHJcbiAgICAgICAgICAgIG9mZnNldCA9IChvZmZzZXQgfCA3KSArIDE7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH07XHJcbn1cclxuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBMb25nQml0cztcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cy5cbiAqIEBjbGFzc2Rlc2MgSGVscGVyIGNsYXNzIGZvciB3b3JraW5nIHdpdGggdGhlIGxvdyBhbmQgaGlnaCBiaXRzIG9mIGEgNjQgYml0IHZhbHVlLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxvIExvdyAzMiBiaXRzLCB1bnNpZ25lZFxuICogQHBhcmFtIHtudW1iZXJ9IGhpIEhpZ2ggMzIgYml0cywgdW5zaWduZWRcbiAqL1xuZnVuY3Rpb24gTG9uZ0JpdHMobG8sIGhpKSB7XG5cbiAgICAvLyBub3RlIHRoYXQgdGhlIGNhc3RzIGJlbG93IGFyZSB0aGVvcmV0aWNhbGx5IHVubmVjZXNzYXJ5IGFzIG9mIHRvZGF5LCBidXQgb2xkZXIgc3RhdGljYWxseVxuICAgIC8vIGdlbmVyYXRlZCBjb252ZXJ0ZXIgY29kZSBtaWdodCBzdGlsbCBjYWxsIHRoZSBjdG9yIHdpdGggc2lnbmVkIDMyYml0cy4ga2VwdCBmb3IgY29tcGF0LlxuXG4gICAgLyoqXG4gICAgICogTG93IGJpdHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxvID0gbG8gPj4+IDA7XG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGJpdHMuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhpID0gaGkgPj4+IDA7XG59XG5cbi8qKlxuICogWmVybyBiaXRzLlxuICogQG1lbWJlcm9mIHV0aWwuTG9uZ0JpdHNcbiAqIEB0eXBlIHt1dGlsLkxvbmdCaXRzfVxuICovXG52YXIgemVybyA9IExvbmdCaXRzLnplcm8gPSBuZXcgTG9uZ0JpdHMoMCwgMCk7XG5cbnplcm8udG9OdW1iZXIgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG56ZXJvLnp6RW5jb2RlID0gemVyby56ekRlY29kZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfTtcbnplcm8ubGVuZ3RoID0gZnVuY3Rpb24oKSB7IHJldHVybiAxOyB9O1xuXG4vKipcbiAqIFplcm8gaGFzaC5cbiAqIEBtZW1iZXJvZiB1dGlsLkxvbmdCaXRzXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgemVyb0hhc2ggPSBMb25nQml0cy56ZXJvSGFzaCA9IFwiXFwwXFwwXFwwXFwwXFwwXFwwXFwwXFwwXCI7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gdGhlIHNwZWNpZmllZCBudW1iZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWVcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBJbnN0YW5jZVxuICovXG5Mb25nQml0cy5mcm9tTnVtYmVyID0gZnVuY3Rpb24gZnJvbU51bWJlcih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gMClcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgdmFyIHNpZ24gPSB2YWx1ZSA8IDA7XG4gICAgaWYgKHNpZ24pXG4gICAgICAgIHZhbHVlID0gLXZhbHVlO1xuICAgIHZhciBsbyA9IHZhbHVlID4+PiAwLFxuICAgICAgICBoaSA9ICh2YWx1ZSAtIGxvKSAvIDQyOTQ5NjcyOTYgPj4+IDA7XG4gICAgaWYgKHNpZ24pIHtcbiAgICAgICAgaGkgPSB+aGkgPj4+IDA7XG4gICAgICAgIGxvID0gfmxvID4+PiAwO1xuICAgICAgICBpZiAoKytsbyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgIGxvID0gMDtcbiAgICAgICAgICAgIGlmICgrK2hpID4gNDI5NDk2NzI5NSlcbiAgICAgICAgICAgICAgICBoaSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhsbywgaGkpO1xufTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSBhIG51bWJlciwgbG9uZyBvciBzdHJpbmcuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWVcbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBJbnN0YW5jZVxuICovXG5Mb25nQml0cy5mcm9tID0gZnVuY3Rpb24gZnJvbSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgIHJldHVybiBMb25nQml0cy5mcm9tTnVtYmVyKHZhbHVlKTtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHV0aWwuTG9uZylcbiAgICAgICAgICAgIHZhbHVlID0gdXRpbC5Mb25nLmZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gTG9uZ0JpdHMuZnJvbU51bWJlcihwYXJzZUludCh2YWx1ZSwgMTApKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLmxvdyB8fCB2YWx1ZS5oaWdoID8gbmV3IExvbmdCaXRzKHZhbHVlLmxvdyA+Pj4gMCwgdmFsdWUuaGlnaCA+Pj4gMCkgOiB6ZXJvO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIHBvc3NpYmx5IHVuc2FmZSBKYXZhU2NyaXB0IG51bWJlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge251bWJlcn0gUG9zc2libHkgdW5zYWZlIG51bWJlclxuICovXG5Mb25nQml0cy5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcih1bnNpZ25lZCkge1xuICAgIGlmICghdW5zaWduZWQgJiYgdGhpcy5oaSA+Pj4gMzEpIHtcbiAgICAgICAgdmFyIGxvID0gfnRoaXMubG8gKyAxID4+PiAwLFxuICAgICAgICAgICAgaGkgPSB+dGhpcy5oaSAgICAgPj4+IDA7XG4gICAgICAgIGlmICghbG8pXG4gICAgICAgICAgICBoaSA9IGhpICsgMSA+Pj4gMDtcbiAgICAgICAgcmV0dXJuIC0obG8gKyBoaSAqIDQyOTQ5NjcyOTYpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sbyArIHRoaXMuaGkgKiA0Mjk0OTY3Mjk2O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIGxvbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFt1bnNpZ25lZD1mYWxzZV0gV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqIEByZXR1cm5zIHtMb25nfSBMb25nXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b0xvbmcgPSBmdW5jdGlvbiB0b0xvbmcodW5zaWduZWQpIHtcbiAgICByZXR1cm4gdXRpbC5Mb25nXG4gICAgICAgID8gbmV3IHV0aWwuTG9uZyh0aGlzLmxvIHwgMCwgdGhpcy5oaSB8IDAsIEJvb2xlYW4odW5zaWduZWQpKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IHsgbG93OiB0aGlzLmxvIHwgMCwgaGlnaDogdGhpcy5oaSB8IDAsIHVuc2lnbmVkOiBCb29sZWFuKHVuc2lnbmVkKSB9O1xufTtcblxudmFyIGNoYXJDb2RlQXQgPSBTdHJpbmcucHJvdG90eXBlLmNoYXJDb2RlQXQ7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzIGZyb20gdGhlIHNwZWNpZmllZCA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggSGFzaFxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEJpdHNcbiAqL1xuTG9uZ0JpdHMuZnJvbUhhc2ggPSBmdW5jdGlvbiBmcm9tSGFzaChoYXNoKSB7XG4gICAgaWYgKGhhc2ggPT09IHplcm9IYXNoKVxuICAgICAgICByZXR1cm4gemVybztcbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKFxuICAgICAgICAoIGNoYXJDb2RlQXQuY2FsbChoYXNoLCAwKVxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCAxKSA8PCA4XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDIpIDw8IDE2XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDMpIDw8IDI0KSA+Pj4gMFxuICAgICxcbiAgICAgICAgKCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNClcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgNSkgPDwgOFxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA2KSA8PCAxNlxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA3KSA8PCAyNCkgPj4+IDBcbiAgICApO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGxvbmcgYml0cyB0byBhIDggY2hhcmFjdGVycyBsb25nIGhhc2guXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIYXNoXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b0hhc2ggPSBmdW5jdGlvbiB0b0hhc2goKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgIHRoaXMubG8gICAgICAgICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiA4ICAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gMTYgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDI0ICAgICAgLFxuICAgICAgICB0aGlzLmhpICAgICAgICAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gOCAgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDE2ICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiAyNFxuICAgICk7XG59O1xuXG4vKipcbiAqIFppZy16YWcgZW5jb2RlcyB0aGlzIGxvbmcgYml0cy5cbiAqIEByZXR1cm5zIHt1dGlsLkxvbmdCaXRzfSBgdGhpc2BcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnp6RW5jb2RlID0gZnVuY3Rpb24genpFbmNvZGUoKSB7XG4gICAgdmFyIG1hc2sgPSAgIHRoaXMuaGkgPj4gMzE7XG4gICAgdGhpcy5oaSAgPSAoKHRoaXMuaGkgPDwgMSB8IHRoaXMubG8gPj4+IDMxKSBeIG1hc2spID4+PiAwO1xuICAgIHRoaXMubG8gID0gKCB0aGlzLmxvIDw8IDEgICAgICAgICAgICAgICAgICAgXiBtYXNrKSA+Pj4gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogWmlnLXphZyBkZWNvZGVzIHRoaXMgbG9uZyBiaXRzLlxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IGB0aGlzYFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUuenpEZWNvZGUgPSBmdW5jdGlvbiB6ekRlY29kZSgpIHtcbiAgICB2YXIgbWFzayA9IC0odGhpcy5sbyAmIDEpO1xuICAgIHRoaXMubG8gID0gKCh0aGlzLmxvID4+PiAxIHwgdGhpcy5oaSA8PCAzMSkgXiBtYXNrKSA+Pj4gMDtcbiAgICB0aGlzLmhpICA9ICggdGhpcy5oaSA+Pj4gMSAgICAgICAgICAgICAgICAgIF4gbWFzaykgPj4+IDA7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiB0aGlzIGxvbmdiaXRzIHdoZW4gZW5jb2RlZCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IExlbmd0aFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUubGVuZ3RoID0gZnVuY3Rpb24gbGVuZ3RoKCkge1xuICAgIHZhciBwYXJ0MCA9ICB0aGlzLmxvLFxuICAgICAgICBwYXJ0MSA9ICh0aGlzLmxvID4+PiAyOCB8IHRoaXMuaGkgPDwgNCkgPj4+IDAsXG4gICAgICAgIHBhcnQyID0gIHRoaXMuaGkgPj4+IDI0O1xuICAgIHJldHVybiBwYXJ0MiA9PT0gMFxuICAgICAgICAgPyBwYXJ0MSA9PT0gMFxuICAgICAgICAgICA/IHBhcnQwIDwgMTYzODRcbiAgICAgICAgICAgICA/IHBhcnQwIDwgMTI4ID8gMSA6IDJcbiAgICAgICAgICAgICA6IHBhcnQwIDwgMjA5NzE1MiA/IDMgOiA0XG4gICAgICAgICAgIDogcGFydDEgPCAxNjM4NFxuICAgICAgICAgICAgID8gcGFydDEgPCAxMjggPyA1IDogNlxuICAgICAgICAgICAgIDogcGFydDEgPCAyMDk3MTUyID8gNyA6IDhcbiAgICAgICAgIDogcGFydDIgPCAxMjggPyA5IDogMTA7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xudmFyIHV0aWwgPSBleHBvcnRzO1xuXG4vLyB1c2VkIHRvIHJldHVybiBhIFByb21pc2Ugd2hlcmUgY2FsbGJhY2sgaXMgb21pdHRlZFxudXRpbC5hc1Byb21pc2UgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvYXNwcm9taXNlXCIpO1xuXG4vLyBjb252ZXJ0cyB0byAvIGZyb20gYmFzZTY0IGVuY29kZWQgc3RyaW5nc1xudXRpbC5iYXNlNjQgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvYmFzZTY0XCIpO1xuXG4vLyBiYXNlIGNsYXNzIG9mIHJwYy5TZXJ2aWNlXG51dGlsLkV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9ldmVudGVtaXR0ZXJcIik7XG5cbi8vIGZsb2F0IGhhbmRsaW5nIGFjY3Jvc3MgYnJvd3NlcnNcbnV0aWwuZmxvYXQgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvZmxvYXRcIik7XG5cbi8vIHJlcXVpcmVzIG1vZHVsZXMgb3B0aW9uYWxseSBhbmQgaGlkZXMgdGhlIGNhbGwgZnJvbSBidW5kbGVyc1xudXRpbC5pbnF1aXJlID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2lucXVpcmVcIik7XG5cbi8vIGNvbnZlcnRzIHRvIC8gZnJvbSB1dGY4IGVuY29kZWQgc3RyaW5nc1xudXRpbC51dGY4ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3V0ZjhcIik7XG5cbi8vIHByb3ZpZGVzIGEgbm9kZS1saWtlIGJ1ZmZlciBwb29sIGluIHRoZSBicm93c2VyXG51dGlsLnBvb2wgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvcG9vbFwiKTtcblxuLy8gdXRpbGl0eSB0byB3b3JrIHdpdGggdGhlIGxvdyBhbmQgaGlnaCBiaXRzIG9mIGEgNjQgYml0IHZhbHVlXG51dGlsLkxvbmdCaXRzID0gcmVxdWlyZShcIi4vbG9uZ2JpdHNcIik7XG5cbi8qKlxuICogV2hldGhlciBydW5uaW5nIHdpdGhpbiBub2RlIG9yIG5vdC5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xudXRpbC5pc05vZGUgPSBCb29sZWFuKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWxcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3MudmVyc2lvbnMubm9kZSk7XG5cbi8qKlxuICogR2xvYmFsIG9iamVjdCByZWZlcmVuY2UuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge09iamVjdH1cbiAqL1xudXRpbC5nbG9iYWwgPSB1dGlsLmlzTm9kZSAmJiBnbG9iYWxcbiAgICAgICAgICAgfHwgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3dcbiAgICAgICAgICAgfHwgdHlwZW9mIHNlbGYgICAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmXG4gICAgICAgICAgIHx8IHRoaXM7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW52YWxpZC10aGlzXG5cbi8qKlxuICogQW4gaW1tdWFibGUgZW1wdHkgYXJyYXkuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge0FycmF5LjwqPn1cbiAqIEBjb25zdFxuICovXG51dGlsLmVtcHR5QXJyYXkgPSBPYmplY3QuZnJlZXplID8gT2JqZWN0LmZyZWV6ZShbXSkgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBbXTsgLy8gdXNlZCBvbiBwcm90b3R5cGVzXG5cbi8qKlxuICogQW4gaW1tdXRhYmxlIGVtcHR5IG9iamVjdC5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5lbXB0eU9iamVjdCA9IE9iamVjdC5mcmVlemUgPyBPYmplY3QuZnJlZXplKHt9KSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHt9OyAvLyB1c2VkIG9uIHByb3RvdHlwZXNcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGFuIGludGVnZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYW4gaW50ZWdlclxuICovXG51dGlsLmlzSW50ZWdlciA9IE51bWJlci5pc0ludGVnZXIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiAmJiBpc0Zpbml0ZSh2YWx1ZSkgJiYgTWF0aC5mbG9vcih2YWx1ZSkgPT09IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIHN0cmluZ1xuICovXG51dGlsLmlzU3RyaW5nID0gZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyaW5nO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgbm9uLW51bGwgb2JqZWN0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2YWx1ZSBpcyBhIG5vbi1udWxsIG9iamVjdFxuICovXG51dGlsLmlzT2JqZWN0ID0gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcm9wZXJ0eSBvbiBhIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LlxuICogVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgdXRpbC5pc1NldH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogUGxhaW4gb2JqZWN0IG9yIG1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzc2V0ID1cblxuLyoqXG4gKiBDaGVja3MgaWYgYSBwcm9wZXJ0eSBvbiBhIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBQbGFpbiBvYmplY3Qgb3IgbWVzc2FnZSBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBjb25zaWRlcmVkIHRvIGJlIHByZXNlbnQsIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbnV0aWwuaXNTZXQgPSBmdW5jdGlvbiBpc1NldChvYmosIHByb3ApIHtcbiAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgaWYgKHZhbHVlICE9IG51bGwgJiYgb2JqLmhhc093blByb3BlcnR5KHByb3ApKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGVxZXFlcSwgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgKEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubGVuZ3RoIDogT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCkgPiAwO1xuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbi8qKlxuICogQW55IGNvbXBhdGlibGUgQnVmZmVyIGluc3RhbmNlLlxuICogVGhpcyBpcyBhIG1pbmltYWwgc3RhbmQtYWxvbmUgZGVmaW5pdGlvbiBvZiBhIEJ1ZmZlciBpbnN0YW5jZS4gVGhlIGFjdHVhbCB0eXBlIGlzIHRoYXQgZXhwb3J0ZWQgYnkgbm9kZSdzIHR5cGluZ3MuXG4gKiBAaW50ZXJmYWNlIEJ1ZmZlclxuICogQGV4dGVuZHMgVWludDhBcnJheVxuICovXG5cbi8qKlxuICogTm9kZSdzIEJ1ZmZlciBjbGFzcyBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8QnVmZmVyPn1cbiAqL1xudXRpbC5CdWZmZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIEJ1ZmZlciA9IHV0aWwuaW5xdWlyZShcImJ1ZmZlclwiKS5CdWZmZXI7XG4gICAgICAgIC8vIHJlZnVzZSB0byB1c2Ugbm9uLW5vZGUgYnVmZmVycyBpZiBub3QgZXhwbGljaXRseSBhc3NpZ25lZCAocGVyZiByZWFzb25zKTpcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5wcm90b3R5cGUudXRmOFdyaXRlID8gQnVmZmVyIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn0pKCk7XG5cbi8vIEludGVybmFsIGFsaWFzIG9mIG9yIHBvbHlmdWxsIGZvciBCdWZmZXIuZnJvbS5cbnV0aWwuX0J1ZmZlcl9mcm9tID0gbnVsbDtcblxuLy8gSW50ZXJuYWwgYWxpYXMgb2Ygb3IgcG9seWZpbGwgZm9yIEJ1ZmZlci5hbGxvY1Vuc2FmZS5cbnV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IG51bGw7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBidWZmZXIgb2Ygd2hhdGV2ZXIgdHlwZSBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50LlxuICogQHBhcmFtIHtudW1iZXJ8bnVtYmVyW119IFtzaXplT3JBcnJheT0wXSBCdWZmZXIgc2l6ZSBvciBudW1iZXIgYXJyYXlcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fEJ1ZmZlcn0gQnVmZmVyXG4gKi9cbnV0aWwubmV3QnVmZmVyID0gZnVuY3Rpb24gbmV3QnVmZmVyKHNpemVPckFycmF5KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdHlwZW9mIHNpemVPckFycmF5ID09PSBcIm51bWJlclwiXG4gICAgICAgID8gdXRpbC5CdWZmZXJcbiAgICAgICAgICAgID8gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlKHNpemVPckFycmF5KVxuICAgICAgICAgICAgOiBuZXcgdXRpbC5BcnJheShzaXplT3JBcnJheSlcbiAgICAgICAgOiB1dGlsLkJ1ZmZlclxuICAgICAgICAgICAgPyB1dGlsLl9CdWZmZXJfZnJvbShzaXplT3JBcnJheSlcbiAgICAgICAgICAgIDogdHlwZW9mIFVpbnQ4QXJyYXkgPT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICA/IHNpemVPckFycmF5XG4gICAgICAgICAgICAgICAgOiBuZXcgVWludDhBcnJheShzaXplT3JBcnJheSk7XG59O1xuXG4vKipcbiAqIEFycmF5IGltcGxlbWVudGF0aW9uIHVzZWQgaW4gdGhlIGJyb3dzZXIuIGBVaW50OEFycmF5YCBpZiBzdXBwb3J0ZWQsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPFVpbnQ4QXJyYXk+fVxuICovXG51dGlsLkFycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCIgPyBVaW50OEFycmF5IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIDogQXJyYXk7XG5cbi8qKlxuICogQW55IGNvbXBhdGlibGUgTG9uZyBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgYSBtaW5pbWFsIHN0YW5kLWFsb25lIGRlZmluaXRpb24gb2YgYSBMb25nIGluc3RhbmNlLiBUaGUgYWN0dWFsIHR5cGUgaXMgdGhhdCBleHBvcnRlZCBieSBsb25nLmpzLlxuICogQGludGVyZmFjZSBMb25nXG4gKiBAcHJvcGVydHkge251bWJlcn0gbG93IExvdyBiaXRzXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGlnaCBIaWdoIGJpdHNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3RcbiAqL1xuXG4vKipcbiAqIExvbmcuanMncyBMb25nIGNsYXNzIGlmIGF2YWlsYWJsZS5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxMb25nPn1cbiAqL1xudXRpbC5Mb25nID0gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuZGNvZGVJTyAmJiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5kY29kZUlPLkxvbmdcbiAgICAgICAgIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLkxvbmdcbiAgICAgICAgIHx8IHV0aWwuaW5xdWlyZShcImxvbmdcIik7XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDIgYml0IChgYm9vbGApIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTJSZSA9IC9edHJ1ZXxmYWxzZXwwfDEkLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgMzIgYml0IChgaW50MzJgIGV0Yy4pIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTMyUmUgPSAvXi0/KD86MHxbMS05XVswLTldKikkLztcblxuLyoqXG4gKiBSZWd1bGFyIGV4cHJlc3Npb24gdXNlZCB0byB2ZXJpZnkgNjQgYml0IChgaW50NjRgIGV0Yy4pIG1hcCBrZXlzLlxuICogQHR5cGUge1JlZ0V4cH1cbiAqIEBjb25zdFxuICovXG51dGlsLmtleTY0UmUgPSAvXig/OltcXFxceDAwLVxcXFx4ZmZdezh9fC0/KD86MHxbMS05XVswLTldKikpJC87XG5cbi8qKlxuICogQ29udmVydHMgYSBudW1iZXIgb3IgbG9uZyB0byBhbiA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoIHN0cmluZy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhhc2hcbiAqL1xudXRpbC5sb25nVG9IYXNoID0gZnVuY3Rpb24gbG9uZ1RvSGFzaCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZVxuICAgICAgICA/IHV0aWwuTG9uZ0JpdHMuZnJvbSh2YWx1ZSkudG9IYXNoKClcbiAgICAgICAgOiB1dGlsLkxvbmdCaXRzLnplcm9IYXNoO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiA4IGNoYXJhY3RlcnMgbG9uZyBoYXNoIHN0cmluZyB0byBhIGxvbmcgb3IgbnVtYmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2ggSGFzaFxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7TG9uZ3xudW1iZXJ9IE9yaWdpbmFsIHZhbHVlXG4gKi9cbnV0aWwubG9uZ0Zyb21IYXNoID0gZnVuY3Rpb24gbG9uZ0Zyb21IYXNoKGhhc2gsIHVuc2lnbmVkKSB7XG4gICAgdmFyIGJpdHMgPSB1dGlsLkxvbmdCaXRzLmZyb21IYXNoKGhhc2gpO1xuICAgIGlmICh1dGlsLkxvbmcpXG4gICAgICAgIHJldHVybiB1dGlsLkxvbmcuZnJvbUJpdHMoYml0cy5sbywgYml0cy5oaSwgdW5zaWduZWQpO1xuICAgIHJldHVybiBiaXRzLnRvTnVtYmVyKEJvb2xlYW4odW5zaWduZWQpKTtcbn07XG5cbi8qKlxuICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBzb3VyY2Ugb2JqZWN0IGludG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBzcmMgU291cmNlIG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBbaWZOb3RTZXQ9ZmFsc2VdIE1lcmdlcyBvbmx5IGlmIHRoZSBrZXkgaXMgbm90IGFscmVhZHkgc2V0XG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IERlc3RpbmF0aW9uIG9iamVjdFxuICovXG5mdW5jdGlvbiBtZXJnZShkc3QsIHNyYywgaWZOb3RTZXQpIHsgLy8gdXNlZCBieSBjb252ZXJ0ZXJzXG4gICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNyYyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgaWYgKGRzdFtrZXlzW2ldXSA9PT0gdW5kZWZpbmVkIHx8ICFpZk5vdFNldClcbiAgICAgICAgICAgIGRzdFtrZXlzW2ldXSA9IHNyY1trZXlzW2ldXTtcbiAgICByZXR1cm4gZHN0O1xufVxuXG51dGlsLm1lcmdlID0gbWVyZ2U7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZyB0byBsb3dlciBjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTdHJpbmcgdG8gY29udmVydFxuICogQHJldHVybnMge3N0cmluZ30gQ29udmVydGVkIHN0cmluZ1xuICovXG51dGlsLmxjRmlyc3QgPSBmdW5jdGlvbiBsY0ZpcnN0KHN0cikge1xuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEVycm9yIG5hbWVcbiAqIEByZXR1cm5zIHtDb25zdHJ1Y3RvcjxFcnJvcj59IEN1c3RvbSBlcnJvciBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBuZXdFcnJvcihuYW1lKSB7XG5cbiAgICBmdW5jdGlvbiBDdXN0b21FcnJvcihtZXNzYWdlLCBwcm9wZXJ0aWVzKSB7XG5cbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXJyb3IobWVzc2FnZSwgcHJvcGVydGllcyk7XG5cbiAgICAgICAgLy8gRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgLy8gXiBqdXN0IHJldHVybnMgYSBuZXcgZXJyb3IgaW5zdGFuY2UgYmVjYXVzZSB0aGUgY3RvciBjYW4gYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb25cblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJtZXNzYWdlXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1lc3NhZ2U7IH0gfSk7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSAvLyBub2RlXG4gICAgICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDdXN0b21FcnJvcik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInN0YWNrXCIsIHsgdmFsdWU6IG5ldyBFcnJvcigpLnN0YWNrIHx8IFwiXCIgfSk7XG5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMpXG4gICAgICAgICAgICBtZXJnZSh0aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICBDdXN0b21FcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgdmFsdWU6IEN1c3RvbUVycm9yLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7IHJldHVybiBuYW1lOyB9LFxuICAgICAgICAgICAgc2V0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIC8vIGNvbmZpZ3VyYWJsZTogZmFsc2Ugd291bGQgYWNjdXJhdGVseSBwcmVzZXJ2ZSB0aGUgYmVoYXZpb3Igb2ZcbiAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYnV0IEknbSBndWVzc2luZyB0aGF0IHdhcyBub3QgaW50ZW50aW9uYWwuXG4gICAgICAgICAgICAvLyBGb3IgYW4gYWN0dWFsIGVycm9yIHN1YmNsYXNzLCB0aGlzIHByb3BlcnR5IHdvdWxkXG4gICAgICAgICAgICAvLyBiZSBjb25maWd1cmFibGUuXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHRvU3RyaW5nOiB7XG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7IHJldHVybiB0aGlzLm5hbWUgKyBcIjogXCIgKyB0aGlzLm1lc3NhZ2U7IH0sXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEN1c3RvbUVycm9yO1xufVxuXG51dGlsLm5ld0Vycm9yID0gbmV3RXJyb3I7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBwcm90b2NvbCBlcnJvci5cbiAqIEBjbGFzc2Rlc2MgRXJyb3Igc3ViY2xhc3MgaW5kaWNhdGluZyBhIHByb3RvY29sIHNwZWNpZmMgZXJyb3IuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQGV4dGVuZHMgRXJyb3JcbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBFcnJvciBtZXNzYWdlXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbcHJvcGVydGllc10gQWRkaXRpb25hbCBwcm9wZXJ0aWVzXG4gKiBAZXhhbXBsZVxuICogdHJ5IHtcbiAqICAgICBNeU1lc3NhZ2UuZGVjb2RlKHNvbWVCdWZmZXIpOyAvLyB0aHJvd3MgaWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gKiB9IGNhdGNoIChlKSB7XG4gKiAgICAgaWYgKGUgaW5zdGFuY2VvZiBQcm90b2NvbEVycm9yICYmIGUuaW5zdGFuY2UpXG4gKiAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVjb2RlZCBzbyBmYXI6IFwiICsgSlNPTi5zdHJpbmdpZnkoZS5pbnN0YW5jZSkpO1xuICogfVxuICovXG51dGlsLlByb3RvY29sRXJyb3IgPSBuZXdFcnJvcihcIlByb3RvY29sRXJyb3JcIik7XG5cbi8qKlxuICogU28gZmFyIGRlY29kZWQgbWVzc2FnZSBpbnN0YW5jZS5cbiAqIEBuYW1lIHV0aWwuUHJvdG9jb2xFcnJvciNpbnN0YW5jZVxuICogQHR5cGUge01lc3NhZ2U8VD59XG4gKi9cblxuLyoqXG4gKiBBIE9uZU9mIGdldHRlciBhcyByZXR1cm5lZCBieSB7QGxpbmsgdXRpbC5vbmVPZkdldHRlcn0uXG4gKiBAdHlwZWRlZiBPbmVPZkdldHRlclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFNldCBmaWVsZCBuYW1lLCBpZiBhbnlcbiAqL1xuXG4vKipcbiAqIEJ1aWxkcyBhIGdldHRlciBmb3IgYSBvbmVvZidzIHByZXNlbnQgZmllbGQgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGZpZWxkTmFtZXMgRmllbGQgbmFtZXNcbiAqIEByZXR1cm5zIHtPbmVPZkdldHRlcn0gVW5ib3VuZCBnZXR0ZXJcbiAqL1xudXRpbC5vbmVPZkdldHRlciA9IGZ1bmN0aW9uIGdldE9uZU9mKGZpZWxkTmFtZXMpIHtcbiAgICB2YXIgZmllbGRNYXAgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIGZpZWxkTWFwW2ZpZWxkTmFtZXNbaV1dID0gMTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBTZXQgZmllbGQgbmFtZSwgaWYgYW55XG4gICAgICogQHRoaXMgT2JqZWN0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbigpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcyksIGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPiAtMTsgLS1pKVxuICAgICAgICAgICAgaWYgKGZpZWxkTWFwW2tleXNbaV1dID09PSAxICYmIHRoaXNba2V5c1tpXV0gIT09IHVuZGVmaW5lZCAmJiB0aGlzW2tleXNbaV1dICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXlzW2ldO1xuICAgIH07XG59O1xuXG4vKipcbiAqIEEgT25lT2Ygc2V0dGVyIGFzIHJldHVybmVkIGJ5IHtAbGluayB1dGlsLm9uZU9mU2V0dGVyfS5cbiAqIEB0eXBlZGVmIE9uZU9mU2V0dGVyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHZhbHVlIEZpZWxkIG5hbWVcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxuLyoqXG4gKiBCdWlsZHMgYSBzZXR0ZXIgZm9yIGEgb25lb2YncyBwcmVzZW50IGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZTZXR0ZXJ9IFVuYm91bmQgc2V0dGVyXG4gKi9cbnV0aWwub25lT2ZTZXR0ZXIgPSBmdW5jdGlvbiBzZXRPbmVPZihmaWVsZE5hbWVzKSB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWVsZCBuYW1lXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAdGhpcyBPYmplY3RcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgaWYgKGZpZWxkTmFtZXNbaV0gIT09IG5hbWUpXG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbZmllbGROYW1lc1tpXV07XG4gICAgfTtcbn07XG5cbi8qKlxuICogRGVmYXVsdCBjb252ZXJzaW9uIG9wdGlvbnMgdXNlZCBmb3Ige0BsaW5rIE1lc3NhZ2UjdG9KU09OfSBpbXBsZW1lbnRhdGlvbnMuXG4gKlxuICogVGhlc2Ugb3B0aW9ucyBhcmUgY2xvc2UgdG8gcHJvdG8zJ3MgSlNPTiBtYXBwaW5nIHdpdGggdGhlIGV4Y2VwdGlvbiB0aGF0IGludGVybmFsIHR5cGVzIGxpa2UgQW55IGFyZSBoYW5kbGVkIGp1c3QgbGlrZSBtZXNzYWdlcy4gTW9yZSBwcmVjaXNlbHk6XG4gKlxuICogLSBMb25ncyBiZWNvbWUgc3RyaW5nc1xuICogLSBFbnVtcyBiZWNvbWUgc3RyaW5nIGtleXNcbiAqIC0gQnl0ZXMgYmVjb21lIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbiAqIC0gKFN1Yi0pTWVzc2FnZXMgYmVjb21lIHBsYWluIG9iamVjdHNcbiAqIC0gTWFwcyBiZWNvbWUgcGxhaW4gb2JqZWN0cyB3aXRoIGFsbCBzdHJpbmcga2V5c1xuICogLSBSZXBlYXRlZCBmaWVsZHMgYmVjb21lIGFycmF5c1xuICogLSBOYU4gYW5kIEluZmluaXR5IGZvciBmbG9hdCBhbmQgZG91YmxlIGZpZWxkcyBiZWNvbWUgc3RyaW5nc1xuICpcbiAqIEB0eXBlIHtJQ29udmVyc2lvbk9wdGlvbnN9XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzM/aGw9ZW4janNvblxuICovXG51dGlsLnRvSlNPTk9wdGlvbnMgPSB7XG4gICAgbG9uZ3M6IFN0cmluZyxcbiAgICBlbnVtczogU3RyaW5nLFxuICAgIGJ5dGVzOiBTdHJpbmcsXG4gICAganNvbjogdHJ1ZVxufTtcblxuLy8gU2V0cyB1cCBidWZmZXIgdXRpbGl0eSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50IChjYWxsZWQgaW4gaW5kZXgtbWluaW1hbClcbnV0aWwuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBCdWZmZXIgPSB1dGlsLkJ1ZmZlcjtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIUJ1ZmZlcikge1xuICAgICAgICB1dGlsLl9CdWZmZXJfZnJvbSA9IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZSA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYmVjYXVzZSBub2RlIDQueCBidWZmZXJzIGFyZSBpbmNvbXBhdGlibGUgJiBpbW11dGFibGVcbiAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kY29kZUlPL3Byb3RvYnVmLmpzL3B1bGwvNjY1XG4gICAgdXRpbC5fQnVmZmVyX2Zyb20gPSBCdWZmZXIuZnJvbSAhPT0gVWludDhBcnJheS5mcm9tICYmIEJ1ZmZlci5mcm9tIHx8XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZ1bmN0aW9uIEJ1ZmZlcl9mcm9tKHZhbHVlLCBlbmNvZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCdWZmZXIodmFsdWUsIGVuY29kaW5nKTtcbiAgICAgICAgfTtcbiAgICB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBCdWZmZXIuYWxsb2NVbnNhZmUgfHxcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZnVuY3Rpb24gQnVmZmVyX2FsbG9jVW5zYWZlKHNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKHNpemUpO1xuICAgICAgICB9O1xufTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gV3JpdGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyV3JpdGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgYmFzZTY0ICAgID0gdXRpbC5iYXNlNjQsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHdyaXRlciBvcGVyYXRpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgVWludDhBcnJheSwgbnVtYmVyKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHsqfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gT3AoZm4sIGxlbiwgdmFsKSB7XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBjYWxsLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihVaW50OEFycmF5LCBudW1iZXIsICopfVxuICAgICAqL1xuICAgIHRoaXMuZm4gPSBmbjtcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIGJ5dGUgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBsZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IG9wZXJhdGlvbi5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB0byB3cml0ZS5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnZhbCA9IHZhbDsgLy8gdHlwZSB2YXJpZXNcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgc3RhdGUgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIENvcGllZCB3cml0ZXIgc3RhdGUuXG4gKiBAbWVtYmVyb2YgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7V3JpdGVyfSB3cml0ZXIgV3JpdGVyIHRvIGNvcHkgc3RhdGUgZnJvbVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBTdGF0ZSh3cml0ZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGVhZC5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IHdyaXRlci5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0YWlsLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gd3JpdGVyLnRhaWw7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IHdyaXRlci5sZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IHN0YXRlLlxuICAgICAqIEB0eXBlIHtTdGF0ZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHdyaXRlci5zdGF0ZXM7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBXcml0ZXIoKSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gMDtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgaGVhZC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IG5ldyBPcChub29wLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgdGFpbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gdGhpcy5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogTGlua2VkIGZvcmtlZCBzdGF0ZXMuXG4gICAgICogQHR5cGUge09iamVjdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVzID0gbnVsbDtcblxuICAgIC8vIFdoZW4gYSB2YWx1ZSBpcyB3cml0dGVuLCB0aGUgd3JpdGVyIGNhbGN1bGF0ZXMgaXRzIGJ5dGUgbGVuZ3RoIGFuZCBwdXRzIGl0IGludG8gYSBsaW5rZWRcbiAgICAvLyBsaXN0IG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybSB3aGVuIGZpbmlzaCgpIGlzIGNhbGxlZC4gVGhpcyBib3RoIGFsbG93cyB1cyB0byBhbGxvY2F0ZVxuICAgIC8vIGJ1ZmZlcnMgb2YgdGhlIGV4YWN0IHJlcXVpcmVkIHNpemUgYW5kIHJlZHVjZXMgdGhlIGFtb3VudCBvZiB3b3JrIHdlIGhhdmUgdG8gZG8gY29tcGFyZWRcbiAgICAvLyB0byBmaXJzdCBjYWxjdWxhdGluZyBvdmVyIG9iamVjdHMgYW5kIHRoZW4gZW5jb2Rpbmcgb3ZlciBvYmplY3RzLiBJbiBvdXIgY2FzZSwgdGhlIGVuY29kaW5nXG4gICAgLy8gcGFydCBpcyBqdXN0IGEgbGlua2VkIGxpc3Qgd2FsayBjYWxsaW5nIG9wZXJhdGlvbnMgd2l0aCBhbHJlYWR5IHByZXBhcmVkIHZhbHVlcy5cbn1cblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKCkge1xuICAgICAgICAgICAgcmV0dXJuIChXcml0ZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcldyaXRlcigpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV3JpdGVyKCk7XG4gICAgICAgIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgd3JpdGVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyV3JpdGVyfFdyaXRlcn0gQSB7QGxpbmsgQnVmZmVyV3JpdGVyfSB3aGVuIEJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCwgb3RoZXJ3aXNlIGEge0BsaW5rIFdyaXRlcn1cbiAqL1xuV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG4vKipcbiAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlclxuICovXG5Xcml0ZXIuYWxsb2MgPSBmdW5jdGlvbiBhbGxvYyhzaXplKSB7XG4gICAgcmV0dXJuIG5ldyB1dGlsLkFycmF5KHNpemUpO1xufTtcblxuLy8gVXNlIFVpbnQ4QXJyYXkgYnVmZmVyIHBvb2wgaW4gdGhlIGJyb3dzZXIsIGp1c3QgbGlrZSBub2RlIGRvZXMgd2l0aCBidWZmZXJzXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHV0aWwuQXJyYXkgIT09IEFycmF5KVxuICAgIFdyaXRlci5hbGxvYyA9IHV0aWwucG9vbChXcml0ZXIuYWxsb2MsIHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KTtcblxuLyoqXG4gKiBQdXNoZXMgYSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVWludDhBcnJheSwgbnVtYmVyLCAqKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAcHJpdmF0ZVxuICovXG5Xcml0ZXIucHJvdG90eXBlLl9wdXNoID0gZnVuY3Rpb24gcHVzaChmbiwgbGVuLCB2YWwpIHtcbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBPcChmbiwgbGVuLCB2YWwpO1xuICAgIHRoaXMubGVuICs9IGxlbjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQnl0ZSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWwgJiAyNTU7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50MzIodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwgPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbCAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsID4+Pj0gNztcbiAgICB9XG4gICAgYnVmW3Bvc10gPSB2YWw7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB2YXJpbnQgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHZhcmludCB3cml0ZXIgb3BlcmF0aW9uLlxuICogQGV4dGVuZHMgT3BcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBWYXJpbnRPcChsZW4sIHZhbCkge1xuICAgIHRoaXMubGVuID0gbGVuO1xuICAgIHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbn1cblxuVmFyaW50T3AucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPcC5wcm90b3R5cGUpO1xuVmFyaW50T3AucHJvdG90eXBlLmZuID0gd3JpdGVWYXJpbnQzMjtcblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50MzIgPSBmdW5jdGlvbiB3cml0ZV91aW50MzIodmFsdWUpIHtcbiAgICAvLyBoZXJlLCB0aGUgY2FsbCB0byB0aGlzLnB1c2ggaGFzIGJlZW4gaW5saW5lZCBhbmQgYSB2YXJpbnQgc3BlY2lmaWMgT3Agc3ViY2xhc3MgaXMgdXNlZC5cbiAgICAvLyB1aW50MzIgaXMgYnkgZmFyIHRoZSBtb3N0IGZyZXF1ZW50bHkgdXNlZCBvcGVyYXRpb24gYW5kIGJlbmVmaXRzIHNpZ25pZmljYW50bHkgZnJvbSB0aGlzLlxuICAgIHRoaXMubGVuICs9ICh0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBWYXJpbnRPcChcbiAgICAgICAgKHZhbHVlID0gdmFsdWUgPj4+IDApXG4gICAgICAgICAgICAgICAgPCAxMjggICAgICAgPyAxXG4gICAgICAgIDogdmFsdWUgPCAxNjM4NCAgICAgPyAyXG4gICAgICAgIDogdmFsdWUgPCAyMDk3MTUyICAgPyAzXG4gICAgICAgIDogdmFsdWUgPCAyNjg0MzU0NTYgPyA0XG4gICAgICAgIDogICAgICAgICAgICAgICAgICAgICA1LFxuICAgIHZhbHVlKSkubGVuO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gd3JpdGVfaW50MzIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPCAwXG4gICAgICAgID8gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCAxMCwgTG9uZ0JpdHMuZnJvbU51bWJlcih2YWx1ZSkpIC8vIDEwIGJ5dGVzIHBlciBzcGVjXG4gICAgICAgIDogdGhpcy51aW50MzIodmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gd3JpdGVfc2ludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCh2YWx1ZSA8PCAxIF4gdmFsdWUgPj4gMzEpID4+PiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50NjQodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwuaGkpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gKHZhbC5sbyA+Pj4gNyB8IHZhbC5oaSA8PCAyNSkgPj4+IDA7XG4gICAgICAgIHZhbC5oaSA+Pj49IDc7XG4gICAgfVxuICAgIHdoaWxlICh2YWwubG8gPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gdmFsLmxvID4+PiA3O1xuICAgIH1cbiAgICBidWZbcG9zKytdID0gdmFsLmxvO1xufVxuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50NjQgPSBmdW5jdGlvbiB3cml0ZV91aW50NjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIGJpdHMubGVuZ3RoKCksIGJpdHMpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5pbnQ2NCA9IFdyaXRlci5wcm90b3R5cGUudWludDY0O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNpbnQ2NCA9IGZ1bmN0aW9uIHdyaXRlX3NpbnQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSkuenpFbmNvZGUoKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCBiaXRzLmxlbmd0aCgpLCBiaXRzKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgYm9vbGlzaCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiB3cml0ZV9ib29sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCB2YWx1ZSA/IDEgOiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlRml4ZWQzMih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDggICAmIDI1NTtcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiAxNiAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XG59XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBmaXhlZCAzMiBiaXRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gd3JpdGVfZml4ZWQzMih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgdmFsdWUgPj4+IDApO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGZpeGVkIDMyIGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ZpeGVkMzIgPSBXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZml4ZWQ2NCA9IGZ1bmN0aW9uIHdyaXRlX2ZpeGVkNjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgYml0cy5sbykuX3B1c2god3JpdGVGaXhlZDMyLCA0LCBiaXRzLmhpKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zZml4ZWQ2NCA9IFdyaXRlci5wcm90b3R5cGUuZml4ZWQ2NDtcblxuLyoqXG4gKiBXcml0ZXMgYSBmbG9hdCAoMzIgYml0KS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHdyaXRlX2Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2godXRpbC5mbG9hdC53cml0ZUZsb2F0TEUsIDQsIHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmRvdWJsZSA9IGZ1bmN0aW9uIHdyaXRlX2RvdWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHV0aWwuZmxvYXQud3JpdGVEb3VibGVMRSwgOCwgdmFsdWUpO1xufTtcblxudmFyIHdyaXRlQnl0ZXMgPSB1dGlsLkFycmF5LnByb3RvdHlwZS5zZXRcbiAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgYnVmLnNldCh2YWwsIHBvcyk7IC8vIGFsc28gd29ya3MgZm9yIHBsYWluIGFycmF5IHZhbHVlc1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gd3JpdGVCeXRlc19mb3IodmFsLCBidWYsIHBvcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGJ1Zltwb3MgKyBpXSA9IHZhbFtpXTtcbiAgICB9O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNlcXVlbmNlIG9mIGJ5dGVzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fHN0cmluZ30gdmFsdWUgQnVmZmVyIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlcyh2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgaWYgKCFsZW4pXG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgMCk7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhciBidWYgPSBXcml0ZXIuYWxsb2MobGVuID0gYmFzZTY0Lmxlbmd0aCh2YWx1ZSkpO1xuICAgICAgICBiYXNlNjQuZGVjb2RlKHZhbHVlLCBidWYsIDApO1xuICAgICAgICB2YWx1ZSA9IGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDMyKGxlbikuX3B1c2god3JpdGVCeXRlcywgbGVuLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gd3JpdGVfc3RyaW5nKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICByZXR1cm4gbGVuXG4gICAgICAgID8gdGhpcy51aW50MzIobGVuKS5fcHVzaCh1dGY4LndyaXRlLCBsZW4sIHZhbHVlKVxuICAgICAgICA6IHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCAwKTtcbn07XG5cbi8qKlxuICogRm9ya3MgdGhpcyB3cml0ZXIncyBzdGF0ZSBieSBwdXNoaW5nIGl0IHRvIGEgc3RhY2suXG4gKiBDYWxsaW5nIHtAbGluayBXcml0ZXIjcmVzZXR8cmVzZXR9IG9yIHtAbGluayBXcml0ZXIjbGRlbGltfGxkZWxpbX0gcmVzZXRzIHRoZSB3cml0ZXIgdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZm9yayA9IGZ1bmN0aW9uIGZvcmsoKSB7XG4gICAgdGhpcy5zdGF0ZXMgPSBuZXcgU3RhdGUodGhpcyk7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuICAgIHRoaXMubGVuID0gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgaW5zdGFuY2UgdG8gdGhlIGxhc3Qgc3RhdGUuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlcykge1xuICAgICAgICB0aGlzLmhlYWQgICA9IHRoaXMuc3RhdGVzLmhlYWQ7XG4gICAgICAgIHRoaXMudGFpbCAgID0gdGhpcy5zdGF0ZXMudGFpbDtcbiAgICAgICAgdGhpcy5sZW4gICAgPSB0aGlzLnN0YXRlcy5sZW47XG4gICAgICAgIHRoaXMuc3RhdGVzID0gdGhpcy5zdGF0ZXMubmV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG4gICAgICAgIHRoaXMubGVuICA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdG8gdGhlIGxhc3Qgc3RhdGUgYW5kIGFwcGVuZHMgdGhlIGZvcmsgc3RhdGUncyBjdXJyZW50IHdyaXRlIGxlbmd0aCBhcyBhIHZhcmludCBmb2xsb3dlZCBieSBpdHMgb3BlcmF0aW9ucy5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmxkZWxpbSA9IGZ1bmN0aW9uIGxkZWxpbSgpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZCxcbiAgICAgICAgdGFpbCA9IHRoaXMudGFpbCxcbiAgICAgICAgbGVuICA9IHRoaXMubGVuO1xuICAgIHRoaXMucmVzZXQoKS51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKSB7XG4gICAgICAgIHRoaXMudGFpbC5uZXh0ID0gaGVhZC5uZXh0OyAvLyBza2lwIG5vb3BcbiAgICAgICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICAgICAgdGhpcy5sZW4gKz0gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQubmV4dCwgLy8gc2tpcCBub29wXG4gICAgICAgIGJ1ZiAgPSB0aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxcbiAgICAgICAgcG9zICA9IDA7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgICAgaGVhZC5mbihoZWFkLnZhbCwgYnVmLCBwb3MpO1xuICAgICAgICBwb3MgKz0gaGVhZC5sZW47XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIC8vIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgcmV0dXJuIGJ1Zjtcbn07XG5cbldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24oQnVmZmVyV3JpdGVyXykge1xuICAgIEJ1ZmZlcldyaXRlciA9IEJ1ZmZlcldyaXRlcl87XG4gICAgV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgIEJ1ZmZlcldyaXRlci5fY29uZmlndXJlKCk7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXJXcml0ZXI7XG5cbi8vIGV4dGVuZHMgV3JpdGVyXG52YXIgV3JpdGVyID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpO1xuKEJ1ZmZlcldyaXRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdyaXRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEJ1ZmZlcldyaXRlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBidWZmZXIgd3JpdGVyIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCB3cml0ZXIgdXNpbmcgbm9kZSBidWZmZXJzLlxuICogQGV4dGVuZHMgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQnVmZmVyV3JpdGVyKCkge1xuICAgIFdyaXRlci5jYWxsKHRoaXMpO1xufVxuXG5CdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBBbGxvY2F0ZXMgYSBidWZmZXIgb2YgdGhlIHNwZWNpZmllZCBzaXplLlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gQnVmZmVyXG4gICAgICovXG4gICAgQnVmZmVyV3JpdGVyLmFsbG9jID0gdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlO1xuXG4gICAgQnVmZmVyV3JpdGVyLndyaXRlQnl0ZXNCdWZmZXIgPSB1dGlsLkJ1ZmZlciAmJiB1dGlsLkJ1ZmZlci5wcm90b3R5cGUgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIHV0aWwuQnVmZmVyLnByb3RvdHlwZS5zZXQubmFtZSA9PT0gXCJzZXRcIlxuICAgICAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNCdWZmZXJfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgICBidWYuc2V0KHZhbCwgcG9zKTsgLy8gZmFzdGVyIHRoYW4gY29weSAocmVxdWlyZXMgbm9kZSA+PSA0IHdoZXJlIEJ1ZmZlcnMgZXh0ZW5kIFVpbnQ4QXJyYXkgYW5kIHNldCBpcyBwcm9wZXJseSBpbmhlcml0ZWQpXG4gICAgICAgICAgLy8gYWxzbyB3b3JrcyBmb3IgcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgOiBmdW5jdGlvbiB3cml0ZUJ5dGVzQnVmZmVyX2NvcHkodmFsLCBidWYsIHBvcykge1xuICAgICAgICAgIGlmICh2YWwuY29weSkgLy8gQnVmZmVyIHZhbHVlc1xuICAgICAgICAgICAgdmFsLmNvcHkoYnVmLCBwb3MsIDAsIHZhbC5sZW5ndGgpO1xuICAgICAgICAgIGVsc2UgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOykgLy8gcGxhaW4gYXJyYXkgdmFsdWVzXG4gICAgICAgICAgICBidWZbcG9zKytdID0gdmFsW2krK107XG4gICAgICAgIH07XG59O1xuXG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkJ1ZmZlcldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlc19idWZmZXIodmFsdWUpIHtcbiAgICBpZiAodXRpbC5pc1N0cmluZyh2YWx1ZSkpXG4gICAgICAgIHZhbHVlID0gdXRpbC5fQnVmZmVyX2Zyb20odmFsdWUsIFwiYmFzZTY0XCIpO1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgdGhpcy51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKVxuICAgICAgICB0aGlzLl9wdXNoKEJ1ZmZlcldyaXRlci53cml0ZUJ5dGVzQnVmZmVyLCBsZW4sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlU3RyaW5nQnVmZmVyKHZhbCwgYnVmLCBwb3MpIHtcbiAgICBpZiAodmFsLmxlbmd0aCA8IDQwKSAvLyBwbGFpbiBqcyBpcyBmYXN0ZXIgZm9yIHNob3J0IHN0cmluZ3MgKHByb2JhYmx5IGR1ZSB0byByZWR1bmRhbnQgYXNzZXJ0aW9ucylcbiAgICAgICAgdXRpbC51dGY4LndyaXRlKHZhbCwgYnVmLCBwb3MpO1xuICAgIGVsc2UgaWYgKGJ1Zi51dGY4V3JpdGUpXG4gICAgICAgIGJ1Zi51dGY4V3JpdGUodmFsLCBwb3MpO1xuICAgIGVsc2VcbiAgICAgICAgYnVmLndyaXRlKHZhbCwgcG9zKTtcbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyV3JpdGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiB3cml0ZV9zdHJpbmdfYnVmZmVyKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0aWwuQnVmZmVyLmJ5dGVMZW5ndGgodmFsdWUpO1xuICAgIHRoaXMudWludDMyKGxlbik7XG4gICAgaWYgKGxlbilcbiAgICAgICAgdGhpcy5fcHVzaCh3cml0ZVN0cmluZ0J1ZmZlciwgbGVuLCB2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEBuYW1lIEJ1ZmZlcldyaXRlciNmaW5pc2hcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0J1ZmZlcn0gRmluaXNoZWQgYnVmZmVyXG4gKi9cblxuQnVmZmVyV3JpdGVyLl9jb25maWd1cmUoKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gUmVhZGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyUmVhZGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gaW5kZXhPdXRPZlJhbmdlKHJlYWRlciwgd3JpdGVMZW5ndGgpIHtcbiAgICByZXR1cm4gUmFuZ2VFcnJvcihcImluZGV4IG91dCBvZiByYW5nZTogXCIgKyByZWFkZXIucG9zICsgXCIgKyBcIiArICh3cml0ZUxlbmd0aCB8fCAxKSArIFwiID4gXCIgKyByZWFkZXIubGVuKTtcbn1cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHJlYWRlciBpbnN0YW5jZSB1c2luZyB0aGUgc3BlY2lmaWVkIGJ1ZmZlci5cbiAqIEBjbGFzc2Rlc2MgV2lyZSBmb3JtYXQgcmVhZGVyIHVzaW5nIGBVaW50OEFycmF5YCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBgQXJyYXlgLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKi9cbmZ1bmN0aW9uIFJlYWRlcihidWZmZXIpIHtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyLlxuICAgICAqIEB0eXBlIHtVaW50OEFycmF5fVxuICAgICAqL1xuICAgIHRoaXMuYnVmID0gYnVmZmVyO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIgcG9zaXRpb24uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnBvcyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IGJ1ZmZlci5sZW5ndGg7XG59XG5cbnZhciBjcmVhdGVfYXJyYXkgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIlxuICAgID8gZnVuY3Rpb24gY3JlYXRlX3R5cGVkX2FycmF5KGJ1ZmZlcikge1xuICAgICAgICBpZiAoYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBBcnJheS5pc0FycmF5KGJ1ZmZlcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlYWRlcihidWZmZXIpO1xuICAgICAgICB0aHJvdyBFcnJvcihcImlsbGVnYWwgYnVmZmVyXCIpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gY3JlYXRlX2FycmF5KGJ1ZmZlcikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShidWZmZXIpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKTtcbiAgICB9O1xuXG52YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHJldHVybiB1dGlsLkJ1ZmZlclxuICAgICAgICA/IGZ1bmN0aW9uIGNyZWF0ZV9idWZmZXJfc2V0dXAoYnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWRlci5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlsLkJ1ZmZlci5pc0J1ZmZlcihidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IEJ1ZmZlclJlYWRlcihidWZmZXIpXG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgICAgIDogY3JlYXRlX2FycmF5KGJ1ZmZlcik7XG4gICAgICAgICAgICB9KShidWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogY3JlYXRlX2FycmF5O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJlYWRlciB1c2luZyB0aGUgc3BlY2lmaWVkIGJ1ZmZlci5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtVaW50OEFycmF5fEJ1ZmZlcn0gYnVmZmVyIEJ1ZmZlciB0byByZWFkIGZyb21cbiAqIEByZXR1cm5zIHtSZWFkZXJ8QnVmZmVyUmVhZGVyfSBBIHtAbGluayBCdWZmZXJSZWFkZXJ9IGlmIGBidWZmZXJgIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgYSB7QGxpbmsgUmVhZGVyfVxuICogQHRocm93cyB7RXJyb3J9IElmIGBidWZmZXJgIGlzIG5vdCBhIHZhbGlkIGJ1ZmZlclxuICovXG5SZWFkZXIuY3JlYXRlID0gY3JlYXRlKCk7XG5cblJlYWRlci5wcm90b3R5cGUuX3NsaWNlID0gdXRpbC5BcnJheS5wcm90b3R5cGUuc3ViYXJyYXkgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5BcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUudWludDMyID0gKGZ1bmN0aW9uIHJlYWRfdWludDMyX3NldHVwKCkge1xuICAgIHZhciB2YWx1ZSA9IDQyOTQ5NjcyOTU7IC8vIG9wdGltaXplciB0eXBlLWhpbnQsIHRlbmRzIHRvIGRlb3B0IG90aGVyd2lzZSAoPyEpXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlYWRfdWludDMyKCkge1xuICAgICAgICB2YWx1ZSA9ICggICAgICAgICB0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcgICAgICAgKSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgIDcpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAxNCkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IDIxKSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmICAxNSkgPDwgMjgpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCh0aGlzLnBvcyArPSA1KSA+IHRoaXMubGVuKSB7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHRoaXMubGVuO1xuICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbn0pKCk7XG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYSBzaWduZWQgMzIgYml0IHZhbHVlLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gcmVhZF9pbnQzMigpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKSB8IDA7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgemlnLXphZyBlbmNvZGVkIHZhcmludCBhcyBhIHNpZ25lZCAzMiBiaXQgdmFsdWUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gcmVhZF9zaW50MzIoKSB7XG4gICAgdmFyIHZhbHVlID0gdGhpcy51aW50MzIoKTtcbiAgICByZXR1cm4gdmFsdWUgPj4+IDEgXiAtKHZhbHVlICYgMSkgfCAwO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8taW52YWxpZC10aGlzICovXG5cbmZ1bmN0aW9uIHJlYWRMb25nVmFyaW50KCkge1xuICAgIC8vIHRlbmRzIHRvIGRlb3B0IHdpdGggbG9jYWwgdmFycyBmb3Igb2N0ZXQgZXRjLlxuICAgIHZhciBiaXRzID0gbmV3IExvbmdCaXRzKDAsIDApO1xuICAgIHZhciBpID0gMDtcbiAgICBpZiAodGhpcy5sZW4gLSB0aGlzLnBvcyA+IDQpIHsgLy8gZmFzdCByb3V0ZSAobG8pXG4gICAgICAgIGZvciAoOyBpIDwgNDsgKytpKSB7XG4gICAgICAgICAgICAvLyAxc3QuLjR0aFxuICAgICAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDV0aFxuICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAyOCkgPj4+IDA7XG4gICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpID4+ICA0KSA+Pj4gMDtcbiAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIGkgPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoOyBpIDwgMzsgKytpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgICAgICAvLyAxc3QuLjN0aFxuICAgICAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIC8vIDR0aFxuICAgICAgICBiaXRzLmxvID0gKGJpdHMubG8gfCAodGhpcy5idWZbdGhpcy5wb3MrK10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgfVxuICAgIGlmICh0aGlzLmxlbiAtIHRoaXMucG9zID4gNCkgeyAvLyBmYXN0IHJvdXRlIChoaSlcbiAgICAgICAgZm9yICg7IGkgPCA1OyArK2kpIHtcbiAgICAgICAgICAgIC8vIDZ0aC4uMTB0aFxuICAgICAgICAgICAgYml0cy5oaSA9IChiaXRzLmhpIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgaSAqIDcgKyAzKSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoOyBpIDwgNTsgKytpKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgICAgICAvLyA2dGguLjEwdGhcbiAgICAgICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3ICsgMykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBFcnJvcihcImludmFsaWQgdmFyaW50IGVuY29kaW5nXCIpO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciNpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB2YXJpbnQgYXMgYW4gdW5zaWduZWQgNjQgYml0IHZhbHVlLlxuICogQG5hbWUgUmVhZGVyI3VpbnQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgYSB6aWctemFnIGVuY29kZWQgdmFyaW50IGFzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciNzaW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgYm9vbGVhbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuYm9vbCA9IGZ1bmN0aW9uIHJlYWRfYm9vbCgpIHtcbiAgICByZXR1cm4gdGhpcy51aW50MzIoKSAhPT0gMDtcbn07XG5cbmZ1bmN0aW9uIHJlYWRGaXhlZDMyX2VuZChidWYsIGVuZCkgeyAvLyBub3RlIHRoYXQgdGhpcyB1c2VzIGBlbmRgLCBub3QgYHBvc2BcbiAgICByZXR1cm4gKGJ1ZltlbmQgLSA0XVxuICAgICAgICAgIHwgYnVmW2VuZCAtIDNdIDw8IDhcbiAgICAgICAgICB8IGJ1ZltlbmQgLSAyXSA8PCAxNlxuICAgICAgICAgIHwgYnVmW2VuZCAtIDFdIDw8IDI0KSA+Pj4gMDtcbn1cblxuLyoqXG4gKiBSZWFkcyBmaXhlZCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmZpeGVkMzIgPSBmdW5jdGlvbiByZWFkX2ZpeGVkMzIoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHJldHVybiByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpO1xufTtcblxuLyoqXG4gKiBSZWFkcyBmaXhlZCAzMiBiaXRzIGFzIGEgc2lnbmVkIDMyIGJpdCBpbnRlZ2VyLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNmaXhlZDMyID0gZnVuY3Rpb24gcmVhZF9zZml4ZWQzMigpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDQgPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgcmV0dXJuIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCkgfCAwO1xufTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8taW52YWxpZC10aGlzICovXG5cbmZ1bmN0aW9uIHJlYWRGaXhlZDY0KC8qIHRoaXM6IFJlYWRlciAqLykge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgOCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgOCk7XG5cbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCksIHJlYWRGaXhlZDMyX2VuZCh0aGlzLmJ1ZiwgdGhpcy5wb3MgKz0gNCkpO1xufVxuXG4vKiBlc2xpbnQtZW5hYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG4vKipcbiAqIFJlYWRzIGZpeGVkIDY0IGJpdHMuXG4gKiBAbmFtZSBSZWFkZXIjZml4ZWQ2NFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7TG9uZ30gVmFsdWUgcmVhZFxuICovXG5cbi8qKlxuICogUmVhZHMgemlnLXphZyBlbmNvZGVkIGZpeGVkIDY0IGJpdHMuXG4gKiBAbmFtZSBSZWFkZXIjc2ZpeGVkNjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgZmxvYXQgKDMyIGJpdCkgYXMgYSBudW1iZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHJlYWRfZmxvYXQoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHZhciB2YWx1ZSA9IHV0aWwuZmxvYXQucmVhZEZsb2F0TEUodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICB0aGlzLnBvcyArPSA0O1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBkb3VibGUgKDY0IGJpdCBmbG9hdCkgYXMgYSBudW1iZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5kb3VibGUgPSBmdW5jdGlvbiByZWFkX2RvdWJsZSgpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDggPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDQpO1xuXG4gICAgdmFyIHZhbHVlID0gdXRpbC5mbG9hdC5yZWFkRG91YmxlTEUodGhpcy5idWYsIHRoaXMucG9zKTtcbiAgICB0aGlzLnBvcyArPSA4O1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBzZXF1ZW5jZSBvZiBieXRlcyBwcmVjZWVkZWQgYnkgaXRzIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiByZWFkX2J5dGVzKCkge1xuICAgIHZhciBsZW5ndGggPSB0aGlzLnVpbnQzMigpLFxuICAgICAgICBzdGFydCAgPSB0aGlzLnBvcyxcbiAgICAgICAgZW5kICAgID0gdGhpcy5wb3MgKyBsZW5ndGg7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZW5kID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCBsZW5ndGgpO1xuXG4gICAgdGhpcy5wb3MgKz0gbGVuZ3RoO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuYnVmKSkgLy8gcGxhaW4gYXJyYXlcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnNsaWNlKHN0YXJ0LCBlbmQpO1xuXG4gICAgaWYgKHN0YXJ0ID09PSBlbmQpIHsgLy8gZml4IGZvciBJRSAxMC9XaW44IGFuZCBvdGhlcnMnIHN1YmFycmF5IHJldHVybmluZyBhcnJheSBvZiBzaXplIDFcbiAgICAgICAgdmFyIG5hdGl2ZUJ1ZmZlciA9IHV0aWwuQnVmZmVyO1xuICAgICAgICByZXR1cm4gbmF0aXZlQnVmZmVyXG4gICAgICAgICAgICA/IG5hdGl2ZUJ1ZmZlci5hbGxvYygwKVxuICAgICAgICAgICAgOiBuZXcgdGhpcy5idWYuY29uc3RydWN0b3IoMCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zbGljZS5jYWxsKHRoaXMuYnVmLCBzdGFydCwgZW5kKTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBzdHJpbmcgcHJlY2VlZGVkIGJ5IGl0cyBieXRlIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5zdHJpbmcgPSBmdW5jdGlvbiByZWFkX3N0cmluZygpIHtcbiAgICB2YXIgYnl0ZXMgPSB0aGlzLmJ5dGVzKCk7XG4gICAgcmV0dXJuIHV0ZjgucmVhZChieXRlcywgMCwgYnl0ZXMubGVuZ3RoKTtcbn07XG5cbi8qKlxuICogU2tpcHMgdGhlIHNwZWNpZmllZCBudW1iZXIgb2YgYnl0ZXMgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugc2tpcHMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTGVuZ3RoIGlmIGtub3duLCBvdGhlcndpc2UgYSB2YXJpbnQgaXMgYXNzdW1lZFxuICogQHJldHVybnMge1JlYWRlcn0gYHRoaXNgXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2tpcCA9IGZ1bmN0aW9uIHNraXAobGVuZ3RoKSB7XG4gICAgaWYgKHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0aGlzLnBvcyArIGxlbmd0aCA+IHRoaXMubGVuKVxuICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIGxlbmd0aCk7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnBvcyA+PSB0aGlzLmxlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcyk7XG4gICAgICAgIH0gd2hpbGUgKHRoaXMuYnVmW3RoaXMucG9zKytdICYgMTI4KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNraXBzIHRoZSBuZXh0IGVsZW1lbnQgb2YgdGhlIHNwZWNpZmllZCB3aXJlIHR5cGUuXG4gKiBAcGFyYW0ge251bWJlcn0gd2lyZVR5cGUgV2lyZSB0eXBlIHJlY2VpdmVkXG4gKiBAcmV0dXJucyB7UmVhZGVyfSBgdGhpc2BcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5za2lwVHlwZSA9IGZ1bmN0aW9uKHdpcmVUeXBlKSB7XG4gICAgc3dpdGNoICh3aXJlVHlwZSkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICB0aGlzLnNraXAoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICB0aGlzLnNraXAoOCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgdGhpcy5za2lwKHRoaXMudWludDMyKCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHdoaWxlICgod2lyZVR5cGUgPSB0aGlzLnVpbnQzMigpICYgNykgIT09IDQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNraXBUeXBlKHdpcmVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICB0aGlzLnNraXAoNCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHdpcmUgdHlwZSBcIiArIHdpcmVUeXBlICsgXCIgYXQgb2Zmc2V0IFwiICsgdGhpcy5wb3MpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cblJlYWRlci5fY29uZmlndXJlID0gZnVuY3Rpb24oQnVmZmVyUmVhZGVyXykge1xuICAgIEJ1ZmZlclJlYWRlciA9IEJ1ZmZlclJlYWRlcl87XG4gICAgUmVhZGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgIEJ1ZmZlclJlYWRlci5fY29uZmlndXJlKCk7XG5cbiAgICB2YXIgZm4gPSB1dGlsLkxvbmcgPyBcInRvTG9uZ1wiIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gXCJ0b051bWJlclwiO1xuICAgIHV0aWwubWVyZ2UoUmVhZGVyLnByb3RvdHlwZSwge1xuXG4gICAgICAgIGludDY0OiBmdW5jdGlvbiByZWFkX2ludDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRMb25nVmFyaW50LmNhbGwodGhpcylbZm5dKGZhbHNlKTtcbiAgICAgICAgfSxcblxuICAgICAgICB1aW50NjQ6IGZ1bmN0aW9uIHJlYWRfdWludDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRMb25nVmFyaW50LmNhbGwodGhpcylbZm5dKHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNpbnQ2NDogZnVuY3Rpb24gcmVhZF9zaW50NjQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVhZExvbmdWYXJpbnQuY2FsbCh0aGlzKS56ekRlY29kZSgpW2ZuXShmYWxzZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgZml4ZWQ2NDogZnVuY3Rpb24gcmVhZF9maXhlZDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRGaXhlZDY0LmNhbGwodGhpcylbZm5dKHRydWUpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNmaXhlZDY0OiBmdW5jdGlvbiByZWFkX3NmaXhlZDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRGaXhlZDY0LmNhbGwodGhpcylbZm5dKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG59O1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXJSZWFkZXI7XG5cbi8vIGV4dGVuZHMgUmVhZGVyXG52YXIgUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xuKEJ1ZmZlclJlYWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlYWRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEJ1ZmZlclJlYWRlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBidWZmZXIgcmVhZGVyIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCByZWFkZXIgdXNpbmcgbm9kZSBidWZmZXJzLlxuICogQGV4dGVuZHMgUmVhZGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgQnVmZmVyIHRvIHJlYWQgZnJvbVxuICovXG5mdW5jdGlvbiBCdWZmZXJSZWFkZXIoYnVmZmVyKSB7XG4gICAgUmVhZGVyLmNhbGwodGhpcywgYnVmZmVyKTtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyLlxuICAgICAqIEBuYW1lIEJ1ZmZlclJlYWRlciNidWZcbiAgICAgKiBAdHlwZSB7QnVmZmVyfVxuICAgICAqL1xufVxuXG5CdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICh1dGlsLkJ1ZmZlcilcbiAgICAgICAgQnVmZmVyUmVhZGVyLnByb3RvdHlwZS5fc2xpY2UgPSB1dGlsLkJ1ZmZlci5wcm90b3R5cGUuc2xpY2U7XG59O1xuXG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkJ1ZmZlclJlYWRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gcmVhZF9zdHJpbmdfYnVmZmVyKCkge1xuICAgIHZhciBsZW4gPSB0aGlzLnVpbnQzMigpOyAvLyBtb2RpZmllcyBwb3NcbiAgICByZXR1cm4gdGhpcy5idWYudXRmOFNsaWNlXG4gICAgICAgID8gdGhpcy5idWYudXRmOFNsaWNlKHRoaXMucG9zLCB0aGlzLnBvcyA9IE1hdGgubWluKHRoaXMucG9zICsgbGVuLCB0aGlzLmxlbikpXG4gICAgICAgIDogdGhpcy5idWYudG9TdHJpbmcoXCJ1dGYtOFwiLCB0aGlzLnBvcywgdGhpcy5wb3MgPSBNYXRoLm1pbih0aGlzLnBvcyArIGxlbiwgdGhpcy5sZW4pKTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBzZXF1ZW5jZSBvZiBieXRlcyBwcmVjZWVkZWQgYnkgaXRzIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEBuYW1lIEJ1ZmZlclJlYWRlciNieXRlc1xuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBWYWx1ZSByZWFkXG4gKi9cblxuQnVmZmVyUmVhZGVyLl9jb25maWd1cmUoKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gU2VydmljZTtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vLyBFeHRlbmRzIEV2ZW50RW1pdHRlclxuKFNlcnZpY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh1dGlsLkV2ZW50RW1pdHRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IFNlcnZpY2U7XG5cbi8qKlxuICogQSBzZXJ2aWNlIG1ldGhvZCBjYWxsYmFjayBhcyB1c2VkIGJ5IHtAbGluayBycGMuU2VydmljZU1ldGhvZHxTZXJ2aWNlTWV0aG9kfS5cbiAqXG4gKiBEaWZmZXJzIGZyb20ge0BsaW5rIFJQQ0ltcGxDYWxsYmFja30gaW4gdGhhdCBpdCBpcyBhbiBhY3R1YWwgY2FsbGJhY2sgb2YgYSBzZXJ2aWNlIG1ldGhvZCB3aGljaCBtYXkgbm90IHJldHVybiBgcmVzcG9uc2UgPSBudWxsYC5cbiAqIEB0eXBlZGVmIHJwYy5TZXJ2aWNlTWV0aG9kQ2FsbGJhY2tcbiAqIEB0ZW1wbGF0ZSBUUmVzIGV4dGVuZHMgTWVzc2FnZTxUUmVzPlxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55XG4gKiBAcGFyYW0ge1RSZXN9IFtyZXNwb25zZV0gUmVzcG9uc2UgbWVzc2FnZVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG4vKipcbiAqIEEgc2VydmljZSBtZXRob2QgcGFydCBvZiBhIHtAbGluayBycGMuU2VydmljZX0gYXMgY3JlYXRlZCBieSB7QGxpbmsgU2VydmljZS5jcmVhdGV9LlxuICogQHR5cGVkZWYgcnBjLlNlcnZpY2VNZXRob2RcbiAqIEB0ZW1wbGF0ZSBUUmVxIGV4dGVuZHMgTWVzc2FnZTxUUmVxPlxuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge1RSZXF8UHJvcGVydGllczxUUmVxPn0gcmVxdWVzdCBSZXF1ZXN0IG1lc3NhZ2Ugb3IgcGxhaW4gb2JqZWN0XG4gKiBAcGFyYW0ge3JwYy5TZXJ2aWNlTWV0aG9kQ2FsbGJhY2s8VFJlcz59IFtjYWxsYmFja10gTm9kZS1zdHlsZSBjYWxsYmFjayBjYWxsZWQgd2l0aCB0aGUgZXJyb3IsIGlmIGFueSwgYW5kIHRoZSByZXNwb25zZSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxNZXNzYWdlPFRSZXM+Pn0gUHJvbWlzZSBpZiBgY2FsbGJhY2tgIGhhcyBiZWVuIG9taXR0ZWQsIG90aGVyd2lzZSBgdW5kZWZpbmVkYFxuICovXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBSUEMgc2VydmljZSBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgQW4gUlBDIHNlcnZpY2UgYXMgcmV0dXJuZWQgYnkge0BsaW5rIFNlcnZpY2UjY3JlYXRlfS5cbiAqIEBleHBvcnRzIHJwYy5TZXJ2aWNlXG4gKiBAZXh0ZW5kcyB1dGlsLkV2ZW50RW1pdHRlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1JQQ0ltcGx9IHJwY0ltcGwgUlBDIGltcGxlbWVudGF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXF1ZXN0RGVsaW1pdGVkPWZhbHNlXSBXaGV0aGVyIHJlcXVlc3RzIGFyZSBsZW5ndGgtZGVsaW1pdGVkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNwb25zZURlbGltaXRlZD1mYWxzZV0gV2hldGhlciByZXNwb25zZXMgYXJlIGxlbmd0aC1kZWxpbWl0ZWRcbiAqL1xuZnVuY3Rpb24gU2VydmljZShycGNJbXBsLCByZXF1ZXN0RGVsaW1pdGVkLCByZXNwb25zZURlbGltaXRlZCkge1xuXG4gICAgaWYgKHR5cGVvZiBycGNJbXBsICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcInJwY0ltcGwgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO1xuXG4gICAgdXRpbC5FdmVudEVtaXR0ZXIuY2FsbCh0aGlzKTtcblxuICAgIC8qKlxuICAgICAqIFJQQyBpbXBsZW1lbnRhdGlvbi4gQmVjb21lcyBgbnVsbGAgb25jZSB0aGUgc2VydmljZSBpcyBlbmRlZC5cbiAgICAgKiBAdHlwZSB7UlBDSW1wbHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMucnBjSW1wbCA9IHJwY0ltcGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHJlcXVlc3RzIGFyZSBsZW5ndGgtZGVsaW1pdGVkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVxdWVzdERlbGltaXRlZCA9IEJvb2xlYW4ocmVxdWVzdERlbGltaXRlZCk7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHJlc3BvbnNlcyBhcmUgbGVuZ3RoLWRlbGltaXRlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc3BvbnNlRGVsaW1pdGVkID0gQm9vbGVhbihyZXNwb25zZURlbGltaXRlZCk7XG59XG5cbi8qKlxuICogQ2FsbHMgYSBzZXJ2aWNlIG1ldGhvZCB0aHJvdWdoIHtAbGluayBycGMuU2VydmljZSNycGNJbXBsfHJwY0ltcGx9LlxuICogQHBhcmFtIHtNZXRob2R8cnBjLlNlcnZpY2VNZXRob2Q8VFJlcSxUUmVzPn0gbWV0aG9kIFJlZmxlY3RlZCBvciBzdGF0aWMgbWV0aG9kXG4gKiBAcGFyYW0ge0NvbnN0cnVjdG9yPFRSZXE+fSByZXF1ZXN0Q3RvciBSZXF1ZXN0IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0NvbnN0cnVjdG9yPFRSZXM+fSByZXNwb25zZUN0b3IgUmVzcG9uc2UgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7VFJlcXxQcm9wZXJ0aWVzPFRSZXE+fSByZXF1ZXN0IFJlcXVlc3QgbWVzc2FnZSBvciBwbGFpbiBvYmplY3RcbiAqIEBwYXJhbSB7cnBjLlNlcnZpY2VNZXRob2RDYWxsYmFjazxUUmVzPn0gY2FsbGJhY2sgU2VydmljZSBjYWxsYmFja1xuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEB0ZW1wbGF0ZSBUUmVxIGV4dGVuZHMgTWVzc2FnZTxUUmVxPlxuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKi9cblNlcnZpY2UucHJvdG90eXBlLnJwY0NhbGwgPSBmdW5jdGlvbiBycGNDYWxsKG1ldGhvZCwgcmVxdWVzdEN0b3IsIHJlc3BvbnNlQ3RvciwgcmVxdWVzdCwgY2FsbGJhY2spIHtcblxuICAgIGlmICghcmVxdWVzdClcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwicmVxdWVzdCBtdXN0IGJlIHNwZWNpZmllZFwiKTtcblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIWNhbGxiYWNrKVxuICAgICAgICByZXR1cm4gdXRpbC5hc1Byb21pc2UocnBjQ2FsbCwgc2VsZiwgbWV0aG9kLCByZXF1ZXN0Q3RvciwgcmVzcG9uc2VDdG9yLCByZXF1ZXN0KTtcblxuICAgIGlmICghc2VsZi5ycGNJbXBsKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKEVycm9yKFwiYWxyZWFkeSBlbmRlZFwiKSk7IH0sIDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBzZWxmLnJwY0ltcGwoXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICByZXF1ZXN0Q3RvcltzZWxmLnJlcXVlc3REZWxpbWl0ZWQgPyBcImVuY29kZURlbGltaXRlZFwiIDogXCJlbmNvZGVcIl0ocmVxdWVzdCkuZmluaXNoKCksXG4gICAgICAgICAgICBmdW5jdGlvbiBycGNDYWxsYmFjayhlcnIsIHJlc3BvbnNlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZW5kKC8qIGVuZGVkQnlSUEMgKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UgaW5zdGFuY2VvZiByZXNwb25zZUN0b3IpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlc3BvbnNlQ3RvcltzZWxmLnJlc3BvbnNlRGVsaW1pdGVkID8gXCJkZWNvZGVEZWxpbWl0ZWRcIiA6IFwiZGVjb2RlXCJdKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImRhdGFcIiwgcmVzcG9uc2UsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjYWxsYmFjayhlcnIpOyB9LCAwKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEVuZHMgdGhpcyBzZXJ2aWNlIGFuZCBlbWl0cyB0aGUgYGVuZGAgZXZlbnQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtlbmRlZEJ5UlBDPWZhbHNlXSBXaGV0aGVyIHRoZSBzZXJ2aWNlIGhhcyBiZWVuIGVuZGVkIGJ5IHRoZSBSUEMgaW1wbGVtZW50YXRpb24uXG4gKiBAcmV0dXJucyB7cnBjLlNlcnZpY2V9IGB0aGlzYFxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiBlbmQoZW5kZWRCeVJQQykge1xuICAgIGlmICh0aGlzLnJwY0ltcGwpIHtcbiAgICAgICAgaWYgKCFlbmRlZEJ5UlBDKSAvLyBzaWduYWwgZW5kIHRvIHJwY0ltcGxcbiAgICAgICAgICAgIHRoaXMucnBjSW1wbChudWxsLCBudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5ycGNJbXBsID0gbnVsbDtcbiAgICAgICAgdGhpcy5lbWl0KFwiZW5kXCIpLm9mZigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogU3RyZWFtaW5nIFJQQyBoZWxwZXJzLlxuICogQG5hbWVzcGFjZVxuICovXG52YXIgcnBjID0gZXhwb3J0cztcblxuLyoqXG4gKiBSUEMgaW1wbGVtZW50YXRpb24gcGFzc2VkIHRvIHtAbGluayBTZXJ2aWNlI2NyZWF0ZX0gcGVyZm9ybWluZyBhIHNlcnZpY2UgcmVxdWVzdCBvbiBuZXR3b3JrIGxldmVsLCBpLmUuIGJ5IHV0aWxpemluZyBodHRwIHJlcXVlc3RzIG9yIHdlYnNvY2tldHMuXG4gKiBAdHlwZWRlZiBSUENJbXBsXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge01ldGhvZHxycGMuU2VydmljZU1ldGhvZDxNZXNzYWdlPHt9PixNZXNzYWdlPHt9Pj59IG1ldGhvZCBSZWZsZWN0ZWQgb3Igc3RhdGljIG1ldGhvZCBiZWluZyBjYWxsZWRcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gcmVxdWVzdERhdGEgUmVxdWVzdCBkYXRhXG4gKiBAcGFyYW0ge1JQQ0ltcGxDYWxsYmFja30gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiBAZXhhbXBsZVxuICogZnVuY3Rpb24gcnBjSW1wbChtZXRob2QsIHJlcXVlc3REYXRhLCBjYWxsYmFjaykge1xuICogICAgIGlmIChwcm90b2J1Zi51dGlsLmxjRmlyc3QobWV0aG9kLm5hbWUpICE9PSBcIm15TWV0aG9kXCIpIC8vIGNvbXBhdGlibGUgd2l0aCBzdGF0aWMgY29kZVxuICogICAgICAgICB0aHJvdyBFcnJvcihcIm5vIHN1Y2ggbWV0aG9kXCIpO1xuICogICAgIGFzeW5jaHJvbm91c2x5T2J0YWluQVJlc3BvbnNlKHJlcXVlc3REYXRhLCBmdW5jdGlvbihlcnIsIHJlc3BvbnNlRGF0YSkge1xuICogICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3BvbnNlRGF0YSk7XG4gKiAgICAgfSk7XG4gKiB9XG4gKi9cblxuLyoqXG4gKiBOb2RlLXN0eWxlIGNhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIFJQQ0ltcGx9LlxuICogQHR5cGVkZWYgUlBDSW1wbENhbGxiYWNrXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge0Vycm9yfG51bGx9IGVycm9yIEVycm9yLCBpZiBhbnksIG90aGVyd2lzZSBgbnVsbGBcbiAqIEBwYXJhbSB7VWludDhBcnJheXxudWxsfSBbcmVzcG9uc2VdIFJlc3BvbnNlIGRhdGEgb3IgYG51bGxgIHRvIHNpZ25hbCBlbmQgb2Ygc3RyZWFtLCBpZiB0aGVyZSBoYXNuJ3QgYmVlbiBhbiBlcnJvclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG5ycGMuU2VydmljZSA9IHJlcXVpcmUoXCIuL3JwYy9zZXJ2aWNlXCIpO1xuIiwgIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqXG4gKiBOYW1lZCByb290cy5cbiAqIFRoaXMgaXMgd2hlcmUgcGJqcyBzdG9yZXMgZ2VuZXJhdGVkIHN0cnVjdHVyZXMgKHRoZSBvcHRpb24gYC1yLCAtLXJvb3RgIHNwZWNpZmllcyBhIG5hbWUpLlxuICogQ2FuIGFsc28gYmUgdXNlZCBtYW51YWxseSB0byBtYWtlIHJvb3RzIGF2YWlsYWJsZSBhY3Jvc3MgbW9kdWxlcy5cbiAqIEBuYW1lIHJvb3RzXG4gKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsUm9vdD59XG4gKiBAZXhhbXBsZVxuICogLy8gcGJqcyAtciBteXJvb3QgLW8gY29tcGlsZWQuanMgLi4uXG4gKlxuICogLy8gaW4gYW5vdGhlciBtb2R1bGU6XG4gKiByZXF1aXJlKFwiLi9jb21waWxlZC5qc1wiKTtcbiAqXG4gKiAvLyBpbiBhbnkgc3Vic2VxdWVudCBtb2R1bGU6XG4gKiB2YXIgcm9vdCA9IHByb3RvYnVmLnJvb3RzW1wibXlyb290XCJdO1xuICovXG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcHJvdG9idWYgPSBleHBvcnRzO1xuXG4vKipcbiAqIEJ1aWxkIHR5cGUsIG9uZSBvZiBgXCJmdWxsXCJgLCBgXCJsaWdodFwiYCBvciBgXCJtaW5pbWFsXCJgLlxuICogQG5hbWUgYnVpbGRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xucHJvdG9idWYuYnVpbGQgPSBcIm1pbmltYWxcIjtcblxuLy8gU2VyaWFsaXphdGlvblxucHJvdG9idWYuV3JpdGVyICAgICAgID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpO1xucHJvdG9idWYuQnVmZmVyV3JpdGVyID0gcmVxdWlyZShcIi4vd3JpdGVyX2J1ZmZlclwiKTtcbnByb3RvYnVmLlJlYWRlciAgICAgICA9IHJlcXVpcmUoXCIuL3JlYWRlclwiKTtcbnByb3RvYnVmLkJ1ZmZlclJlYWRlciA9IHJlcXVpcmUoXCIuL3JlYWRlcl9idWZmZXJcIik7XG5cbi8vIFV0aWxpdHlcbnByb3RvYnVmLnV0aWwgICAgICAgICA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcbnByb3RvYnVmLnJwYyAgICAgICAgICA9IHJlcXVpcmUoXCIuL3JwY1wiKTtcbnByb3RvYnVmLnJvb3RzICAgICAgICA9IHJlcXVpcmUoXCIuL3Jvb3RzXCIpO1xucHJvdG9idWYuY29uZmlndXJlICAgID0gY29uZmlndXJlO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuLyoqXG4gKiBSZWNvbmZpZ3VyZXMgdGhlIGxpYnJhcnkgYWNjb3JkaW5nIHRvIHRoZSBlbnZpcm9ubWVudC5cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cbmZ1bmN0aW9uIGNvbmZpZ3VyZSgpIHtcbiAgICBwcm90b2J1Zi51dGlsLl9jb25maWd1cmUoKTtcbiAgICBwcm90b2J1Zi5Xcml0ZXIuX2NvbmZpZ3VyZShwcm90b2J1Zi5CdWZmZXJXcml0ZXIpO1xuICAgIHByb3RvYnVmLlJlYWRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlclJlYWRlcik7XG59XG5cbi8vIFNldCB1cCBidWZmZXIgdXRpbGl0eSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50XG5jb25maWd1cmUoKTtcbiIsICIvLyBtaW5pbWFsIGxpYnJhcnkgZW50cnkgcG9pbnQuXG5cblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9zcmMvaW5kZXgtbWluaW1hbFwiKTtcbiIsICIvLyBCRUdJTiBBVVRPIEdFTkVSQVRFRCBDT0RFIFwifnNkay9zY2VuZS1lbnRyeXBvaW50XCJcblwidXNlIHN0cmljdFwiO1xuaW1wb3J0ICogYXMgZW50cnlwb2ludCBmcm9tICcvVXNlcnMvYW5hY2Fyb2xpbmFtb250ZXNhbnRpL2xhdW5kcm9tYXQvc3JjL2luZGV4LnRzJ1xuaW1wb3J0IHsgZW5naW5lLCBOZXR3b3JrRW50aXR5IH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0ICogYXMgc2RrIGZyb20gJ0BkY2wvc2RrJ1xuaW1wb3J0IHsgY29tcG9zaXRlUHJvdmlkZXIgfSBmcm9tICdAZGNsL3Nkay9jb21wb3NpdGUtcHJvdmlkZXInXG5pbXBvcnQgeyBjb21wb3NpdGVGcm9tTG9hZGVyIH0gZnJvbSAnfnNkay9hbGwtY29tcG9zaXRlcydcblxuXG5pbXBvcnQgeyBzeW5jRW50aXR5IH0gZnJvbSAnQGRjbC9zZGsvbmV0d29yaydcbmltcG9ydCB7IGluaXRBc3NldFBhY2tzLCBzZXRTeW5jRW50aXR5IH0gZnJvbSAnQGRjbC9hc3NldC1wYWNrcy9kaXN0L3NjZW5lLWVudHJ5cG9pbnQnXG5pbml0QXNzZXRQYWNrcyhlbmdpbmUsIHsgc3luY0VudGl0eSB9KVxuXG4vLyBUT0RPOiBkbyB3ZSBuZWVkIHRvIGRvIHRoaXMgb24gcnVudGltZSA/XG4vLyBJIHRoaW5rIHdlIGhhdmUgdGhhdCBpbmZvcm1hdGlvbiBhdCBidWlsZC10aW1lIGFuZCB3ZSBhdm9pZCB0byBkbyBldmFsdWF0ZSB0aGlzIG9uIHRoZSB3b3JrZXIuXG4vLyBSZWFkIGNvbXBvc2l0ZS5qc29uIG9yIG1haW4uY3JkdCA9PiBJZiB0aGF0IGZpbGUgaGFzIGEgTmV0b3dya0VudGl0eSBpbXBvcnQgJ0BkY2wvQHNkay9uZXR3b3JrJ1xuXG5cbmlmICgoZW50cnlwb2ludCBhcyBhbnkpLm1haW4gIT09IHVuZGVmaW5lZCkge1xuICBmdW5jdGlvbiBfSU5URVJOQUxfc3RhcnR1cF9zeXN0ZW0oKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IChlbnRyeXBvaW50IGFzIGFueSkubWFpbigpXG4gICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UgPT09ICdvYmplY3QnICYmIHR5cGVvZiAobWF5YmVQcm9taXNlIGFzIHVua25vd24gYXMgUHJvbWlzZTx1bmtub3duPikudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBtYXliZVByb21pc2UuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgIGNvbnNvbGUuZXJyb3IoZSlcbiAgICB9IGZpbmFsbHkge1xuICAgICAgZW5naW5lLnJlbW92ZVN5c3RlbShfSU5URVJOQUxfc3RhcnR1cF9zeXN0ZW0pXG4gICAgfVxuICB9XG4gIGVuZ2luZS5hZGRTeXN0ZW0oX0lOVEVSTkFMX3N0YXJ0dXBfc3lzdGVtLCBJbmZpbml0eSlcbn1cblxuZXhwb3J0ICogZnJvbSAnQGRjbC9zZGsnXG5leHBvcnQgKiBmcm9tICcvVXNlcnMvYW5hY2Fyb2xpbmFtb250ZXNhbnRpL2xhdW5kcm9tYXQvc3JjL2luZGV4LnRzJ1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBbmltYXRvcigpIHtcbiAgICByZXR1cm4geyBzdGF0ZXM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkFuaW1hdG9yO1xuKGZ1bmN0aW9uIChQQkFuaW1hdG9yKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uuc3RhdGVzKSB7XG4gICAgICAgICAgICBQQkFuaW1hdGlvblN0YXRlLmVuY29kZSh2LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQW5pbWF0b3IuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkFuaW1hdG9yKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGVzLnB1c2goUEJBbmltYXRpb25TdGF0ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkFuaW1hdG9yLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQW5pbWF0b3IgfHwgKFBCQW5pbWF0b3IgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQW5pbWF0aW9uU3RhdGUoKSB7XG4gICAgcmV0dXJuIHsgY2xpcDogXCJcIiwgcGxheWluZzogdW5kZWZpbmVkLCB3ZWlnaHQ6IHVuZGVmaW5lZCwgc3BlZWQ6IHVuZGVmaW5lZCwgbG9vcDogdW5kZWZpbmVkLCBzaG91bGRSZXNldDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkFuaW1hdGlvblN0YXRlO1xuKGZ1bmN0aW9uIChQQkFuaW1hdGlvblN0YXRlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY2xpcCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuY2xpcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UucGxheWluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud2VpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2Uud2VpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGVlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ1KS5mbG9hdChtZXNzYWdlLnNwZWVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sb29wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDgpLmJvb2wobWVzc2FnZS5sb29wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaG91bGRSZXNldCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU2KS5ib29sKG1lc3NhZ2Uuc2hvdWxkUmVzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQW5pbWF0aW9uU3RhdGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkFuaW1hdGlvblN0YXRlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2xpcCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53ZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcGVlZCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNob3VsZFJlc2V0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkFuaW1hdGlvblN0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQW5pbWF0aW9uU3RhdGUgfHwgKFBCQW5pbWF0aW9uU3RhdGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQW5pbWF0b3IgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hbmltYXRvci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEFuaW1hdG9yU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBbmltYXRvci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkFuaW1hdG9yLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkFuaW1hdG9yLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkFuaW1hdG9yXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdWRpb0V2ZW50KCkge1xuICAgIHJldHVybiB7IHN0YXRlOiAwLCB0aW1lc3RhbXA6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXVkaW9FdmVudDtcbihmdW5jdGlvbiAoUEJBdWRpb0V2ZW50KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXVkaW9FdmVudC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXVkaW9FdmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdWRpb0V2ZW50LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXVkaW9FdmVudCB8fCAoUEJBdWRpb0V2ZW50ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF1ZGlvRXZlbnQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19ldmVudC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvRXZlbnRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMTA1LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF1ZGlvRXZlbnQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdWRpb0V2ZW50LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF1ZGlvRXZlbnQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXVkaW9FdmVudFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXVkaW9Tb3VyY2UoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGxheWluZzogdW5kZWZpbmVkLFxuICAgICAgICB2b2x1bWU6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9vcDogdW5kZWZpbmVkLFxuICAgICAgICBwaXRjaDogdW5kZWZpbmVkLFxuICAgICAgICBhdWRpb0NsaXBVcmw6IFwiXCIsXG4gICAgICAgIGN1cnJlbnRUaW1lOiB1bmRlZmluZWQsXG4gICAgICAgIGdsb2JhbDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF1ZGlvU291cmNlO1xuKGZ1bmN0aW9uIChQQkF1ZGlvU291cmNlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b2x1bWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS52b2x1bWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmxvb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBpdGNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UucGl0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmF1ZGlvQ2xpcFVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0Mikuc3RyaW5nKG1lc3NhZ2UuYXVkaW9DbGlwVXJsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nbG9iYWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikuYm9vbChtZXNzYWdlLmdsb2JhbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdWRpb1NvdXJjZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXVkaW9Tb3VyY2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXlpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvbHVtZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBpdGNoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXVkaW9DbGlwVXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRUaW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvYmFsID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF1ZGlvU291cmNlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXVkaW9Tb3VyY2UgfHwgKFBCQXVkaW9Tb3VyY2UgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXVkaW9Tb3VyY2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zb3VyY2UuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwMjAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXVkaW9Tb3VyY2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdWRpb1NvdXJjZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdWRpb1NvdXJjZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdWRpb1NvdXJjZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXVkaW9TdHJlYW0oKSB7XG4gICAgcmV0dXJuIHsgcGxheWluZzogdW5kZWZpbmVkLCB2b2x1bWU6IHVuZGVmaW5lZCwgdXJsOiBcIlwiIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF1ZGlvU3RyZWFtO1xuKGZ1bmN0aW9uIChQQkF1ZGlvU3RyZWFtKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52b2x1bWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS52b2x1bWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnVybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UudXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF1ZGlvU3RyZWFtLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdWRpb1N0cmVhbSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxheWluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uudm9sdW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXVkaW9TdHJlYW0uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdWRpb1N0cmVhbSB8fCAoUEJBdWRpb1N0cmVhbSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdWRpb1N0cmVhbSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F1ZGlvX3N0cmVhbS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU3RyZWFtU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAyMSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJBdWRpb1N0cmVhbS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF1ZGlvU3RyZWFtLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF1ZGlvU3RyZWFtLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkF1ZGlvU3RyZWFtXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQXZhdGFyQW5jaG9yUG9pbnRUeXBlIGRldGVybWluZXMgdGhlIHBhcnQgb2YgdGhlIGF2YXRhcidzIGJvZHkgdGhhdCBhbmNob3JzIHRoZSBFbnRpdHkuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBBdmF0YXJBbmNob3JQb2ludFR5cGU7XG4oZnVuY3Rpb24gKEF2YXRhckFuY2hvclBvaW50VHlwZSkge1xuICAgIC8qKiBBQVBUX1BPU0lUSU9OIC0gQGRlcHJlY2F0ZWQgY29uc2lkZXIgcGFyZW50aW5nIHRvIGBlbmdpbmUuUGxheWVyRW50aXR5YCwgdGhpcyB3aWxsIGF0dGFjaCB0byBwbGF5ZXIgcG9zaXRpb24gd2l0aCBhbiBhcmJpdHJhcnkgb2Zmc2V0ICovXG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfUE9TSVRJT05cIl0gPSAwXSA9IFwiQUFQVF9QT1NJVElPTlwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX05BTUVfVEFHXCJdID0gMV0gPSBcIkFBUFRfTkFNRV9UQUdcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9IRUFEXCJdID0gNF0gPSBcIkFBUFRfSEVBRFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX05FQ0tcIl0gPSA1XSA9IFwiQUFQVF9ORUNLXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfU1BJTkVcIl0gPSA2XSA9IFwiQUFQVF9TUElORVwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1NQSU5FMVwiXSA9IDddID0gXCJBQVBUX1NQSU5FMVwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1NQSU5FMlwiXSA9IDhdID0gXCJBQVBUX1NQSU5FMlwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0hJUFwiXSA9IDldID0gXCJBQVBUX0hJUFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfU0hPVUxERVJcIl0gPSAxMF0gPSBcIkFBUFRfTEVGVF9TSE9VTERFUlwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfQVJNXCJdID0gMTFdID0gXCJBQVBUX0xFRlRfQVJNXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9GT1JFQVJNXCJdID0gMTJdID0gXCJBQVBUX0xFRlRfRk9SRUFSTVwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfSEFORFwiXSA9IDJdID0gXCJBQVBUX0xFRlRfSEFORFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfSEFORF9JTkRFWFwiXSA9IDEzXSA9IFwiQUFQVF9MRUZUX0hBTkRfSU5ERVhcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9SSUdIVF9TSE9VTERFUlwiXSA9IDE0XSA9IFwiQUFQVF9SSUdIVF9TSE9VTERFUlwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0FSTVwiXSA9IDE1XSA9IFwiQUFQVF9SSUdIVF9BUk1cIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9SSUdIVF9GT1JFQVJNXCJdID0gMTZdID0gXCJBQVBUX1JJR0hUX0ZPUkVBUk1cIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9SSUdIVF9IQU5EXCJdID0gM10gPSBcIkFBUFRfUklHSFRfSEFORFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0hBTkRfSU5ERVhcIl0gPSAxN10gPSBcIkFBUFRfUklHSFRfSEFORF9JTkRFWFwiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX0xFRlRfVVBfTEVHXCJdID0gMThdID0gXCJBQVBUX0xFRlRfVVBfTEVHXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9MRUdcIl0gPSAxOV0gPSBcIkFBUFRfTEVGVF9MRUdcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9MRUZUX0ZPT1RcIl0gPSAyMF0gPSBcIkFBUFRfTEVGVF9GT09UXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfTEVGVF9UT0VfQkFTRVwiXSA9IDIxXSA9IFwiQUFQVF9MRUZUX1RPRV9CQVNFXCI7XG4gICAgQXZhdGFyQW5jaG9yUG9pbnRUeXBlW0F2YXRhckFuY2hvclBvaW50VHlwZVtcIkFBUFRfUklHSFRfVVBfTEVHXCJdID0gMjJdID0gXCJBQVBUX1JJR0hUX1VQX0xFR1wiO1xuICAgIEF2YXRhckFuY2hvclBvaW50VHlwZVtBdmF0YXJBbmNob3JQb2ludFR5cGVbXCJBQVBUX1JJR0hUX0xFR1wiXSA9IDIzXSA9IFwiQUFQVF9SSUdIVF9MRUdcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9SSUdIVF9GT09UXCJdID0gMjRdID0gXCJBQVBUX1JJR0hUX0ZPT1RcIjtcbiAgICBBdmF0YXJBbmNob3JQb2ludFR5cGVbQXZhdGFyQW5jaG9yUG9pbnRUeXBlW1wiQUFQVF9SSUdIVF9UT0VfQkFTRVwiXSA9IDI1XSA9IFwiQUFQVF9SSUdIVF9UT0VfQkFTRVwiO1xufSkoQXZhdGFyQW5jaG9yUG9pbnRUeXBlIHx8IChBdmF0YXJBbmNob3JQb2ludFR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXZhdGFyQXR0YWNoKCkge1xuICAgIHJldHVybiB7IGF2YXRhcklkOiB1bmRlZmluZWQsIGFuY2hvclBvaW50SWQ6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXZhdGFyQXR0YWNoO1xuKGZ1bmN0aW9uIChQQkF2YXRhckF0dGFjaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmF2YXRhcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmF2YXRhcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbmNob3JQb2ludElkICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmFuY2hvclBvaW50SWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQXZhdGFyQXR0YWNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJBdmF0YXJBdHRhY2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdmF0YXJJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbmNob3JQb2ludElkID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJBdmF0YXJBdHRhY2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdmF0YXJBdHRhY2ggfHwgKFBCQXZhdGFyQXR0YWNoID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF2YXRhckF0dGFjaCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9hdHRhY2guZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdmF0YXJBdHRhY2hTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDczLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhckF0dGFjaC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF2YXRhckF0dGFjaC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdmF0YXJBdHRhY2guZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyQXR0YWNoXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQkF2YXRhckJhc2UoKSB7XG4gICAgcmV0dXJuIHsgc2tpbkNvbG9yOiB1bmRlZmluZWQsIGV5ZXNDb2xvcjogdW5kZWZpbmVkLCBoYWlyQ29sb3I6IHVuZGVmaW5lZCwgYm9keVNoYXBlVXJuOiBcIlwiLCBuYW1lOiBcIlwiIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF2YXRhckJhc2U7XG4oZnVuY3Rpb24gKFBCQXZhdGFyQmFzZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNraW5Db2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2Uuc2tpbkNvbG9yLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmV5ZXNDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuZXllc0NvbG9yLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhhaXJDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjMuZW5jb2RlKG1lc3NhZ2UuaGFpckNvbG9yLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvZHlTaGFwZVVybiAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UuYm9keVNoYXBlVXJuKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQyKS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkF2YXRhckJhc2UuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhckJhc2UoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5za2luQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leWVzQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oYWlyQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib2R5U2hhcGVVcm4gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF2YXRhckJhc2UuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdmF0YXJCYXNlIHx8IChQQkF2YXRhckJhc2UgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNvbG9yMygpIHtcbiAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjM7XG4oZnVuY3Rpb24gKENvbG9yMykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2Uucik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZyAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5iICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI5KS5mbG9hdChtZXNzYWdlLmIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbG9yMy5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbG9yMygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbG9yMy5kZWNvZGUgPSBkZWNvZGU7XG59KShDb2xvcjMgfHwgKENvbG9yMyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29sb3I0KCkge1xuICAgIHJldHVybiB7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbG9yNDtcbihmdW5jdGlvbiAoQ29sb3I0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5hKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBDb2xvcjQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDb2xvcjQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5yID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmIgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29sb3I0LmRlY29kZSA9IGRlY29kZTtcbn0pKENvbG9yNCB8fCAoQ29sb3I0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkF2YXRhckJhc2UgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfYmFzZS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhckJhc2VTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDg3LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhckJhc2UuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJBdmF0YXJCYXNlLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhckJhc2UuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyQmFzZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXZhdGFyRW1vdGVDb21tYW5kKCkge1xuICAgIHJldHVybiB7IGVtb3RlVXJuOiBcIlwiLCBsb29wOiBmYWxzZSwgdGltZXN0YW1wOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkF2YXRhckVtb3RlQ29tbWFuZDtcbihmdW5jdGlvbiAoUEJBdmF0YXJFbW90ZUNvbW1hbmQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5lbW90ZVVybiAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuZW1vdGVVcm4pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb3AgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS5sb29wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQzMihtZXNzYWdlLnRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdmF0YXJFbW90ZUNvbW1hbmQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhckVtb3RlQ29tbWFuZCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtb3RlVXJuID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF2YXRhckVtb3RlQ29tbWFuZC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhckVtb3RlQ29tbWFuZCB8fCAoUEJBdmF0YXJFbW90ZUNvbW1hbmQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXZhdGFyRW1vdGVDb21tYW5kIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2Vtb3RlX2NvbW1hbmQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdmF0YXJFbW90ZUNvbW1hbmRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDg4LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhckVtb3RlQ29tbWFuZC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF2YXRhckVtb3RlQ29tbWFuZC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdmF0YXJFbW90ZUNvbW1hbmQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyRW1vdGVDb21tYW5kXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJBdmF0YXJFcXVpcHBlZERhdGEoKSB7XG4gICAgcmV0dXJuIHsgd2VhcmFibGVVcm5zOiBbXSwgZW1vdGVVcm5zOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJBdmF0YXJFcXVpcHBlZERhdGE7XG4oZnVuY3Rpb24gKFBCQXZhdGFyRXF1aXBwZWREYXRhKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uud2VhcmFibGVVcm5zKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZW1vdGVVcm5zKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdmF0YXJFcXVpcHBlZERhdGEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhckVxdWlwcGVkRGF0YSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndlYXJhYmxlVXJucy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1vdGVVcm5zLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkF2YXRhckVxdWlwcGVkRGF0YS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkF2YXRhckVxdWlwcGVkRGF0YSB8fCAoUEJBdmF0YXJFcXVpcHBlZERhdGEgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCQXZhdGFyRXF1aXBwZWREYXRhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2VxdWlwcGVkX2RhdGEuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBBdmF0YXJFcXVpcHBlZERhdGFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDkxLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhckVxdWlwcGVkRGF0YS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkF2YXRhckVxdWlwcGVkRGF0YS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJBdmF0YXJFcXVpcHBlZERhdGEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyRXF1aXBwZWREYXRhXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIEF2YXRhck1vZGlmaWVyVHlwZSBpcyBhbiBlZmZlY3QgdGhhdCBzaG91bGQgYmUgYXBwbGllZCB0byBhdmF0YXJzIGluc2lkZSB0aGUgcmVnaW9uLiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQXZhdGFyTW9kaWZpZXJUeXBlO1xuKGZ1bmN0aW9uIChBdmF0YXJNb2RpZmllclR5cGUpIHtcbiAgICAvKiogQU1UX0hJREVfQVZBVEFSUyAtIGF2YXRhcnMgYXJlIGludmlzaWJsZSAqL1xuICAgIEF2YXRhck1vZGlmaWVyVHlwZVtBdmF0YXJNb2RpZmllclR5cGVbXCJBTVRfSElERV9BVkFUQVJTXCJdID0gMF0gPSBcIkFNVF9ISURFX0FWQVRBUlNcIjtcbiAgICAvKiogQU1UX0RJU0FCTEVfUEFTU1BPUlRTIC0gc2VsZWN0aW5nIChlLmcuIGNsaWNraW5nKSBhbiBhdmF0YXIgd2lsbCBub3QgYnJpbmcgdXAgdGhlaXIgcHJvZmlsZS4gKi9cbiAgICBBdmF0YXJNb2RpZmllclR5cGVbQXZhdGFyTW9kaWZpZXJUeXBlW1wiQU1UX0RJU0FCTEVfUEFTU1BPUlRTXCJdID0gMV0gPSBcIkFNVF9ESVNBQkxFX1BBU1NQT1JUU1wiO1xufSkoQXZhdGFyTW9kaWZpZXJUeXBlIHx8IChBdmF0YXJNb2RpZmllclR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXZhdGFyTW9kaWZpZXJBcmVhKCkge1xuICAgIHJldHVybiB7IGFyZWE6IHVuZGVmaW5lZCwgZXhjbHVkZUlkczogW10sIG1vZGlmaWVyczogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXZhdGFyTW9kaWZpZXJBcmVhO1xuKGZ1bmN0aW9uIChQQkF2YXRhck1vZGlmaWVyQXJlYSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmFyZWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5hcmVhLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmV4Y2x1ZGVJZHMpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIudWludDMyKDI2KS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLm1vZGlmaWVycykge1xuICAgICAgICAgICAgd3JpdGVyLmludDMyKHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdmF0YXJNb2RpZmllckFyZWEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkF2YXRhck1vZGlmaWVyQXJlYSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFyZWEgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhjbHVkZUlkcy5wdXNoKHJlYWRlci5zdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kaWZpZXJzLnB1c2gocmVhZGVyLmludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyA9PT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZDIgPSByZWFkZXIudWludDMyKCkgKyByZWFkZXIucG9zO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RpZmllcnMucHVzaChyZWFkZXIuaW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyTW9kaWZpZXJBcmVhLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQXZhdGFyTW9kaWZpZXJBcmVhIHx8IChQQkF2YXRhck1vZGlmaWVyQXJlYSA9IHt9KSk7XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUG9zaXRpb247XG4oZnVuY3Rpb24gKFBvc2l0aW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnogIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uueik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUG9zaXRpb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQb3NpdGlvbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBvc2l0aW9uLmRlY29kZSA9IGRlY29kZTtcbn0pKFBvc2l0aW9uIHx8IChQb3NpdGlvbiA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmVjdG9yMygpIHtcbiAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB6OiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBWZWN0b3IzO1xuKGZ1bmN0aW9uIChWZWN0b3IzKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UueCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS54KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS55ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnogIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uueik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgVmVjdG9yMy5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZlY3RvcjMoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS54ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnogPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBWZWN0b3IzLmRlY29kZSA9IGRlY29kZTtcbn0pKFZlY3RvcjMgfHwgKFZlY3RvcjMgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZlY3RvcjIoKSB7XG4gICAgcmV0dXJuIHsgeDogMCwgeTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVmVjdG9yMjtcbihmdW5jdGlvbiAoVmVjdG9yMikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UueCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS55KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBWZWN0b3IyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmVjdG9yMigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS55ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVmVjdG9yMi5kZWNvZGUgPSBkZWNvZGU7XG59KShWZWN0b3IyIHx8IChWZWN0b3IyID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VRdWF0ZXJuaW9uKCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFF1YXRlcm5pb247XG4oZnVuY3Rpb24gKFF1YXRlcm5pb24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UueiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS56KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLncpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VRdWF0ZXJuaW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS56ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZGVjb2RlID0gZGVjb2RlO1xufSkoUXVhdGVybmlvbiB8fCAoUXVhdGVybmlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJBdmF0YXJNb2RpZmllckFyZWEgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfbW9kaWZpZXJfYXJlYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF2YXRhck1vZGlmaWVyQXJlYVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNzAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCQXZhdGFyTW9kaWZpZXJBcmVhLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyTW9kaWZpZXJBcmVhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkF2YXRhck1vZGlmaWVyQXJlYS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJBdmF0YXJNb2RpZmllckFyZWFcIlxuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMDkgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzXG4gKiBDb3B5cmlnaHQgMjAyMCBEYW5pZWwgV2lydHogLyBUaGUgbG9uZy5qcyBBdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8vIFdlYkFzc2VtYmx5IG9wdGltaXphdGlvbnMgdG8gZG8gbmF0aXZlIGk2NCBtdWx0aXBsaWNhdGlvbiBhbmQgZGl2aWRlXG52YXIgd2FzbSA9IG51bGw7XG50cnkge1xuICB3YXNtID0gbmV3IFdlYkFzc2VtYmx5Lkluc3RhbmNlKG5ldyBXZWJBc3NlbWJseS5Nb2R1bGUobmV3IFVpbnQ4QXJyYXkoW1xuICAgIDAsIDk3LCAxMTUsIDEwOSwgMSwgMCwgMCwgMCwgMSwgMTMsIDIsIDk2LCAwLCAxLCAxMjcsIDk2LCA0LCAxMjcsIDEyNywgMTI3LCAxMjcsIDEsIDEyNywgMywgNywgNiwgMCwgMSwgMSwgMSwgMSwgMSwgNiwgNiwgMSwgMTI3LCAxLCA2NSwgMCwgMTEsIDcsIDUwLCA2LCAzLCAxMDksIDExNywgMTA4LCAwLCAxLCA1LCAxMDAsIDEwNSwgMTE4LCA5NSwgMTE1LCAwLCAyLCA1LCAxMDAsIDEwNSwgMTE4LCA5NSwgMTE3LCAwLCAzLCA1LCAxMTQsIDEwMSwgMTA5LCA5NSwgMTE1LCAwLCA0LCA1LCAxMTQsIDEwMSwgMTA5LCA5NSwgMTE3LCAwLCA1LCA4LCAxMDMsIDEwMSwgMTE2LCA5NSwgMTA0LCAxMDUsIDEwMywgMTA0LCAwLCAwLCAxMCwgMTkxLCAxLCA2LCA0LCAwLCAzNSwgMCwgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyNiwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTI3LCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExLCAzNiwgMSwgMSwgMTI2LCAzMiwgMCwgMTczLCAzMiwgMSwgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAzMiwgMiwgMTczLCAzMiwgMywgMTczLCA2NiwgMzIsIDEzNCwgMTMyLCAxMjgsIDM0LCA0LCA2NiwgMzIsIDEzNSwgMTY3LCAzNiwgMCwgMzIsIDQsIDE2NywgMTEsIDM2LCAxLCAxLCAxMjYsIDMyLCAwLCAxNzMsIDMyLCAxLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDMyLCAyLCAxNzMsIDMyLCAzLCAxNzMsIDY2LCAzMiwgMTM0LCAxMzIsIDEyOSwgMzQsIDQsIDY2LCAzMiwgMTM1LCAxNjcsIDM2LCAwLCAzMiwgNCwgMTY3LCAxMSwgMzYsIDEsIDEsIDEyNiwgMzIsIDAsIDE3MywgMzIsIDEsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMzIsIDIsIDE3MywgMzIsIDMsIDE3MywgNjYsIDMyLCAxMzQsIDEzMiwgMTMwLCAzNCwgNCwgNjYsIDMyLCAxMzUsIDE2NywgMzYsIDAsIDMyLCA0LCAxNjcsIDExXG4gIF0pKSwge30pLmV4cG9ydHM7XG59IGNhdGNoIChlKSB7XG4gIC8vIG5vIHdhc20gc3VwcG9ydCA6KFxufVxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSA2NCBiaXQgdHdvJ3MtY29tcGxlbWVudCBpbnRlZ2VyLCBnaXZlbiBpdHMgbG93IGFuZCBoaWdoIDMyIGJpdCB2YWx1ZXMgYXMgKnNpZ25lZCogaW50ZWdlcnMuXG4gKiAgU2VlIHRoZSBmcm9tKiBmdW5jdGlvbnMgYmVsb3cgZm9yIG1vcmUgY29udmVuaWVudCB3YXlzIG9mIGNvbnN0cnVjdGluZyBMb25ncy5cbiAqIEBleHBvcnRzIExvbmdcbiAqIEBjbGFzcyBBIExvbmcgY2xhc3MgZm9yIHJlcHJlc2VudGluZyBhIDY0IGJpdCB0d28ncy1jb21wbGVtZW50IGludGVnZXIgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gbG93IFRoZSBsb3cgKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgbG9uZ1xuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2ggVGhlIGhpZ2ggKHNpZ25lZCkgMzIgYml0cyBvZiB0aGUgbG9uZ1xuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIExvbmcobG93LCBoaWdoLCB1bnNpZ25lZCkge1xuXG4gIC8qKlxuICAgKiBUaGUgbG93IDMyIGJpdHMgYXMgYSBzaWduZWQgdmFsdWUuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmxvdyA9IGxvdyB8IDA7XG5cbiAgLyoqXG4gICAqIFRoZSBoaWdoIDMyIGJpdHMgYXMgYSBzaWduZWQgdmFsdWUuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmhpZ2ggPSBoaWdoIHwgMDtcblxuICAvKipcbiAgICogV2hldGhlciB1bnNpZ25lZCBvciBub3QuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy51bnNpZ25lZCA9ICEhdW5zaWduZWQ7XG59XG5cbi8vIFRoZSBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiBvZiBhIGxvbmcgaXMgdGhlIHR3byBnaXZlbiBzaWduZWQsIDMyLWJpdCB2YWx1ZXMuXG4vLyBXZSB1c2UgMzItYml0IHBpZWNlcyBiZWNhdXNlIHRoZXNlIGFyZSB0aGUgc2l6ZSBvZiBpbnRlZ2VycyBvbiB3aGljaFxuLy8gSmF2YXNjcmlwdCBwZXJmb3JtcyBiaXQtb3BlcmF0aW9ucy4gIEZvciBvcGVyYXRpb25zIGxpa2UgYWRkaXRpb24gYW5kXG4vLyBtdWx0aXBsaWNhdGlvbiwgd2Ugc3BsaXQgZWFjaCBudW1iZXIgaW50byAxNiBiaXQgcGllY2VzLCB3aGljaCBjYW4gZWFzaWx5IGJlXG4vLyBtdWx0aXBsaWVkIHdpdGhpbiBKYXZhc2NyaXB0J3MgZmxvYXRpbmctcG9pbnQgcmVwcmVzZW50YXRpb24gd2l0aG91dCBvdmVyZmxvd1xuLy8gb3IgY2hhbmdlIGluIHNpZ24uXG4vL1xuLy8gSW4gdGhlIGFsZ29yaXRobXMgYmVsb3csIHdlIGZyZXF1ZW50bHkgcmVkdWNlIHRoZSBuZWdhdGl2ZSBjYXNlIHRvIHRoZVxuLy8gcG9zaXRpdmUgY2FzZSBieSBuZWdhdGluZyB0aGUgaW5wdXQocykgYW5kIHRoZW4gcG9zdC1wcm9jZXNzaW5nIHRoZSByZXN1bHQuXG4vLyBOb3RlIHRoYXQgd2UgbXVzdCBBTFdBWVMgY2hlY2sgc3BlY2lhbGx5IHdoZXRoZXIgdGhvc2UgdmFsdWVzIGFyZSBNSU5fVkFMVUVcbi8vICgtMl42MykgYmVjYXVzZSAtTUlOX1ZBTFVFID09IE1JTl9WQUxVRSAoc2luY2UgMl42MyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgYXNcbi8vIGEgcG9zaXRpdmUgbnVtYmVyLCBpdCBvdmVyZmxvd3MgYmFjayBpbnRvIGEgbmVnYXRpdmUpLiAgTm90IGhhbmRsaW5nIHRoaXNcbi8vIGNhc2Ugd291bGQgb2Z0ZW4gcmVzdWx0IGluIGluZmluaXRlIHJlY3Vyc2lvbi5cbi8vXG4vLyBDb21tb24gY29uc3RhbnQgdmFsdWVzIFpFUk8sIE9ORSwgTkVHX09ORSwgZXRjLiBhcmUgZGVmaW5lZCBiZWxvdyB0aGUgZnJvbSpcbi8vIG1ldGhvZHMgb24gd2hpY2ggdGhleSBkZXBlbmQuXG5cbi8qKlxuICogQW4gaW5kaWNhdG9yIHVzZWQgdG8gcmVsaWFibHkgZGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBhIExvbmcgb3Igbm90LlxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAY29uc3RcbiAqIEBwcml2YXRlXG4gKi9cbkxvbmcucHJvdG90eXBlLl9faXNMb25nX187XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb25nLnByb3RvdHlwZSwgXCJfX2lzTG9uZ19fXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IG9iaiBPYmplY3RcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQGlubmVyXG4gKi9cbmZ1bmN0aW9uIGlzTG9uZyhvYmopIHtcbiAgcmV0dXJuIChvYmogJiYgb2JqW1wiX19pc0xvbmdfX1wiXSkgPT09IHRydWU7XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IHZhbHVlIG51bWJlclxuICogQHJldHVybnMge251bWJlcn1cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBjdHozMih2YWx1ZSkge1xuICB2YXIgYyA9IE1hdGguY2x6MzIodmFsdWUgJiAtdmFsdWUpO1xuICByZXR1cm4gdmFsdWUgPyAzMSAtIGMgOiBjO1xufVxuXG4vKipcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgb2JqZWN0IGlzIGEgTG9uZy5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZy5pc0xvbmcgPSBpc0xvbmc7XG5cbi8qKlxuICogQSBjYWNoZSBvZiB0aGUgTG9uZyByZXByZXNlbnRhdGlvbnMgb2Ygc21hbGwgaW50ZWdlciB2YWx1ZXMuXG4gKiBAdHlwZSB7IU9iamVjdH1cbiAqIEBpbm5lclxuICovXG52YXIgSU5UX0NBQ0hFID0ge307XG5cbi8qKlxuICogQSBjYWNoZSBvZiB0aGUgTG9uZyByZXByZXNlbnRhdGlvbnMgb2Ygc21hbGwgdW5zaWduZWQgaW50ZWdlciB2YWx1ZXMuXG4gKiBAdHlwZSB7IU9iamVjdH1cbiAqIEBpbm5lclxuICovXG52YXIgVUlOVF9DQUNIRSA9IHt9O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tSW50KHZhbHVlLCB1bnNpZ25lZCkge1xuICB2YXIgb2JqLCBjYWNoZWRPYmosIGNhY2hlO1xuICBpZiAodW5zaWduZWQpIHtcbiAgICB2YWx1ZSA+Pj49IDA7XG4gICAgaWYgKGNhY2hlID0gKDAgPD0gdmFsdWUgJiYgdmFsdWUgPCAyNTYpKSB7XG4gICAgICBjYWNoZWRPYmogPSBVSU5UX0NBQ0hFW3ZhbHVlXTtcbiAgICAgIGlmIChjYWNoZWRPYmopXG4gICAgICAgIHJldHVybiBjYWNoZWRPYmo7XG4gICAgfVxuICAgIG9iaiA9IGZyb21CaXRzKHZhbHVlLCAwLCB0cnVlKTtcbiAgICBpZiAoY2FjaGUpXG4gICAgICBVSU5UX0NBQ0hFW3ZhbHVlXSA9IG9iajtcbiAgICByZXR1cm4gb2JqO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlIHw9IDA7XG4gICAgaWYgKGNhY2hlID0gKC0xMjggPD0gdmFsdWUgJiYgdmFsdWUgPCAxMjgpKSB7XG4gICAgICBjYWNoZWRPYmogPSBJTlRfQ0FDSEVbdmFsdWVdO1xuICAgICAgaWYgKGNhY2hlZE9iailcbiAgICAgICAgcmV0dXJuIGNhY2hlZE9iajtcbiAgICB9XG4gICAgb2JqID0gZnJvbUJpdHModmFsdWUsIHZhbHVlIDwgMCA/IC0xIDogMCwgZmFsc2UpO1xuICAgIGlmIChjYWNoZSlcbiAgICAgIElOVF9DQUNIRVt2YWx1ZV0gPSBvYmo7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgZ2l2ZW4gMzIgYml0IGludGVnZXIgdmFsdWUuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBUaGUgMzIgYml0IGludGVnZXIgaW4gcXVlc3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21JbnQgPSBmcm9tSW50O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlLCB1bnNpZ25lZCkge1xuICBpZiAoaXNOYU4odmFsdWUpKVxuICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgaWYgKHVuc2lnbmVkKSB7XG4gICAgaWYgKHZhbHVlIDwgMClcbiAgICAgIHJldHVybiBVWkVSTztcbiAgICBpZiAodmFsdWUgPj0gVFdPX1BXUl82NF9EQkwpXG4gICAgICByZXR1cm4gTUFYX1VOU0lHTkVEX1ZBTFVFO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA8PSAtVFdPX1BXUl82M19EQkwpXG4gICAgICByZXR1cm4gTUlOX1ZBTFVFO1xuICAgIGlmICh2YWx1ZSArIDEgPj0gVFdPX1BXUl82M19EQkwpXG4gICAgICByZXR1cm4gTUFYX1ZBTFVFO1xuICB9XG4gIGlmICh2YWx1ZSA8IDApXG4gICAgcmV0dXJuIGZyb21OdW1iZXIoLXZhbHVlLCB1bnNpZ25lZCkubmVnKCk7XG4gIHJldHVybiBmcm9tQml0cygodmFsdWUgJSBUV09fUFdSXzMyX0RCTCkgfCAwLCAodmFsdWUgLyBUV09fUFdSXzMyX0RCTCkgfCAwLCB1bnNpZ25lZCk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiB2YWx1ZSwgcHJvdmlkZWQgdGhhdCBpdCBpcyBhIGZpbml0ZSBudW1iZXIuIE90aGVyd2lzZSwgemVybyBpcyByZXR1cm5lZC5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFRoZSBudW1iZXIgaW4gcXVlc3Rpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21OdW1iZXIgPSBmcm9tTnVtYmVyO1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzXG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaEJpdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xuZnVuY3Rpb24gZnJvbUJpdHMobG93Qml0cywgaGlnaEJpdHMsIHVuc2lnbmVkKSB7XG4gIHJldHVybiBuZXcgTG9uZyhsb3dCaXRzLCBoaWdoQml0cywgdW5zaWduZWQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBMb25nIHJlcHJlc2VudGluZyB0aGUgNjQgYml0IGludGVnZXIgdGhhdCBjb21lcyBieSBjb25jYXRlbmF0aW5nIHRoZSBnaXZlbiBsb3cgYW5kIGhpZ2ggYml0cy4gRWFjaCBpc1xuICogIGFzc3VtZWQgdG8gdXNlIDMyIGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBsb3dCaXRzIFRoZSBsb3cgMzIgYml0c1xuICogQHBhcmFtIHtudW1iZXJ9IGhpZ2hCaXRzIFRoZSBoaWdoIDMyIGJpdHNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21CaXRzID0gZnJvbUJpdHM7XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gYmFzZVxuICogQHBhcmFtIHtudW1iZXJ9IGV4cG9uZW50XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICogQGlubmVyXG4gKi9cbnZhciBwb3dfZGJsID0gTWF0aC5wb3c7IC8vIFVzZWQgNCB0aW1lcyAoNCo4IHRvIDE1KzQpXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHsoYm9vbGVhbnxudW1iZXIpPX0gdW5zaWduZWRcbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXhcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG5mdW5jdGlvbiBmcm9tU3RyaW5nKHN0ciwgdW5zaWduZWQsIHJhZGl4KSB7XG4gIGlmIChzdHIubGVuZ3RoID09PSAwKVxuICAgIHRocm93IEVycm9yKCdlbXB0eSBzdHJpbmcnKTtcbiAgaWYgKHR5cGVvZiB1bnNpZ25lZCA9PT0gJ251bWJlcicpIHtcbiAgICAvLyBGb3IgZ29vZy5tYXRoLmxvbmcgY29tcGF0aWJpbGl0eVxuICAgIHJhZGl4ID0gdW5zaWduZWQ7XG4gICAgdW5zaWduZWQgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICB1bnNpZ25lZCA9ICEhdW5zaWduZWQ7XG4gIH1cbiAgaWYgKHN0ciA9PT0gXCJOYU5cIiB8fCBzdHIgPT09IFwiSW5maW5pdHlcIiB8fCBzdHIgPT09IFwiK0luZmluaXR5XCIgfHwgc3RyID09PSBcIi1JbmZpbml0eVwiKVxuICAgIHJldHVybiB1bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgcmFkaXggPSByYWRpeCB8fCAxMDtcbiAgaWYgKHJhZGl4IDwgMiB8fCAzNiA8IHJhZGl4KVxuICAgIHRocm93IFJhbmdlRXJyb3IoJ3JhZGl4Jyk7XG5cbiAgdmFyIHA7XG4gIGlmICgocCA9IHN0ci5pbmRleE9mKCctJykpID4gMClcbiAgICB0aHJvdyBFcnJvcignaW50ZXJpb3IgaHlwaGVuJyk7XG4gIGVsc2UgaWYgKHAgPT09IDApIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyhzdHIuc3Vic3RyaW5nKDEpLCB1bnNpZ25lZCwgcmFkaXgpLm5lZygpO1xuICB9XG5cbiAgLy8gRG8gc2V2ZXJhbCAoOCkgZGlnaXRzIGVhY2ggdGltZSB0aHJvdWdoIHRoZSBsb29wLCBzbyBhcyB0b1xuICAvLyBtaW5pbWl6ZSB0aGUgY2FsbHMgdG8gdGhlIHZlcnkgZXhwZW5zaXZlIGVtdWxhdGVkIGRpdi5cbiAgdmFyIHJhZGl4VG9Qb3dlciA9IGZyb21OdW1iZXIocG93X2RibChyYWRpeCwgOCkpO1xuXG4gIHZhciByZXN1bHQgPSBaRVJPO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkgKz0gOCkge1xuICAgIHZhciBzaXplID0gTWF0aC5taW4oOCwgc3RyLmxlbmd0aCAtIGkpLFxuICAgICAgdmFsdWUgPSBwYXJzZUludChzdHIuc3Vic3RyaW5nKGksIGkgKyBzaXplKSwgcmFkaXgpO1xuICAgIGlmIChzaXplIDwgOCkge1xuICAgICAgdmFyIHBvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCBzaXplKSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQubXVsKHBvd2VyKS5hZGQoZnJvbU51bWJlcih2YWx1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSByZXN1bHQubXVsKHJhZGl4VG9Qb3dlcik7XG4gICAgICByZXN1bHQgPSByZXN1bHQuYWRkKGZyb21OdW1iZXIodmFsdWUpKTtcbiAgICB9XG4gIH1cbiAgcmVzdWx0LnVuc2lnbmVkID0gdW5zaWduZWQ7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIExvbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIHN0cmluZywgd3JpdHRlbiB1c2luZyB0aGUgc3BlY2lmaWVkIHJhZGl4LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBMb25nXG4gKiBAcGFyYW0geyhib29sZWFufG51bWJlcik9fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXG4gKiBAcGFyYW0ge251bWJlcj19IHJhZGl4IFRoZSByYWRpeCBpbiB3aGljaCB0aGUgdGV4dCBpcyB3cml0dGVuICgyLTM2KSwgZGVmYXVsdHMgdG8gMTBcbiAqIEByZXR1cm5zIHshTG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfCF7bG93OiBudW1iZXIsIGhpZ2g6IG51bWJlciwgdW5zaWduZWQ6IGJvb2xlYW59fSB2YWxcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xuZnVuY3Rpb24gZnJvbVZhbHVlKHZhbCwgdW5zaWduZWQpIHtcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKVxuICAgIHJldHVybiBmcm9tTnVtYmVyKHZhbCwgdW5zaWduZWQpO1xuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpXG4gICAgcmV0dXJuIGZyb21TdHJpbmcodmFsLCB1bnNpZ25lZCk7XG4gIC8vIFRocm93cyBmb3Igbm9uLW9iamVjdHMsIGNvbnZlcnRzIG5vbi1pbnN0YW5jZW9mIExvbmc6XG4gIHJldHVybiBmcm9tQml0cyh2YWwubG93LCB2YWwuaGlnaCwgdHlwZW9mIHVuc2lnbmVkID09PSAnYm9vbGVhbicgPyB1bnNpZ25lZCA6IHZhbC51bnNpZ25lZCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHNwZWNpZmllZCB2YWx1ZSB0byBhIExvbmcgdXNpbmcgdGhlIGFwcHJvcHJpYXRlIGZyb20qIGZ1bmN0aW9uIGZvciBpdHMgdHlwZS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfCF7bG93OiBudW1iZXIsIGhpZ2g6IG51bWJlciwgdW5zaWduZWQ6IGJvb2xlYW59fSB2YWwgVmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqL1xuTG9uZy5mcm9tVmFsdWUgPSBmcm9tVmFsdWU7XG5cbi8vIE5PVEU6IHRoZSBjb21waWxlciBzaG91bGQgaW5saW5lIHRoZXNlIGNvbnN0YW50IHZhbHVlcyBiZWxvdyBhbmQgdGhlbiByZW1vdmUgdGhlc2UgdmFyaWFibGVzLCBzbyB0aGVyZSBzaG91bGQgYmVcbi8vIG5vIHJ1bnRpbWUgcGVuYWx0eSBmb3IgdGhlc2UuXG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICogQGlubmVyXG4gKi9cbnZhciBUV09fUFdSXzE2X0RCTCA9IDEgPDwgMTY7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICogQGlubmVyXG4gKi9cbnZhciBUV09fUFdSXzI0X0RCTCA9IDEgPDwgMjQ7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICogQGlubmVyXG4gKi9cbnZhciBUV09fUFdSXzMyX0RCTCA9IFRXT19QV1JfMTZfREJMICogVFdPX1BXUl8xNl9EQkw7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICogQGlubmVyXG4gKi9cbnZhciBUV09fUFdSXzY0X0RCTCA9IFRXT19QV1JfMzJfREJMICogVFdPX1BXUl8zMl9EQkw7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICogQGlubmVyXG4gKi9cbnZhciBUV09fUFdSXzYzX0RCTCA9IFRXT19QV1JfNjRfREJMIC8gMjtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAY29uc3RcbiAqIEBpbm5lclxuICovXG52YXIgVFdPX1BXUl8yNCA9IGZyb21JbnQoVFdPX1BXUl8yNF9EQkwpO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgWkVSTyA9IGZyb21JbnQoMCk7XG5cbi8qKlxuICogU2lnbmVkIHplcm8uXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuWkVSTyA9IFpFUk87XG5cbi8qKlxuICogQHR5cGUgeyFMb25nfVxuICogQGlubmVyXG4gKi9cbnZhciBVWkVSTyA9IGZyb21JbnQoMCwgdHJ1ZSk7XG5cbi8qKlxuICogVW5zaWduZWQgemVyby5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5VWkVSTyA9IFVaRVJPO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgT05FID0gZnJvbUludCgxKTtcblxuLyoqXG4gKiBTaWduZWQgb25lLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLk9ORSA9IE9ORTtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIFVPTkUgPSBmcm9tSW50KDEsIHRydWUpO1xuXG4vKipcbiAqIFVuc2lnbmVkIG9uZS5cbiAqIEB0eXBlIHshTG9uZ31cbiAqL1xuTG9uZy5VT05FID0gVU9ORTtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIE5FR19PTkUgPSBmcm9tSW50KC0xKTtcblxuLyoqXG4gKiBTaWduZWQgbmVnYXRpdmUgb25lLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLk5FR19PTkUgPSBORUdfT05FO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgTUFYX1ZBTFVFID0gZnJvbUJpdHMoMHhGRkZGRkZGRiB8IDAsIDB4N0ZGRkZGRkYgfCAwLCBmYWxzZSk7XG5cbi8qKlxuICogTWF4aW11bSBzaWduZWQgdmFsdWUuXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuTUFYX1ZBTFVFID0gTUFYX1ZBTFVFO1xuXG4vKipcbiAqIEB0eXBlIHshTG9uZ31cbiAqIEBpbm5lclxuICovXG52YXIgTUFYX1VOU0lHTkVEX1ZBTFVFID0gZnJvbUJpdHMoMHhGRkZGRkZGRiB8IDAsIDB4RkZGRkZGRkYgfCAwLCB0cnVlKTtcblxuLyoqXG4gKiBNYXhpbXVtIHVuc2lnbmVkIHZhbHVlLlxuICogQHR5cGUgeyFMb25nfVxuICovXG5Mb25nLk1BWF9VTlNJR05FRF9WQUxVRSA9IE1BWF9VTlNJR05FRF9WQUxVRTtcblxuLyoqXG4gKiBAdHlwZSB7IUxvbmd9XG4gKiBAaW5uZXJcbiAqL1xudmFyIE1JTl9WQUxVRSA9IGZyb21CaXRzKDAsIDB4ODAwMDAwMDAgfCAwLCBmYWxzZSk7XG5cbi8qKlxuICogTWluaW11bSBzaWduZWQgdmFsdWUuXG4gKiBAdHlwZSB7IUxvbmd9XG4gKi9cbkxvbmcuTUlOX1ZBTFVFID0gTUlOX1ZBTFVFO1xuXG4vKipcbiAqIEBhbGlhcyBMb25nLnByb3RvdHlwZVxuICogQGlubmVyXG4gKi9cbnZhciBMb25nUHJvdG90eXBlID0gTG9uZy5wcm90b3R5cGU7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIExvbmcgdG8gYSAzMiBiaXQgaW50ZWdlciwgYXNzdW1pbmcgaXQgaXMgYSAzMiBiaXQgaW50ZWdlci5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUudG9JbnQgPSBmdW5jdGlvbiB0b0ludCgpIHtcbiAgcmV0dXJuIHRoaXMudW5zaWduZWQgPyB0aGlzLmxvdyA+Pj4gMCA6IHRoaXMubG93O1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgTG9uZyB0byBhIHRoZSBuZWFyZXN0IGZsb2F0aW5nLXBvaW50IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgdmFsdWUgKGRvdWJsZSwgNTMgYml0IG1hbnRpc3NhKS5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlcigpIHtcbiAgaWYgKHRoaXMudW5zaWduZWQpXG4gICAgcmV0dXJuICgodGhpcy5oaWdoID4+PiAwKSAqIFRXT19QV1JfMzJfREJMKSArICh0aGlzLmxvdyA+Pj4gMCk7XG4gIHJldHVybiB0aGlzLmhpZ2ggKiBUV09fUFdSXzMyX0RCTCArICh0aGlzLmxvdyA+Pj4gMCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBMb25nIHRvIGEgc3RyaW5nIHdyaXR0ZW4gaW4gdGhlIHNwZWNpZmllZCByYWRpeC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7bnVtYmVyPX0gcmFkaXggUmFkaXggKDItMzYpLCBkZWZhdWx0cyB0byAxMFxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBvdmVycmlkZVxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gSWYgYHJhZGl4YCBpcyBvdXQgb2YgcmFuZ2VcbiAqL1xuTG9uZ1Byb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKHJhZGl4KSB7XG4gIHJhZGl4ID0gcmFkaXggfHwgMTA7XG4gIGlmIChyYWRpeCA8IDIgfHwgMzYgPCByYWRpeClcbiAgICB0aHJvdyBSYW5nZUVycm9yKCdyYWRpeCcpO1xuICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICByZXR1cm4gJzAnO1xuICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHsgLy8gVW5zaWduZWQgTG9uZ3MgYXJlIG5ldmVyIG5lZ2F0aXZlXG4gICAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSkge1xuICAgICAgLy8gV2UgbmVlZCB0byBjaGFuZ2UgdGhlIExvbmcgdmFsdWUgYmVmb3JlIGl0IGNhbiBiZSBuZWdhdGVkLCBzbyB3ZSByZW1vdmVcbiAgICAgIC8vIHRoZSBib3R0b20tbW9zdCBkaWdpdCBpbiB0aGlzIGJhc2UgYW5kIHRoZW4gcmVjdXJzZSB0byBkbyB0aGUgcmVzdC5cbiAgICAgIHZhciByYWRpeExvbmcgPSBmcm9tTnVtYmVyKHJhZGl4KSxcbiAgICAgICAgZGl2ID0gdGhpcy5kaXYocmFkaXhMb25nKSxcbiAgICAgICAgcmVtMSA9IGRpdi5tdWwocmFkaXhMb25nKS5zdWIodGhpcyk7XG4gICAgICByZXR1cm4gZGl2LnRvU3RyaW5nKHJhZGl4KSArIHJlbTEudG9JbnQoKS50b1N0cmluZyhyYWRpeCk7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm4gJy0nICsgdGhpcy5uZWcoKS50b1N0cmluZyhyYWRpeCk7XG4gIH1cblxuICAvLyBEbyBzZXZlcmFsICg2KSBkaWdpdHMgZWFjaCB0aW1lIHRocm91Z2ggdGhlIGxvb3AsIHNvIGFzIHRvXG4gIC8vIG1pbmltaXplIHRoZSBjYWxscyB0byB0aGUgdmVyeSBleHBlbnNpdmUgZW11bGF0ZWQgZGl2LlxuICB2YXIgcmFkaXhUb1Bvd2VyID0gZnJvbU51bWJlcihwb3dfZGJsKHJhZGl4LCA2KSwgdGhpcy51bnNpZ25lZCksXG4gICAgcmVtID0gdGhpcztcbiAgdmFyIHJlc3VsdCA9ICcnO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciByZW1EaXYgPSByZW0uZGl2KHJhZGl4VG9Qb3dlciksXG4gICAgICBpbnR2YWwgPSByZW0uc3ViKHJlbURpdi5tdWwocmFkaXhUb1Bvd2VyKSkudG9JbnQoKSA+Pj4gMCxcbiAgICAgIGRpZ2l0cyA9IGludHZhbC50b1N0cmluZyhyYWRpeCk7XG4gICAgcmVtID0gcmVtRGl2O1xuICAgIGlmIChyZW0uaXNaZXJvKCkpXG4gICAgICByZXR1cm4gZGlnaXRzICsgcmVzdWx0O1xuICAgIGVsc2Uge1xuICAgICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPCA2KVxuICAgICAgICBkaWdpdHMgPSAnMCcgKyBkaWdpdHM7XG4gICAgICByZXN1bHQgPSAnJyArIGRpZ2l0cyArIHJlc3VsdDtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGEgc2lnbmVkIGludGVnZXIuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBTaWduZWQgaGlnaCBiaXRzXG4gKi9cbkxvbmdQcm90b3R5cGUuZ2V0SGlnaEJpdHMgPSBmdW5jdGlvbiBnZXRIaWdoQml0cygpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaDtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgaGlnaCAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBVbnNpZ25lZCBoaWdoIGJpdHNcbiAqL1xuTG9uZ1Byb3RvdHlwZS5nZXRIaWdoQml0c1Vuc2lnbmVkID0gZnVuY3Rpb24gZ2V0SGlnaEJpdHNVbnNpZ25lZCgpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaCA+Pj4gMDtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgbG93IDMyIGJpdHMgYXMgYSBzaWduZWQgaW50ZWdlci5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFNpZ25lZCBsb3cgYml0c1xuICovXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHMgPSBmdW5jdGlvbiBnZXRMb3dCaXRzKCkge1xuICByZXR1cm4gdGhpcy5sb3c7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIGxvdyAzMiBiaXRzIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBVbnNpZ25lZCBsb3cgYml0c1xuICovXG5Mb25nUHJvdG90eXBlLmdldExvd0JpdHNVbnNpZ25lZCA9IGZ1bmN0aW9uIGdldExvd0JpdHNVbnNpZ25lZCgpIHtcbiAgcmV0dXJuIHRoaXMubG93ID4+PiAwO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBudW1iZXIgb2YgYml0cyBuZWVkZWQgdG8gcmVwcmVzZW50IHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiB0aGlzIExvbmcuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5Mb25nUHJvdG90eXBlLmdldE51bUJpdHNBYnMgPSBmdW5jdGlvbiBnZXROdW1CaXRzQWJzKCkge1xuICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIC8vIFVuc2lnbmVkIExvbmdzIGFyZSBuZXZlciBuZWdhdGl2ZVxuICAgIHJldHVybiB0aGlzLmVxKE1JTl9WQUxVRSkgPyA2NCA6IHRoaXMubmVnKCkuZ2V0TnVtQml0c0FicygpO1xuICB2YXIgdmFsID0gdGhpcy5oaWdoICE9IDAgPyB0aGlzLmhpZ2ggOiB0aGlzLmxvdztcbiAgZm9yICh2YXIgYml0ID0gMzE7IGJpdCA+IDA7IGJpdC0tKVxuICAgIGlmICgodmFsICYgKDEgPDwgYml0KSkgIT0gMClcbiAgICAgIGJyZWFrO1xuICByZXR1cm4gdGhpcy5oaWdoICE9IDAgPyBiaXQgKyAzMyA6IGJpdCArIDE7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGVxdWFscyB6ZXJvLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gaXNaZXJvKCkge1xuICByZXR1cm4gdGhpcy5oaWdoID09PSAwICYmIHRoaXMubG93ID09PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgemVyby4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNpc1plcm99LlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZXF6ID0gTG9uZ1Byb3RvdHlwZS5pc1plcm87XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbmVnYXRpdmUuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5pc05lZ2F0aXZlID0gZnVuY3Rpb24gaXNOZWdhdGl2ZSgpIHtcbiAgcmV0dXJuICF0aGlzLnVuc2lnbmVkICYmIHRoaXMuaGlnaCA8IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIHBvc2l0aXZlIG9yIHplcm8uXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gaXNQb3NpdGl2ZSgpIHtcbiAgcmV0dXJuIHRoaXMudW5zaWduZWQgfHwgdGhpcy5oaWdoID49IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIG9kZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gaXNPZGQoKSB7XG4gIHJldHVybiAodGhpcy5sb3cgJiAxKSA9PT0gMTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZXZlbi5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbigpIHtcbiAgcmV0dXJuICh0aGlzLmxvdyAmIDEpID09PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBlcXVhbHMgdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gIGlmICghaXNMb25nKG90aGVyKSlcbiAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XG4gIGlmICh0aGlzLnVuc2lnbmVkICE9PSBvdGhlci51bnNpZ25lZCAmJiAodGhpcy5oaWdoID4+PiAzMSkgPT09IDEgJiYgKG90aGVyLmhpZ2ggPj4+IDMxKSA9PT0gMSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0aGlzLmhpZ2ggPT09IG90aGVyLmhpZ2ggJiYgdGhpcy5sb3cgPT09IG90aGVyLmxvdztcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZXF1YWxzIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNlcXVhbHN9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5lcSA9IExvbmdQcm90b3R5cGUuZXF1YWxzO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGRpZmZlcnMgZnJvbSB0aGUgc3BlY2lmaWVkJ3MuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHMgPSBmdW5jdGlvbiBub3RFcXVhbHMob3RoZXIpIHtcbiAgcmV0dXJuICF0aGlzLmVxKC8qIHZhbGlkYXRlcyAqLyBvdGhlcik7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGRpZmZlcnMgZnJvbSB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbm90RXF1YWxzfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUubmVxID0gTG9uZ1Byb3RvdHlwZS5ub3RFcXVhbHM7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgZGlmZmVycyBmcm9tIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNub3RFcXVhbHN9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5uZSA9IExvbmdQcm90b3R5cGUubm90RXF1YWxzO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbiA9IGZ1bmN0aW9uIGxlc3NUaGFuKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA8IDA7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGxlc3MgdGhhbiB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjbGVzc1RoYW59LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5sdCA9IExvbmdQcm90b3R5cGUubGVzc1RoYW47XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbCA9IGZ1bmN0aW9uIGxlc3NUaGFuT3JFcXVhbChvdGhlcikge1xuICByZXR1cm4gdGhpcy5jb21wKC8qIHZhbGlkYXRlcyAqLyBvdGhlcikgPD0gMDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNsZXNzVGhhbk9yRXF1YWx9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IG90aGVyIE90aGVyIHZhbHVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5sdGUgPSBMb25nUHJvdG90eXBlLmxlc3NUaGFuT3JFcXVhbDtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2xlc3NUaGFuT3JFcXVhbH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmxlID0gTG9uZ1Byb3RvdHlwZS5sZXNzVGhhbk9yRXF1YWw7XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuID0gZnVuY3Rpb24gZ3JlYXRlclRoYW4ob3RoZXIpIHtcbiAgcmV0dXJuIHRoaXMuY29tcCgvKiB2YWxpZGF0ZXMgKi8gb3RoZXIpID4gMDtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhpcyBMb25nJ3MgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNncmVhdGVyVGhhbn0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmd0ID0gTG9uZ1Byb3RvdHlwZS5ncmVhdGVyVGhhbjtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsID0gZnVuY3Rpb24gZ3JlYXRlclRoYW5PckVxdWFsKG90aGVyKSB7XG4gIHJldHVybiB0aGlzLmNvbXAoLyogdmFsaWRhdGVzICovIG90aGVyKSA+PSAwO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGlzIExvbmcncyB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdGhlIHNwZWNpZmllZCdzLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI2dyZWF0ZXJUaGFuT3JFcXVhbH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5Mb25nUHJvdG90eXBlLmd0ZSA9IExvbmdQcm90b3R5cGUuZ3JlYXRlclRoYW5PckVxdWFsO1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoaXMgTG9uZydzIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0aGUgc3BlY2lmaWVkJ3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjZ3JlYXRlclRoYW5PckVxdWFsfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbkxvbmdQcm90b3R5cGUuZ2UgPSBMb25nUHJvdG90eXBlLmdyZWF0ZXJUaGFuT3JFcXVhbDtcblxuLyoqXG4gKiBDb21wYXJlcyB0aGlzIExvbmcncyB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQncy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIDEgaWYgdGhlIHRoaXMgaXMgZ3JlYXRlciBhbmQgLTFcbiAqICBpZiB0aGUgZ2l2ZW4gb25lIGlzIGdyZWF0ZXJcbiAqL1xuTG9uZ1Byb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZShvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICBpZiAodGhpcy5lcShvdGhlcikpXG4gICAgcmV0dXJuIDA7XG4gIHZhciB0aGlzTmVnID0gdGhpcy5pc05lZ2F0aXZlKCksXG4gICAgb3RoZXJOZWcgPSBvdGhlci5pc05lZ2F0aXZlKCk7XG4gIGlmICh0aGlzTmVnICYmICFvdGhlck5lZylcbiAgICByZXR1cm4gLTE7XG4gIGlmICghdGhpc05lZyAmJiBvdGhlck5lZylcbiAgICByZXR1cm4gMTtcbiAgLy8gQXQgdGhpcyBwb2ludCB0aGUgc2lnbiBiaXRzIGFyZSB0aGUgc2FtZVxuICBpZiAoIXRoaXMudW5zaWduZWQpXG4gICAgcmV0dXJuIHRoaXMuc3ViKG90aGVyKS5pc05lZ2F0aXZlKCkgPyAtMSA6IDE7XG4gIC8vIEJvdGggYXJlIHBvc2l0aXZlIGlmIGF0IGxlYXN0IG9uZSBpcyB1bnNpZ25lZFxuICByZXR1cm4gKG90aGVyLmhpZ2ggPj4+IDApID4gKHRoaXMuaGlnaCA+Pj4gMCkgfHwgKG90aGVyLmhpZ2ggPT09IHRoaXMuaGlnaCAmJiAob3RoZXIubG93ID4+PiAwKSA+ICh0aGlzLmxvdyA+Pj4gMCkpID8gLTEgOiAxO1xufTtcblxuLyoqXG4gKiBDb21wYXJlcyB0aGlzIExvbmcncyB2YWx1ZSB3aXRoIHRoZSBzcGVjaWZpZWQncy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNjb21wYXJlfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gMCBpZiB0aGV5IGFyZSB0aGUgc2FtZSwgMSBpZiB0aGUgdGhpcyBpcyBncmVhdGVyIGFuZCAtMVxuICogIGlmIHRoZSBnaXZlbiBvbmUgaXMgZ3JlYXRlclxuICovXG5Mb25nUHJvdG90eXBlLmNvbXAgPSBMb25nUHJvdG90eXBlLmNvbXBhcmU7XG5cbi8qKlxuICogTmVnYXRlcyB0aGlzIExvbmcncyB2YWx1ZS5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshTG9uZ30gTmVnYXRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUubmVnYXRlID0gZnVuY3Rpb24gbmVnYXRlKCkge1xuICBpZiAoIXRoaXMudW5zaWduZWQgJiYgdGhpcy5lcShNSU5fVkFMVUUpKVxuICAgIHJldHVybiBNSU5fVkFMVUU7XG4gIHJldHVybiB0aGlzLm5vdCgpLmFkZChPTkUpO1xufTtcblxuLyoqXG4gKiBOZWdhdGVzIHRoaXMgTG9uZydzIHZhbHVlLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI25lZ2F0ZX0uXG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHshTG9uZ30gTmVnYXRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUubmVnID0gTG9uZ1Byb3RvdHlwZS5uZWdhdGU7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgc3VtIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gYWRkZW5kIEFkZGVuZFxuICogQHJldHVybnMgeyFMb25nfSBTdW1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQoYWRkZW5kKSB7XG4gIGlmICghaXNMb25nKGFkZGVuZCkpXG4gICAgYWRkZW5kID0gZnJvbVZhbHVlKGFkZGVuZCk7XG5cbiAgLy8gRGl2aWRlIGVhY2ggbnVtYmVyIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gc3VtIHRoZSBjaHVua3MuXG5cbiAgdmFyIGE0OCA9IHRoaXMuaGlnaCA+Pj4gMTY7XG4gIHZhciBhMzIgPSB0aGlzLmhpZ2ggJiAweEZGRkY7XG4gIHZhciBhMTYgPSB0aGlzLmxvdyA+Pj4gMTY7XG4gIHZhciBhMDAgPSB0aGlzLmxvdyAmIDB4RkZGRjtcblxuICB2YXIgYjQ4ID0gYWRkZW5kLmhpZ2ggPj4+IDE2O1xuICB2YXIgYjMyID0gYWRkZW5kLmhpZ2ggJiAweEZGRkY7XG4gIHZhciBiMTYgPSBhZGRlbmQubG93ID4+PiAxNjtcbiAgdmFyIGIwMCA9IGFkZGVuZC5sb3cgJiAweEZGRkY7XG5cbiAgdmFyIGM0OCA9IDAsIGMzMiA9IDAsIGMxNiA9IDAsIGMwMCA9IDA7XG4gIGMwMCArPSBhMDAgKyBiMDA7XG4gIGMxNiArPSBjMDAgPj4+IDE2O1xuICBjMDAgJj0gMHhGRkZGO1xuICBjMTYgKz0gYTE2ICsgYjE2O1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDB4RkZGRjtcbiAgYzMyICs9IGEzMiArIGIzMjtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSAweEZGRkY7XG4gIGM0OCArPSBhNDggKyBiNDg7XG4gIGM0OCAmPSAweEZGRkY7XG4gIHJldHVybiBmcm9tQml0cygoYzE2IDw8IDE2KSB8IGMwMCwgKGM0OCA8PCAxNikgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gc3VidHJhaGVuZCBTdWJ0cmFoZW5kXG4gKiBAcmV0dXJucyB7IUxvbmd9IERpZmZlcmVuY2VcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zdWJ0cmFjdCA9IGZ1bmN0aW9uIHN1YnRyYWN0KHN1YnRyYWhlbmQpIHtcbiAgaWYgKCFpc0xvbmcoc3VidHJhaGVuZCkpXG4gICAgc3VidHJhaGVuZCA9IGZyb21WYWx1ZShzdWJ0cmFoZW5kKTtcbiAgcmV0dXJuIHRoaXMuYWRkKHN1YnRyYWhlbmQubmVnKCkpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlIG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzdWJ0cmFjdH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gc3VidHJhaGVuZCBTdWJ0cmFoZW5kXG4gKiBAcmV0dXJucyB7IUxvbmd9IERpZmZlcmVuY2VcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zdWIgPSBMb25nUHJvdG90eXBlLnN1YnRyYWN0O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHByb2R1Y3Qgb2YgdGhpcyBhbmQgdGhlIHNwZWNpZmllZCBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBtdWx0aXBsaWVyIE11bHRpcGxpZXJcbiAqIEByZXR1cm5zIHshTG9uZ30gUHJvZHVjdFxuICovXG5Mb25nUHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gbXVsdGlwbHkobXVsdGlwbGllcikge1xuICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKCFpc0xvbmcobXVsdGlwbGllcikpXG4gICAgbXVsdGlwbGllciA9IGZyb21WYWx1ZShtdWx0aXBsaWVyKTtcblxuICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcbiAgaWYgKHdhc20pIHtcbiAgICB2YXIgbG93ID0gd2FzbVtcIm11bFwiXSh0aGlzLmxvdyxcbiAgICAgIHRoaXMuaGlnaCxcbiAgICAgIG11bHRpcGxpZXIubG93LFxuICAgICAgbXVsdGlwbGllci5oaWdoKTtcbiAgICByZXR1cm4gZnJvbUJpdHMobG93LCB3YXNtW1wiZ2V0X2hpZ2hcIl0oKSwgdGhpcy51bnNpZ25lZCk7XG4gIH1cblxuICBpZiAobXVsdGlwbGllci5pc1plcm8oKSlcbiAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgaWYgKHRoaXMuZXEoTUlOX1ZBTFVFKSlcbiAgICByZXR1cm4gbXVsdGlwbGllci5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcbiAgaWYgKG11bHRpcGxpZXIuZXEoTUlOX1ZBTFVFKSlcbiAgICByZXR1cm4gdGhpcy5pc09kZCgpID8gTUlOX1ZBTFVFIDogWkVSTztcblxuICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICBpZiAobXVsdGlwbGllci5pc05lZ2F0aXZlKCkpXG4gICAgICByZXR1cm4gdGhpcy5uZWcoKS5tdWwobXVsdGlwbGllci5uZWcoKSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuIHRoaXMubmVnKCkubXVsKG11bHRpcGxpZXIpLm5lZygpO1xuICB9IGVsc2UgaWYgKG11bHRpcGxpZXIuaXNOZWdhdGl2ZSgpKVxuICAgIHJldHVybiB0aGlzLm11bChtdWx0aXBsaWVyLm5lZygpKS5uZWcoKTtcblxuICAvLyBJZiBib3RoIGxvbmdzIGFyZSBzbWFsbCwgdXNlIGZsb2F0IG11bHRpcGxpY2F0aW9uXG4gIGlmICh0aGlzLmx0KFRXT19QV1JfMjQpICYmIG11bHRpcGxpZXIubHQoVFdPX1BXUl8yNCkpXG4gICAgcmV0dXJuIGZyb21OdW1iZXIodGhpcy50b051bWJlcigpICogbXVsdGlwbGllci50b051bWJlcigpLCB0aGlzLnVuc2lnbmVkKTtcblxuICAvLyBEaXZpZGUgZWFjaCBsb25nIGludG8gNCBjaHVua3Mgb2YgMTYgYml0cywgYW5kIHRoZW4gYWRkIHVwIDR4NCBwcm9kdWN0cy5cbiAgLy8gV2UgY2FuIHNraXAgcHJvZHVjdHMgdGhhdCB3b3VsZCBvdmVyZmxvdy5cblxuICB2YXIgYTQ4ID0gdGhpcy5oaWdoID4+PiAxNjtcbiAgdmFyIGEzMiA9IHRoaXMuaGlnaCAmIDB4RkZGRjtcbiAgdmFyIGExNiA9IHRoaXMubG93ID4+PiAxNjtcbiAgdmFyIGEwMCA9IHRoaXMubG93ICYgMHhGRkZGO1xuXG4gIHZhciBiNDggPSBtdWx0aXBsaWVyLmhpZ2ggPj4+IDE2O1xuICB2YXIgYjMyID0gbXVsdGlwbGllci5oaWdoICYgMHhGRkZGO1xuICB2YXIgYjE2ID0gbXVsdGlwbGllci5sb3cgPj4+IDE2O1xuICB2YXIgYjAwID0gbXVsdGlwbGllci5sb3cgJiAweEZGRkY7XG5cbiAgdmFyIGM0OCA9IDAsIGMzMiA9IDAsIGMxNiA9IDAsIGMwMCA9IDA7XG4gIGMwMCArPSBhMDAgKiBiMDA7XG4gIGMxNiArPSBjMDAgPj4+IDE2O1xuICBjMDAgJj0gMHhGRkZGO1xuICBjMTYgKz0gYTE2ICogYjAwO1xuICBjMzIgKz0gYzE2ID4+PiAxNjtcbiAgYzE2ICY9IDB4RkZGRjtcbiAgYzE2ICs9IGEwMCAqIGIxNjtcbiAgYzMyICs9IGMxNiA+Pj4gMTY7XG4gIGMxNiAmPSAweEZGRkY7XG4gIGMzMiArPSBhMzIgKiBiMDA7XG4gIGM0OCArPSBjMzIgPj4+IDE2O1xuICBjMzIgJj0gMHhGRkZGO1xuICBjMzIgKz0gYTE2ICogYjE2O1xuICBjNDggKz0gYzMyID4+PiAxNjtcbiAgYzMyICY9IDB4RkZGRjtcbiAgYzMyICs9IGEwMCAqIGIzMjtcbiAgYzQ4ICs9IGMzMiA+Pj4gMTY7XG4gIGMzMiAmPSAweEZGRkY7XG4gIGM0OCArPSBhNDggKiBiMDAgKyBhMzIgKiBiMTYgKyBhMTYgKiBiMzIgKyBhMDAgKiBiNDg7XG4gIGM0OCAmPSAweEZGRkY7XG4gIHJldHVybiBmcm9tQml0cygoYzE2IDw8IDE2KSB8IGMwMCwgKGM0OCA8PCAxNikgfCBjMzIsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwcm9kdWN0IG9mIHRoaXMgYW5kIHRoZSBzcGVjaWZpZWQgTG9uZy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNtdWx0aXBseX0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gbXVsdGlwbGllciBNdWx0aXBsaWVyXG4gKiBAcmV0dXJucyB7IUxvbmd9IFByb2R1Y3RcbiAqL1xuTG9uZ1Byb3RvdHlwZS5tdWwgPSBMb25nUHJvdG90eXBlLm11bHRpcGx5O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIGRpdmlkZWQgYnkgdGhlIHNwZWNpZmllZC4gVGhlIHJlc3VsdCBpcyBzaWduZWQgaWYgdGhpcyBMb25nIGlzIHNpZ25lZCBvclxuICogIHVuc2lnbmVkIGlmIHRoaXMgTG9uZyBpcyB1bnNpZ25lZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXG4gKiBAcmV0dXJucyB7IUxvbmd9IFF1b3RpZW50XG4gKi9cbkxvbmdQcm90b3R5cGUuZGl2aWRlID0gZnVuY3Rpb24gZGl2aWRlKGRpdmlzb3IpIHtcbiAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXG4gICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcbiAgaWYgKGRpdmlzb3IuaXNaZXJvKCkpXG4gICAgdGhyb3cgRXJyb3IoJ2RpdmlzaW9uIGJ5IHplcm8nKTtcblxuICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcbiAgaWYgKHdhc20pIHtcbiAgICAvLyBndWFyZCBhZ2FpbnN0IHNpZ25lZCBkaXZpc2lvbiBvdmVyZmxvdzogdGhlIGxhcmdlc3RcbiAgICAvLyBuZWdhdGl2ZSBudW1iZXIgLyAtMSB3b3VsZCBiZSAxIGxhcmdlciB0aGFuIHRoZSBsYXJnZXN0XG4gICAgLy8gcG9zaXRpdmUgbnVtYmVyLCBkdWUgdG8gdHdvJ3MgY29tcGxlbWVudC5cbiAgICBpZiAoIXRoaXMudW5zaWduZWQgJiZcbiAgICAgIHRoaXMuaGlnaCA9PT0gLTB4ODAwMDAwMDAgJiZcbiAgICAgIGRpdmlzb3IubG93ID09PSAtMSAmJiBkaXZpc29yLmhpZ2ggPT09IC0xKSB7XG4gICAgICAvLyBiZSBjb25zaXN0ZW50IHdpdGggbm9uLXdhc20gY29kZSBwYXRoXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIGxvdyA9ICh0aGlzLnVuc2lnbmVkID8gd2FzbVtcImRpdl91XCJdIDogd2FzbVtcImRpdl9zXCJdKShcbiAgICAgIHRoaXMubG93LFxuICAgICAgdGhpcy5oaWdoLFxuICAgICAgZGl2aXNvci5sb3csXG4gICAgICBkaXZpc29yLmhpZ2hcbiAgICApO1xuICAgIHJldHVybiBmcm9tQml0cyhsb3csIHdhc21bXCJnZXRfaGlnaFwiXSgpLCB0aGlzLnVuc2lnbmVkKTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzWmVybygpKVxuICAgIHJldHVybiB0aGlzLnVuc2lnbmVkID8gVVpFUk8gOiBaRVJPO1xuICB2YXIgYXBwcm94LCByZW0sIHJlcztcbiAgaWYgKCF0aGlzLnVuc2lnbmVkKSB7XG4gICAgLy8gVGhpcyBzZWN0aW9uIGlzIG9ubHkgcmVsZXZhbnQgZm9yIHNpZ25lZCBsb25ncyBhbmQgaXMgZGVyaXZlZCBmcm9tIHRoZVxuICAgIC8vIGNsb3N1cmUgbGlicmFyeSBhcyBhIHdob2xlLlxuICAgIGlmICh0aGlzLmVxKE1JTl9WQUxVRSkpIHtcbiAgICAgIGlmIChkaXZpc29yLmVxKE9ORSkgfHwgZGl2aXNvci5lcShORUdfT05FKSlcbiAgICAgICAgcmV0dXJuIE1JTl9WQUxVRTsgIC8vIHJlY2FsbCB0aGF0IC1NSU5fVkFMVUUgPT0gTUlOX1ZBTFVFXG4gICAgICBlbHNlIGlmIChkaXZpc29yLmVxKE1JTl9WQUxVRSkpXG4gICAgICAgIHJldHVybiBPTkU7XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgaGF2ZSB8b3RoZXJ8ID49IDIsIHNvIHx0aGlzL290aGVyfCA8IHxNSU5fVkFMVUV8LlxuICAgICAgICB2YXIgaGFsZlRoaXMgPSB0aGlzLnNocigxKTtcbiAgICAgICAgYXBwcm94ID0gaGFsZlRoaXMuZGl2KGRpdmlzb3IpLnNobCgxKTtcbiAgICAgICAgaWYgKGFwcHJveC5lcShaRVJPKSkge1xuICAgICAgICAgIHJldHVybiBkaXZpc29yLmlzTmVnYXRpdmUoKSA/IE9ORSA6IE5FR19PTkU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVtID0gdGhpcy5zdWIoZGl2aXNvci5tdWwoYXBwcm94KSk7XG4gICAgICAgICAgcmVzID0gYXBwcm94LmFkZChyZW0uZGl2KGRpdmlzb3IpKTtcbiAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkaXZpc29yLmVxKE1JTl9WQUxVRSkpXG4gICAgICByZXR1cm4gdGhpcy51bnNpZ25lZCA/IFVaRVJPIDogWkVSTztcbiAgICBpZiAodGhpcy5pc05lZ2F0aXZlKCkpIHtcbiAgICAgIGlmIChkaXZpc29yLmlzTmVnYXRpdmUoKSlcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IubmVnKCkpO1xuICAgICAgcmV0dXJuIHRoaXMubmVnKCkuZGl2KGRpdmlzb3IpLm5lZygpO1xuICAgIH0gZWxzZSBpZiAoZGl2aXNvci5pc05lZ2F0aXZlKCkpXG4gICAgICByZXR1cm4gdGhpcy5kaXYoZGl2aXNvci5uZWcoKSkubmVnKCk7XG4gICAgcmVzID0gWkVSTztcbiAgfSBlbHNlIHtcbiAgICAvLyBUaGUgYWxnb3JpdGhtIGJlbG93IGhhcyBub3QgYmVlbiBtYWRlIGZvciB1bnNpZ25lZCBsb25ncy4gSXQncyB0aGVyZWZvcmVcbiAgICAvLyByZXF1aXJlZCB0byB0YWtlIHNwZWNpYWwgY2FyZSBvZiB0aGUgTVNCIHByaW9yIHRvIHJ1bm5pbmcgaXQuXG4gICAgaWYgKCFkaXZpc29yLnVuc2lnbmVkKVxuICAgICAgZGl2aXNvciA9IGRpdmlzb3IudG9VbnNpZ25lZCgpO1xuICAgIGlmIChkaXZpc29yLmd0KHRoaXMpKVxuICAgICAgcmV0dXJuIFVaRVJPO1xuICAgIGlmIChkaXZpc29yLmd0KHRoaXMuc2hydSgxKSkpIC8vIDE1ID4+PiAxID0gNyA7IHdpdGggZGl2aXNvciA9IDggOyB0cnVlXG4gICAgICByZXR1cm4gVU9ORTtcbiAgICByZXMgPSBVWkVSTztcbiAgfVxuXG4gIC8vIFJlcGVhdCB0aGUgZm9sbG93aW5nIHVudGlsIHRoZSByZW1haW5kZXIgaXMgbGVzcyB0aGFuIG90aGVyOiAgZmluZCBhXG4gIC8vIGZsb2F0aW5nLXBvaW50IHRoYXQgYXBwcm94aW1hdGVzIHJlbWFpbmRlciAvIG90aGVyICpmcm9tIGJlbG93KiwgYWRkIHRoaXNcbiAgLy8gaW50byB0aGUgcmVzdWx0LCBhbmQgc3VidHJhY3QgaXQgZnJvbSB0aGUgcmVtYWluZGVyLiAgSXQgaXMgY3JpdGljYWwgdGhhdFxuICAvLyB0aGUgYXBwcm94aW1hdGUgdmFsdWUgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSByZWFsIHZhbHVlIHNvIHRoYXQgdGhlXG4gIC8vIHJlbWFpbmRlciBuZXZlciBiZWNvbWVzIG5lZ2F0aXZlLlxuICByZW0gPSB0aGlzO1xuICB3aGlsZSAocmVtLmd0ZShkaXZpc29yKSkge1xuICAgIC8vIEFwcHJveGltYXRlIHRoZSByZXN1bHQgb2YgZGl2aXNpb24uIFRoaXMgbWF5IGJlIGEgbGl0dGxlIGdyZWF0ZXIgb3JcbiAgICAvLyBzbWFsbGVyIHRoYW4gdGhlIGFjdHVhbCB2YWx1ZS5cbiAgICBhcHByb3ggPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHJlbS50b051bWJlcigpIC8gZGl2aXNvci50b051bWJlcigpKSk7XG5cbiAgICAvLyBXZSB3aWxsIHR3ZWFrIHRoZSBhcHByb3hpbWF0ZSByZXN1bHQgYnkgY2hhbmdpbmcgaXQgaW4gdGhlIDQ4LXRoIGRpZ2l0IG9yXG4gICAgLy8gdGhlIHNtYWxsZXN0IG5vbi1mcmFjdGlvbmFsIGRpZ2l0LCB3aGljaGV2ZXIgaXMgbGFyZ2VyLlxuICAgIHZhciBsb2cyID0gTWF0aC5jZWlsKE1hdGgubG9nKGFwcHJveCkgLyBNYXRoLkxOMiksXG4gICAgICBkZWx0YSA9IChsb2cyIDw9IDQ4KSA/IDEgOiBwb3dfZGJsKDIsIGxvZzIgLSA0OCksXG5cbiAgICAgIC8vIERlY3JlYXNlIHRoZSBhcHByb3hpbWF0aW9uIHVudGlsIGl0IGlzIHNtYWxsZXIgdGhhbiB0aGUgcmVtYWluZGVyLiAgTm90ZVxuICAgICAgLy8gdGhhdCBpZiBpdCBpcyB0b28gbGFyZ2UsIHRoZSBwcm9kdWN0IG92ZXJmbG93cyBhbmQgaXMgbmVnYXRpdmUuXG4gICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCksXG4gICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xuICAgIHdoaWxlIChhcHByb3hSZW0uaXNOZWdhdGl2ZSgpIHx8IGFwcHJveFJlbS5ndChyZW0pKSB7XG4gICAgICBhcHByb3ggLT0gZGVsdGE7XG4gICAgICBhcHByb3hSZXMgPSBmcm9tTnVtYmVyKGFwcHJveCwgdGhpcy51bnNpZ25lZCk7XG4gICAgICBhcHByb3hSZW0gPSBhcHByb3hSZXMubXVsKGRpdmlzb3IpO1xuICAgIH1cblxuICAgIC8vIFdlIGtub3cgdGhlIGFuc3dlciBjYW4ndCBiZSB6ZXJvLi4uIGFuZCBhY3R1YWxseSwgemVybyB3b3VsZCBjYXVzZVxuICAgIC8vIGluZmluaXRlIHJlY3Vyc2lvbiBzaW5jZSB3ZSB3b3VsZCBtYWtlIG5vIHByb2dyZXNzLlxuICAgIGlmIChhcHByb3hSZXMuaXNaZXJvKCkpXG4gICAgICBhcHByb3hSZXMgPSBPTkU7XG5cbiAgICByZXMgPSByZXMuYWRkKGFwcHJveFJlcyk7XG4gICAgcmVtID0gcmVtLnN1YihhcHByb3hSZW0pO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIGRpdmlkZWQgYnkgdGhlIHNwZWNpZmllZC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNkaXZpZGV9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFMb25nfG51bWJlcnxzdHJpbmd9IGRpdmlzb3IgRGl2aXNvclxuICogQHJldHVybnMgeyFMb25nfSBRdW90aWVudFxuICovXG5Mb25nUHJvdG90eXBlLmRpdiA9IExvbmdQcm90b3R5cGUuZGl2aWRlO1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBkaXZpc29yIERpdmlzb3JcbiAqIEByZXR1cm5zIHshTG9uZ30gUmVtYWluZGVyXG4gKi9cbkxvbmdQcm90b3R5cGUubW9kdWxvID0gZnVuY3Rpb24gbW9kdWxvKGRpdmlzb3IpIHtcbiAgaWYgKCFpc0xvbmcoZGl2aXNvcikpXG4gICAgZGl2aXNvciA9IGZyb21WYWx1ZShkaXZpc29yKTtcblxuICAvLyB1c2Ugd2FzbSBzdXBwb3J0IGlmIHByZXNlbnRcbiAgaWYgKHdhc20pIHtcbiAgICB2YXIgbG93ID0gKHRoaXMudW5zaWduZWQgPyB3YXNtW1wicmVtX3VcIl0gOiB3YXNtW1wicmVtX3NcIl0pKFxuICAgICAgdGhpcy5sb3csXG4gICAgICB0aGlzLmhpZ2gsXG4gICAgICBkaXZpc29yLmxvdyxcbiAgICAgIGRpdmlzb3IuaGlnaFxuICAgICk7XG4gICAgcmV0dXJuIGZyb21CaXRzKGxvdywgd2FzbVtcImdldF9oaWdoXCJdKCksIHRoaXMudW5zaWduZWQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc3ViKHRoaXMuZGl2KGRpdmlzb3IpLm11bChkaXZpc29yKSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxuICovXG5Mb25nUHJvdG90eXBlLm1vZCA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIG1vZHVsbyB0aGUgc3BlY2lmaWVkLiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI21vZHVsb30uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gZGl2aXNvciBEaXZpc29yXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJlbWFpbmRlclxuICovXG5Mb25nUHJvdG90eXBlLnJlbSA9IExvbmdQcm90b3R5cGUubW9kdWxvO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgTk9UIG9mIHRoaXMgTG9uZy5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshTG9uZ31cbiAqL1xuTG9uZ1Byb3RvdHlwZS5ub3QgPSBmdW5jdGlvbiBub3QoKSB7XG4gIHJldHVybiBmcm9tQml0cyh+dGhpcy5sb3csIH50aGlzLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGNvdW50IGxlYWRpbmcgemVyb3Mgb2YgdGhpcyBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUuY291bnRMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiBjb3VudExlYWRpbmdaZXJvcygpIHtcbiAgcmV0dXJuIHRoaXMuaGlnaCA/IE1hdGguY2x6MzIodGhpcy5oaWdoKSA6IE1hdGguY2x6MzIodGhpcy5sb3cpICsgMzI7XG59O1xuXG4vKipcbiAqIFJldHVybnMgY291bnQgbGVhZGluZyB6ZXJvcy4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNjb3VudExlYWRpbmdaZXJvc30uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IW51bWJlcn1cbiAqL1xuTG9uZ1Byb3RvdHlwZS5jbHogPSBMb25nUHJvdG90eXBlLmNvdW50TGVhZGluZ1plcm9zO1xuXG4vKipcbiAqIFJldHVybnMgY291bnQgdHJhaWxpbmcgemVyb3Mgb2YgdGhpcyBMb25nLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFudW1iZXJ9XG4gKi9cbkxvbmdQcm90b3R5cGUuY291bnRUcmFpbGluZ1plcm9zID0gZnVuY3Rpb24gY291bnRUcmFpbGluZ1plcm9zKCkge1xuICByZXR1cm4gdGhpcy5sb3cgPyBjdHozMih0aGlzLmxvdykgOiBjdHozMih0aGlzLmhpZ2gpICsgMzI7XG59O1xuXG4vKipcbiAqIFJldHVybnMgY291bnQgdHJhaWxpbmcgemVyb3MuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjY291bnRUcmFpbGluZ1plcm9zfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTG9uZ31cbiAqIEByZXR1cm5zIHshbnVtYmVyfVxuICovXG5Mb25nUHJvdG90eXBlLmN0eiA9IExvbmdQcm90b3R5cGUuY291bnRUcmFpbGluZ1plcm9zO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGJpdHdpc2UgQU5EIG9mIHRoaXMgTG9uZyBhbmQgdGhlIHNwZWNpZmllZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nUHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIGFuZChvdGhlcikge1xuICBpZiAoIWlzTG9uZyhvdGhlcikpXG4gICAgb3RoZXIgPSBmcm9tVmFsdWUob3RoZXIpO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgJiBvdGhlci5sb3csIHRoaXMuaGlnaCAmIG90aGVyLmhpZ2gsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiaXR3aXNlIE9SIG9mIHRoaXMgTG9uZyBhbmQgdGhlIHNwZWNpZmllZC5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEBwYXJhbSB7IUxvbmd8bnVtYmVyfHN0cmluZ30gb3RoZXIgT3RoZXIgTG9uZ1xuICogQHJldHVybnMgeyFMb25nfVxuICovXG5Mb25nUHJvdG90eXBlLm9yID0gZnVuY3Rpb24gb3Iob3RoZXIpIHtcbiAgaWYgKCFpc0xvbmcob3RoZXIpKVxuICAgIG90aGVyID0gZnJvbVZhbHVlKG90aGVyKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMubG93IHwgb3RoZXIubG93LCB0aGlzLmhpZ2ggfCBvdGhlci5oaWdoLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYml0d2lzZSBYT1Igb2YgdGhpcyBMb25nIGFuZCB0aGUgZ2l2ZW4gb25lLlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHshTG9uZ3xudW1iZXJ8c3RyaW5nfSBvdGhlciBPdGhlciBMb25nXG4gKiBAcmV0dXJucyB7IUxvbmd9XG4gKi9cbkxvbmdQcm90b3R5cGUueG9yID0gZnVuY3Rpb24geG9yKG90aGVyKSB7XG4gIGlmICghaXNMb25nKG90aGVyKSlcbiAgICBvdGhlciA9IGZyb21WYWx1ZShvdGhlcik7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdyBeIG90aGVyLmxvdywgdGhpcy5oaWdoIF4gb3RoZXIuaGlnaCwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBzaGlmdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaGlmdExlZnQgPSBmdW5jdGlvbiBzaGlmdExlZnQobnVtQml0cykge1xuICBpZiAoaXNMb25nKG51bUJpdHMpKVxuICAgIG51bUJpdHMgPSBudW1CaXRzLnRvSW50KCk7XG4gIGlmICgobnVtQml0cyAmPSA2MykgPT09IDApXG4gICAgcmV0dXJuIHRoaXM7XG4gIGVsc2UgaWYgKG51bUJpdHMgPCAzMilcbiAgICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3cgPDwgbnVtQml0cywgKHRoaXMuaGlnaCA8PCBudW1CaXRzKSB8ICh0aGlzLmxvdyA+Pj4gKDMyIC0gbnVtQml0cykpLCB0aGlzLnVuc2lnbmVkKTtcbiAgZWxzZVxuICAgIHJldHVybiBmcm9tQml0cygwLCB0aGlzLmxvdyA8PCAobnVtQml0cyAtIDMyKSwgdGhpcy51bnNpZ25lZCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBzaGlmdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRMZWZ0fS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUuc2hsID0gTG9uZ1Byb3RvdHlwZS5zaGlmdExlZnQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGFyaXRobWV0aWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0ID0gZnVuY3Rpb24gc2hpZnRSaWdodChudW1CaXRzKSB7XG4gIGlmIChpc0xvbmcobnVtQml0cykpXG4gICAgbnVtQml0cyA9IG51bUJpdHMudG9JbnQoKTtcbiAgaWYgKChudW1CaXRzICY9IDYzKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcztcbiAgZWxzZSBpZiAobnVtQml0cyA8IDMyKVxuICAgIHJldHVybiBmcm9tQml0cygodGhpcy5sb3cgPj4+IG51bUJpdHMpIHwgKHRoaXMuaGlnaCA8PCAoMzIgLSBudW1CaXRzKSksIHRoaXMuaGlnaCA+PiBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcbiAgZWxzZVxuICAgIHJldHVybiBmcm9tQml0cyh0aGlzLmhpZ2ggPj4gKG51bUJpdHMgLSAzMiksIHRoaXMuaGlnaCA+PSAwID8gMCA6IC0xLCB0aGlzLnVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGlzIExvbmcgd2l0aCBiaXRzIGFyaXRobWV0aWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRSaWdodH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFNoaWZ0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnNociA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgbG9naWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaGlmdFJpZ2h0VW5zaWduZWQgPSBmdW5jdGlvbiBzaGlmdFJpZ2h0VW5zaWduZWQobnVtQml0cykge1xuICBpZiAoaXNMb25nKG51bUJpdHMpKSBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKSByZXR1cm4gdGhpcztcbiAgaWYgKG51bUJpdHMgPCAzMikgcmV0dXJuIGZyb21CaXRzKCh0aGlzLmxvdyA+Pj4gbnVtQml0cykgfCAodGhpcy5oaWdoIDw8ICgzMiAtIG51bUJpdHMpKSwgdGhpcy5oaWdoID4+PiBudW1CaXRzLCB0aGlzLnVuc2lnbmVkKTtcbiAgaWYgKG51bUJpdHMgPT09IDMyKSByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoLCAwLCB0aGlzLnVuc2lnbmVkKTtcbiAgcmV0dXJuIGZyb21CaXRzKHRoaXMuaGlnaCA+Pj4gKG51bUJpdHMgLSAzMiksIDAsIHRoaXMudW5zaWduZWQpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgbG9naWNhbGx5IHNoaWZ0ZWQgdG8gdGhlIHJpZ2h0IGJ5IHRoZSBnaXZlbiBhbW91bnQuIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIExvbmcjc2hpZnRSaWdodFVuc2lnbmVkfS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gU2hpZnRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUuc2hydSA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkO1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyBsb2dpY2FsbHkgc2hpZnRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNzaGlmdFJpZ2h0VW5zaWduZWR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBTaGlmdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5zaHJfdSA9IExvbmdQcm90b3R5cGUuc2hpZnRSaWdodFVuc2lnbmVkO1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyByb3RhdGVkIHRvIHRoZSBsZWZ0IGJ5IHRoZSBnaXZlbiBhbW91bnQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBSb3RhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5yb3RhdGVMZWZ0ID0gZnVuY3Rpb24gcm90YXRlTGVmdChudW1CaXRzKSB7XG4gIHZhciBiO1xuICBpZiAoaXNMb25nKG51bUJpdHMpKSBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKSByZXR1cm4gdGhpcztcbiAgaWYgKG51bUJpdHMgPT09IDMyKSByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoLCB0aGlzLmxvdywgdGhpcy51bnNpZ25lZCk7XG4gIGlmIChudW1CaXRzIDwgMzIpIHtcbiAgICBiID0gKDMyIC0gbnVtQml0cyk7XG4gICAgcmV0dXJuIGZyb21CaXRzKCgodGhpcy5sb3cgPDwgbnVtQml0cykgfCAodGhpcy5oaWdoID4+PiBiKSksICgodGhpcy5oaWdoIDw8IG51bUJpdHMpIHwgKHRoaXMubG93ID4+PiBiKSksIHRoaXMudW5zaWduZWQpO1xuICB9XG4gIG51bUJpdHMgLT0gMzI7XG4gIGIgPSAoMzIgLSBudW1CaXRzKTtcbiAgcmV0dXJuIGZyb21CaXRzKCgodGhpcy5oaWdoIDw8IG51bUJpdHMpIHwgKHRoaXMubG93ID4+PiBiKSksICgodGhpcy5sb3cgPDwgbnVtQml0cykgfCAodGhpcy5oaWdoID4+PiBiKSksIHRoaXMudW5zaWduZWQpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgcm90YXRlZCB0byB0aGUgbGVmdCBieSB0aGUgZ2l2ZW4gYW1vdW50LiBUaGlzIGlzIGFuIGFsaWFzIG9mIHtAbGluayBMb25nI3JvdGF0ZUxlZnR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcnwhTG9uZ30gbnVtQml0cyBOdW1iZXIgb2YgYml0c1xuICogQHJldHVybnMgeyFMb25nfSBSb3RhdGVkIExvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS5yb3RsID0gTG9uZ1Byb3RvdHlwZS5yb3RhdGVMZWZ0O1xuXG4vKipcbiAqIFJldHVybnMgdGhpcyBMb25nIHdpdGggYml0cyByb3RhdGVkIHRvIHRoZSByaWdodCBieSB0aGUgZ2l2ZW4gYW1vdW50LlxuICogQHRoaXMgeyFMb25nfVxuICogQHBhcmFtIHtudW1iZXJ8IUxvbmd9IG51bUJpdHMgTnVtYmVyIG9mIGJpdHNcbiAqIEByZXR1cm5zIHshTG9uZ30gUm90YXRlZCBMb25nXG4gKi9cbkxvbmdQcm90b3R5cGUucm90YXRlUmlnaHQgPSBmdW5jdGlvbiByb3RhdGVSaWdodChudW1CaXRzKSB7XG4gIHZhciBiO1xuICBpZiAoaXNMb25nKG51bUJpdHMpKSBudW1CaXRzID0gbnVtQml0cy50b0ludCgpO1xuICBpZiAoKG51bUJpdHMgJj0gNjMpID09PSAwKSByZXR1cm4gdGhpcztcbiAgaWYgKG51bUJpdHMgPT09IDMyKSByZXR1cm4gZnJvbUJpdHModGhpcy5oaWdoLCB0aGlzLmxvdywgdGhpcy51bnNpZ25lZCk7XG4gIGlmIChudW1CaXRzIDwgMzIpIHtcbiAgICBiID0gKDMyIC0gbnVtQml0cyk7XG4gICAgcmV0dXJuIGZyb21CaXRzKCgodGhpcy5oaWdoIDw8IGIpIHwgKHRoaXMubG93ID4+PiBudW1CaXRzKSksICgodGhpcy5sb3cgPDwgYikgfCAodGhpcy5oaWdoID4+PiBudW1CaXRzKSksIHRoaXMudW5zaWduZWQpO1xuICB9XG4gIG51bUJpdHMgLT0gMzI7XG4gIGIgPSAoMzIgLSBudW1CaXRzKTtcbiAgcmV0dXJuIGZyb21CaXRzKCgodGhpcy5sb3cgPDwgYikgfCAodGhpcy5oaWdoID4+PiBudW1CaXRzKSksICgodGhpcy5oaWdoIDw8IGIpIHwgKHRoaXMubG93ID4+PiBudW1CaXRzKSksIHRoaXMudW5zaWduZWQpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoaXMgTG9uZyB3aXRoIGJpdHMgcm90YXRlZCB0byB0aGUgcmlnaHQgYnkgdGhlIGdpdmVuIGFtb3VudC4gVGhpcyBpcyBhbiBhbGlhcyBvZiB7QGxpbmsgTG9uZyNyb3RhdGVSaWdodH0uXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfCFMb25nfSBudW1CaXRzIE51bWJlciBvZiBiaXRzXG4gKiBAcmV0dXJucyB7IUxvbmd9IFJvdGF0ZWQgTG9uZ1xuICovXG5Mb25nUHJvdG90eXBlLnJvdHIgPSBMb25nUHJvdG90eXBlLnJvdGF0ZVJpZ2h0O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBzaWduZWQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUxvbmd9IFNpZ25lZCBsb25nXG4gKi9cbkxvbmdQcm90b3R5cGUudG9TaWduZWQgPSBmdW5jdGlvbiB0b1NpZ25lZCgpIHtcbiAgaWYgKCF0aGlzLnVuc2lnbmVkKVxuICAgIHJldHVybiB0aGlzO1xuICByZXR1cm4gZnJvbUJpdHModGhpcy5sb3csIHRoaXMuaGlnaCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gdW5zaWduZWQuXG4gKiBAdGhpcyB7IUxvbmd9XG4gKiBAcmV0dXJucyB7IUxvbmd9IFVuc2lnbmVkIGxvbmdcbiAqL1xuTG9uZ1Byb3RvdHlwZS50b1Vuc2lnbmVkID0gZnVuY3Rpb24gdG9VbnNpZ25lZCgpIHtcbiAgaWYgKHRoaXMudW5zaWduZWQpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHJldHVybiBmcm9tQml0cyh0aGlzLmxvdywgdGhpcy5oaWdoLCB0cnVlKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBMb25nIHRvIGl0cyBieXRlIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIHtib29sZWFuPX0gbGUgV2hldGhlciBsaXR0bGUgb3IgYmlnIGVuZGlhbiwgZGVmYXVsdHMgdG8gYmlnIGVuZGlhblxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gQnl0ZSByZXByZXNlbnRhdGlvblxuICovXG5Mb25nUHJvdG90eXBlLnRvQnl0ZXMgPSBmdW5jdGlvbiB0b0J5dGVzKGxlKSB7XG4gIHJldHVybiBsZSA/IHRoaXMudG9CeXRlc0xFKCkgOiB0aGlzLnRvQnl0ZXNCRSgpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIExvbmcgdG8gaXRzIGxpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cbiAqIEB0aGlzIHshTG9uZ31cbiAqIEByZXR1cm5zIHshQXJyYXkuPG51bWJlcj59IExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxuICovXG5Mb25nUHJvdG90eXBlLnRvQnl0ZXNMRSA9IGZ1bmN0aW9uIHRvQnl0ZXNMRSgpIHtcbiAgdmFyIGhpID0gdGhpcy5oaWdoLFxuICAgIGxvID0gdGhpcy5sb3c7XG4gIHJldHVybiBbXG4gICAgbG8gJiAweGZmLFxuICAgIGxvID4+PiA4ICYgMHhmZixcbiAgICBsbyA+Pj4gMTYgJiAweGZmLFxuICAgIGxvID4+PiAyNCxcbiAgICBoaSAmIDB4ZmYsXG4gICAgaGkgPj4+IDggJiAweGZmLFxuICAgIGhpID4+PiAxNiAmIDB4ZmYsXG4gICAgaGkgPj4+IDI0XG4gIF07XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgTG9uZyB0byBpdHMgYmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxuICogQHRoaXMgeyFMb25nfVxuICogQHJldHVybnMgeyFBcnJheS48bnVtYmVyPn0gQmlnIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uXG4gKi9cbkxvbmdQcm90b3R5cGUudG9CeXRlc0JFID0gZnVuY3Rpb24gdG9CeXRlc0JFKCkge1xuICB2YXIgaGkgPSB0aGlzLmhpZ2gsXG4gICAgbG8gPSB0aGlzLmxvdztcbiAgcmV0dXJuIFtcbiAgICBoaSA+Pj4gMjQsXG4gICAgaGkgPj4+IDE2ICYgMHhmZixcbiAgICBoaSA+Pj4gOCAmIDB4ZmYsXG4gICAgaGkgJiAweGZmLFxuICAgIGxvID4+PiAyNCxcbiAgICBsbyA+Pj4gMTYgJiAweGZmLFxuICAgIGxvID4+PiA4ICYgMHhmZixcbiAgICBsbyAmIDB4ZmZcbiAgXTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgYnl0ZSByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCeXRlIHJlcHJlc2VudGF0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB1bnNpZ25lZCBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdCwgZGVmYXVsdHMgdG8gc2lnbmVkXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBsZSBXaGV0aGVyIGxpdHRsZSBvciBiaWcgZW5kaWFuLCBkZWZhdWx0cyB0byBiaWcgZW5kaWFuXG4gKiBAcmV0dXJucyB7TG9uZ30gVGhlIGNvcnJlc3BvbmRpbmcgTG9uZyB2YWx1ZVxuICovXG5Mb25nLmZyb21CeXRlcyA9IGZ1bmN0aW9uIGZyb21CeXRlcyhieXRlcywgdW5zaWduZWQsIGxlKSB7XG4gIHJldHVybiBsZSA/IExvbmcuZnJvbUJ5dGVzTEUoYnl0ZXMsIHVuc2lnbmVkKSA6IExvbmcuZnJvbUJ5dGVzQkUoYnl0ZXMsIHVuc2lnbmVkKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIExvbmcgZnJvbSBpdHMgbGl0dGxlIGVuZGlhbiBieXRlIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIHshQXJyYXkuPG51bWJlcj59IGJ5dGVzIExpdHRsZSBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvblxuICogQHBhcmFtIHtib29sZWFuPX0gdW5zaWduZWQgV2hldGhlciB1bnNpZ25lZCBvciBub3QsIGRlZmF1bHRzIHRvIHNpZ25lZFxuICogQHJldHVybnMge0xvbmd9IFRoZSBjb3JyZXNwb25kaW5nIExvbmcgdmFsdWVcbiAqL1xuTG9uZy5mcm9tQnl0ZXNMRSA9IGZ1bmN0aW9uIGZyb21CeXRlc0xFKGJ5dGVzLCB1bnNpZ25lZCkge1xuICByZXR1cm4gbmV3IExvbmcoXG4gICAgYnl0ZXNbMF0gfFxuICAgIGJ5dGVzWzFdIDw8IDggfFxuICAgIGJ5dGVzWzJdIDw8IDE2IHxcbiAgICBieXRlc1szXSA8PCAyNCxcbiAgICBieXRlc1s0XSB8XG4gICAgYnl0ZXNbNV0gPDwgOCB8XG4gICAgYnl0ZXNbNl0gPDwgMTYgfFxuICAgIGJ5dGVzWzddIDw8IDI0LFxuICAgIHVuc2lnbmVkXG4gICk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBMb25nIGZyb20gaXRzIGJpZyBlbmRpYW4gYnl0ZSByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7IUFycmF5LjxudW1iZXI+fSBieXRlcyBCaWcgZW5kaWFuIGJ5dGUgcmVwcmVzZW50YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90LCBkZWZhdWx0cyB0byBzaWduZWRcbiAqIEByZXR1cm5zIHtMb25nfSBUaGUgY29ycmVzcG9uZGluZyBMb25nIHZhbHVlXG4gKi9cbkxvbmcuZnJvbUJ5dGVzQkUgPSBmdW5jdGlvbiBmcm9tQnl0ZXNCRShieXRlcywgdW5zaWduZWQpIHtcbiAgcmV0dXJuIG5ldyBMb25nKFxuICAgIGJ5dGVzWzRdIDw8IDI0IHxcbiAgICBieXRlc1s1XSA8PCAxNiB8XG4gICAgYnl0ZXNbNl0gPDwgOCB8XG4gICAgYnl0ZXNbN10sXG4gICAgYnl0ZXNbMF0gPDwgMjQgfFxuICAgIGJ5dGVzWzFdIDw8IDE2IHxcbiAgICBieXRlc1syXSA8PCA4IHxcbiAgICBieXRlc1szXSxcbiAgICB1bnNpZ25lZFxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTG9uZztcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExvbmcgZnJvbSBcImxvbmdcIjtcbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3IzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQXZhdGFyU2hhcGUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IFwiXCIsXG4gICAgICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9keVNoYXBlOiB1bmRlZmluZWQsXG4gICAgICAgIHNraW5Db2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBoYWlyQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZXllQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgZXhwcmVzc2lvblRyaWdnZXJJZDogdW5kZWZpbmVkLFxuICAgICAgICBleHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcDogdW5kZWZpbmVkLFxuICAgICAgICB0YWxraW5nOiB1bmRlZmluZWQsXG4gICAgICAgIHdlYXJhYmxlczogW10sXG4gICAgICAgIGVtb3RlczogW10sXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQXZhdGFyU2hhcGU7XG4oZnVuY3Rpb24gKFBCQXZhdGFyU2hhcGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5pZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UuaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9keVNoYXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmJvZHlTaGFwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2tpbkNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5za2luQ29sb3IsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGFpckNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yMy5lbmNvZGUobWVzc2FnZS5oYWlyQ29sb3IsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZXllQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmV5ZUNvbG9yLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1OCkuc3RyaW5nKG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NCkuaW50NjQobWVzc2FnZS5leHByZXNzaW9uVHJpZ2dlclRpbWVzdGFtcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGFsa2luZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDcyKS5ib29sKG1lc3NhZ2UudGFsa2luZyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uud2VhcmFibGVzKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgyKS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UuZW1vdGVzKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDkwKS5zdHJpbmcodik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJBdmF0YXJTaGFwZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQXZhdGFyU2hhcGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJvZHlTaGFwZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5za2luQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oYWlyQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5leWVDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmV4cHJlc3Npb25UcmlnZ2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXhwcmVzc2lvblRyaWdnZXJUaW1lc3RhbXAgPSBsb25nVG9OdW1iZXIocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRhbGtpbmcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53ZWFyYWJsZXMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA5MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbW90ZXMucHVzaChyZWFkZXIuc3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQXZhdGFyU2hhcGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJBdmF0YXJTaGFwZSB8fCAoUEJBdmF0YXJTaGFwZSA9IHt9KSk7XG5jb25zdCB0c1Byb3RvR2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGxvbmcpIHtcbiAgICBpZiAobG9uZy5ndChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpIHtcbiAgICAgICAgdGhyb3cgbmV3IHRzUHJvdG9HbG9iYWxUaGlzLkVycm9yKFwiVmFsdWUgaXMgbGFyZ2VyIHRoYW4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcIik7XG4gICAgfVxuICAgIHJldHVybiBsb25nLnRvTnVtYmVyKCk7XG59XG5pZiAoX20wLnV0aWwuTG9uZyAhPT0gTG9uZykge1xuICAgIF9tMC51dGlsLkxvbmcgPSBMb25nO1xuICAgIF9tMC5jb25maWd1cmUoKTtcbn1cbiIsICJpbXBvcnQgeyBQQkF2YXRhclNoYXBlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX3NoYXBlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQXZhdGFyU2hhcGVTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDgwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkF2YXRhclNoYXBlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyU2hhcGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCQXZhdGFyU2hhcGUuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQXZhdGFyU2hhcGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQmlsbGJvYXJkTW9kZSBpbmRpY2F0ZXMgb25lIG9yIG1vcmUgYXhpcyBmb3IgYXV0b21hdGljIHJvdGF0aW9uLCBpbiBPUi1hYmxlIGJpdCBmbGFnIGZvcm0uXG4gKiBPbmx5IHRoZSB2YWx1ZXMgYmVsb3cgYW5kIHRoZSAoQk1fWCB8IEJNX1kpIGNvbWJpbmF0aW9uIGFyZSB2YWxpZC5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQmlsbGJvYXJkTW9kZTtcbihmdW5jdGlvbiAoQmlsbGJvYXJkTW9kZSkge1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX05PTkVcIl0gPSAwXSA9IFwiQk1fTk9ORVwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1hcIl0gPSAxXSA9IFwiQk1fWFwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1lcIl0gPSAyXSA9IFwiQk1fWVwiO1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX1pcIl0gPSA0XSA9IFwiQk1fWlwiO1xuICAgIC8qKiBCTV9BTEwgLSBiaXR3aXNlIGNvbWJpbmF0aW9uIEJNX1ggfCBCTV9ZIHwgQk1fWiAqL1xuICAgIEJpbGxib2FyZE1vZGVbQmlsbGJvYXJkTW9kZVtcIkJNX0FMTFwiXSA9IDddID0gXCJCTV9BTExcIjtcbn0pKEJpbGxib2FyZE1vZGUgfHwgKEJpbGxib2FyZE1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCQmlsbGJvYXJkKCkge1xuICAgIHJldHVybiB7IGJpbGxib2FyZE1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJCaWxsYm9hcmQ7XG4oZnVuY3Rpb24gKFBCQmlsbGJvYXJkKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJCaWxsYm9hcmQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkJpbGxib2FyZCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmlsbGJvYXJkTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQmlsbGJvYXJkLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCQmlsbGJvYXJkIHx8IChQQkJpbGxib2FyZCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJCaWxsYm9hcmQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9iaWxsYm9hcmQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBCaWxsYm9hcmRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDkwLFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQkJpbGxib2FyZC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkJpbGxib2FyZC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJCaWxsYm9hcmQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCQmlsbGJvYXJkXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlKCkge1xuICAgIHJldHVybiB7IG1vZGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQ2FtZXJhTW9kZTtcbihmdW5jdGlvbiAoUEJDYW1lcmFNb2RlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UubW9kZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCQ2FtZXJhTW9kZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkNhbWVyYU1vZGUgfHwgKFBCQ2FtZXJhTW9kZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJDYW1lcmFNb2RlIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDYW1lcmFNb2RlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJDYW1lcmFNb2RlLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCQ2FtZXJhTW9kZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJDYW1lcmFNb2RlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkNhbWVyYU1vZGVcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vdmVjdG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJDYW1lcmFNb2RlQXJlYSgpIHtcbiAgICByZXR1cm4geyBhcmVhOiB1bmRlZmluZWQsIG1vZGU6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCQ2FtZXJhTW9kZUFyZWE7XG4oZnVuY3Rpb24gKFBCQ2FtZXJhTW9kZUFyZWEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hcmVhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuYXJlYSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLm1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCQ2FtZXJhTW9kZUFyZWEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkNhbWVyYU1vZGVBcmVhKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYXJlYSA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJDYW1lcmFNb2RlQXJlYS5kZWNvZGUgPSBkZWNvZGU7XG59KShQQkNhbWVyYU1vZGVBcmVhIHx8IChQQkNhbWVyYU1vZGVBcmVhID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkNhbWVyYU1vZGVBcmVhIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGVfYXJlYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IENhbWVyYU1vZGVBcmVhU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3MSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJDYW1lcmFNb2RlQXJlYS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGVBcmVhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQkNhbWVyYU1vZGVBcmVhLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQkNhbWVyYU1vZGVBcmVhXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJFbmdpbmVJbmZvKCkge1xuICAgIHJldHVybiB7IGZyYW1lTnVtYmVyOiAwLCB0b3RhbFJ1bnRpbWU6IDAsIHRpY2tOdW1iZXI6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCRW5naW5lSW5mbztcbihmdW5jdGlvbiAoUEJFbmdpbmVJbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZnJhbWVOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UuZnJhbWVOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRvdGFsUnVudGltZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS50b3RhbFJ1bnRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpY2tOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLnVpbnQzMihtZXNzYWdlLnRpY2tOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCRW5naW5lSW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCRW5naW5lSW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnJhbWVOdW1iZXIgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG90YWxSdW50aW1lID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlja051bWJlciA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkVuZ2luZUluZm8uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJFbmdpbmVJbmZvIHx8IChQQkVuZ2luZUluZm8gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCRW5naW5lSW5mbyB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRW5naW5lSW5mb1NjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDgsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCRW5naW5lSW5mby5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkVuZ2luZUluZm8uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCRW5naW5lSW5mby5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJFbmdpbmVJbmZvXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyKCkge1xuICAgIHJldHVybiB7IHNyYzogXCJcIiwgdmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2s6IHVuZGVmaW5lZCwgaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzazogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQkdsdGZDb250YWluZXI7XG4oZnVuY3Rpb24gKFBCR2x0ZkNvbnRhaW5lcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNyYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS51aW50MzIobWVzc2FnZS52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS5pbnZpc2libGVNZXNoZXNDb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXIuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQkdsdGZDb250YWluZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zcmMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlzaWJsZU1lc2hlc0NvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQkdsdGZDb250YWluZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJHbHRmQ29udGFpbmVyIHx8IChQQkdsdGZDb250YWluZXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCR2x0ZkNvbnRhaW5lciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2dsdGZfY29udGFpbmVyLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lclNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDEsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCR2x0ZkNvbnRhaW5lci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXIuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0ZkNvbnRhaW5lci5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJHbHRmQ29udGFpbmVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB7IGN1cnJlbnRTdGF0ZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlO1xuKGZ1bmN0aW9uIChQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50U3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5jdXJyZW50U3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudFN0YXRlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZSB8fCAoUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lcl9sb2FkaW5nX3N0YXRlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDksXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJJbnB1dE1vZGlmaWVyKCkge1xuICAgIHJldHVybiB7IG1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJJbnB1dE1vZGlmaWVyO1xuKGZ1bmN0aW9uIChQQklucHV0TW9kaWZpZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubW9kZT8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdGFuZGFyZFwiOlxuICAgICAgICAgICAgICAgIFBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0LmVuY29kZShtZXNzYWdlLm1vZGUuc3RhbmRhcmQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJJbnB1dE1vZGlmaWVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJJbnB1dE1vZGlmaWVyKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHsgJGNhc2U6IFwic3RhbmRhcmRcIiwgc3RhbmRhcmQ6IFBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQklucHV0TW9kaWZpZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJJbnB1dE1vZGlmaWVyIHx8IChQQklucHV0TW9kaWZpZXIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc2FibGVBbGw6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZVdhbGs6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZUpvZzogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlUnVuOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVKdW1wOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVFbW90ZTogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQklucHV0TW9kaWZpZXJfU3RhbmRhcmRJbnB1dDtcbihmdW5jdGlvbiAoUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlQWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuYm9vbChtZXNzYWdlLmRpc2FibGVBbGwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpc2FibGVXYWxrICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmJvb2wobWVzc2FnZS5kaXNhYmxlV2Fsayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZUpvZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UuZGlzYWJsZUpvZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZVJ1biAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2UuZGlzYWJsZVJ1bik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlzYWJsZUp1bXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuYm9vbChtZXNzYWdlLmRpc2FibGVKdW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlRW1vdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0OCkuYm9vbChtZXNzYWdlLmRpc2FibGVFbW90ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJJbnB1dE1vZGlmaWVyX1N0YW5kYXJkSW5wdXQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQklucHV0TW9kaWZpZXJfU3RhbmRhcmRJbnB1dCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzYWJsZUFsbCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzYWJsZVdhbGsgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVKb2cgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVSdW4gPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVKdW1wID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXNhYmxlRW1vdGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0IHx8IChQQklucHV0TW9kaWZpZXJfU3RhbmRhcmRJbnB1dCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJJbnB1dE1vZGlmaWVyIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvaW5wdXRfbW9kaWZpZXIuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJbnB1dE1vZGlmaWVyU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3OCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJJbnB1dE1vZGlmaWVyLmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCSW5wdXRNb2RpZmllci5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJJbnB1dE1vZGlmaWVyLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQklucHV0TW9kaWZpZXJcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1haW5DYW1lcmEoKSB7XG4gICAgcmV0dXJuIHsgdmlydHVhbENhbWVyYUVudGl0eTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1haW5DYW1lcmE7XG4oZnVuY3Rpb24gKFBCTWFpbkNhbWVyYSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZpcnR1YWxDYW1lcmFFbnRpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS52aXJ0dWFsQ2FtZXJhRW50aXR5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1haW5DYW1lcmEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1haW5DYW1lcmEoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZpcnR1YWxDYW1lcmFFbnRpdHkgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNYWluQ2FtZXJhLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWFpbkNhbWVyYSB8fCAoUEJNYWluQ2FtZXJhID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQk1haW5DYW1lcmEgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYWluX2NhbWVyYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1haW5DYW1lcmFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDc1LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQk1haW5DYW1lcmEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJNYWluQ2FtZXJhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1haW5DYW1lcmEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCTWFpbkNhbWVyYVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuaW1wb3J0IHsgVGV4dHVyZVVuaW9uIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi90ZXh0dXJlLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZTtcbihmdW5jdGlvbiAoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlKSB7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9PUEFRVUVcIl0gPSAwXSA9IFwiTVRNX09QQVFVRVwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQUxQSEFfVEVTVFwiXSA9IDFdID0gXCJNVE1fQUxQSEFfVEVTVFwiO1xuICAgIE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbXCJNVE1fQUxQSEFfQkxFTkRcIl0gPSAyXSA9IFwiTVRNX0FMUEhBX0JMRU5EXCI7XG4gICAgTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW01hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZVtcIk1UTV9BTFBIQV9URVNUX0FORF9BTFBIQV9CTEVORFwiXSA9IDNdID0gXCJNVE1fQUxQSEFfVEVTVF9BTkRfQUxQSEFfQkxFTkRcIjtcbiAgICBNYXRlcmlhbFRyYW5zcGFyZW5jeU1vZGVbTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlW1wiTVRNX0FVVE9cIl0gPSA0XSA9IFwiTVRNX0FVVE9cIjtcbn0pKE1hdGVyaWFsVHJhbnNwYXJlbmN5TW9kZSB8fCAoTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7IG1hdGVyaWFsOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWF0ZXJpYWw7XG4oZnVuY3Rpb24gKFBCTWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWF0ZXJpYWw/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5saXRcIjpcbiAgICAgICAgICAgICAgICBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwuZW5jb2RlKG1lc3NhZ2UubWF0ZXJpYWwudW5saXQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicGJyXCI6XG4gICAgICAgICAgICAgICAgUEJNYXRlcmlhbF9QYnJNYXRlcmlhbC5lbmNvZGUobWVzc2FnZS5tYXRlcmlhbC5wYnIsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNYXRlcmlhbC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWF0ZXJpYWwoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXRlcmlhbCA9IHsgJGNhc2U6IFwidW5saXRcIiwgdW5saXQ6IFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF0ZXJpYWwgPSB7ICRjYXNlOiBcInBiclwiLCBwYnI6IFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWwuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNYXRlcmlhbCB8fCAoUEJNYXRlcmlhbCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxwaGFUZXN0OiB1bmRlZmluZWQsXG4gICAgICAgIGNhc3RTaGFkb3dzOiB1bmRlZmluZWQsXG4gICAgICAgIGRpZmZ1c2VDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBhbHBoYVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNYXRlcmlhbF9VbmxpdE1hdGVyaWFsO1xuKGZ1bmN0aW9uIChQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS50ZXh0dXJlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFscGhhVGVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmFscGhhVGVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2FzdFNoYWRvd3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmNhc3RTaGFkb3dzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaWZmdXNlQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmRpZmZ1c2VDb2xvciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmFscGhhVGV4dHVyZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0dXJlID0gVGV4dHVyZVVuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWxwaGFUZXN0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2FzdFNoYWRvd3MgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpZmZ1c2VDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFscGhhVGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwgfHwgKFBCTWF0ZXJpYWxfVW5saXRNYXRlcmlhbCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNYXRlcmlhbF9QYnJNYXRlcmlhbCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGFscGhhVGVzdDogdW5kZWZpbmVkLFxuICAgICAgICBjYXN0U2hhZG93czogdW5kZWZpbmVkLFxuICAgICAgICBhbHBoYVRleHR1cmU6IHVuZGVmaW5lZCxcbiAgICAgICAgZW1pc3NpdmVUZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGJ1bXBUZXh0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgIGFsYmVkb0NvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIGVtaXNzaXZlQ29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgcmVmbGVjdGl2aXR5Q29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgdHJhbnNwYXJlbmN5TW9kZTogdW5kZWZpbmVkLFxuICAgICAgICBtZXRhbGxpYzogdW5kZWZpbmVkLFxuICAgICAgICByb3VnaG5lc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgc3BlY3VsYXJJbnRlbnNpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAgZW1pc3NpdmVJbnRlbnNpdHk6IHVuZGVmaW5lZCxcbiAgICAgICAgZGlyZWN0SW50ZW5zaXR5OiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWw7XG4oZnVuY3Rpb24gKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS50ZXh0dXJlLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFscGhhVGVzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmFscGhhVGVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2FzdFNoYWRvd3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuYm9vbChtZXNzYWdlLmNhc3RTaGFkb3dzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbHBoYVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmFscGhhVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVGV4dHVyZVVuaW9uLmVuY29kZShtZXNzYWdlLmVtaXNzaXZlVGV4dHVyZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5idW1wVGV4dHVyZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBUZXh0dXJlVW5pb24uZW5jb2RlKG1lc3NhZ2UuYnVtcFRleHR1cmUsIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxiZWRvQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3I0LmVuY29kZShtZXNzYWdlLmFsYmVkb0NvbG9yLCB3cml0ZXIudWludDMyKDU4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVtaXNzaXZlQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmVtaXNzaXZlQ29sb3IsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmVmbGVjdGl2aXR5Q29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yLCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4MCkuaW50MzIobWVzc2FnZS50cmFuc3BhcmVuY3lNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tZXRhbGxpYyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDkzKS5mbG9hdChtZXNzYWdlLm1ldGFsbGljKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yb3VnaG5lc3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDEpLmZsb2F0KG1lc3NhZ2Uucm91Z2huZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDExNykuZmxvYXQobWVzc2FnZS5zcGVjdWxhckludGVuc2l0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMjUpLmZsb2F0KG1lc3NhZ2UuZW1pc3NpdmVJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpcmVjdEludGVuc2l0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzMykuZmxvYXQobWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1hdGVyaWFsX1Bick1hdGVyaWFsKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFscGhhVGVzdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNhc3RTaGFkb3dzID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbHBoYVRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbWlzc2l2ZVRleHR1cmUgPSBUZXh0dXJlVW5pb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idW1wVGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsYmVkb0NvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1pc3NpdmVDb2xvciA9IENvbG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDc0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJlZmxlY3Rpdml0eUNvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRyYW5zcGFyZW5jeU1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWV0YWxsaWMgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvdWdobmVzcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3BlY3VsYXJJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTI1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVtaXNzaXZlSW50ZW5zaXR5ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3RJbnRlbnNpdHkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1hdGVyaWFsX1Bick1hdGVyaWFsLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwgfHwgKFBCTWF0ZXJpYWxfUGJyTWF0ZXJpYWwgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjIgfSBmcm9tIFwiLi92ZWN0b3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0dXJlV3JhcE1vZGU7XG4oZnVuY3Rpb24gKFRleHR1cmVXcmFwTW9kZSkge1xuICAgIFRleHR1cmVXcmFwTW9kZVtUZXh0dXJlV3JhcE1vZGVbXCJUV01fUkVQRUFUXCJdID0gMF0gPSBcIlRXTV9SRVBFQVRcIjtcbiAgICBUZXh0dXJlV3JhcE1vZGVbVGV4dHVyZVdyYXBNb2RlW1wiVFdNX0NMQU1QXCJdID0gMV0gPSBcIlRXTV9DTEFNUFwiO1xuICAgIFRleHR1cmVXcmFwTW9kZVtUZXh0dXJlV3JhcE1vZGVbXCJUV01fTUlSUk9SXCJdID0gMl0gPSBcIlRXTV9NSVJST1JcIjtcbn0pKFRleHR1cmVXcmFwTW9kZSB8fCAoVGV4dHVyZVdyYXBNb2RlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRleHR1cmVGaWx0ZXJNb2RlO1xuKGZ1bmN0aW9uIChUZXh0dXJlRmlsdGVyTW9kZSkge1xuICAgIFRleHR1cmVGaWx0ZXJNb2RlW1RleHR1cmVGaWx0ZXJNb2RlW1wiVEZNX1BPSU5UXCJdID0gMF0gPSBcIlRGTV9QT0lOVFwiO1xuICAgIFRleHR1cmVGaWx0ZXJNb2RlW1RleHR1cmVGaWx0ZXJNb2RlW1wiVEZNX0JJTElORUFSXCJdID0gMV0gPSBcIlRGTV9CSUxJTkVBUlwiO1xuICAgIFRleHR1cmVGaWx0ZXJNb2RlW1RleHR1cmVGaWx0ZXJNb2RlW1wiVEZNX1RSSUxJTkVBUlwiXSA9IDJdID0gXCJURk1fVFJJTElORUFSXCI7XG59KShUZXh0dXJlRmlsdGVyTW9kZSB8fCAoVGV4dHVyZUZpbHRlck1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVRleHR1cmUoKSB7XG4gICAgcmV0dXJuIHsgc3JjOiBcIlwiLCB3cmFwTW9kZTogdW5kZWZpbmVkLCBmaWx0ZXJNb2RlOiB1bmRlZmluZWQsIG9mZnNldDogdW5kZWZpbmVkLCB0aWxpbmc6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVGV4dHVyZTtcbihmdW5jdGlvbiAoVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnNyYyAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2Uuc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53cmFwTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndyYXBNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZmlsdGVyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub2Zmc2V0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjIuZW5jb2RlKG1lc3NhZ2Uub2Zmc2V0LCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IyLmVuY29kZShtZXNzYWdlLnRpbGluZywgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBUZXh0dXJlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVGV4dHVyZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53cmFwTW9kZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZpbHRlck1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vZmZzZXQgPSBWZWN0b3IyLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlsaW5nID0gVmVjdG9yMi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFRleHR1cmUuZGVjb2RlID0gZGVjb2RlO1xufSkoVGV4dHVyZSB8fCAoVGV4dHVyZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQXZhdGFyVGV4dHVyZSgpIHtcbiAgICByZXR1cm4geyB1c2VySWQ6IFwiXCIsIHdyYXBNb2RlOiB1bmRlZmluZWQsIGZpbHRlck1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQXZhdGFyVGV4dHVyZTtcbihmdW5jdGlvbiAoQXZhdGFyVGV4dHVyZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnVzZXJJZCAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudXNlcklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS53cmFwTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndyYXBNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5maWx0ZXJNb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuZmlsdGVyTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQXZhdGFyVGV4dHVyZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUF2YXRhclRleHR1cmUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51c2VySWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud3JhcE1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWx0ZXJNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQXZhdGFyVGV4dHVyZS5kZWNvZGUgPSBkZWNvZGU7XG59KShBdmF0YXJUZXh0dXJlIHx8IChBdmF0YXJUZXh0dXJlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VWaWRlb1RleHR1cmUoKSB7XG4gICAgcmV0dXJuIHsgdmlkZW9QbGF5ZXJFbnRpdHk6IDAsIHdyYXBNb2RlOiB1bmRlZmluZWQsIGZpbHRlck1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVmlkZW9UZXh0dXJlO1xuKGZ1bmN0aW9uIChWaWRlb1RleHR1cmUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52aWRlb1BsYXllckVudGl0eSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS52aWRlb1BsYXllckVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud3JhcE1vZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS53cmFwTW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmlsdGVyTW9kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLmZpbHRlck1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFZpZGVvVGV4dHVyZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZpZGVvVGV4dHVyZSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlkZW9QbGF5ZXJFbnRpdHkgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud3JhcE1vZGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWx0ZXJNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgVmlkZW9UZXh0dXJlLmRlY29kZSA9IGRlY29kZTtcbn0pKFZpZGVvVGV4dHVyZSB8fCAoVmlkZW9UZXh0dXJlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUZXh0dXJlVW5pb24oKSB7XG4gICAgcmV0dXJuIHsgdGV4OiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFRleHR1cmVVbmlvbjtcbihmdW5jdGlvbiAoVGV4dHVyZVVuaW9uKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLnRleD8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0ZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgVGV4dHVyZS5lbmNvZGUobWVzc2FnZS50ZXgudGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhdmF0YXJUZXh0dXJlXCI6XG4gICAgICAgICAgICAgICAgQXZhdGFyVGV4dHVyZS5lbmNvZGUobWVzc2FnZS50ZXguYXZhdGFyVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ2aWRlb1RleHR1cmVcIjpcbiAgICAgICAgICAgICAgICBWaWRlb1RleHR1cmUuZW5jb2RlKG1lc3NhZ2UudGV4LnZpZGVvVGV4dHVyZSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBUZXh0dXJlVW5pb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUZXh0dXJlVW5pb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXggPSB7ICRjYXNlOiBcInRleHR1cmVcIiwgdGV4dHVyZTogVGV4dHVyZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4ID0geyAkY2FzZTogXCJhdmF0YXJUZXh0dXJlXCIsIGF2YXRhclRleHR1cmU6IEF2YXRhclRleHR1cmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleCA9IHsgJGNhc2U6IFwidmlkZW9UZXh0dXJlXCIsIHZpZGVvVGV4dHVyZTogVmlkZW9UZXh0dXJlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBUZXh0dXJlVW5pb24uZGVjb2RlID0gZGVjb2RlO1xufSkoVGV4dHVyZVVuaW9uIHx8IChUZXh0dXJlVW5pb24gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTWF0ZXJpYWwgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYXRlcmlhbC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAxNyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJNYXRlcmlhbC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk1hdGVyaWFsLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQk1hdGVyaWFsLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQk1hdGVyaWFsXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKiogQ29sbGlkZXJMYXllciBkZXRlcm1pbmVzIHRoZSBraW5kIG9mIGNvbGxpc2lvbiB0byBkZXRlY3QsIGluIE9SLWFibGUgYml0IGZsYWcgZm9ybS4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbGxpZGVyTGF5ZXI7XG4oZnVuY3Rpb24gKENvbGxpZGVyTGF5ZXIpIHtcbiAgICAvKiogQ0xfTk9ORSAtIG5vIGNvbGxpc2lvbnMgKi9cbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9OT05FXCJdID0gMF0gPSBcIkNMX05PTkVcIjtcbiAgICAvKiogQ0xfUE9JTlRFUiAtIGNvbGxpc2lvbnMgd2l0aCB0aGUgcGxheWVyJ3MgcG9pbnRlciByYXkgKGUuZy4gbW91c2UgY3Vyc29yIGhvdmVyaW5nKSAqL1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1BPSU5URVJcIl0gPSAxXSA9IFwiQ0xfUE9JTlRFUlwiO1xuICAgIC8qKiBDTF9QSFlTSUNTIC0gY29sbGlzaW9uIGFmZmVjdGluZyB5b3VyIHBsYXllcidzIHBoeXNpY3MgaS5lLiB3YWxscywgZmxvb3IsIG1vdmluZyBwbGF0ZnJvbXMgKi9cbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9QSFlTSUNTXCJdID0gMl0gPSBcIkNMX1BIWVNJQ1NcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDFcIl0gPSA0XSA9IFwiQ0xfUkVTRVJWRUQxXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQyXCJdID0gOF0gPSBcIkNMX1JFU0VSVkVEMlwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVEM1wiXSA9IDE2XSA9IFwiQ0xfUkVTRVJWRUQzXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfUkVTRVJWRUQ0XCJdID0gMzJdID0gXCJDTF9SRVNFUlZFRDRcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9SRVNFUlZFRDVcIl0gPSA2NF0gPSBcIkNMX1JFU0VSVkVENVwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX1JFU0VSVkVENlwiXSA9IDEyOF0gPSBcIkNMX1JFU0VSVkVENlwiO1xuICAgIENvbGxpZGVyTGF5ZXJbQ29sbGlkZXJMYXllcltcIkNMX0NVU1RPTTFcIl0gPSAyNTZdID0gXCJDTF9DVVNUT00xXCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NMlwiXSA9IDUxMl0gPSBcIkNMX0NVU1RPTTJcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT00zXCJdID0gMTAyNF0gPSBcIkNMX0NVU1RPTTNcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT000XCJdID0gMjA0OF0gPSBcIkNMX0NVU1RPTTRcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT001XCJdID0gNDA5Nl0gPSBcIkNMX0NVU1RPTTVcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT002XCJdID0gODE5Ml0gPSBcIkNMX0NVU1RPTTZcIjtcbiAgICBDb2xsaWRlckxheWVyW0NvbGxpZGVyTGF5ZXJbXCJDTF9DVVNUT003XCJdID0gMTYzODRdID0gXCJDTF9DVVNUT003XCI7XG4gICAgQ29sbGlkZXJMYXllcltDb2xsaWRlckxheWVyW1wiQ0xfQ1VTVE9NOFwiXSA9IDMyNzY4XSA9IFwiQ0xfQ1VTVE9NOFwiO1xufSkoQ29sbGlkZXJMYXllciB8fCAoQ29sbGlkZXJMYXllciA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXIoKSB7XG4gICAgcmV0dXJuIHsgY29sbGlzaW9uTWFzazogdW5kZWZpbmVkLCBtZXNoOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaENvbGxpZGVyO1xuKGZ1bmN0aW9uIChQQk1lc2hDb2xsaWRlcikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbGxpc2lvbk1hc2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS5jb2xsaXNpb25NYXNrKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWVzaD8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJib3hcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoLmVuY29kZShtZXNzYWdlLm1lc2guYm94LCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNwaGVyZVwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5zcGhlcmUsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY3lsaW5kZXJcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5jeWxpbmRlciwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwbGFuZVwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLnBsYW5lLCB3cml0ZXIudWludDMyKDQyKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwiYm94XCIsIGJveDogUEJNZXNoQ29sbGlkZXJfQm94TWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwic3BoZXJlXCIsIHNwaGVyZTogUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwiY3lsaW5kZXJcIiwgY3lsaW5kZXI6IFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVzaCA9IHsgJGNhc2U6IFwicGxhbmVcIiwgcGxhbmU6IFBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoQ29sbGlkZXIgfHwgKFBCTWVzaENvbGxpZGVyID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoKCkge1xuICAgIHJldHVybiB7fTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaENvbGxpZGVyX0JveE1lc2g7XG4oZnVuY3Rpb24gKFBCTWVzaENvbGxpZGVyX0JveE1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUoXywgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9Cb3hNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfQm94TWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX0JveE1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoQ29sbGlkZXJfQm94TWVzaCB8fCAoUEJNZXNoQ29sbGlkZXJfQm94TWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoKCkge1xuICAgIHJldHVybiB7IHJhZGl1c1RvcDogdW5kZWZpbmVkLCByYWRpdXNCb3R0b206IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hDb2xsaWRlcl9DeWxpbmRlck1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5yYWRpdXNUb3AgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS5yYWRpdXNUb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJhZGl1c0JvdHRvbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLnJhZGl1c0JvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFkaXVzVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmFkaXVzQm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaENvbGxpZGVyX0N5bGluZGVyTWVzaCB8fCAoUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2goKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoO1xuKGZ1bmN0aW9uIChQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2gpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUoXywgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2goKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoQ29sbGlkZXJfUGxhbmVNZXNoIHx8IChQQk1lc2hDb2xsaWRlcl9QbGFuZU1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2goKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaENvbGxpZGVyX1NwaGVyZU1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoQ29sbGlkZXJfU3BoZXJlTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoIHx8IChQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQk1lc2hDb2xsaWRlciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfY29sbGlkZXIuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXJTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDE5LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQk1lc2hDb2xsaWRlci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk1lc2hDb2xsaWRlci5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJNZXNoQ29sbGlkZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCTWVzaENvbGxpZGVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXIoKSB7XG4gICAgcmV0dXJuIHsgbWVzaDogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQk1lc2hSZW5kZXJlcjtcbihmdW5jdGlvbiAoUEJNZXNoUmVuZGVyZXIpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubWVzaD8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJib3hcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoLmVuY29kZShtZXNzYWdlLm1lc2guYm94LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNwaGVyZVwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5zcGhlcmUsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY3lsaW5kZXJcIjpcbiAgICAgICAgICAgICAgICBQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2guZW5jb2RlKG1lc3NhZ2UubWVzaC5jeWxpbmRlciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJwbGFuZVwiOlxuICAgICAgICAgICAgICAgIFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaC5lbmNvZGUobWVzc2FnZS5tZXNoLnBsYW5lLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXIoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJib3hcIiwgYm94OiBQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJzcGhlcmVcIiwgc3BoZXJlOiBQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJjeWxpbmRlclwiLCBjeWxpbmRlcjogUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tZXNoID0geyAkY2FzZTogXCJwbGFuZVwiLCBwbGFuZTogUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlci5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hSZW5kZXJlciB8fCAoUEJNZXNoUmVuZGVyZXIgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX0JveE1lc2goKSB7XG4gICAgcmV0dXJuIHsgdXZzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXJfQm94TWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoUmVuZGVyZXJfQm94TWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHdyaXRlci51aW50MzIoMTApLmZvcmsoKTtcbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UudXZzKSB7XG4gICAgICAgICAgICB3cml0ZXIuZmxvYXQodik7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmxkZWxpbSgpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfQm94TWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9Cb3hNZXNoLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTWVzaFJlbmRlcmVyX0JveE1lc2ggfHwgKFBCTWVzaFJlbmRlcmVyX0JveE1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCgpIHtcbiAgICByZXR1cm4geyByYWRpdXNUb3A6IHVuZGVmaW5lZCwgcmFkaXVzQm90dG9tOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucmFkaXVzVG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UucmFkaXVzVG9wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yYWRpdXNCb3R0b20gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMSkuZmxvYXQobWVzc2FnZS5yYWRpdXNCb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJhZGl1c1RvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJhZGl1c0JvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hSZW5kZXJlcl9DeWxpbmRlck1lc2ggfHwgKFBCTWVzaFJlbmRlcmVyX0N5bGluZGVyTWVzaCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoKCkge1xuICAgIHJldHVybiB7IHV2czogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpO1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS51dnMpIHtcbiAgICAgICAgICAgIHdyaXRlci5mbG9hdCh2KTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIubGRlbGltKCk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmQyID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXZzLnB1c2gocmVhZGVyLmZsb2F0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2guZGVjb2RlID0gZGVjb2RlO1xufSkoUEJNZXNoUmVuZGVyZXJfUGxhbmVNZXNoIHx8IChQQk1lc2hSZW5kZXJlcl9QbGFuZU1lc2ggPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2goKSB7XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaDtcbihmdW5jdGlvbiAoUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShfLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTWVzaFJlbmRlcmVyX1NwaGVyZU1lc2guZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJNZXNoUmVuZGVyZXJfU3BoZXJlTWVzaC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoIHx8IChQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQk1lc2hSZW5kZXJlciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21lc2hfcmVuZGVyZXIuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBNZXNoUmVuZGVyZXJTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDE4LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQk1lc2hSZW5kZXJlci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQk1lc2hSZW5kZXJlci5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJNZXNoUmVuZGVyZXIuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCTWVzaFJlbmRlcmVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yMyB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKiBOZnRGcmFtZVR5cGUgaXMgYSBwcmVkZWZpbmVkIGZyYW1pbmcgc3R5bGUgZm9yIHRoZSBpbWFnZS4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE5mdEZyYW1lVHlwZTtcbihmdW5jdGlvbiAoTmZ0RnJhbWVUeXBlKSB7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9DTEFTU0lDXCJdID0gMF0gPSBcIk5GVF9DTEFTU0lDXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9CQVJPUVVFX09STkFNRU5UXCJdID0gMV0gPSBcIk5GVF9CQVJPUVVFX09STkFNRU5UXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9ESUFNT05EX09STkFNRU5UXCJdID0gMl0gPSBcIk5GVF9ESUFNT05EX09STkFNRU5UXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NSU5JTUFMX1dJREVcIl0gPSAzXSA9IFwiTkZUX01JTklNQUxfV0lERVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUlOSU1BTF9HUkVZXCJdID0gNF0gPSBcIk5GVF9NSU5JTUFMX0dSRVlcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0JMT0NLWVwiXSA9IDVdID0gXCJORlRfQkxPQ0tZXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9HT0xEX0VER0VTXCJdID0gNl0gPSBcIk5GVF9HT0xEX0VER0VTXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9HT0xEX0NBUlZFRFwiXSA9IDddID0gXCJORlRfR09MRF9DQVJWRURcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX0dPTERfV0lERVwiXSA9IDhdID0gXCJORlRfR09MRF9XSURFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9HT0xEX1JPVU5ERURcIl0gPSA5XSA9IFwiTkZUX0dPTERfUk9VTkRFRFwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUVUQUxfTUVESVVNXCJdID0gMTBdID0gXCJORlRfTUVUQUxfTUVESVVNXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9NRVRBTF9XSURFXCJdID0gMTFdID0gXCJORlRfTUVUQUxfV0lERVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUVUQUxfU0xJTVwiXSA9IDEyXSA9IFwiTkZUX01FVEFMX1NMSU1cIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01FVEFMX1JPVU5ERURcIl0gPSAxM10gPSBcIk5GVF9NRVRBTF9ST1VOREVEXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9QSU5TXCJdID0gMTRdID0gXCJORlRfUElOU1wiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfTUlOSU1BTF9CTEFDS1wiXSA9IDE1XSA9IFwiTkZUX01JTklNQUxfQkxBQ0tcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX01JTklNQUxfV0hJVEVcIl0gPSAxNl0gPSBcIk5GVF9NSU5JTUFMX1dISVRFXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9UQVBFXCJdID0gMTddID0gXCJORlRfVEFQRVwiO1xuICAgIE5mdEZyYW1lVHlwZVtOZnRGcmFtZVR5cGVbXCJORlRfV09PRF9TTElNXCJdID0gMThdID0gXCJORlRfV09PRF9TTElNXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9XT09EX1dJREVcIl0gPSAxOV0gPSBcIk5GVF9XT09EX1dJREVcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX1dPT0RfVFdJR1NcIl0gPSAyMF0gPSBcIk5GVF9XT09EX1RXSUdTXCI7XG4gICAgTmZ0RnJhbWVUeXBlW05mdEZyYW1lVHlwZVtcIk5GVF9DQU5WQVNcIl0gPSAyMV0gPSBcIk5GVF9DQU5WQVNcIjtcbiAgICBOZnRGcmFtZVR5cGVbTmZ0RnJhbWVUeXBlW1wiTkZUX05PTkVcIl0gPSAyMl0gPSBcIk5GVF9OT05FXCI7XG59KShOZnRGcmFtZVR5cGUgfHwgKE5mdEZyYW1lVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJOZnRTaGFwZSgpIHtcbiAgICByZXR1cm4geyB1cm46IFwiXCIsIHN0eWxlOiB1bmRlZmluZWQsIGNvbG9yOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCTmZ0U2hhcGU7XG4oZnVuY3Rpb24gKFBCTmZ0U2hhcGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS51cm4gIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnVybik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3R5bGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuY29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLmNvbG9yLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCTmZ0U2hhcGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQk5mdFNoYXBlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJuID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0eWxlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQk5mdFNoYXBlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCTmZ0U2hhcGUgfHwgKFBCTmZ0U2hhcGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCTmZ0U2hhcGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9uZnRfc2hhcGUuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBOZnRTaGFwZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNDAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCTmZ0U2hhcGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJOZnRTaGFwZS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJOZnRTaGFwZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJOZnRTaGFwZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUGxheWVySWRlbnRpdHlEYXRhKCkge1xuICAgIHJldHVybiB7IGFkZHJlc3M6IFwiXCIsIGlzR3Vlc3Q6IGZhbHNlIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBsYXllcklkZW50aXR5RGF0YTtcbihmdW5jdGlvbiAoUEJQbGF5ZXJJZGVudGl0eURhdGEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hZGRyZXNzICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5hZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pc0d1ZXN0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UuaXNHdWVzdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQbGF5ZXJJZGVudGl0eURhdGEuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBsYXllcklkZW50aXR5RGF0YSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFkZHJlc3MgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaXNHdWVzdCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJQbGF5ZXJJZGVudGl0eURhdGEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQbGF5ZXJJZGVudGl0eURhdGEgfHwgKFBCUGxheWVySWRlbnRpdHlEYXRhID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlBsYXllcklkZW50aXR5RGF0YSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BsYXllcl9pZGVudGl0eV9kYXRhLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUGxheWVySWRlbnRpdHlEYXRhU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA4OSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQbGF5ZXJJZGVudGl0eURhdGEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJQbGF5ZXJJZGVudGl0eURhdGEuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUGxheWVySWRlbnRpdHlEYXRhLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBsYXllcklkZW50aXR5RGF0YVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50cygpIHtcbiAgICByZXR1cm4geyBwb2ludGVyRXZlbnRzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzO1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJFdmVudHMpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5wb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICBQQlBvaW50ZXJFdmVudHNfRW50cnkuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9pbnRlckV2ZW50cy5wdXNoKFBCUG9pbnRlckV2ZW50c19FbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHMuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzIHx8IChQQlBvaW50ZXJFdmVudHMgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c19JbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbjogdW5kZWZpbmVkLFxuICAgICAgICBob3ZlclRleHQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4RGlzdGFuY2U6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hvd0ZlZWRiYWNrOiB1bmRlZmluZWQsXG4gICAgICAgIHNob3dIaWdobGlnaHQ6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzX0luZm87XG4oZnVuY3Rpb24gKFBCUG9pbnRlckV2ZW50c19JbmZvKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuYnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5idXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhvdmVyVGV4dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5ob3ZlclRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1heERpc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UubWF4RGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNob3dGZWVkYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2Uuc2hvd0ZlZWRiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaG93SGlnaGxpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDApLmJvb2wobWVzc2FnZS5zaG93SGlnaGxpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNfSW5mby5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c19JbmZvKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idXR0b24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ob3ZlclRleHQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWF4RGlzdGFuY2UgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaG93RmVlZGJhY2sgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNob3dIaWdobGlnaHQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19JbmZvLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUG9pbnRlckV2ZW50c19JbmZvIHx8IChQQlBvaW50ZXJFdmVudHNfSW5mbyA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzX0VudHJ5KCkge1xuICAgIHJldHVybiB7IGV2ZW50VHlwZTogMCwgZXZlbnRJbmZvOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUG9pbnRlckV2ZW50c19FbnRyeTtcbihmdW5jdGlvbiAoUEJQb2ludGVyRXZlbnRzX0VudHJ5KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZXZlbnRUeXBlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UuZXZlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ldmVudEluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUEJQb2ludGVyRXZlbnRzX0luZm8uZW5jb2RlKG1lc3NhZ2UuZXZlbnRJbmZvLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckV2ZW50c19FbnRyeS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c19FbnRyeSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZlbnRUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXZlbnRJbmZvID0gUEJQb2ludGVyRXZlbnRzX0luZm8uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNfRW50cnkuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzX0VudHJ5IHx8IChQQlBvaW50ZXJFdmVudHNfRW50cnkgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCUG9pbnRlckV2ZW50cyB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfZXZlbnRzLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUG9pbnRlckV2ZW50c1NjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNjIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUG9pbnRlckV2ZW50cy5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJFdmVudHMuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50cy5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJQb2ludGVyRXZlbnRzXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFJheWNhc3RIaXQgfSBmcm9tIFwiLi9jb21tb24vcmF5Y2FzdF9oaXQuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCUG9pbnRlckV2ZW50c1Jlc3VsdCgpIHtcbiAgICByZXR1cm4geyBidXR0b246IDAsIGhpdDogdW5kZWZpbmVkLCBzdGF0ZTogMCwgdGltZXN0YW1wOiAwLCBhbmFsb2c6IHVuZGVmaW5lZCwgdGlja051bWJlcjogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJQb2ludGVyRXZlbnRzUmVzdWx0O1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJFdmVudHNSZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5idXR0b24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5idXR0b24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBSYXljYXN0SGl0LmVuY29kZShtZXNzYWdlLmhpdCwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zdGF0ZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5zdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFuYWxvZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDUzKS5mbG9hdChtZXNzYWdlLmFuYWxvZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGlja051bWJlciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1NikudWludDMyKG1lc3NhZ2UudGlja051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJQb2ludGVyRXZlbnRzUmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJQb2ludGVyRXZlbnRzUmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idXR0b24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oaXQgPSBSYXljYXN0SGl0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhdGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYW5hbG9nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGlja051bWJlciA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlBvaW50ZXJFdmVudHNSZXN1bHQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyRXZlbnRzUmVzdWx0IHx8IChQQlBvaW50ZXJFdmVudHNSZXN1bHQgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSYXljYXN0SGl0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGdsb2JhbE9yaWdpbjogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgbm9ybWFsSGl0OiB1bmRlZmluZWQsXG4gICAgICAgIGxlbmd0aDogMCxcbiAgICAgICAgbWVzaE5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgZW50aXR5SWQ6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUmF5Y2FzdEhpdDtcbihmdW5jdGlvbiAoUmF5Y2FzdEhpdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UucG9zaXRpb24sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZ2xvYmFsT3JpZ2luICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZ2xvYmFsT3JpZ2luLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmRpcmVjdGlvbiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5ub3JtYWxIaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5ub3JtYWxIaXQsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ1KS5mbG9hdChtZXNzYWdlLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWVzaE5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MCkuc3RyaW5nKG1lc3NhZ2UubWVzaE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVudGl0eUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTYpLnVpbnQzMihtZXNzYWdlLmVudGl0eUlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBSYXljYXN0SGl0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmF5Y2FzdEhpdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmdsb2JhbE9yaWdpbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaXJlY3Rpb24gPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uubm9ybWFsSGl0ID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxlbmd0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1lc2hOYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmVudGl0eUlkID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFJheWNhc3RIaXQuZGVjb2RlID0gZGVjb2RlO1xufSkoUmF5Y2FzdEhpdCB8fCAoUmF5Y2FzdEhpdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQb2ludGVyRXZlbnRzUmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHNfcmVzdWx0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUG9pbnRlckV2ZW50c1Jlc3VsdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNjMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJFdmVudHNSZXN1bHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUG9pbnRlckV2ZW50c1Jlc3VsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJQb2ludGVyRXZlbnRzUmVzdWx0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJQb2ludGVyTG9jaygpIHtcbiAgICByZXR1cm4geyBpc1BvaW50ZXJMb2NrZWQ6IGZhbHNlIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlBvaW50ZXJMb2NrO1xuKGZ1bmN0aW9uIChQQlBvaW50ZXJMb2NrKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuaXNQb2ludGVyTG9ja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS5pc1BvaW50ZXJMb2NrZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCUG9pbnRlckxvY2suZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlBvaW50ZXJMb2NrKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc1BvaW50ZXJMb2NrZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUG9pbnRlckxvY2suZGVjb2RlID0gZGVjb2RlO1xufSkoUEJQb2ludGVyTG9jayB8fCAoUEJQb2ludGVyTG9jayA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJQb2ludGVyTG9jayB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfbG9jay5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA3NCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJQb2ludGVyTG9jay5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJMb2NrLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlBvaW50ZXJMb2NrLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlBvaW50ZXJMb2NrXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqIFJheWNhc3RRdWVyeVR5cGUgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIHJheSBzaG91bGQgc3RvcCBvbiB0aGUgZmlyc3QgY29sbGl0aW9uLCBvciBjb250aW51ZS4gKi9cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFJheWNhc3RRdWVyeVR5cGU7XG4oZnVuY3Rpb24gKFJheWNhc3RRdWVyeVR5cGUpIHtcbiAgICAvKiogUlFUX0hJVF9GSVJTVCAtIFBpY2sgdGhlIGZpcnN0IChub3QgbmVjZXNzYXJpbHkgdGhlIGNsb3Nlc3QpIGhpdCB3aXRoaW4gdGhlIHJhbmdlICovXG4gICAgUmF5Y2FzdFF1ZXJ5VHlwZVtSYXljYXN0UXVlcnlUeXBlW1wiUlFUX0hJVF9GSVJTVFwiXSA9IDBdID0gXCJSUVRfSElUX0ZJUlNUXCI7XG4gICAgLyoqIFJRVF9RVUVSWV9BTEwgLSBQaWNrIGFsbCBoaXRzIHdpdGhpbiB0aGUgcmFuZ2UgKi9cbiAgICBSYXljYXN0UXVlcnlUeXBlW1JheWNhc3RRdWVyeVR5cGVbXCJSUVRfUVVFUllfQUxMXCJdID0gMV0gPSBcIlJRVF9RVUVSWV9BTExcIjtcbiAgICAvKiogUlFUX05PTkUgLSBEbyBub3QgcGVyZm9ybSB0aGUgcmF5Y2FzdCwgb25seSBzZXQgdGhlIHJheWNhc3QgcmVzdWx0IHdpdGggZW1wdHkgaGl0cyAqL1xuICAgIFJheWNhc3RRdWVyeVR5cGVbUmF5Y2FzdFF1ZXJ5VHlwZVtcIlJRVF9OT05FXCJdID0gMl0gPSBcIlJRVF9OT05FXCI7XG59KShSYXljYXN0UXVlcnlUeXBlIHx8IChSYXljYXN0UXVlcnlUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJheWNhc3QoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGltZXN0YW1wOiB1bmRlZmluZWQsXG4gICAgICAgIG9yaWdpbk9mZnNldDogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3Rpb246IHVuZGVmaW5lZCxcbiAgICAgICAgbWF4RGlzdGFuY2U6IDAsXG4gICAgICAgIHF1ZXJ5VHlwZTogMCxcbiAgICAgICAgY29udGludW91czogdW5kZWZpbmVkLFxuICAgICAgICBjb2xsaXNpb25NYXNrOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUmF5Y2FzdDtcbihmdW5jdGlvbiAoUEJSYXljYXN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5vcmlnaW5PZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5vcmlnaW5PZmZzZXQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmRpcmVjdGlvbj8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsb2NhbERpcmVjdGlvblwiOlxuICAgICAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLmxvY2FsRGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImdsb2JhbERpcmVjdGlvblwiOlxuICAgICAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLmdsb2JhbERpcmVjdGlvbiwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJnbG9iYWxUYXJnZXRcIjpcbiAgICAgICAgICAgICAgICBWZWN0b3IzLmVuY29kZShtZXNzYWdlLmRpcmVjdGlvbi5nbG9iYWxUYXJnZXQsIHdyaXRlci51aW50MzIoNTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidGFyZ2V0RW50aXR5XCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4MCkudWludDMyKG1lc3NhZ2UuZGlyZWN0aW9uLnRhcmdldEVudGl0eSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4RGlzdGFuY2UgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UubWF4RGlzdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnF1ZXJ5VHlwZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuaW50MzIobWVzc2FnZS5xdWVyeVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbnRpbnVvdXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig2NCkuYm9vbChtZXNzYWdlLmNvbnRpbnVvdXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbGxpc2lvbk1hc2sgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig3MikudWludDMyKG1lc3NhZ2UuY29sbGlzaW9uTWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJSYXljYXN0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJSYXljYXN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uub3JpZ2luT2Zmc2V0ID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IHsgJGNhc2U6IFwibG9jYWxEaXJlY3Rpb25cIiwgbG9jYWxEaXJlY3Rpb246IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IHsgJGNhc2U6IFwiZ2xvYmFsRGlyZWN0aW9uXCIsIGdsb2JhbERpcmVjdGlvbjogVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJnbG9iYWxUYXJnZXRcIiwgZ2xvYmFsVGFyZ2V0OiBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID0geyAkY2FzZTogXCJ0YXJnZXRFbnRpdHlcIiwgdGFyZ2V0RW50aXR5OiByZWFkZXIudWludDMyKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhEaXN0YW5jZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnF1ZXJ5VHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbnRpbnVvdXMgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbGxpc2lvbk1hc2sgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJSYXljYXN0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUmF5Y2FzdCB8fCAoUEJSYXljYXN0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlJheWNhc3QgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUmF5Y2FzdFNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNjcsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCUmF5Y2FzdC5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlJheWNhc3QuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUmF5Y2FzdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJSYXljYXN0XCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3ZlY3RvcnMuZ2VuXCI7XG5pbXBvcnQgeyBSYXljYXN0SGl0IH0gZnJvbSBcIi4vY29tbW9uL3JheWNhc3RfaGl0LmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJheWNhc3RSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdGltZXN0YW1wOiB1bmRlZmluZWQsIGdsb2JhbE9yaWdpbjogdW5kZWZpbmVkLCBkaXJlY3Rpb246IHVuZGVmaW5lZCwgaGl0czogW10sIHRpY2tOdW1iZXI6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUmF5Y2FzdFJlc3VsdDtcbihmdW5jdGlvbiAoUEJSYXljYXN0UmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkudWludDMyKG1lc3NhZ2UudGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5nbG9iYWxPcmlnaW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5nbG9iYWxPcmlnaW4sIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZGlyZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZGlyZWN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmhpdHMpIHtcbiAgICAgICAgICAgIFJheWNhc3RIaXQuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGlja051bWJlciAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkudWludDMyKG1lc3NhZ2UudGlja051bWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJSYXljYXN0UmVzdWx0LmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJSYXljYXN0UmVzdWx0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZ2xvYmFsT3JpZ2luID0gVmVjdG9yMy5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpcmVjdGlvbiA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oaXRzLnB1c2goUmF5Y2FzdEhpdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aWNrTnVtYmVyID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUmF5Y2FzdFJlc3VsdC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlJheWNhc3RSZXN1bHQgfHwgKFBCUmF5Y2FzdFJlc3VsdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJSYXljYXN0UmVzdWx0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmF5Y2FzdF9yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBSYXljYXN0UmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA2OCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJSYXljYXN0UmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCUmF5Y2FzdFJlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJSYXljYXN0UmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlJheWNhc3RSZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlJlYWxtSW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYXNlVXJsOiBcIlwiLFxuICAgICAgICByZWFsbU5hbWU6IFwiXCIsXG4gICAgICAgIG5ldHdvcmtJZDogMCxcbiAgICAgICAgY29tbXNBZGFwdGVyOiBcIlwiLFxuICAgICAgICBpc1ByZXZpZXc6IGZhbHNlLFxuICAgICAgICByb29tOiB1bmRlZmluZWQsXG4gICAgICAgIGlzQ29ubmVjdGVkU2NlbmVSb29tOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCUmVhbG1JbmZvO1xuKGZ1bmN0aW9uIChQQlJlYWxtSW5mbykge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmJhc2VVcmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmJhc2VVcmwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnJlYWxtTmFtZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UucmVhbG1OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5uZXR3b3JrSWQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UubmV0d29ya0lkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb21tc0FkYXB0ZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLmNvbW1zQWRhcHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaXNQcmV2aWV3ID09PSB0cnVlKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5ib29sKG1lc3NhZ2UuaXNQcmV2aWV3KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5yb29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLnJvb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmlzQ29ubmVjdGVkU2NlbmVSb29tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTYpLmJvb2wobWVzc2FnZS5pc0Nvbm5lY3RlZFNjZW5lUm9vbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJSZWFsbUluZm8uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlJlYWxtSW5mbygpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJhc2VVcmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVhbG1OYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5ldHdvcmtJZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbW1zQWRhcHRlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pc1ByZXZpZXcgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvb20gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaXNDb25uZWN0ZWRTY2VuZVJvb20gPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCUmVhbG1JbmZvLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCUmVhbG1JbmZvIHx8IChQQlJlYWxtSW5mbyA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJSZWFsbUluZm8gfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yZWFsbV9pbmZvLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgUmVhbG1JbmZvU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTEwNixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJSZWFsbUluZm8uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJSZWFsbUluZm8uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCUmVhbG1JbmZvLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlJlYWxtSW5mb1wiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjMsIENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlRleHRTaGFwZSgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBmb250OiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRTaXplOiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRBdXRvU2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0QWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdUb3A6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiB1bmRlZmluZWQsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IHVuZGVmaW5lZCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgbGluZVNwYWNpbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgbGluZUNvdW50OiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRXcmFwcGluZzogdW5kZWZpbmVkLFxuICAgICAgICBzaGFkb3dCbHVyOiB1bmRlZmluZWQsXG4gICAgICAgIHNoYWRvd09mZnNldFg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hhZG93T2Zmc2V0WTogdW5kZWZpbmVkLFxuICAgICAgICBvdXRsaW5lV2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgICAgc2hhZG93Q29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgb3V0bGluZUNvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgIHRleHRDb2xvcjogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlRleHRTaGFwZTtcbihmdW5jdGlvbiAoUEJUZXh0U2hhcGUpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyOSkuZmxvYXQobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udEF1dG9TaXplICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzIpLmJvb2wobWVzc2FnZS5mb250QXV0b1NpemUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRBbGlnbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLnRleHRBbGlnbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig1MykuZmxvYXQobWVzc2FnZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNjEpLmZsb2F0KG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nVG9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNjkpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNzcpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nQm90dG9tICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0xlZnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5MykuZmxvYXQobWVzc2FnZS5wYWRkaW5nTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubGluZVNwYWNpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDEpLmZsb2F0KG1lc3NhZ2UubGluZVNwYWNpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxpbmVDb3VudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwNCkuaW50MzIobWVzc2FnZS5saW5lQ291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHRXcmFwcGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDExMikuYm9vbChtZXNzYWdlLnRleHRXcmFwcGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93Qmx1ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEyNSkuZmxvYXQobWVzc2FnZS5zaGFkb3dCbHVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5zaGFkb3dPZmZzZXRYICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMzKS5mbG9hdChtZXNzYWdlLnNoYWRvd09mZnNldFgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNoYWRvd09mZnNldFkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNDEpLmZsb2F0KG1lc3NhZ2Uuc2hhZG93T2Zmc2V0WSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub3V0bGluZVdpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTQ5KS5mbG9hdChtZXNzYWdlLm91dGxpbmVXaWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hhZG93Q29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLnNoYWRvd0NvbG9yLCB3cml0ZXIudWludDMyKDE1NCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5vdXRsaW5lQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQ29sb3IzLmVuY29kZShtZXNzYWdlLm91dGxpbmVDb2xvciwgd3JpdGVyLnVpbnQzMigxNjIpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dENvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS50ZXh0Q29sb3IsIHdyaXRlci51aW50MzIoMTcwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVGV4dFNoYXBlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUZXh0U2hhcGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250U2l6ZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRBdXRvU2l6ZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dEFsaWduID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nVG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1JpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDg1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0xlZnQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxpbmVTcGFjaW5nID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5saW5lQ291bnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTEyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRXcmFwcGluZyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEyNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dCbHVyID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRYID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaGFkb3dPZmZzZXRZID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE0OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vdXRsaW5lV2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTU0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNoYWRvd0NvbG9yID0gQ29sb3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vdXRsaW5lQ29sb3IgPSBDb2xvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTcwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVGV4dFNoYXBlLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVGV4dFNoYXBlIHx8IChQQlRleHRTaGFwZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJUZXh0U2hhcGUgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90ZXh0X3NoYXBlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVGV4dFNoYXBlU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTAzMCxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJUZXh0U2hhcGUuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUZXh0U2hhcGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVGV4dFNoYXBlLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlRleHRTaGFwZVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi92ZWN0b3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbi8qKlxuICogSW1wbGVtZW50YXRpb24gZ3VpZGVsaW5lcyBmb3IgdGhlc2UgZWFzaW5nIGZ1bmN0aW9ucyBjYW4gYmUgZm91bmRcbiAqIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9haS9lYXNpbmdzLm5ldC9ibG9iLzZmY2Q1Zjg1MmE0NzBiZjFhNzg5MGU4MTc4YWZhMGY0NzFkNWYyZWMvc3JjL2Vhc2luZ3MvZWFzaW5nc0Z1bmN0aW9ucy50c1xuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBFYXNpbmdGdW5jdGlvbjtcbihmdW5jdGlvbiAoRWFzaW5nRnVuY3Rpb24pIHtcbiAgICAvKiogRUZfTElORUFSIC0gZGVmYXVsdCAqL1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfTElORUFSXCJdID0gMF0gPSBcIkVGX0xJTkVBUlwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOUVVBRFwiXSA9IDFdID0gXCJFRl9FQVNFSU5RVUFEXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUUVVBRFwiXSA9IDJdID0gXCJFRl9FQVNFT1VUUVVBRFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRVFVQURcIl0gPSAzXSA9IFwiRUZfRUFTRVFVQURcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTlNJTkVcIl0gPSA0XSA9IFwiRUZfRUFTRUlOU0lORVwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVFNJTkVcIl0gPSA1XSA9IFwiRUZfRUFTRU9VVFNJTkVcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VTSU5FXCJdID0gNl0gPSBcIkVGX0VBU0VTSU5FXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5FWFBPXCJdID0gN10gPSBcIkVGX0VBU0VJTkVYUE9cIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRFWFBPXCJdID0gOF0gPSBcIkVGX0VBU0VPVVRFWFBPXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFRVhQT1wiXSA9IDldID0gXCJFRl9FQVNFRVhQT1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlORUxBU1RJQ1wiXSA9IDEwXSA9IFwiRUZfRUFTRUlORUxBU1RJQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVEVMQVNUSUNcIl0gPSAxMV0gPSBcIkVGX0VBU0VPVVRFTEFTVElDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFRUxBU1RJQ1wiXSA9IDEyXSA9IFwiRUZfRUFTRUVMQVNUSUNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTkJPVU5DRVwiXSA9IDEzXSA9IFwiRUZfRUFTRUlOQk9VTkNFXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUQk9VTkNFXCJdID0gMTRdID0gXCJFRl9FQVNFT1VUQk9VTkNFXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQk9VTkNFXCJdID0gMTVdID0gXCJFRl9FQVNFQk9VTkNFXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5DVUJJQ1wiXSA9IDE2XSA9IFwiRUZfRUFTRUlOQ1VCSUNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VPVVRDVUJJQ1wiXSA9IDE3XSA9IFwiRUZfRUFTRU9VVENVQklDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQ1VCSUNcIl0gPSAxOF0gPSBcIkVGX0VBU0VDVUJJQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOUVVBUlRcIl0gPSAxOV0gPSBcIkVGX0VBU0VJTlFVQVJUXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUUVVBUlRcIl0gPSAyMF0gPSBcIkVGX0VBU0VPVVRRVUFSVFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRVFVQVJUXCJdID0gMjFdID0gXCJFRl9FQVNFUVVBUlRcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VJTlFVSU5UXCJdID0gMjJdID0gXCJFRl9FQVNFSU5RVUlOVFwiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVFFVSU5UXCJdID0gMjNdID0gXCJFRl9FQVNFT1VUUVVJTlRcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VRVUlOVFwiXSA9IDI0XSA9IFwiRUZfRUFTRVFVSU5UXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFSU5DSVJDXCJdID0gMjVdID0gXCJFRl9FQVNFSU5DSVJDXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFT1VUQ0lSQ1wiXSA9IDI2XSA9IFwiRUZfRUFTRU9VVENJUkNcIjtcbiAgICBFYXNpbmdGdW5jdGlvbltFYXNpbmdGdW5jdGlvbltcIkVGX0VBU0VDSVJDXCJdID0gMjddID0gXCJFRl9FQVNFQ0lSQ1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRUlOQkFDS1wiXSA9IDI4XSA9IFwiRUZfRUFTRUlOQkFDS1wiO1xuICAgIEVhc2luZ0Z1bmN0aW9uW0Vhc2luZ0Z1bmN0aW9uW1wiRUZfRUFTRU9VVEJBQ0tcIl0gPSAyOV0gPSBcIkVGX0VBU0VPVVRCQUNLXCI7XG4gICAgRWFzaW5nRnVuY3Rpb25bRWFzaW5nRnVuY3Rpb25bXCJFRl9FQVNFQkFDS1wiXSA9IDMwXSA9IFwiRUZfRUFTRUJBQ0tcIjtcbn0pKEVhc2luZ0Z1bmN0aW9uIHx8IChFYXNpbmdGdW5jdGlvbiA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJUd2VlbigpIHtcbiAgICByZXR1cm4geyBkdXJhdGlvbjogMCwgZWFzaW5nRnVuY3Rpb246IDAsIG1vZGU6IHVuZGVmaW5lZCwgcGxheWluZzogdW5kZWZpbmVkLCBjdXJyZW50VGltZTogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlR3ZWVuO1xuKGZ1bmN0aW9uIChQQlR3ZWVuKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTMpLmZsb2F0KG1lc3NhZ2UuZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVhc2luZ0Z1bmN0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLmVhc2luZ0Z1bmN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UubW9kZT8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XG4gICAgICAgICAgICAgICAgTW92ZS5lbmNvZGUobWVzc2FnZS5tb2RlLm1vdmUsIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicm90YXRlXCI6XG4gICAgICAgICAgICAgICAgUm90YXRlLmVuY29kZShtZXNzYWdlLm1vZGUucm90YXRlLCB3cml0ZXIudWludDMyKDM0KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjYWxlXCI6XG4gICAgICAgICAgICAgICAgU2NhbGUuZW5jb2RlKG1lc3NhZ2UubW9kZS5zY2FsZSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wbGF5aW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDgpLmJvb2wobWVzc2FnZS5wbGF5aW5nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jdXJyZW50VGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDYxKS5mbG9hdChtZXNzYWdlLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlR3ZWVuLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUd2VlbigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmR1cmF0aW9uID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZWFzaW5nRnVuY3Rpb24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2RlID0geyAkY2FzZTogXCJtb3ZlXCIsIG1vdmU6IE1vdmUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGUgPSB7ICRjYXNlOiBcInJvdGF0ZVwiLCByb3RhdGU6IFJvdGF0ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kZSA9IHsgJGNhc2U6IFwic2NhbGVcIiwgc2NhbGU6IFNjYWxlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jdXJyZW50VGltZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVHdlZW4uZGVjb2RlID0gZGVjb2RlO1xufSkoUEJUd2VlbiB8fCAoUEJUd2VlbiA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlTW92ZSgpIHtcbiAgICByZXR1cm4geyBzdGFydDogdW5kZWZpbmVkLCBlbmQ6IHVuZGVmaW5lZCwgZmFjZURpcmVjdGlvbjogdW5kZWZpbmVkIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBNb3ZlO1xuKGZ1bmN0aW9uIChNb3ZlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5zdGFydCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmVjdG9yMy5lbmNvZGUobWVzc2FnZS5lbmQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmFjZURpcmVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5ib29sKG1lc3NhZ2UuZmFjZURpcmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgTW92ZS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1vdmUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGFydCA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbmQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmFjZURpcmVjdGlvbiA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgTW92ZS5kZWNvZGUgPSBkZWNvZGU7XG59KShNb3ZlIHx8IChNb3ZlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSb3RhdGUoKSB7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHVuZGVmaW5lZCwgZW5kOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFJvdGF0ZTtcbihmdW5jdGlvbiAoUm90YXRlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3RhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5lbmNvZGUobWVzc2FnZS5zdGFydCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5lbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgUXVhdGVybmlvbi5lbmNvZGUobWVzc2FnZS5lbmQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUm90YXRlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUm90YXRlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3RhcnQgPSBRdWF0ZXJuaW9uLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW5kID0gUXVhdGVybmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFJvdGF0ZS5kZWNvZGUgPSBkZWNvZGU7XG59KShSb3RhdGUgfHwgKFJvdGF0ZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlU2NhbGUoKSB7XG4gICAgcmV0dXJuIHsgc3RhcnQ6IHVuZGVmaW5lZCwgZW5kOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFNjYWxlO1xuKGZ1bmN0aW9uIChTY2FsZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2Uuc3RhcnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZlY3RvcjMuZW5jb2RlKG1lc3NhZ2UuZW5kLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFNjYWxlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU2NhbGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zdGFydCA9IFZlY3RvcjMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5lbmQgPSBWZWN0b3IzLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgU2NhbGUuZGVjb2RlID0gZGVjb2RlO1xufSkoU2NhbGUgfHwgKFNjYWxlID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlR3ZWVuIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHdlZW4uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBUd2VlblNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDExMDIsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVHdlZW4uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJUd2Vlbi5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJUd2Vlbi5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJUd2VlblwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBQQlR3ZWVuIH0gZnJvbSBcIi4vdHdlZW4uZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVHdlZW5Mb29wO1xuKGZ1bmN0aW9uIChUd2Vlbkxvb3ApIHtcbiAgICBUd2Vlbkxvb3BbVHdlZW5Mb29wW1wiVExfUkVTVEFSVFwiXSA9IDBdID0gXCJUTF9SRVNUQVJUXCI7XG4gICAgVHdlZW5Mb29wW1R3ZWVuTG9vcFtcIlRMX1lPWU9cIl0gPSAxXSA9IFwiVExfWU9ZT1wiO1xufSkoVHdlZW5Mb29wIHx8IChUd2Vlbkxvb3AgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVHdlZW5TZXF1ZW5jZSgpIHtcbiAgICByZXR1cm4geyBzZXF1ZW5jZTogW10sIGxvb3A6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJUd2VlblNlcXVlbmNlO1xuKGZ1bmN0aW9uIChQQlR3ZWVuU2VxdWVuY2UpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5zZXF1ZW5jZSkge1xuICAgICAgICAgICAgUEJUd2Vlbi5lbmNvZGUodiwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sb29wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLmludDMyKG1lc3NhZ2UubG9vcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJUd2VlblNlcXVlbmNlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJUd2VlblNlcXVlbmNlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VxdWVuY2UucHVzaChQQlR3ZWVuLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlR3ZWVuU2VxdWVuY2UuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJUd2VlblNlcXVlbmNlIHx8IChQQlR3ZWVuU2VxdWVuY2UgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVHdlZW5TZXF1ZW5jZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuX3NlcXVlbmNlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVHdlZW5TZXF1ZW5jZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDExMDQsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVHdlZW5TZXF1ZW5jZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlR3ZWVuU2VxdWVuY2UuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVHdlZW5TZXF1ZW5jZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJUd2VlblNlcXVlbmNlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUd2VlblN0YXRlU3RhdHVzO1xuKGZ1bmN0aW9uIChUd2VlblN0YXRlU3RhdHVzKSB7XG4gICAgVHdlZW5TdGF0ZVN0YXR1c1tUd2VlblN0YXRlU3RhdHVzW1wiVFNfQUNUSVZFXCJdID0gMF0gPSBcIlRTX0FDVElWRVwiO1xuICAgIFR3ZWVuU3RhdGVTdGF0dXNbVHdlZW5TdGF0ZVN0YXR1c1tcIlRTX0NPTVBMRVRFRFwiXSA9IDFdID0gXCJUU19DT01QTEVURURcIjtcbiAgICBUd2VlblN0YXRlU3RhdHVzW1R3ZWVuU3RhdGVTdGF0dXNbXCJUU19QQVVTRURcIl0gPSAyXSA9IFwiVFNfUEFVU0VEXCI7XG59KShUd2VlblN0YXRlU3RhdHVzIHx8IChUd2VlblN0YXRlU3RhdHVzID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlR3ZWVuU3RhdGUoKSB7XG4gICAgcmV0dXJuIHsgc3RhdGU6IDAsIGN1cnJlbnRUaW1lOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlR3ZWVuU3RhdGU7XG4oZnVuY3Rpb24gKFBCVHdlZW5TdGF0ZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXRlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2Uuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmN1cnJlbnRUaW1lICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIxKS5mbG9hdChtZXNzYWdlLmN1cnJlbnRUaW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlR3ZWVuU3RhdGUuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlR3ZWVuU3RhdGUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXRlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY3VycmVudFRpbWUgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlR3ZWVuU3RhdGUuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJUd2VlblN0YXRlIHx8IChQQlR3ZWVuU3RhdGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVHdlZW5TdGF0ZSB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuX3N0YXRlLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVHdlZW5TdGF0ZVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDExMDMsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVHdlZW5TdGF0ZS5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlR3ZWVuU3RhdGUuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVHdlZW5TdGF0ZS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJUd2VlblN0YXRlXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IEJvcmRlclJlY3QgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2JvcmRlcl9yZWN0LmdlblwiO1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5pbXBvcnQgeyBUZXh0dXJlVW5pb24gfSBmcm9tIFwiLi4vLi4vY29tbW9uL3RleHR1cmUuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQmFja2dyb3VuZFRleHR1cmVNb2RlO1xuKGZ1bmN0aW9uIChCYWNrZ3JvdW5kVGV4dHVyZU1vZGUpIHtcbiAgICAvKipcbiAgICAgKiBOSU5FX1NMSUNFUyAtIGh0dHBzOi8vZG9jcy51bml0eTNkLmNvbS9NYW51YWwvVUlFLVVTUy1TdXBwb3J0ZWRQcm9wZXJ0aWVzLmh0bWwgKFNsaWNpbmcgc2VjdGlvbilcbiAgICAgKiBodHRwczovL2ZvcnVtLnVuaXR5LmNvbS90aHJlYWRzL2hvdy1kb2VzLXNsaWNpbmctaW4tdWktdG9va2tpdC13b3Jrcy4xMjM1ODYzL1xuICAgICAqIGh0dHBzOi8vZG9jcy51bml0eTNkLmNvbS9NYW51YWwvOVNsaWNlU3ByaXRlcy5odG1sXG4gICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2JvcmRlci1pbWFnZS1zbGljZVxuICAgICAqL1xuICAgIEJhY2tncm91bmRUZXh0dXJlTW9kZVtCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbXCJOSU5FX1NMSUNFU1wiXSA9IDBdID0gXCJOSU5FX1NMSUNFU1wiO1xuICAgIC8qKlxuICAgICAqIENFTlRFUiAtIENFTlRFUiBlbmFibGVzIHRoZSB0ZXh0dXJlIHRvIGJlIHJlbmRlcmVkIGNlbnRlcmVkIGluIHJlbGF0aW9uIHRvIHRoZVxuICAgICAqIGVsZW1lbnQuIElmIHRoZSBlbGVtZW50IGlzIHNtYWxsZXIgdGhhbiB0aGUgdGV4dHVyZSB0aGVuIHRoZSBiYWNrZ3JvdW5kXG4gICAgICogc2hvdWxkIHVzZSB0aGUgZWxlbWVudCBhcyBzdGVuY2lsIHRvIGN1dCBvZmYgdGhlIG91dC1vZi1ib3VuZHMgYXJlYVxuICAgICAqL1xuICAgIEJhY2tncm91bmRUZXh0dXJlTW9kZVtCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbXCJDRU5URVJcIl0gPSAxXSA9IFwiQ0VOVEVSXCI7XG4gICAgLyoqXG4gICAgICogU1RSRVRDSCAtIFNUUkVUQ0ggZW5hYmxlcyB0aGUgdGV4dHVyZSB0byBjb3ZlciBhbGwgdGhlIGFyZWEgb2YgdGhlIGNvbnRhaW5lcixcbiAgICAgKiBhZG9wdGluZyBpdHMgYXNwZWN0IHJhdGlvLlxuICAgICAqL1xuICAgIEJhY2tncm91bmRUZXh0dXJlTW9kZVtCYWNrZ3JvdW5kVGV4dHVyZU1vZGVbXCJTVFJFVENIXCJdID0gMl0gPSBcIlNUUkVUQ0hcIjtcbn0pKEJhY2tncm91bmRUZXh0dXJlTW9kZSB8fCAoQmFja2dyb3VuZFRleHR1cmVNb2RlID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpQmFja2dyb3VuZCgpIHtcbiAgICByZXR1cm4geyBjb2xvcjogdW5kZWZpbmVkLCB0ZXh0dXJlOiB1bmRlZmluZWQsIHRleHR1cmVNb2RlOiAwLCB0ZXh0dXJlU2xpY2VzOiB1bmRlZmluZWQsIHV2czogW10gfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlCYWNrZ3JvdW5kO1xuKGZ1bmN0aW9uIChQQlVpQmFja2dyb3VuZCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFRleHR1cmVVbmlvbi5lbmNvZGUobWVzc2FnZS50ZXh0dXJlLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRleHR1cmVNb2RlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI0KS5pbnQzMihtZXNzYWdlLnRleHR1cmVNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0dXJlU2xpY2VzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJvcmRlclJlY3QuZW5jb2RlKG1lc3NhZ2UudGV4dHVyZVNsaWNlcywgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICB3cml0ZXIudWludDMyKDQyKS5mb3JrKCk7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnV2cykge1xuICAgICAgICAgICAgd3JpdGVyLmZsb2F0KHYpO1xuICAgICAgICB9XG4gICAgICAgIHdyaXRlci5sZGVsaW0oKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaUJhY2tncm91bmQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpQmFja2dyb3VuZCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dHVyZSA9IFRleHR1cmVVbmlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHR1cmVNb2RlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dHVyZVNsaWNlcyA9IEJvcmRlclJlY3QuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSA0NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS51dnMucHVzaChyZWFkZXIuZmxvYXQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnID09PSA0Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kMiA9IHJlYWRlci51aW50MzIoKSArIHJlYWRlci5wb3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnV2cy5wdXNoKHJlYWRlci5mbG9hdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaUJhY2tncm91bmQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUJhY2tncm91bmQgfHwgKFBCVWlCYWNrZ3JvdW5kID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5jb21tb25cIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VCb3JkZXJSZWN0KCkge1xuICAgIHJldHVybiB7IHRvcDogMCwgbGVmdDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQm9yZGVyUmVjdDtcbihmdW5jdGlvbiAoQm9yZGVyUmVjdCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnRvcCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS50b3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxlZnQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UubGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmJvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5ib3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIEJvcmRlclJlY3QuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCb3JkZXJSZWN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudG9wID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubGVmdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm90dG9tID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQm9yZGVyUmVjdC5kZWNvZGUgPSBkZWNvZGU7XG59KShCb3JkZXJSZWN0IHx8IChCb3JkZXJSZWN0ID0ge30pKTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSZWN0KCkge1xuICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFJlY3Q7XG4oZnVuY3Rpb24gKFJlY3QpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS54ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLngpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UueSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud2lkdGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2Uud2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNykuZmxvYXQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFJlY3QuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSZWN0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UueCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnkgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS53aWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFJlY3QuZGVjb2RlID0gZGVjb2RlO1xufSkoUmVjdCB8fCAoUmVjdCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaUJhY2tncm91bmQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9iYWNrZ3JvdW5kLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlCYWNrZ3JvdW5kU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA1MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaUJhY2tncm91bmQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaUJhY2tncm91bmQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlCYWNrZ3JvdW5kLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpQmFja2dyb3VuZFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBCb3JkZXJSZWN0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9ib3JkZXJfcmVjdC5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJVaUNhbnZhc0luZm9ybWF0aW9uKCkge1xuICAgIHJldHVybiB7IGRldmljZVBpeGVsUmF0aW86IDAsIHdpZHRoOiAwLCBoZWlnaHQ6IDAsIGludGVyYWN0YWJsZUFyZWE6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJVaUNhbnZhc0luZm9ybWF0aW9uO1xuKGZ1bmN0aW9uIChQQlVpQ2FudmFzSW5mb3JtYXRpb24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZXZpY2VQaXhlbFJhdGlvICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEzKS5mbG9hdChtZXNzYWdlLmRldmljZVBpeGVsUmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5pbnQzMihtZXNzYWdlLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5oZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjQpLmludDMyKG1lc3NhZ2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pbnRlcmFjdGFibGVBcmVhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJvcmRlclJlY3QuZW5jb2RlKG1lc3NhZ2UuaW50ZXJhY3RhYmxlQXJlYSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpQ2FudmFzSW5mb3JtYXRpb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZXZpY2VQaXhlbFJhdGlvID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbnRlcmFjdGFibGVBcmVhID0gQm9yZGVyUmVjdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlDYW52YXNJbmZvcm1hdGlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpQ2FudmFzSW5mb3JtYXRpb24gfHwgKFBCVWlDYW52YXNJbmZvcm1hdGlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaUNhbnZhc0luZm9ybWF0aW9uIH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfY2FudmFzX2luZm9ybWF0aW9uLmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlDYW52YXNJbmZvcm1hdGlvblNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTQsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlDYW52YXNJbmZvcm1hdGlvbi5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlVpQ2FudmFzSW5mb3JtYXRpb24uZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlDYW52YXNJbmZvcm1hdGlvbi5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaUNhbnZhc0luZm9ybWF0aW9uXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gXCIuLi8uLi9jb21tb24vY29sb3JzLmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpRHJvcGRvd24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWNjZXB0RW1wdHk6IGZhbHNlLFxuICAgICAgICBlbXB0eUxhYmVsOiB1bmRlZmluZWQsXG4gICAgICAgIG9wdGlvbnM6IFtdLFxuICAgICAgICBzZWxlY3RlZEluZGV4OiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgdGV4dEFsaWduOiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZm9udFNpemU6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJVaURyb3Bkb3duO1xuKGZ1bmN0aW9uIChQQlVpRHJvcGRvd24pIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5hY2NlcHRFbXB0eSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5ib29sKG1lc3NhZ2UuYWNjZXB0RW1wdHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmVtcHR5TGFiZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuZW1wdHlMYWJlbCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2Uub3B0aW9ucykge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKHYpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnNlbGVjdGVkSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5zZWxlY3RlZEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MCkuYm9vbChtZXNzYWdlLmRpc2FibGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoNTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dEFsaWduICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODApLmludDMyKG1lc3NhZ2UudGV4dEFsaWduKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODgpLmludDMyKG1lc3NhZ2UuZm9udCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZm9udFNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig5NikuaW50MzIobWVzc2FnZS5mb250U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgUEJVaURyb3Bkb3duLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaURyb3Bkb3duKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hY2NlcHRFbXB0eSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZW1wdHlMYWJlbCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vcHRpb25zLnB1c2gocmVhZGVyLnN0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZWxlY3RlZEluZGV4ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlzYWJsZWQgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRBbGlnbiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDk2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnRTaXplID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaURyb3Bkb3duLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlEcm9wZG93biB8fCAoUEJVaURyb3Bkb3duID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlVpRHJvcGRvd24gfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bi5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpRHJvcGRvd25TY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDk0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlVpRHJvcGRvd24uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaURyb3Bkb3duLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpRHJvcGRvd24uZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVWlEcm9wZG93blwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlEcm9wZG93blJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogMCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJVaURyb3Bkb3duUmVzdWx0O1xuKGZ1bmN0aW9uIChQQlVpRHJvcGRvd25SZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpRHJvcGRvd25SZXN1bHQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlVpRHJvcGRvd25SZXN1bHQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJVaURyb3Bkb3duUmVzdWx0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlEcm9wZG93blJlc3VsdCB8fCAoUEJVaURyb3Bkb3duUmVzdWx0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlVpRHJvcGRvd25SZXN1bHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bl9yZXN1bHQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaURyb3Bkb3duUmVzdWx0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5NixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaURyb3Bkb3duUmVzdWx0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlEcm9wZG93blJlc3VsdC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaURyb3Bkb3duUmVzdWx0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpRHJvcGRvd25SZXN1bHRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9jb2xvcnMuZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlJbnB1dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBwbGFjZWhvbGRlcjogXCJcIixcbiAgICAgICAgY29sb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgcGxhY2Vob2xkZXJDb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIHRleHRBbGlnbjogdW5kZWZpbmVkLFxuICAgICAgICBmb250OiB1bmRlZmluZWQsXG4gICAgICAgIGZvbnRTaXplOiB1bmRlZmluZWQsXG4gICAgICAgIHZhbHVlOiB1bmRlZmluZWQsXG4gICAgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlJbnB1dDtcbihmdW5jdGlvbiAoUEJVaUlucHV0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGxhY2Vob2xkZXIgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnBsYWNlaG9sZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5jb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UuY29sb3IsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxhY2Vob2xkZXJDb2xvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDb2xvcjQuZW5jb2RlKG1lc3NhZ2UucGxhY2Vob2xkZXJDb2xvciwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5kaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuYm9vbChtZXNzYWdlLmRpc2FibGVkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4MCkuaW50MzIobWVzc2FnZS50ZXh0QWxpZ24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4OCkuaW50MzIobWVzc2FnZS5mb250KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDk2KS5pbnQzMihtZXNzYWdlLmZvbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwNikuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlJbnB1dC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlJbnB1dCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYWNlaG9sZGVyID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvbG9yID0gQ29sb3I0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGxhY2Vob2xkZXJDb2xvciA9IENvbG9yNC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc2FibGVkID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dEFsaWduID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDg4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZvbnQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTA2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlJbnB1dC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlVpSW5wdXQgfHwgKFBCVWlJbnB1dCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaUlucHV0IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfaW5wdXQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaUlucHV0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA5MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaUlucHV0LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVWlJbnB1dC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaUlucHV0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpSW5wdXRcIlxuICAgIH1cbn07XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHNcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VQQlVpSW5wdXRSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IFwiXCIsIGlzU3VibWl0OiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVWlJbnB1dFJlc3VsdDtcbihmdW5jdGlvbiAoUEJVaUlucHV0UmVzdWx0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5pc1N1Ym1pdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS5ib29sKG1lc3NhZ2UuaXNTdWJtaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVWlJbnB1dFJlc3VsdC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlJbnB1dFJlc3VsdCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzU3VibWl0ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpSW5wdXRSZXN1bHQuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJVaUlucHV0UmVzdWx0IHx8IChQQlVpSW5wdXRSZXN1bHQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlJbnB1dFJlc3VsdCB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3VpX2lucHV0X3Jlc3VsdC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFVpSW5wdXRSZXN1bHRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDk1LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlVpSW5wdXRSZXN1bHQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaUlucHV0UmVzdWx0LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlVpSW5wdXRSZXN1bHQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVWlJbnB1dFJlc3VsdFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5pbXBvcnQgeyBDb2xvcjQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2NvbG9ycy5nZW5cIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0V3JhcDtcbihmdW5jdGlvbiAoVGV4dFdyYXApIHtcbiAgICBUZXh0V3JhcFtUZXh0V3JhcFtcIlRXX1dSQVBcIl0gPSAwXSA9IFwiVFdfV1JBUFwiO1xuICAgIFRleHRXcmFwW1RleHRXcmFwW1wiVFdfTk9fV1JBUFwiXSA9IDFdID0gXCJUV19OT19XUkFQXCI7XG59KShUZXh0V3JhcCB8fCAoVGV4dFdyYXAgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICBjb2xvcjogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0QWxpZ246IHVuZGVmaW5lZCxcbiAgICAgICAgZm9udDogdW5kZWZpbmVkLFxuICAgICAgICBmb250U2l6ZTogdW5kZWZpbmVkLFxuICAgICAgICB0ZXh0V3JhcDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlVpVGV4dDtcbihmdW5jdGlvbiAoUEJVaVRleHQpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmNvbG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbG9yNC5lbmNvZGUobWVzc2FnZS5jb2xvciwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0QWxpZ24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS50ZXh0QWxpZ24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZvbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5mb250KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mb250U2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLmZvbnRTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS50ZXh0V3JhcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQ4KS5pbnQzMihtZXNzYWdlLnRleHRXcmFwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpVGV4dC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVWlUZXh0KCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuY29sb3IgPSBDb2xvcjQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0QWxpZ24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mb250ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZm9udFNpemUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50ZXh0V3JhcCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVWlUZXh0LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlUZXh0IHx8IChQQlVpVGV4dCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJVaVRleHQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90ZXh0Lmdlbic7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgVWlUZXh0U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA1MixcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJVaVRleHQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaVRleHQuZGVjb2RlKHJlYWRlci5idWZmZXIoKSwgcmVhZGVyLnJlbWFpbmluZ0J5dGVzKCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGEgaGFjay5cbiAgICAgICAgcmV0dXJuIFBCVWlUZXh0LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlVpVGV4dFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdQb3NpdGlvblR5cGU7XG4oZnVuY3Rpb24gKFlHUG9zaXRpb25UeXBlKSB7XG4gICAgWUdQb3NpdGlvblR5cGVbWUdQb3NpdGlvblR5cGVbXCJZR1BUX1JFTEFUSVZFXCJdID0gMF0gPSBcIllHUFRfUkVMQVRJVkVcIjtcbiAgICBZR1Bvc2l0aW9uVHlwZVtZR1Bvc2l0aW9uVHlwZVtcIllHUFRfQUJTT0xVVEVcIl0gPSAxXSA9IFwiWUdQVF9BQlNPTFVURVwiO1xufSkoWUdQb3NpdGlvblR5cGUgfHwgKFlHUG9zaXRpb25UeXBlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHQWxpZ247XG4oZnVuY3Rpb24gKFlHQWxpZ24pIHtcbiAgICBZR0FsaWduW1lHQWxpZ25bXCJZR0FfQVVUT1wiXSA9IDBdID0gXCJZR0FfQVVUT1wiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9GTEVYX1NUQVJUXCJdID0gMV0gPSBcIllHQV9GTEVYX1NUQVJUXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0NFTlRFUlwiXSA9IDJdID0gXCJZR0FfQ0VOVEVSXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0ZMRVhfRU5EXCJdID0gM10gPSBcIllHQV9GTEVYX0VORFwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9TVFJFVENIXCJdID0gNF0gPSBcIllHQV9TVFJFVENIXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX0JBU0VMSU5FXCJdID0gNV0gPSBcIllHQV9CQVNFTElORVwiO1xuICAgIFlHQWxpZ25bWUdBbGlnbltcIllHQV9TUEFDRV9CRVRXRUVOXCJdID0gNl0gPSBcIllHQV9TUEFDRV9CRVRXRUVOXCI7XG4gICAgWUdBbGlnbltZR0FsaWduW1wiWUdBX1NQQUNFX0FST1VORFwiXSA9IDddID0gXCJZR0FfU1BBQ0VfQVJPVU5EXCI7XG59KShZR0FsaWduIHx8IChZR0FsaWduID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHVW5pdDtcbihmdW5jdGlvbiAoWUdVbml0KSB7XG4gICAgWUdVbml0W1lHVW5pdFtcIllHVV9VTkRFRklORURcIl0gPSAwXSA9IFwiWUdVX1VOREVGSU5FRFwiO1xuICAgIFlHVW5pdFtZR1VuaXRbXCJZR1VfUE9JTlRcIl0gPSAxXSA9IFwiWUdVX1BPSU5UXCI7XG4gICAgWUdVbml0W1lHVW5pdFtcIllHVV9QRVJDRU5UXCJdID0gMl0gPSBcIllHVV9QRVJDRU5UXCI7XG4gICAgWUdVbml0W1lHVW5pdFtcIllHVV9BVVRPXCJdID0gM10gPSBcIllHVV9BVVRPXCI7XG59KShZR1VuaXQgfHwgKFlHVW5pdCA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0ZsZXhEaXJlY3Rpb247XG4oZnVuY3Rpb24gKFlHRmxleERpcmVjdGlvbikge1xuICAgIFlHRmxleERpcmVjdGlvbltZR0ZsZXhEaXJlY3Rpb25bXCJZR0ZEX1JPV1wiXSA9IDBdID0gXCJZR0ZEX1JPV1wiO1xuICAgIFlHRmxleERpcmVjdGlvbltZR0ZsZXhEaXJlY3Rpb25bXCJZR0ZEX0NPTFVNTlwiXSA9IDFdID0gXCJZR0ZEX0NPTFVNTlwiO1xuICAgIFlHRmxleERpcmVjdGlvbltZR0ZsZXhEaXJlY3Rpb25bXCJZR0ZEX0NPTFVNTl9SRVZFUlNFXCJdID0gMl0gPSBcIllHRkRfQ09MVU1OX1JFVkVSU0VcIjtcbiAgICBZR0ZsZXhEaXJlY3Rpb25bWUdGbGV4RGlyZWN0aW9uW1wiWUdGRF9ST1dfUkVWRVJTRVwiXSA9IDNdID0gXCJZR0ZEX1JPV19SRVZFUlNFXCI7XG59KShZR0ZsZXhEaXJlY3Rpb24gfHwgKFlHRmxleERpcmVjdGlvbiA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR1dyYXA7XG4oZnVuY3Rpb24gKFlHV3JhcCkge1xuICAgIFlHV3JhcFtZR1dyYXBbXCJZR1dfTk9fV1JBUFwiXSA9IDBdID0gXCJZR1dfTk9fV1JBUFwiO1xuICAgIFlHV3JhcFtZR1dyYXBbXCJZR1dfV1JBUFwiXSA9IDFdID0gXCJZR1dfV1JBUFwiO1xuICAgIFlHV3JhcFtZR1dyYXBbXCJZR1dfV1JBUF9SRVZFUlNFXCJdID0gMl0gPSBcIllHV19XUkFQX1JFVkVSU0VcIjtcbn0pKFlHV3JhcCB8fCAoWUdXcmFwID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHSnVzdGlmeTtcbihmdW5jdGlvbiAoWUdKdXN0aWZ5KSB7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9GTEVYX1NUQVJUXCJdID0gMF0gPSBcIllHSl9GTEVYX1NUQVJUXCI7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9DRU5URVJcIl0gPSAxXSA9IFwiWUdKX0NFTlRFUlwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfRkxFWF9FTkRcIl0gPSAyXSA9IFwiWUdKX0ZMRVhfRU5EXCI7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9TUEFDRV9CRVRXRUVOXCJdID0gM10gPSBcIllHSl9TUEFDRV9CRVRXRUVOXCI7XG4gICAgWUdKdXN0aWZ5W1lHSnVzdGlmeVtcIllHSl9TUEFDRV9BUk9VTkRcIl0gPSA0XSA9IFwiWUdKX1NQQUNFX0FST1VORFwiO1xuICAgIFlHSnVzdGlmeVtZR0p1c3RpZnlbXCJZR0pfU1BBQ0VfRVZFTkxZXCJdID0gNV0gPSBcIllHSl9TUEFDRV9FVkVOTFlcIjtcbn0pKFlHSnVzdGlmeSB8fCAoWUdKdXN0aWZ5ID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFlHT3ZlcmZsb3c7XG4oZnVuY3Rpb24gKFlHT3ZlcmZsb3cpIHtcbiAgICBZR092ZXJmbG93W1lHT3ZlcmZsb3dbXCJZR09fVklTSUJMRVwiXSA9IDBdID0gXCJZR09fVklTSUJMRVwiO1xuICAgIFlHT3ZlcmZsb3dbWUdPdmVyZmxvd1tcIllHT19ISURERU5cIl0gPSAxXSA9IFwiWUdPX0hJRERFTlwiO1xuICAgIFlHT3ZlcmZsb3dbWUdPdmVyZmxvd1tcIllHT19TQ1JPTExcIl0gPSAyXSA9IFwiWUdPX1NDUk9MTFwiO1xufSkoWUdPdmVyZmxvdyB8fCAoWUdPdmVyZmxvdyA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBZR0Rpc3BsYXk7XG4oZnVuY3Rpb24gKFlHRGlzcGxheSkge1xuICAgIFlHRGlzcGxheVtZR0Rpc3BsYXlbXCJZR0RfRkxFWFwiXSA9IDBdID0gXCJZR0RfRkxFWFwiO1xuICAgIFlHRGlzcGxheVtZR0Rpc3BsYXlbXCJZR0RfTk9ORVwiXSA9IDFdID0gXCJZR0RfTk9ORVwiO1xufSkoWUdEaXNwbGF5IHx8IChZR0Rpc3BsYXkgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgWUdFZGdlO1xuKGZ1bmN0aW9uIChZR0VkZ2UpIHtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0xFRlRcIl0gPSAwXSA9IFwiWUdFX0xFRlRcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX1RPUFwiXSA9IDFdID0gXCJZR0VfVE9QXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9SSUdIVFwiXSA9IDJdID0gXCJZR0VfUklHSFRcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0JPVFRPTVwiXSA9IDNdID0gXCJZR0VfQk9UVE9NXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9TVEFSVFwiXSA9IDRdID0gXCJZR0VfU1RBUlRcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0VORFwiXSA9IDVdID0gXCJZR0VfRU5EXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9IT1JJWk9OVEFMXCJdID0gNl0gPSBcIllHRV9IT1JJWk9OVEFMXCI7XG4gICAgWUdFZGdlW1lHRWRnZVtcIllHRV9WRVJUSUNBTFwiXSA9IDddID0gXCJZR0VfVkVSVElDQUxcIjtcbiAgICBZR0VkZ2VbWUdFZGdlW1wiWUdFX0FMTFwiXSA9IDhdID0gXCJZR0VfQUxMXCI7XG59KShZR0VkZ2UgfHwgKFlHRWRnZSA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb2ludGVyRmlsdGVyTW9kZTtcbihmdW5jdGlvbiAoUG9pbnRlckZpbHRlck1vZGUpIHtcbiAgICBQb2ludGVyRmlsdGVyTW9kZVtQb2ludGVyRmlsdGVyTW9kZVtcIlBGTV9OT05FXCJdID0gMF0gPSBcIlBGTV9OT05FXCI7XG4gICAgUG9pbnRlckZpbHRlck1vZGVbUG9pbnRlckZpbHRlck1vZGVbXCJQRk1fQkxPQ0tcIl0gPSAxXSA9IFwiUEZNX0JMT0NLXCI7XG59KShQb2ludGVyRmlsdGVyTW9kZSB8fCAoUG9pbnRlckZpbHRlck1vZGUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVWlUcmFuc2Zvcm0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGFyZW50OiAwLFxuICAgICAgICByaWdodE9mOiAwLFxuICAgICAgICBhbGlnbkNvbnRlbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgYWxpZ25JdGVtczogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4V3JhcDogdW5kZWZpbmVkLFxuICAgICAgICBmbGV4U2hyaW5rOiB1bmRlZmluZWQsXG4gICAgICAgIHBvc2l0aW9uVHlwZTogMCxcbiAgICAgICAgYWxpZ25TZWxmOiAwLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiAwLFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogMCxcbiAgICAgICAgb3ZlcmZsb3c6IDAsXG4gICAgICAgIGRpc3BsYXk6IDAsXG4gICAgICAgIGZsZXhCYXNpc1VuaXQ6IDAsXG4gICAgICAgIGZsZXhCYXNpczogMCxcbiAgICAgICAgZmxleEdyb3c6IDAsXG4gICAgICAgIHdpZHRoVW5pdDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodFVuaXQ6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgbWluV2lkdGhVbml0OiAwLFxuICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgbWluSGVpZ2h0VW5pdDogMCxcbiAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICBtYXhXaWR0aFVuaXQ6IDAsXG4gICAgICAgIG1heFdpZHRoOiAwLFxuICAgICAgICBtYXhIZWlnaHRVbml0OiAwLFxuICAgICAgICBtYXhIZWlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uTGVmdDogMCxcbiAgICAgICAgcG9zaXRpb25Ub3BVbml0OiAwLFxuICAgICAgICBwb3NpdGlvblRvcDogMCxcbiAgICAgICAgcG9zaXRpb25SaWdodFVuaXQ6IDAsXG4gICAgICAgIHBvc2l0aW9uUmlnaHQ6IDAsXG4gICAgICAgIHBvc2l0aW9uQm90dG9tVW5pdDogMCxcbiAgICAgICAgcG9zaXRpb25Cb3R0b206IDAsXG4gICAgICAgIG1hcmdpbkxlZnRVbml0OiAwLFxuICAgICAgICBtYXJnaW5MZWZ0OiAwLFxuICAgICAgICBtYXJnaW5Ub3BVbml0OiAwLFxuICAgICAgICBtYXJnaW5Ub3A6IDAsXG4gICAgICAgIG1hcmdpblJpZ2h0VW5pdDogMCxcbiAgICAgICAgbWFyZ2luUmlnaHQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbVVuaXQ6IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogMCxcbiAgICAgICAgcGFkZGluZ0xlZnRVbml0OiAwLFxuICAgICAgICBwYWRkaW5nTGVmdDogMCxcbiAgICAgICAgcGFkZGluZ1RvcFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdUb3A6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodFVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdSaWdodDogMCxcbiAgICAgICAgcGFkZGluZ0JvdHRvbVVuaXQ6IDAsXG4gICAgICAgIHBhZGRpbmdCb3R0b206IDAsXG4gICAgICAgIHBvaW50ZXJGaWx0ZXI6IHVuZGVmaW5lZCxcbiAgICB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJVaVRyYW5zZm9ybTtcbihmdW5jdGlvbiAoUEJVaVRyYW5zZm9ybSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBhcmVudCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnBhcmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucmlnaHRPZiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50MzIobWVzc2FnZS5yaWdodE9mKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5hbGlnbkNvbnRlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNCkuaW50MzIobWVzc2FnZS5hbGlnbkNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmFsaWduSXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuaW50MzIobWVzc2FnZS5hbGlnbkl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbGV4V3JhcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLmZsZXhXcmFwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5mbGV4U2hyaW5rICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNTMpLmZsb2F0KG1lc3NhZ2UuZmxleFNocmluayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25UeXBlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDU2KS5pbnQzMihtZXNzYWdlLnBvc2l0aW9uVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWxpZ25TZWxmICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDY0KS5pbnQzMihtZXNzYWdlLmFsaWduU2VsZik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleERpcmVjdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig3MikuaW50MzIobWVzc2FnZS5mbGV4RGlyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5qdXN0aWZ5Q29udGVudCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4MCkuaW50MzIobWVzc2FnZS5qdXN0aWZ5Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uub3ZlcmZsb3cgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoODgpLmludDMyKG1lc3NhZ2Uub3ZlcmZsb3cpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmRpc3BsYXkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOTYpLmludDMyKG1lc3NhZ2UuZGlzcGxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleEJhc2lzVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMDQpLmludDMyKG1lc3NhZ2UuZmxleEJhc2lzVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuZmxleEJhc2lzICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDExNykuZmxvYXQobWVzc2FnZS5mbGV4QmFzaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmZsZXhHcm93ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEyNSkuZmxvYXQobWVzc2FnZS5mbGV4R3Jvdyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2Uud2lkdGhVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEyOCkuaW50MzIobWVzc2FnZS53aWR0aFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE0MSkuZmxvYXQobWVzc2FnZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNDQpLmludDMyKG1lc3NhZ2UuaGVpZ2h0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGVpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE1NykuZmxvYXQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1pbldpZHRoVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNjApLmludDMyKG1lc3NhZ2UubWluV2lkdGhVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5taW5XaWR0aCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNzMpLmZsb2F0KG1lc3NhZ2UubWluV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1pbkhlaWdodFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTc2KS5pbnQzMihtZXNzYWdlLm1pbkhlaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1pbkhlaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxODkpLmZsb2F0KG1lc3NhZ2UubWluSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXhXaWR0aFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTkyKS5pbnQzMihtZXNzYWdlLm1heFdpZHRoVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWF4V2lkdGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjA1KS5mbG9hdChtZXNzYWdlLm1heFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXhIZWlnaHRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIwOCkuaW50MzIobWVzc2FnZS5tYXhIZWlnaHRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXhIZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjIxKS5mbG9hdChtZXNzYWdlLm1heEhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25MZWZ0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyMjQpLmludDMyKG1lc3NhZ2UucG9zaXRpb25MZWZ0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25MZWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDIzNykuZmxvYXQobWVzc2FnZS5wb3NpdGlvbkxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uVG9wVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNDApLmludDMyKG1lc3NhZ2UucG9zaXRpb25Ub3BVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wb3NpdGlvblRvcCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNTMpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25Ub3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uUmlnaHRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI1NikuaW50MzIobWVzc2FnZS5wb3NpdGlvblJpZ2h0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25SaWdodCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNjkpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb25SaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9zaXRpb25Cb3R0b21Vbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI3MikuaW50MzIobWVzc2FnZS5wb3NpdGlvbkJvdHRvbVVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uQm90dG9tICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDI4NSkuZmxvYXQobWVzc2FnZS5wb3NpdGlvbkJvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luTGVmdFVuaXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjg4KS5pbnQzMihtZXNzYWdlLm1hcmdpbkxlZnRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXJnaW5MZWZ0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMwMSkuZmxvYXQobWVzc2FnZS5tYXJnaW5MZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXJnaW5Ub3BVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMwNCkuaW50MzIobWVzc2FnZS5tYXJnaW5Ub3BVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5tYXJnaW5Ub3AgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzE3KS5mbG9hdChtZXNzYWdlLm1hcmdpblRvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luUmlnaHRVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMyMCkuaW50MzIobWVzc2FnZS5tYXJnaW5SaWdodFVuaXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLm1hcmdpblJpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDMzMykuZmxvYXQobWVzc2FnZS5tYXJnaW5SaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luQm90dG9tVW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMzYpLmludDMyKG1lc3NhZ2UubWFyZ2luQm90dG9tVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UubWFyZ2luQm90dG9tICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM0OSkuZmxvYXQobWVzc2FnZS5tYXJnaW5Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdMZWZ0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNTIpLmludDMyKG1lc3NhZ2UucGFkZGluZ0xlZnRVbml0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5wYWRkaW5nTGVmdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzNjUpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0xlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdUb3BVbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM2OCkuaW50MzIobWVzc2FnZS5wYWRkaW5nVG9wVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1RvcCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzODEpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ1RvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1JpZ2h0VW5pdCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzODQpLmludDMyKG1lc3NhZ2UucGFkZGluZ1JpZ2h0VW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ1JpZ2h0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM5NykuZmxvYXQobWVzc2FnZS5wYWRkaW5nUmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBhZGRpbmdCb3R0b21Vbml0ICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwMCkuaW50MzIobWVzc2FnZS5wYWRkaW5nQm90dG9tVW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFkZGluZ0JvdHRvbSAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig0MTMpLmZsb2F0KG1lc3NhZ2UucGFkZGluZ0JvdHRvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucG9pbnRlckZpbHRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQxNikuaW50MzIobWVzc2FnZS5wb2ludGVyRmlsdGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlVpVHJhbnNmb3JtLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJVaVRyYW5zZm9ybSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFyZW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmlnaHRPZiA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsaWduQ29udGVudCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmFsaWduSXRlbXMgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbGV4V3JhcCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDUzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhTaHJpbmsgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hbGlnblNlbGYgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA3Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mbGV4RGlyZWN0aW9uID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmp1c3RpZnlDb250ZW50ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDg4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm92ZXJmbG93ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDk2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRpc3BsYXkgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTA0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhCYXNpc1VuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZsZXhCYXNpcyA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZmxleEdyb3cgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTI4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLndpZHRoVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTQ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlaWdodFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTU3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmhlaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNjApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWluV2lkdGhVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE3Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5taW5XaWR0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNzYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWluSGVpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxODkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWluSGVpZ2h0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE5Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhXaWR0aFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjA1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1heFdpZHRoID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIwOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhIZWlnaHRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDIyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXhIZWlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uTGVmdFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uTGVmdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25Ub3BVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI1Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvblRvcCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25SaWdodFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjY5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uUmlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjcyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvc2l0aW9uQm90dG9tVW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM1OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyODUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucG9zaXRpb25Cb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMjg4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpbkxlZnRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXJnaW5MZWZ0ID0gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMwNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXJnaW5Ub3BVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDMxNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tYXJnaW5Ub3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzIwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpblJpZ2h0VW5pdCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMzMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWFyZ2luUmlnaHQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0MjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzM2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpbkJvdHRvbVVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzQ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1hcmdpbkJvdHRvbSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0xlZnRVbml0ID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM2NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYWRkaW5nTGVmdCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ2OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNjgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ1RvcFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzgxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdUb3AgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzg0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodFVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMzk3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdSaWdodCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUwOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA0MDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFkZGluZ0JvdHRvbVVuaXQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1MTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBhZGRpbmdCb3R0b20gPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA1MjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBvaW50ZXJGaWx0ZXIgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlVpVHJhbnNmb3JtLmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVWlUcmFuc2Zvcm0gfHwgKFBCVWlUcmFuc2Zvcm0gPSB7fSkpO1xuIiwgImltcG9ydCB7IFBCVWlUcmFuc2Zvcm0gfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90cmFuc2Zvcm0uZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBVaVRyYW5zZm9ybVNjaGVtYSA9IHtcbiAgICBDT01QT05FTlRfSUQ6IDEwNTAsXG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IFBCVWlUcmFuc2Zvcm0uZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJVaVRyYW5zZm9ybS5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJVaVRyYW5zZm9ybS5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoKSk7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogXCJwcm90b2NvbC1idWZmZXJcIixcbiAgICAgICAgcHJvdG9jb2xCdWZmZXI6IFwiUEJVaVRyYW5zZm9ybVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVmlkZW9TdGF0ZTtcbihmdW5jdGlvbiAoVmlkZW9TdGF0ZSkge1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX05PTkVcIl0gPSAwXSA9IFwiVlNfTk9ORVwiO1xuICAgIFZpZGVvU3RhdGVbVmlkZW9TdGF0ZVtcIlZTX0VSUk9SXCJdID0gMV0gPSBcIlZTX0VSUk9SXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfTE9BRElOR1wiXSA9IDJdID0gXCJWU19MT0FESU5HXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfUkVBRFlcIl0gPSAzXSA9IFwiVlNfUkVBRFlcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19QTEFZSU5HXCJdID0gNF0gPSBcIlZTX1BMQVlJTkdcIjtcbiAgICBWaWRlb1N0YXRlW1ZpZGVvU3RhdGVbXCJWU19CVUZGRVJJTkdcIl0gPSA1XSA9IFwiVlNfQlVGRkVSSU5HXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfU0VFS0lOR1wiXSA9IDZdID0gXCJWU19TRUVLSU5HXCI7XG4gICAgVmlkZW9TdGF0ZVtWaWRlb1N0YXRlW1wiVlNfUEFVU0VEXCJdID0gN10gPSBcIlZTX1BBVVNFRFwiO1xufSkoVmlkZW9TdGF0ZSB8fCAoVmlkZW9TdGF0ZSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlUEJWaWRlb0V2ZW50KCkge1xuICAgIHJldHVybiB7IHRpbWVzdGFtcDogMCwgdGlja051bWJlcjogMCwgY3VycmVudE9mZnNldDogMCwgdmlkZW9MZW5ndGg6IDAsIHN0YXRlOiAwIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlZpZGVvRXZlbnQ7XG4oZnVuY3Rpb24gKFBCVmlkZW9FdmVudCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnRpbWVzdGFtcCAhPT0gMCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS51aW50MzIobWVzc2FnZS50aW1lc3RhbXApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnRpY2tOdW1iZXIgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTYpLnVpbnQzMihtZXNzYWdlLnRpY2tOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmN1cnJlbnRPZmZzZXQgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UuY3VycmVudE9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UudmlkZW9MZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMzcpLmZsb2F0KG1lc3NhZ2UudmlkZW9MZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXRlICE9PSAwKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDQwKS5pbnQzMihtZXNzYWdlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlZpZGVvRXZlbnQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlZpZGVvRXZlbnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRpbWVzdGFtcCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aWNrTnVtYmVyID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmN1cnJlbnRPZmZzZXQgPSByZWFkZXIuZmxvYXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52aWRlb0xlbmd0aCA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN0YXRlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgUEJWaWRlb0V2ZW50LmRlY29kZSA9IGRlY29kZTtcbn0pKFBCVmlkZW9FdmVudCB8fCAoUEJWaWRlb0V2ZW50ID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlZpZGVvRXZlbnQgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19ldmVudC5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvRXZlbnRTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDQ0LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlZpZGVvRXZlbnQuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJWaWRlb0V2ZW50LmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlZpZGVvRXZlbnQuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVmlkZW9FdmVudFwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVmlkZW9QbGF5ZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3JjOiBcIlwiLFxuICAgICAgICBwbGF5aW5nOiB1bmRlZmluZWQsXG4gICAgICAgIHBvc2l0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIHZvbHVtZTogdW5kZWZpbmVkLFxuICAgICAgICBwbGF5YmFja1JhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9vcDogdW5kZWZpbmVkLFxuICAgIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQQlZpZGVvUGxheWVyO1xuKGZ1bmN0aW9uIChQQlZpZGVvUGxheWVyKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc3JjICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5zcmMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBsYXlpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxNikuYm9vbChtZXNzYWdlLnBsYXlpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjkpLmZsb2F0KG1lc3NhZ2UucG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZvbHVtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDM3KS5mbG9hdChtZXNzYWdlLnZvbHVtZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lc3NhZ2UucGxheWJhY2tSYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDUpLmZsb2F0KG1lc3NhZ2UucGxheWJhY2tSYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZS5sb29wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoNDgpLmJvb2wobWVzc2FnZS5sb29wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlZpZGVvUGxheWVyLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUEJWaWRlb1BsYXllcigpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNyYyA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5aW5nID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wb3NpdGlvbiA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDM3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZvbHVtZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXliYWNrUmF0ZSA9IHJlYWRlci5mbG9hdCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb3AgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVmlkZW9QbGF5ZXIuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaWRlb1BsYXllciB8fCAoUEJWaWRlb1BsYXllciA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJWaWRlb1BsYXllciB9IGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX3BsYXllci5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvUGxheWVyU2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA0MyxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJWaWRlb1BsYXllci5lbmNvZGUodmFsdWUpO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSh3cml0ZXIuZmluaXNoKCksIDAsIHdyaXRlci5sZW4pO1xuICAgICAgICBidWlsZGVyLndyaXRlQnVmZmVyKGJ1ZmZlciwgZmFsc2UpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiBQQlZpZGVvUGxheWVyLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlZpZGVvUGxheWVyLmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlZpZGVvUGxheWVyXCJcbiAgICB9XG59O1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmltcG9ydCB7IENhbWVyYVRyYW5zaXRpb24gfSBmcm9tIFwiLi9jb21tb24vY2FtZXJhX3RyYW5zaXRpb24uZ2VuXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVmlydHVhbENhbWVyYSgpIHtcbiAgICByZXR1cm4geyBkZWZhdWx0VHJhbnNpdGlvbjogdW5kZWZpbmVkLCBsb29rQXRFbnRpdHk6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUEJWaXJ0dWFsQ2FtZXJhO1xuKGZ1bmN0aW9uIChQQlZpcnR1YWxDYW1lcmEpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5kZWZhdWx0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBDYW1lcmFUcmFuc2l0aW9uLmVuY29kZShtZXNzYWdlLmRlZmF1bHRUcmFuc2l0aW9uLCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmxvb2tBdEVudGl0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDE2KS51aW50MzIobWVzc2FnZS5sb29rQXRFbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFBCVmlydHVhbENhbWVyYS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVBCVmlydHVhbENhbWVyYSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRlZmF1bHRUcmFuc2l0aW9uID0gQ2FtZXJhVHJhbnNpdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmxvb2tBdEVudGl0eSA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBQQlZpcnR1YWxDYW1lcmEuZGVjb2RlID0gZGVjb2RlO1xufSkoUEJWaXJ0dWFsQ2FtZXJhIHx8IChQQlZpcnR1YWxDYW1lcmEgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZGVjZW50cmFsYW5kLnNkay5jb21wb25lbnRzLmNvbW1vblwiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUNhbWVyYVRyYW5zaXRpb24oKSB7XG4gICAgcmV0dXJuIHsgdHJhbnNpdGlvbk1vZGU6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ2FtZXJhVHJhbnNpdGlvbjtcbihmdW5jdGlvbiAoQ2FtZXJhVHJhbnNpdGlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS50cmFuc2l0aW9uTW9kZT8uJGNhc2UpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxMykuZmxvYXQobWVzc2FnZS50cmFuc2l0aW9uTW9kZS50aW1lKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzcGVlZFwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMjEpLmZsb2F0KG1lc3NhZ2UudHJhbnNpdGlvbk1vZGUuc3BlZWQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENhbWVyYVRyYW5zaXRpb24uZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDYW1lcmFUcmFuc2l0aW9uKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHJhbnNpdGlvbk1vZGUgPSB7ICRjYXNlOiBcInRpbWVcIiwgdGltZTogcmVhZGVyLmZsb2F0KCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50cmFuc2l0aW9uTW9kZSA9IHsgJGNhc2U6IFwic3BlZWRcIiwgc3BlZWQ6IHJlYWRlci5mbG9hdCgpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ2FtZXJhVHJhbnNpdGlvbi5kZWNvZGUgPSBkZWNvZGU7XG59KShDYW1lcmFUcmFuc2l0aW9uIHx8IChDYW1lcmFUcmFuc2l0aW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBQQlZpcnR1YWxDYW1lcmEgfSBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aXJ0dWFsX2NhbWVyYS5nZW4nO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFZpcnR1YWxDYW1lcmFTY2hlbWEgPSB7XG4gICAgQ09NUE9ORU5UX0lEOiAxMDc2LFxuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBjb25zdCB3cml0ZXIgPSBQQlZpcnR1YWxDYW1lcmEuZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkod3JpdGVyLmZpbmlzaCgpLCAwLCB3cml0ZXIubGVuKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUJ1ZmZlcihidWZmZXIsIGZhbHNlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gUEJWaXJ0dWFsQ2FtZXJhLmRlY29kZShyZWFkZXIuYnVmZmVyKCksIHJlYWRlci5yZW1haW5pbmdCeXRlcygpKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2suXG4gICAgICAgIHJldHVybiBQQlZpcnR1YWxDYW1lcmEuZGVjb2RlKG5ldyBVaW50OEFycmF5KCkpO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFwicHJvdG9jb2wtYnVmZmVyXCIsXG4gICAgICAgIHByb3RvY29sQnVmZmVyOiBcIlBCVmlydHVhbENhbWVyYVwiXG4gICAgfVxufTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IF9tMCBmcm9tIFwicHJvdG9idWZqcy9taW5pbWFsXCI7XG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50c1wiO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVBCVmlzaWJpbGl0eUNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4geyB2aXNpYmxlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFBCVmlzaWJpbGl0eUNvbXBvbmVudDtcbihmdW5jdGlvbiAoUEJWaXNpYmlsaXR5Q29tcG9uZW50KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudmlzaWJsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDgpLmJvb2wobWVzc2FnZS52aXNpYmxlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBQQlZpc2liaWxpdHlDb21wb25lbnQuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VQQlZpc2liaWxpdHlDb21wb25lbnQoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZpc2libGUgPSByZWFkZXIuYm9vbCgpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIFBCVmlzaWJpbGl0eUNvbXBvbmVudC5kZWNvZGUgPSBkZWNvZGU7XG59KShQQlZpc2liaWxpdHlDb21wb25lbnQgfHwgKFBCVmlzaWJpbGl0eUNvbXBvbmVudCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUEJWaXNpYmlsaXR5Q29tcG9uZW50IH0gZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdmlzaWJpbGl0eV9jb21wb25lbnQuZ2VuJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBWaXNpYmlsaXR5Q29tcG9uZW50U2NoZW1hID0ge1xuICAgIENPTVBPTkVOVF9JRDogMTA4MSxcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gUEJWaXNpYmlsaXR5Q29tcG9uZW50LmVuY29kZSh2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHdyaXRlci5maW5pc2goKSwgMCwgd3JpdGVyLmxlbik7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVCdWZmZXIoYnVmZmVyLCBmYWxzZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIFBCVmlzaWJpbGl0eUNvbXBvbmVudC5kZWNvZGUocmVhZGVyLmJ1ZmZlcigpLCByZWFkZXIucmVtYWluaW5nQnl0ZXMoKSk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrLlxuICAgICAgICByZXR1cm4gUEJWaXNpYmlsaXR5Q29tcG9uZW50LmRlY29kZShuZXcgVWludDhBcnJheSgpKTtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiBcInByb3RvY29sLWJ1ZmZlclwiLFxuICAgICAgICBwcm90b2NvbEJ1ZmZlcjogXCJQQlZpc2liaWxpdHlDb21wb25lbnRcIlxuICAgIH1cbn07XG4iLCAiaW1wb3J0IHsgQW5pbWF0b3JTY2hlbWEgfSBmcm9tICcuL0FuaW1hdG9yLmdlbic7XG5pbXBvcnQgeyBBdWRpb0V2ZW50U2NoZW1hIH0gZnJvbSAnLi9BdWRpb0V2ZW50Lmdlbic7XG5pbXBvcnQgeyBBdWRpb1NvdXJjZVNjaGVtYSB9IGZyb20gJy4vQXVkaW9Tb3VyY2UuZ2VuJztcbmltcG9ydCB7IEF1ZGlvU3RyZWFtU2NoZW1hIH0gZnJvbSAnLi9BdWRpb1N0cmVhbS5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyQXR0YWNoU2NoZW1hIH0gZnJvbSAnLi9BdmF0YXJBdHRhY2guZ2VuJztcbmltcG9ydCB7IEF2YXRhckJhc2VTY2hlbWEgfSBmcm9tICcuL0F2YXRhckJhc2UuZ2VuJztcbmltcG9ydCB7IEF2YXRhckVtb3RlQ29tbWFuZFNjaGVtYSB9IGZyb20gJy4vQXZhdGFyRW1vdGVDb21tYW5kLmdlbic7XG5pbXBvcnQgeyBBdmF0YXJFcXVpcHBlZERhdGFTY2hlbWEgfSBmcm9tICcuL0F2YXRhckVxdWlwcGVkRGF0YS5nZW4nO1xuaW1wb3J0IHsgQXZhdGFyTW9kaWZpZXJBcmVhU2NoZW1hIH0gZnJvbSAnLi9BdmF0YXJNb2RpZmllckFyZWEuZ2VuJztcbmltcG9ydCB7IEF2YXRhclNoYXBlU2NoZW1hIH0gZnJvbSAnLi9BdmF0YXJTaGFwZS5nZW4nO1xuaW1wb3J0IHsgQmlsbGJvYXJkU2NoZW1hIH0gZnJvbSAnLi9CaWxsYm9hcmQuZ2VuJztcbmltcG9ydCB7IENhbWVyYU1vZGVTY2hlbWEgfSBmcm9tICcuL0NhbWVyYU1vZGUuZ2VuJztcbmltcG9ydCB7IENhbWVyYU1vZGVBcmVhU2NoZW1hIH0gZnJvbSAnLi9DYW1lcmFNb2RlQXJlYS5nZW4nO1xuaW1wb3J0IHsgRW5naW5lSW5mb1NjaGVtYSB9IGZyb20gJy4vRW5naW5lSW5mby5nZW4nO1xuaW1wb3J0IHsgR2x0ZkNvbnRhaW5lclNjaGVtYSB9IGZyb20gJy4vR2x0ZkNvbnRhaW5lci5nZW4nO1xuaW1wb3J0IHsgR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVNjaGVtYSB9IGZyb20gJy4vR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZS5nZW4nO1xuaW1wb3J0IHsgSW5wdXRNb2RpZmllclNjaGVtYSB9IGZyb20gJy4vSW5wdXRNb2RpZmllci5nZW4nO1xuaW1wb3J0IHsgTWFpbkNhbWVyYVNjaGVtYSB9IGZyb20gJy4vTWFpbkNhbWVyYS5nZW4nO1xuaW1wb3J0IHsgTWF0ZXJpYWxTY2hlbWEgfSBmcm9tICcuL01hdGVyaWFsLmdlbic7XG5pbXBvcnQgeyBNZXNoQ29sbGlkZXJTY2hlbWEgfSBmcm9tICcuL01lc2hDb2xsaWRlci5nZW4nO1xuaW1wb3J0IHsgTWVzaFJlbmRlcmVyU2NoZW1hIH0gZnJvbSAnLi9NZXNoUmVuZGVyZXIuZ2VuJztcbmltcG9ydCB7IE5mdFNoYXBlU2NoZW1hIH0gZnJvbSAnLi9OZnRTaGFwZS5nZW4nO1xuaW1wb3J0IHsgUGxheWVySWRlbnRpdHlEYXRhU2NoZW1hIH0gZnJvbSAnLi9QbGF5ZXJJZGVudGl0eURhdGEuZ2VuJztcbmltcG9ydCB7IFBvaW50ZXJFdmVudHNTY2hlbWEgfSBmcm9tICcuL1BvaW50ZXJFdmVudHMuZ2VuJztcbmltcG9ydCB7IFBvaW50ZXJFdmVudHNSZXN1bHRTY2hlbWEgfSBmcm9tICcuL1BvaW50ZXJFdmVudHNSZXN1bHQuZ2VuJztcbmltcG9ydCB7IFBvaW50ZXJMb2NrU2NoZW1hIH0gZnJvbSAnLi9Qb2ludGVyTG9jay5nZW4nO1xuaW1wb3J0IHsgUmF5Y2FzdFNjaGVtYSB9IGZyb20gJy4vUmF5Y2FzdC5nZW4nO1xuaW1wb3J0IHsgUmF5Y2FzdFJlc3VsdFNjaGVtYSB9IGZyb20gJy4vUmF5Y2FzdFJlc3VsdC5nZW4nO1xuaW1wb3J0IHsgUmVhbG1JbmZvU2NoZW1hIH0gZnJvbSAnLi9SZWFsbUluZm8uZ2VuJztcbmltcG9ydCB7IFRleHRTaGFwZVNjaGVtYSB9IGZyb20gJy4vVGV4dFNoYXBlLmdlbic7XG5pbXBvcnQgeyBUd2VlblNjaGVtYSB9IGZyb20gJy4vVHdlZW4uZ2VuJztcbmltcG9ydCB7IFR3ZWVuU2VxdWVuY2VTY2hlbWEgfSBmcm9tICcuL1R3ZWVuU2VxdWVuY2UuZ2VuJztcbmltcG9ydCB7IFR3ZWVuU3RhdGVTY2hlbWEgfSBmcm9tICcuL1R3ZWVuU3RhdGUuZ2VuJztcbmltcG9ydCB7IFVpQmFja2dyb3VuZFNjaGVtYSB9IGZyb20gJy4vVWlCYWNrZ3JvdW5kLmdlbic7XG5pbXBvcnQgeyBVaUNhbnZhc0luZm9ybWF0aW9uU2NoZW1hIH0gZnJvbSAnLi9VaUNhbnZhc0luZm9ybWF0aW9uLmdlbic7XG5pbXBvcnQgeyBVaURyb3Bkb3duU2NoZW1hIH0gZnJvbSAnLi9VaURyb3Bkb3duLmdlbic7XG5pbXBvcnQgeyBVaURyb3Bkb3duUmVzdWx0U2NoZW1hIH0gZnJvbSAnLi9VaURyb3Bkb3duUmVzdWx0Lmdlbic7XG5pbXBvcnQgeyBVaUlucHV0U2NoZW1hIH0gZnJvbSAnLi9VaUlucHV0Lmdlbic7XG5pbXBvcnQgeyBVaUlucHV0UmVzdWx0U2NoZW1hIH0gZnJvbSAnLi9VaUlucHV0UmVzdWx0Lmdlbic7XG5pbXBvcnQgeyBVaVRleHRTY2hlbWEgfSBmcm9tICcuL1VpVGV4dC5nZW4nO1xuaW1wb3J0IHsgVWlUcmFuc2Zvcm1TY2hlbWEgfSBmcm9tICcuL1VpVHJhbnNmb3JtLmdlbic7XG5pbXBvcnQgeyBWaWRlb0V2ZW50U2NoZW1hIH0gZnJvbSAnLi9WaWRlb0V2ZW50Lmdlbic7XG5pbXBvcnQgeyBWaWRlb1BsYXllclNjaGVtYSB9IGZyb20gJy4vVmlkZW9QbGF5ZXIuZ2VuJztcbmltcG9ydCB7IFZpcnR1YWxDYW1lcmFTY2hlbWEgfSBmcm9tICcuL1ZpcnR1YWxDYW1lcmEuZ2VuJztcbmltcG9ydCB7IFZpc2liaWxpdHlDb21wb25lbnRTY2hlbWEgfSBmcm9tICcuL1Zpc2liaWxpdHlDb21wb25lbnQuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2FuaW1hdG9yLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19ldmVudC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXVkaW9fc291cmNlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdWRpb19zdHJlYW0uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9hdHRhY2guZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9iYXNlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfZW1vdGVfY29tbWFuZC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvYXZhdGFyX2VxdWlwcGVkX2RhdGEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2F2YXRhcl9tb2RpZmllcl9hcmVhLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9hdmF0YXJfc2hhcGUuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2JpbGxib2FyZC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY2FtZXJhX21vZGUuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2NhbWVyYV9tb2RlX2FyZWEuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL2VuZ2luZV9pbmZvLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9nbHRmX2NvbnRhaW5lci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvZ2x0Zl9jb250YWluZXJfbG9hZGluZ19zdGF0ZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvaW5wdXRfbW9kaWZpZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL21haW5fY2FtZXJhLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9tYXRlcmlhbC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9jb2xsaWRlci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbWVzaF9yZW5kZXJlci5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvbmZ0X3NoYXBlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9wbGF5ZXJfaWRlbnRpdHlfZGF0YS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9ldmVudHMuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3BvaW50ZXJfZXZlbnRzX3Jlc3VsdC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcG9pbnRlcl9sb2NrLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy9yYXljYXN0X3Jlc3VsdC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvcmVhbG1faW5mby5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdGV4dF9zaGFwZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdHdlZW4uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3R3ZWVuX3NlcXVlbmNlLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy90d2Vlbl9zdGF0ZS5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfYmFja2dyb3VuZC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfY2FudmFzX2luZm9ybWF0aW9uLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9kcm9wZG93bi5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfZHJvcGRvd25fcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV9pbnB1dC5nZW4nO1xuZXhwb3J0ICogZnJvbSAnLi9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvdWlfaW5wdXRfcmVzdWx0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90ZXh0Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy91aV90cmFuc2Zvcm0uZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpZGVvX2V2ZW50Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aWRlb19wbGF5ZXIuZ2VuJztcbmV4cG9ydCAqIGZyb20gJy4vcGIvZGVjZW50cmFsYW5kL3Nkay9jb21wb25lbnRzL3ZpcnR1YWxfY2FtZXJhLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3BiL2RlY2VudHJhbGFuZC9zZGsvY29tcG9uZW50cy92aXNpYmlsaXR5X2NvbXBvbmVudC5nZW4nO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEFuaW1hdG9yID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QW5pbWF0b3JcIiwgQW5pbWF0b3JTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF1ZGlvRXZlbnQgPSAoZW5naW5lKSA9PiAvKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF1ZGlvRXZlbnRcIiwgQXVkaW9FdmVudFNjaGVtYSwge1xuICAgIHRpbWVzdGFtcEZ1bmN0aW9uOiAodCkgPT4gdC50aW1lc3RhbXAsXG4gICAgbWF4RWxlbWVudHM6IDEwMFxufSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9Tb3VyY2UgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdWRpb1NvdXJjZVwiLCBBdWRpb1NvdXJjZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdWRpb1N0cmVhbVwiLCBBdWRpb1N0cmVhbVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyQXR0YWNoID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6QXZhdGFyQXR0YWNoXCIsIEF2YXRhckF0dGFjaFNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyQmFzZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF2YXRhckJhc2VcIiwgQXZhdGFyQmFzZVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyRW1vdGVDb21tYW5kID0gKGVuZ2luZSkgPT4gLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJFbW90ZUNvbW1hbmRcIiwgQXZhdGFyRW1vdGVDb21tYW5kU2NoZW1hLCB7XG4gICAgdGltZXN0YW1wRnVuY3Rpb246ICh0KSA9PiB0LnRpbWVzdGFtcCxcbiAgICBtYXhFbGVtZW50czogMTAwXG59KTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJFcXVpcHBlZERhdGEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJFcXVpcHBlZERhdGFcIiwgQXZhdGFyRXF1aXBwZWREYXRhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJNb2RpZmllckFyZWEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpBdmF0YXJNb2RpZmllckFyZWFcIiwgQXZhdGFyTW9kaWZpZXJBcmVhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdmF0YXJTaGFwZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkF2YXRhclNoYXBlXCIsIEF2YXRhclNoYXBlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBCaWxsYm9hcmQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpCaWxsYm9hcmRcIiwgQmlsbGJvYXJkU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBDYW1lcmFNb2RlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6Q2FtZXJhTW9kZVwiLCBDYW1lcmFNb2RlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBDYW1lcmFNb2RlQXJlYSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OkNhbWVyYU1vZGVBcmVhXCIsIENhbWVyYU1vZGVBcmVhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBFbmdpbmVJbmZvID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6RW5naW5lSW5mb1wiLCBFbmdpbmVJbmZvU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmQ29udGFpbmVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6R2x0ZkNvbnRhaW5lclwiLCBHbHRmQ29udGFpbmVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6R2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVwiLCBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBJbnB1dE1vZGlmaWVyID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6SW5wdXRNb2RpZmllclwiLCBJbnB1dE1vZGlmaWVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNYWluQ2FtZXJhID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6TWFpbkNhbWVyYVwiLCBNYWluQ2FtZXJhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNYXRlcmlhbCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6Ok1hdGVyaWFsXCIsIE1hdGVyaWFsU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpNZXNoQ29sbGlkZXJcIiwgTWVzaENvbGxpZGVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBNZXNoUmVuZGVyZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpNZXNoUmVuZGVyZXJcIiwgTWVzaFJlbmRlcmVyU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBOZnRTaGFwZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6Ok5mdFNoYXBlXCIsIE5mdFNoYXBlU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQbGF5ZXJJZGVudGl0eURhdGEgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpQbGF5ZXJJZGVudGl0eURhdGFcIiwgUGxheWVySWRlbnRpdHlEYXRhU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UG9pbnRlckV2ZW50c1wiLCBQb2ludGVyRXZlbnRzU2NoZW1hKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0ID0gKGVuZ2luZSkgPT4gLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpQb2ludGVyRXZlbnRzUmVzdWx0XCIsIFBvaW50ZXJFdmVudHNSZXN1bHRTY2hlbWEsIHtcbiAgICB0aW1lc3RhbXBGdW5jdGlvbjogKHQpID0+IHQudGltZXN0YW1wLFxuICAgIG1heEVsZW1lbnRzOiAxMDBcbn0pO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6UG9pbnRlckxvY2tcIiwgUG9pbnRlckxvY2tTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3QgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpSYXljYXN0XCIsIFJheWNhc3RTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpSYXljYXN0UmVzdWx0XCIsIFJheWNhc3RSZXN1bHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJlYWxtSW5mbyA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlJlYWxtSW5mb1wiLCBSZWFsbUluZm9TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFRleHRTaGFwZSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlRleHRTaGFwZVwiLCBUZXh0U2hhcGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VHdlZW5cIiwgVHdlZW5TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuU2VxdWVuY2UgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpUd2VlblNlcXVlbmNlXCIsIFR3ZWVuU2VxdWVuY2VTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFR3ZWVuU3RhdGUgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpUd2VlblN0YXRlXCIsIFR3ZWVuU3RhdGVTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpQmFja2dyb3VuZCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlVpQmFja2dyb3VuZFwiLCBVaUJhY2tncm91bmRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpQ2FudmFzSW5mb3JtYXRpb24gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUNhbnZhc0luZm9ybWF0aW9uXCIsIFVpQ2FudmFzSW5mb3JtYXRpb25TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd24gPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaURyb3Bkb3duXCIsIFVpRHJvcGRvd25TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpRHJvcGRvd25SZXN1bHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaURyb3Bkb3duUmVzdWx0XCIsIFVpRHJvcGRvd25SZXN1bHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpSW5wdXQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUlucHV0XCIsIFVpSW5wdXRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpSW5wdXRSZXN1bHQgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpVaUlucHV0UmVzdWx0XCIsIFVpSW5wdXRSZXN1bHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVGV4dCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlVpVGV4dFwiLCBVaVRleHRTY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpVHJhbnNmb3JtID0gZW5naW5lID0+IFxuLyogQF9fUFVSRV9fICovIGVuZ2luZS5kZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKFwiY29yZTo6VWlUcmFuc2Zvcm1cIiwgVWlUcmFuc2Zvcm1TY2hlbWEpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFZpZGVvRXZlbnQgPSAoZW5naW5lKSA9PiAvKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlZpZGVvRXZlbnRcIiwgVmlkZW9FdmVudFNjaGVtYSwge1xuICAgIHRpbWVzdGFtcEZ1bmN0aW9uOiAodCkgPT4gdC50aW1lc3RhbXAsXG4gICAgbWF4RWxlbWVudHM6IDEwMFxufSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlkZW9QbGF5ZXIgPSBlbmdpbmUgPT4gXG4vKiBAX19QVVJFX18gKi8gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoXCJjb3JlOjpWaWRlb1BsYXllclwiLCBWaWRlb1BsYXllclNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlydHVhbENhbWVyYSA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlZpcnR1YWxDYW1lcmFcIiwgVmlydHVhbENhbWVyYVNjaGVtYSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlzaWJpbGl0eUNvbXBvbmVudCA9IGVuZ2luZSA9PiBcbi8qIEBfX1BVUkVfXyAqLyBlbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYShcImNvcmU6OlZpc2liaWxpdHlDb21wb25lbnRcIiwgVmlzaWJpbGl0eUNvbXBvbmVudFNjaGVtYSk7XG4vKiogcHVibGljICovXG5leHBvcnQgY29uc3QgY29tcG9uZW50RGVmaW5pdGlvbkJ5TmFtZSA9IC8qIEBfX1BVUkVfXyAqLyB7XG4gICAgXCJjb3JlOjpBbmltYXRvclwiOiBBbmltYXRvcixcbiAgICBcImNvcmU6OkF1ZGlvRXZlbnRcIjogQXVkaW9FdmVudCxcbiAgICBcImNvcmU6OkF1ZGlvU291cmNlXCI6IEF1ZGlvU291cmNlLFxuICAgIFwiY29yZTo6QXVkaW9TdHJlYW1cIjogQXVkaW9TdHJlYW0sXG4gICAgXCJjb3JlOjpBdmF0YXJBdHRhY2hcIjogQXZhdGFyQXR0YWNoLFxuICAgIFwiY29yZTo6QXZhdGFyQmFzZVwiOiBBdmF0YXJCYXNlLFxuICAgIFwiY29yZTo6QXZhdGFyRW1vdGVDb21tYW5kXCI6IEF2YXRhckVtb3RlQ29tbWFuZCxcbiAgICBcImNvcmU6OkF2YXRhckVxdWlwcGVkRGF0YVwiOiBBdmF0YXJFcXVpcHBlZERhdGEsXG4gICAgXCJjb3JlOjpBdmF0YXJNb2RpZmllckFyZWFcIjogQXZhdGFyTW9kaWZpZXJBcmVhLFxuICAgIFwiY29yZTo6QXZhdGFyU2hhcGVcIjogQXZhdGFyU2hhcGUsXG4gICAgXCJjb3JlOjpCaWxsYm9hcmRcIjogQmlsbGJvYXJkLFxuICAgIFwiY29yZTo6Q2FtZXJhTW9kZVwiOiBDYW1lcmFNb2RlLFxuICAgIFwiY29yZTo6Q2FtZXJhTW9kZUFyZWFcIjogQ2FtZXJhTW9kZUFyZWEsXG4gICAgXCJjb3JlOjpFbmdpbmVJbmZvXCI6IEVuZ2luZUluZm8sXG4gICAgXCJjb3JlOjpHbHRmQ29udGFpbmVyXCI6IEdsdGZDb250YWluZXIsXG4gICAgXCJjb3JlOjpHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlXCI6IEdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUsXG4gICAgXCJjb3JlOjpJbnB1dE1vZGlmaWVyXCI6IElucHV0TW9kaWZpZXIsXG4gICAgXCJjb3JlOjpNYWluQ2FtZXJhXCI6IE1haW5DYW1lcmEsXG4gICAgXCJjb3JlOjpNYXRlcmlhbFwiOiBNYXRlcmlhbCxcbiAgICBcImNvcmU6Ok1lc2hDb2xsaWRlclwiOiBNZXNoQ29sbGlkZXIsXG4gICAgXCJjb3JlOjpNZXNoUmVuZGVyZXJcIjogTWVzaFJlbmRlcmVyLFxuICAgIFwiY29yZTo6TmZ0U2hhcGVcIjogTmZ0U2hhcGUsXG4gICAgXCJjb3JlOjpQbGF5ZXJJZGVudGl0eURhdGFcIjogUGxheWVySWRlbnRpdHlEYXRhLFxuICAgIFwiY29yZTo6UG9pbnRlckV2ZW50c1wiOiBQb2ludGVyRXZlbnRzLFxuICAgIFwiY29yZTo6UG9pbnRlckV2ZW50c1Jlc3VsdFwiOiBQb2ludGVyRXZlbnRzUmVzdWx0LFxuICAgIFwiY29yZTo6UG9pbnRlckxvY2tcIjogUG9pbnRlckxvY2ssXG4gICAgXCJjb3JlOjpSYXljYXN0XCI6IFJheWNhc3QsXG4gICAgXCJjb3JlOjpSYXljYXN0UmVzdWx0XCI6IFJheWNhc3RSZXN1bHQsXG4gICAgXCJjb3JlOjpSZWFsbUluZm9cIjogUmVhbG1JbmZvLFxuICAgIFwiY29yZTo6VGV4dFNoYXBlXCI6IFRleHRTaGFwZSxcbiAgICBcImNvcmU6OlR3ZWVuXCI6IFR3ZWVuLFxuICAgIFwiY29yZTo6VHdlZW5TZXF1ZW5jZVwiOiBUd2VlblNlcXVlbmNlLFxuICAgIFwiY29yZTo6VHdlZW5TdGF0ZVwiOiBUd2VlblN0YXRlLFxuICAgIFwiY29yZTo6VWlCYWNrZ3JvdW5kXCI6IFVpQmFja2dyb3VuZCxcbiAgICBcImNvcmU6OlVpQ2FudmFzSW5mb3JtYXRpb25cIjogVWlDYW52YXNJbmZvcm1hdGlvbixcbiAgICBcImNvcmU6OlVpRHJvcGRvd25cIjogVWlEcm9wZG93bixcbiAgICBcImNvcmU6OlVpRHJvcGRvd25SZXN1bHRcIjogVWlEcm9wZG93blJlc3VsdCxcbiAgICBcImNvcmU6OlVpSW5wdXRcIjogVWlJbnB1dCxcbiAgICBcImNvcmU6OlVpSW5wdXRSZXN1bHRcIjogVWlJbnB1dFJlc3VsdCxcbiAgICBcImNvcmU6OlVpVGV4dFwiOiBVaVRleHQsXG4gICAgXCJjb3JlOjpVaVRyYW5zZm9ybVwiOiBVaVRyYW5zZm9ybSxcbiAgICBcImNvcmU6OlZpZGVvRXZlbnRcIjogVmlkZW9FdmVudCxcbiAgICBcImNvcmU6OlZpZGVvUGxheWVyXCI6IFZpZGVvUGxheWVyLFxuICAgIFwiY29yZTo6VmlydHVhbENhbWVyYVwiOiBWaXJ0dWFsQ2FtZXJhLFxuICAgIFwiY29yZTo6VmlzaWJpbGl0eUNvbXBvbmVudFwiOiBWaXNpYmlsaXR5Q29tcG9uZW50LFxufTtcbiIsICJpbXBvcnQgeyBBbmltYXRvciB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZUFuaW1hdG9yQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IHRoZUNvbXBvbmVudCA9IEFuaW1hdG9yKGVuZ2luZSk7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgVGhlIHR1cGxlIFthbmltYXRvciwgY2xpcF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRDbGlwQW5kQW5pbWF0b3IoZW50aXR5LCBjbGlwTmFtZSkge1xuICAgICAgICBjb25zdCBhbmltID0gdGhlQ29tcG9uZW50LmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgaWYgKCFhbmltKVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBhbmltLnN0YXRlcy5maW5kKChpdGVtKSA9PiBpdGVtLmNsaXAgPT09IGNsaXBOYW1lKTtcbiAgICAgICAgaWYgKCFzdGF0ZSlcbiAgICAgICAgICAgIHJldHVybiBbYW5pbSwgbnVsbF07XG4gICAgICAgIHJldHVybiBbYW5pbSwgc3RhdGVdO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGVDb21wb25lbnQsXG4gICAgICAgIGdldENsaXBPck51bGwoZW50aXR5LCBjbGlwTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgW18sIHN0YXRlXSA9IGdldENsaXBBbmRBbmltYXRvcihlbnRpdHksIGNsaXBOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q2xpcChlbnRpdHksIGNsaXBOYW1lKSB7XG4gICAgICAgICAgICBjb25zdCBbYW5pbWF0b3IsIHN0YXRlXSA9IGdldENsaXBBbmRBbmltYXRvcihlbnRpdHksIGNsaXBOYW1lKTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0b3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIEFuaW1hdG9yIGZvdW5kIGluIHRoZSBlbnRpdHkgJHtlbnRpdHl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgQW5pbWF0b3IgY29tcG9uZW50IG9mICR7ZW50aXR5fSBoYXMgbm8gdGhlIHN0YXRlICR7Y2xpcE5hbWV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIHBsYXlTaW5nbGVBbmltYXRpb24oZW50aXR5LCBjbGlwTmFtZSwgc2hvdWxkUmVzZXQgPSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBbYW5pbWF0b3IsIHN0YXRlXSA9IGdldENsaXBBbmRBbmltYXRvcihlbnRpdHksIGNsaXBOYW1lKTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0b3IgfHwgIXN0YXRlKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vIFJlc2V0IGFsbCBvdGhlciBhbmltYXRpb25zXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0YXRlIG9mIGFuaW1hdG9yLnN0YXRlcykge1xuICAgICAgICAgICAgICAgIHN0YXRlLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzdGF0ZS5zaG91bGRSZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZS5wbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLnNob3VsZFJlc2V0ID0gc2hvdWxkUmVzZXQ7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RvcEFsbEFuaW1hdGlvbnMoZW50aXR5LCByZXNldEN1cnNvciA9IHRydWUpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbXV0YWJsZSB0byBtb2RpZnlpbmdcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdG9yID0gdGhlQ29tcG9uZW50LmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghYW5pbWF0b3IpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gUmVzZXQgYWxsIG90aGVyIGFuaW1hdGlvbnNcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc3RhdGUgb2YgYW5pbWF0b3Iuc3RhdGVzKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUucGxheWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRlLnNob3VsZFJlc2V0ID0gcmVzZXRDdXJzb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgQXVkaW9Tb3VyY2UgfSBmcm9tICcuLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVBdWRpb1NvdXJjZUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBBdWRpb1NvdXJjZShlbmdpbmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgcGxheVNvdW5kKGVudGl0eSwgc3JjLCByZXNldEN1cnNvciA9IHRydWUpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgbXV0YWJsZSB0byBtb2RpZnlcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvU291cmNlID0gdGhlQ29tcG9uZW50LmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgIGlmICghYXVkaW9Tb3VyY2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgYXVkaW9Tb3VyY2UuYXVkaW9DbGlwVXJsID0gc3JjO1xuICAgICAgICAgICAgYXVkaW9Tb3VyY2UucGxheWluZyA9IHRydWU7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5jdXJyZW50VGltZSA9IHJlc2V0Q3Vyc29yID8gMCA6IGF1ZGlvU291cmNlLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3BTb3VuZChlbnRpdHksIHJlc2V0Q3Vyc29yID0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBtdXRhYmxlIHRvIG1vZGlmeVxuICAgICAgICAgICAgY29uc3QgYXVkaW9Tb3VyY2UgPSB0aGVDb21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFhdWRpb1NvdXJjZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5wbGF5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBhdWRpb1NvdXJjZS5jdXJyZW50VGltZSA9IHJlc2V0Q3Vyc29yID8gMCA6IGF1ZGlvU291cmNlLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5jb25zdCBUZXh0dXJlSGVscGVyID0ge1xuICAgIENvbW1vbih0ZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ3RleHR1cmUnLFxuICAgICAgICAgICAgICAgIHRleHR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIEF2YXRhcihhdmF0YXJUZXh0dXJlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXg6IHtcbiAgICAgICAgICAgICAgICAkY2FzZTogJ2F2YXRhclRleHR1cmUnLFxuICAgICAgICAgICAgICAgIGF2YXRhclRleHR1cmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIFZpZGVvKHZpZGVvVGV4dHVyZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4OiB7XG4gICAgICAgICAgICAgICAgJGNhc2U6ICd2aWRlb1RleHR1cmUnLFxuICAgICAgICAgICAgICAgIHZpZGVvVGV4dHVyZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWF0ZXJpYWxDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdGhlQ29tcG9uZW50ID0gTWF0ZXJpYWwoZW5naW5lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGVDb21wb25lbnQsXG4gICAgICAgIFRleHR1cmU6IFRleHR1cmVIZWxwZXIsXG4gICAgICAgIHNldEJhc2ljTWF0ZXJpYWwoZW50aXR5LCBtYXRlcmlhbCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtYXRlcmlhbDoge1xuICAgICAgICAgICAgICAgICAgICAkY2FzZTogJ3VubGl0JyxcbiAgICAgICAgICAgICAgICAgICAgdW5saXQ6IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBick1hdGVyaWFsKGVudGl0eSwgbWF0ZXJpYWwpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWF0ZXJpYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJGNhc2U6ICdwYnInLFxuICAgICAgICAgICAgICAgICAgICBwYnI6IG1hdGVyaWFsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IE1lc2hDb2xsaWRlciB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZU1lc2hDb2xsaWRlckNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBNZXNoQ29sbGlkZXIoZW5naW5lKTtcbiAgICBmdW5jdGlvbiBnZXRDb2xsaXNpb25NYXNrKGxheWVycykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShsYXllcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJzLm1hcCgoaXRlbSkgPT4gaXRlbSkucmVkdWNlKChwcmV2LCBpdGVtKSA9PiBwcmV2IHwgaXRlbSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGF5ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gbGF5ZXJzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgc2V0Qm94KGVudGl0eSwgY29sbGlkZXJMYXllcnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ2JveCcsIGJveDoge30gfSxcbiAgICAgICAgICAgICAgICBjb2xsaXNpb25NYXNrOiBnZXRDb2xsaXNpb25NYXNrKGNvbGxpZGVyTGF5ZXJzKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFBsYW5lKGVudGl0eSwgY29sbGlkZXJMYXllcnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3BsYW5lJywgcGxhbmU6IHt9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRDeWxpbmRlcihlbnRpdHksIHJhZGl1c0JvdHRvbSwgcmFkaXVzVG9wLCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnY3lsaW5kZXInLCBjeWxpbmRlcjogeyByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCB9IH0sXG4gICAgICAgICAgICAgICAgY29sbGlzaW9uTWFzazogZ2V0Q29sbGlzaW9uTWFzayhjb2xsaWRlckxheWVycylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTcGhlcmUoZW50aXR5LCBjb2xsaWRlckxheWVycykge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnc3BoZXJlJywgc3BoZXJlOiB7fSB9LFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbk1hc2s6IGdldENvbGxpc2lvbk1hc2soY29sbGlkZXJMYXllcnMpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgTWVzaFJlbmRlcmVyIH0gZnJvbSAnLi4vZ2VuZXJhdGVkL2luZGV4Lmdlbic7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IHRoZUNvbXBvbmVudCA9IE1lc2hSZW5kZXJlcihlbmdpbmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoZUNvbXBvbmVudCxcbiAgICAgICAgc2V0Qm94KGVudGl0eSwgdXZzKSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdib3gnLCBib3g6IHsgdXZzOiB1dnMgfHwgW10gfSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0UGxhbmUoZW50aXR5LCB1dnMpIHtcbiAgICAgICAgICAgIHRoZUNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgICAgICAgICAgbWVzaDogeyAkY2FzZTogJ3BsYW5lJywgcGxhbmU6IHsgdXZzOiB1dnMgfHwgW10gfSB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q3lsaW5kZXIoZW50aXR5LCByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCkge1xuICAgICAgICAgICAgdGhlQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgICAgICAgICBtZXNoOiB7ICRjYXNlOiAnY3lsaW5kZXInLCBjeWxpbmRlcjogeyByYWRpdXNCb3R0b20sIHJhZGl1c1RvcCB9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRTcGhlcmUoZW50aXR5KSB7XG4gICAgICAgICAgICB0aGVDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgICAgICAgIG1lc2g6IHsgJGNhc2U6ICdzcGhlcmUnLCBzcGhlcmU6IHt9IH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbiIsICJpbXBvcnQgeyBUd2VlbiB9IGZyb20gJy4uL2dlbmVyYXRlZC9pbmRleC5nZW4nO1xuY29uc3QgVHdlZW5IZWxwZXIgPSB7XG4gICAgTW92ZShtb3ZlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAkY2FzZTogJ21vdmUnLFxuICAgICAgICAgICAgbW92ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgUm90YXRlKHJvdGF0ZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJGNhc2U6ICdyb3RhdGUnLFxuICAgICAgICAgICAgcm90YXRlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBTY2FsZShzY2FsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJGNhc2U6ICdzY2FsZScsXG4gICAgICAgICAgICBzY2FsZVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lVHdlZW5Db21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdGhlQ29tcG9uZW50ID0gVHdlZW4oZW5naW5lKTtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGVDb21wb25lbnQsXG4gICAgICAgIE1vZGU6IFR3ZWVuSGVscGVyXG4gICAgfTtcbn1cbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSUFycmF5ID0gKHR5cGUpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIud3JpdGVVaW50MzIodmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHR5cGUuc2VyaWFsaXplKGl0ZW0sIGJ1aWxkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSByZWFkZXIucmVhZFVpbnQzMigpO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIG5ld0FycmF5LnB1c2godHlwZS5kZXNlcmlhbGl6ZShyZWFkZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdBcnJheTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiAnYXJyYXknLFxuICAgICAgICAgICAgaXRlbXM6IHR5cGUuanNvblNjaGVtYSxcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnYXJyYXknXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQm9vbCA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDgodmFsdWUgPyAxIDogMCk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50OCgpID09PSAxO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdib29sZWFuJ1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEludDY0ID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlSW50NjQoQmlnSW50KHZhbHVlKSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihyZWFkZXIucmVhZEludDY0KCkpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2ludDY0J1xuICAgIH1cbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSW50MzIgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQzMih2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkSW50MzIoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdpbnQzMidcbiAgICB9XG59O1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBJbnQxNiA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDE2KHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQxNigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2ludDE2J1xuICAgIH1cbn07XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEludDggPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVJbnQ4KHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQ4KCk7XG4gICAgfSxcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnaW50OCdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBGbGF0U3RyaW5nID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlVXRmOFN0cmluZyh2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkVXRmOFN0cmluZygpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ3V0Zjgtc3RyaW5nJ1xuICAgIH1cbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRWNzU3RyaW5nID0gRmxhdFN0cmluZztcbiIsICJpbXBvcnQgeyBJbnQzMiB9IGZyb20gJy4vSW50ZWdlcic7XG5pbXBvcnQgeyBGbGF0U3RyaW5nIH0gZnJvbSAnLi9TdHJpbmcnO1xuLyoqXG4gKiBWYWxpZGF0ZXMgdGhlIGVudW0gdG8gZW5zdXJlIGFsbCBtZW1iZXIgdmFsdWVzIGFyZSBudW1iZXJzIGFuZCB3aXRoaW4gdGhlIHJhbmdlIG9mIEludDMyLlxuICogQHBhcmFtIGVudW1WYWx1ZSBUaGUgZW51bSB0byBiZSBjaGVja2VkLlxuICogQHRocm93cyBJZiBhbnkgbWVtYmVyIHZhbHVlIGlzIG5vdCBhIG51bWJlciBvciBpcyBvdXRzaWRlIHRoZSByYW5nZSBvZiBJbnQzMi5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNZW1iZXJWYWx1ZXNBcmVOdW1iZXJzQW5kSW5SYW5nZUludDMyKGVudW1WYWx1ZSkge1xuICAgIGNvbnN0IE1JTl9WQUxVRSA9IC0oMiAqKiAzMSksIE1BWF9WQUxVRSA9IDIgKiogMzEgLSAxO1xuICAgIGxldCB2YWx1ZUNvdW50ID0gMCwgdG90YWxDb3VudCA9IDA7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZW51bVZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZW51bVZhbHVlW2tleV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAoZW51bVZhbHVlW2tleV0gPiBNQVhfVkFMVUUgfHwgZW51bVZhbHVlW2tleV0gPCBNSU5fVkFMVUUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudW0gbWVtYmVyIHZhbHVlcyBtdXN0IGJlIG51bWJlcnMgd2l0aGluIHRoZSByYW5nZSBvZiAke01JTl9WQUxVRX0gdG8gJHtNQVhfVkFMVUV9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHRvdGFsQ291bnQrKztcbiAgICB9XG4gICAgaWYgKHRvdGFsQ291bnQgIT09IHZhbHVlQ291bnQgKiAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIGVudW0gbWVtYmVyIHZhbHVlcyBtdXN0IGJlIG9mIG51bWVyaWMgdHlwZS4nKTtcbiAgICB9XG59XG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgZW51bSB0byBlbnN1cmUgYWxsIG1lbWJlciB2YWx1ZXMgYXJlIG9mIHN0cmluZyB0eXBlLlxuICogQHBhcmFtIGVudW1WYWx1ZSBUaGUgZW51bSB0byBiZSBjaGVja2VkLlxuICogQHRocm93cyBJZiBhbnkgbWVtYmVyIHZhbHVlIGlzIG5vdCBvZiBzdHJpbmcgdHlwZS5cbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVNZW1iZXJWYWx1ZXNBcmVTdHJpbmdzKGVudW1WYWx1ZSkge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGVudW1WYWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIGVudW1WYWx1ZVtrZXldICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbGwgZW51bSBtZW1iZXIgdmFsdWVzIG11c3QgYmUgb2Ygc3RyaW5nIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgSW50RW51bVJlZmxlY3Rpb25UeXBlID0gJ2VudW0taW50Jztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJbnRFbnVtID0gKGVudW1PYmplY3QsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIHZhbGlkYXRlTWVtYmVyVmFsdWVzQXJlTnVtYmVyc0FuZEluUmFuZ2VJbnQzMihlbnVtT2JqZWN0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIEludDMyLnNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIEludDMyLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIC8vIEpTT04tc2NoZW1hXG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgICAgICBlbnVtOiBPYmplY3QudmFsdWVzKGVudW1PYmplY3QpLmZpbHRlcigoaXRlbSkgPT4gTnVtYmVyLmlzSW50ZWdlcihpdGVtKSksXG4gICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAvLyBAZGNsL2VjcyBTY2hlbWEgU3BlY1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IEludEVudW1SZWZsZWN0aW9uVHlwZSxcbiAgICAgICAgICAgIGVudW1PYmplY3RcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFN0cmluZ0VudW1SZWZsZWN0aW9uVHlwZSA9ICdlbnVtLXN0cmluZyc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgU3RyaW5nRW51bSA9IChlbnVtT2JqZWN0LCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICB2YWxpZGF0ZU1lbWJlclZhbHVlc0FyZVN0cmluZ3MoZW51bU9iamVjdCk7XG4gICAgLy8gU3RyaW5nIGVudW0gaGFzIHRoZSBleGFjdCBtYXBwaW5nIGZyb20ga2V5IChvdXIgcmVmZXJlbmNlIGluIGNvZGUpIHRvIHZhbHVlc1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICAgICAgRmxhdFN0cmluZy5zZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBGbGF0U3RyaW5nLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIC8vIEpTT04tc2NoZW1hXG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGVudW06IE9iamVjdC52YWx1ZXMoZW51bU9iamVjdCksXG4gICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAvLyBAZGNsL2VjcyBTY2hlbWEgU3BlY1xuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6IFN0cmluZ0VudW1SZWZsZWN0aW9uVHlwZSxcbiAgICAgICAgICAgIGVudW1PYmplY3RcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBGbG9hdDMyID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZSk7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRlci5yZWFkRmxvYXQzMigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMC4wO1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdmbG9hdDMyJ1xuICAgIH1cbn07XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgRmxvYXQ2NCA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0NjQodmFsdWUpO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZEZsb2F0NjQoKTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIDAuMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnZmxvYXQ2NCdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDb2xvcjNTY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnIpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5nKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuYik7XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgZzogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBiOiByZWFkZXIucmVhZEZsb2F0MzIoKVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwIH07XG4gICAgfSxcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgIHR5cGU6ICdvYmplY3QnLFxuICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICByOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBnOiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICBiOiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdjb2xvcjMnXG4gICAgfVxufTtcbiIsICIvKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgQ29sb3I0U2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5yKTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUuZyk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLmIpO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS5hKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICBnOiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIGI6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgYTogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogMCwgZzogMCwgYjogMCwgYTogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgcjogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgZzogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgYjogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgYTogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnY29sb3I0J1xuICAgIH1cbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEVudGl0eVNjaGVtYSA9IHtcbiAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgYnVpbGRlci53cml0ZUludDMyKHZhbHVlKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4gcmVhZGVyLnJlYWRJbnQzMigpO1xuICAgIH0sXG4gICAgY3JlYXRlKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9LFxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICBzZXJpYWxpemF0aW9uVHlwZTogJ2VudGl0eSdcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBRdWF0ZXJuaW9uU2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS54KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueSk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnopO1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS53KTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogcmVhZGVyLnJlYWRGbG9hdDMyKCksXG4gICAgICAgICAgICB5OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHo6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgdzogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCwgdzogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgejogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgdzogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAncXVhdGVybmlvbidcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBWZWN0b3IzU2NoZW1hID0ge1xuICAgIHNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcikge1xuICAgICAgICBidWlsZGVyLndyaXRlRmxvYXQzMih2YWx1ZS54KTtcbiAgICAgICAgYnVpbGRlci53cml0ZUZsb2F0MzIodmFsdWUueSk7XG4gICAgICAgIGJ1aWxkZXIud3JpdGVGbG9hdDMyKHZhbHVlLnopO1xuICAgIH0sXG4gICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByZWFkZXIucmVhZEZsb2F0MzIoKSxcbiAgICAgICAgICAgIHk6IHJlYWRlci5yZWFkRmxvYXQzMigpLFxuICAgICAgICAgICAgejogcmVhZGVyLnJlYWRGbG9hdDMyKClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogMCwgeTogMCwgejogMCB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgeDogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgejogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgdzogeyB0eXBlOiAnbnVtYmVyJyB9XG4gICAgICAgIH0sXG4gICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAndmVjdG9yMydcbiAgICB9XG59O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBJTWFwID0gKHNwZWMsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IHNwZWNSZWZsZWN0aW9uID0gT2JqZWN0LmtleXMoc3BlYykucmVkdWNlKChzcGVjUmVmbGVjdGlvbiwgY3VycmVudEtleSkgPT4ge1xuICAgICAgICBzcGVjUmVmbGVjdGlvbltjdXJyZW50S2V5XSA9IHNwZWNbY3VycmVudEtleV0uanNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIHNwZWNSZWZsZWN0aW9uO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICBzcGVjW2tleV0uc2VyaWFsaXplKHZhbHVlW2tleV0sIGJ1aWxkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzcGVjKSB7XG4gICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2tleV0gPSBzcGVjW2tleV0uZGVzZXJpYWxpemUocmVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVba2V5XSA9IHNwZWNba2V5XS5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLm5ld1ZhbHVlLCAuLi5kZWZhdWx0VmFsdWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZXh0ZW5kOiAoYmFzZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNwZWMpIHtcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgbmV3VmFsdWVba2V5XSA9IHNwZWNba2V5XS5jcmVhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7IC4uLm5ld1ZhbHVlLCAuLi5kZWZhdWx0VmFsdWUsIC4uLmJhc2UgfTtcbiAgICAgICAgfSxcbiAgICAgICAganNvblNjaGVtYToge1xuICAgICAgICAgICAgdHlwZTogJ29iamVjdCcsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBzcGVjUmVmbGVjdGlvbixcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnbWFwJ1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCAiLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IElPcHRpb25hbCA9IChzcGVjKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLndyaXRlSW50OCgxKTtcbiAgICAgICAgICAgICAgICBzcGVjLnNlcmlhbGl6ZSh2YWx1ZSwgYnVpbGRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBidWlsZGVyLndyaXRlSW50OCgwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGVzZXJpYWxpemUocmVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdHMgPSByZWFkZXIucmVhZEludDgoKTtcbiAgICAgICAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BlYy5kZXNlcmlhbGl6ZShyZWFkZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjcmVhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiBzcGVjLmpzb25TY2hlbWEudHlwZSxcbiAgICAgICAgICAgIHNlcmlhbGl6YXRpb25UeXBlOiAnb3B0aW9uYWwnLFxuICAgICAgICAgICAgb3B0aW9uYWxKc29uU2NoZW1hOiBzcGVjLmpzb25TY2hlbWFcbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwgImV4cG9ydCBjb25zdCBJT25lT2YgPSAoc3BlY3MpID0+IHtcbiAgICBjb25zdCBzcGVjS2V5cyA9IE9iamVjdC5rZXlzKHNwZWNzKTtcbiAgICBjb25zdCBrZXlUb0luZGV4ID0gc3BlY0tleXMucmVkdWNlKChkaWN0LCBrZXksIGluZGV4KSA9PiB7XG4gICAgICAgIGRpY3Rba2V5XSA9IGluZGV4O1xuICAgICAgICByZXR1cm4gZGljdDtcbiAgICB9LCB7fSk7XG4gICAgY29uc3Qgc3BlY1JlZmxlY3Rpb24gPSBzcGVjS2V5cy5yZWR1Y2UoKHNwZWNSZWZsZWN0aW9uLCBjdXJyZW50S2V5KSA9PiB7XG4gICAgICAgIHNwZWNSZWZsZWN0aW9uW2N1cnJlbnRLZXldID0gc3BlY3NbY3VycmVudEtleV0uanNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIHNwZWNSZWZsZWN0aW9uO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZXJpYWxpemUoeyAkY2FzZSwgdmFsdWUgfSwgYnVpbGRlcikge1xuICAgICAgICAgICAgY29uc3QgX3ZhbHVlID0ga2V5VG9JbmRleFskY2FzZS50b1N0cmluZygpXSArIDE7XG4gICAgICAgICAgICBidWlsZGVyLndyaXRlVWludDgoX3ZhbHVlKTtcbiAgICAgICAgICAgIHNwZWNzWyRjYXNlXS5zZXJpYWxpemUodmFsdWUsIGJ1aWxkZXIpO1xuICAgICAgICB9LFxuICAgICAgICBkZXNlcmlhbGl6ZShyZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0ICRjYXNlID0gc3BlY0tleXNbcmVhZGVyLnJlYWRJbnQ4KCkgLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc3BlY3NbJGNhc2VdLmRlc2VyaWFsaXplKHJlYWRlcik7XG4gICAgICAgICAgICByZXR1cm4geyAkY2FzZSwgdmFsdWUgfTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9LFxuICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHNwZWNSZWZsZWN0aW9uLFxuICAgICAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICdvbmUtb2YnXG4gICAgICAgIH1cbiAgICB9O1xufTtcbiIsICJleHBvcnQgY29uc3QgaXNTY2hlbWFUeXBlID0gKHZhbHVlLCB0eXBlcykgPT4gdHlwZXMuaW5jbHVkZXModmFsdWUuc2VyaWFsaXphdGlvblR5cGUpO1xuZXhwb3J0IGNvbnN0IGlzT25lT2ZKc29uU2NoZW1hID0gKHR5cGUpID0+IGlzU2NoZW1hVHlwZSh0eXBlLCBbJ29uZS1vZiddKTtcbmV4cG9ydCBjb25zdCBnZXRVbmtub3duU2NoZW1hID0gKCkgPT4gKHtcbiAgICB0eXBlOiB7IHR5cGU6ICdvYmplY3QnLCBzZXJpYWxpemF0aW9uVHlwZTogJ3Vua25vd24nIH0sXG4gICAgdmFsdWU6IHVuZGVmaW5lZFxufSk7XG5leHBvcnQgY29uc3QgaXNDb21wb3VuZFR5cGUgPSAodHlwZSkgPT4gaXNTY2hlbWFUeXBlKHR5cGUsIFsnYXJyYXknLCAnbWFwJ10pO1xuZXhwb3J0IGNvbnN0IGdldFR5cGVBbmRWYWx1ZSA9IChwcm9wZXJ0aWVzLCB2YWx1ZSwga2V5KSA9PiB7XG4gICAgY29uc3QgdHlwZSA9IHByb3BlcnRpZXNba2V5XTtcbiAgICBjb25zdCB2YWx1ZUtleSA9IHZhbHVlW2tleV07XG4gICAgaWYgKGlzT25lT2ZKc29uU2NoZW1hKHR5cGUpKSB7XG4gICAgICAgIGNvbnN0IHR5cGVkTWFwVmFsdWUgPSB2YWx1ZUtleTtcbiAgICAgICAgaWYgKCF0eXBlZE1hcFZhbHVlLiRjYXNlKVxuICAgICAgICAgICAgcmV0dXJuIGdldFVua25vd25TY2hlbWEoKTtcbiAgICAgICAgY29uc3QgcHJvcFR5cGUgPSB0eXBlLnByb3BlcnRpZXNbdHlwZWRNYXBWYWx1ZS4kY2FzZV07XG4gICAgICAgIC8vIHRyYW5zZm9ybSB7ICRjYXNlOiBzdHJpbmc7IHZhbHVlOiB1bmtub3duIH0gPT4geyBbJGNhc2VdOiB2YWx1ZSB9XG4gICAgICAgIGlmIChpc0NvbXBvdW5kVHlwZShwcm9wVHlwZSkpXG4gICAgICAgICAgICB2YWx1ZVtrZXldID0geyBbdHlwZWRNYXBWYWx1ZS4kY2FzZV06IHR5cGVkTWFwVmFsdWUudmFsdWUgfTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogcHJvcFR5cGUsIHZhbHVlOiB0eXBlZE1hcFZhbHVlLnZhbHVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGUsIHZhbHVlOiB2YWx1ZUtleSB9O1xufTtcbiIsICJpbXBvcnQgeyBJQXJyYXkgfSBmcm9tICcuLi9BcnJheSc7XG5pbXBvcnQgeyBCb29sIH0gZnJvbSAnLi4vYmFzaWMvQm9vbGVhbic7XG5pbXBvcnQgeyBJbnRFbnVtLCBTdHJpbmdFbnVtIH0gZnJvbSAnLi4vYmFzaWMvRW51bSc7XG5pbXBvcnQgeyBGbG9hdDMyLCBGbG9hdDY0IH0gZnJvbSAnLi4vYmFzaWMvRmxvYXQnO1xuaW1wb3J0IHsgSW50MTYsIEludDMyLCBJbnQ2NCwgSW50OCB9IGZyb20gJy4uL2Jhc2ljL0ludGVnZXInO1xuaW1wb3J0IHsgRWNzU3RyaW5nIH0gZnJvbSAnLi4vYmFzaWMvU3RyaW5nJztcbmltcG9ydCB7IENvbG9yM1NjaGVtYSB9IGZyb20gJy4uL2N1c3RvbS9Db2xvcjMnO1xuaW1wb3J0IHsgQ29sb3I0U2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL0NvbG9yNCc7XG5pbXBvcnQgeyBFbnRpdHlTY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vRW50aXR5JztcbmltcG9ydCB7IFF1YXRlcm5pb25TY2hlbWEgfSBmcm9tICcuLi9jdXN0b20vUXVhdGVybmlvbic7XG5pbXBvcnQgeyBWZWN0b3IzU2NoZW1hIH0gZnJvbSAnLi4vY3VzdG9tL1ZlY3RvcjMnO1xuaW1wb3J0IHsgSU1hcCB9IGZyb20gJy4uL01hcCc7XG5pbXBvcnQgeyBJT25lT2YgfSBmcm9tICcuLi9PbmVPZic7XG5pbXBvcnQgeyBJT3B0aW9uYWwgfSBmcm9tICcuLi9PcHRpb25hbCc7XG5pbXBvcnQgeyBnZXRUeXBlQW5kVmFsdWUsIGlzQ29tcG91bmRUeXBlIH0gZnJvbSAnLi91dGlscyc7XG5jb25zdCBwcmltaXRpdmVTY2hlbWFzID0ge1xuICAgIFtCb29sLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBCb29sLFxuICAgIFtFY3NTdHJpbmcuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEVjc1N0cmluZyxcbiAgICBbRmxvYXQzMi5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogRmxvYXQzMixcbiAgICBbRmxvYXQ2NC5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogRmxvYXQ2NCxcbiAgICBbSW50OC5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogSW50OCxcbiAgICBbSW50MTYuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEludDE2LFxuICAgIFtJbnQzMi5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogSW50MzIsXG4gICAgW0ludDY0Lmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBJbnQ2NCxcbiAgICBbVmVjdG9yM1NjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogVmVjdG9yM1NjaGVtYSxcbiAgICBbUXVhdGVybmlvblNjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogUXVhdGVybmlvblNjaGVtYSxcbiAgICBbQ29sb3IzU2NoZW1hLmpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdOiBDb2xvcjNTY2hlbWEsXG4gICAgW0NvbG9yNFNjaGVtYS5qc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlXTogQ29sb3I0U2NoZW1hLFxuICAgIFtFbnRpdHlTY2hlbWEuanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZV06IEVudGl0eVNjaGVtYVxufTtcbi8qKlxuICogQ3JlYXRlIGFuIElTY2hlbWEgb2JqZWN0IGZyb20gdGhlIGpzb24tc2NoZW1hXG4gKiBAcGFyYW0ganNvblNjaGVtYVxuICogQHJldHVybnMgYSBJU2NoZW1hIG9yIGZhaWwgZm9yIHVuc3VwcG9ydGVkIGpzb24tc2NoZW1hXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uU2NoZW1hVG9TY2hlbWEoanNvblNjaGVtYSkge1xuICAgIGlmIChwcmltaXRpdmVTY2hlbWFzW2pzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdKSB7XG4gICAgICAgIHJldHVybiBwcmltaXRpdmVTY2hlbWFzW2pzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGVdO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ21hcCcpIHtcbiAgICAgICAgY29uc3QgbWFwSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFwSnNvblNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBzcGVjW2tleV0gPSBqc29uU2NoZW1hVG9TY2hlbWEobWFwSnNvblNjaGVtYS5wcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBJTWFwKHNwZWMpO1xuICAgIH1cbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ29wdGlvbmFsJykge1xuICAgICAgICBjb25zdCB3aXRoSXRlbXNKc29uU2NoZW1hID0ganNvblNjaGVtYTtcbiAgICAgICAgcmV0dXJuIElPcHRpb25hbChqc29uU2NoZW1hVG9TY2hlbWEod2l0aEl0ZW1zSnNvblNjaGVtYS5vcHRpb25hbEpzb25TY2hlbWEpKTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgY29uc3Qgd2l0aEl0ZW1zSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIHJldHVybiBJQXJyYXkoanNvblNjaGVtYVRvU2NoZW1hKHdpdGhJdGVtc0pzb25TY2hlbWEuaXRlbXMpKTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnVtLWludCcpIHtcbiAgICAgICAgY29uc3QgZW51bUpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gSW50RW51bShlbnVtSnNvblNjaGVtYS5lbnVtT2JqZWN0LCBlbnVtSnNvblNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnVtLXN0cmluZycpIHtcbiAgICAgICAgY29uc3QgZW51bUpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gU3RyaW5nRW51bShlbnVtSnNvblNjaGVtYS5lbnVtT2JqZWN0LCBlbnVtSnNvblNjaGVtYS5kZWZhdWx0KTtcbiAgICB9XG4gICAgaWYgKGpzb25TY2hlbWEuc2VyaWFsaXphdGlvblR5cGUgPT09ICdvbmUtb2YnKSB7XG4gICAgICAgIGNvbnN0IG9uZU9mSnNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb25lT2ZKc29uU2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHNwZWNba2V5XSA9IGpzb25TY2hlbWFUb1NjaGVtYShvbmVPZkpzb25TY2hlbWEucHJvcGVydGllc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSU9uZU9mKHNwZWMpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7anNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZX0gaXMgbm90IHN1cHBvcnRlZCBhcyByZXZlcnNlIHNjaGVtYSBnZW5lcmF0aW9uLmApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG11dGF0ZVZhbHVlcyhqc29uU2NoZW1hLCB2YWx1ZSwgbXV0YXRlRm4pIHtcbiAgICBpZiAoanNvblNjaGVtYS5zZXJpYWxpemF0aW9uVHlwZSA9PT0gJ21hcCcpIHtcbiAgICAgICAgY29uc3QgeyBwcm9wZXJ0aWVzIH0gPSBqc29uU2NoZW1hO1xuICAgICAgICBjb25zdCB0eXBlZFZhbHVlID0gdmFsdWU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgdHlwZSwgdmFsdWU6IG1hcFZhbHVlIH0gPSBnZXRUeXBlQW5kVmFsdWUocHJvcGVydGllcywgdHlwZWRWYWx1ZSwga2V5KTtcbiAgICAgICAgICAgIGlmICh0eXBlLnNlcmlhbGl6YXRpb25UeXBlID09PSAndW5rbm93bicpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoaXNDb21wb3VuZFR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICBtdXRhdGVWYWx1ZXModHlwZSwgbWFwVmFsdWUsIG11dGF0ZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbXV0YXRlRm4obWFwVmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVkVmFsdWVba2V5XSA9IG5ld1ZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChqc29uU2NoZW1hLnNlcmlhbGl6YXRpb25UeXBlID09PSAnYXJyYXknKSB7XG4gICAgICAgIGNvbnN0IHsgaXRlbXMgfSA9IGpzb25TY2hlbWE7XG4gICAgICAgIGNvbnN0IGFycmF5VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBhcnJheVZhbHVlLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlLCB2YWx1ZSB9ID0gZ2V0VHlwZUFuZFZhbHVlKHsgaXRlbXM6IGl0ZW1zIH0sIHsgaXRlbXM6IGFycmF5VmFsdWVbaV0gfSwgJ2l0ZW1zJyk7XG4gICAgICAgICAgICBpZiAoaXNDb21wb3VuZFR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICBtdXRhdGVWYWx1ZXModHlwZSwgdmFsdWUsIG11dGF0ZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbXV0YXRlRm4odmFsdWUsIHR5cGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGFycmF5VmFsdWVbaV0gPSBuZXdWYWx1ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgSUFycmF5IH0gZnJvbSAnLi9BcnJheSc7XG5pbXBvcnQgeyBCb29sIH0gZnJvbSAnLi9iYXNpYy9Cb29sZWFuJztcbmltcG9ydCB7IEludEVudW0gYXMgSW50RW51bVNjaGVtYSwgU3RyaW5nRW51bSBhcyBTdHJpbmdFbnVtU2NoZW1hIH0gZnJvbSAnLi9iYXNpYy9FbnVtJztcbmltcG9ydCB7IEZsb2F0MzIsIEZsb2F0NjQgfSBmcm9tICcuL2Jhc2ljL0Zsb2F0JztcbmltcG9ydCB7IEludDE2LCBJbnQzMiwgSW50OCwgSW50NjQgYXMgaUludDY0IH0gZnJvbSAnLi9iYXNpYy9JbnRlZ2VyJztcbmltcG9ydCB7IEVjc1N0cmluZyB9IGZyb20gJy4vYmFzaWMvU3RyaW5nJztcbmltcG9ydCB7IENvbG9yM1NjaGVtYSB9IGZyb20gJy4vY3VzdG9tL0NvbG9yMyc7XG5pbXBvcnQgeyBDb2xvcjRTY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9Db2xvcjQnO1xuaW1wb3J0IHsgRW50aXR5U2NoZW1hIH0gZnJvbSAnLi9jdXN0b20vRW50aXR5JztcbmltcG9ydCB7IFF1YXRlcm5pb25TY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFZlY3RvcjNTY2hlbWEgfSBmcm9tICcuL2N1c3RvbS9WZWN0b3IzJztcbmltcG9ydCB7IElNYXAgfSBmcm9tICcuL01hcCc7XG5pbXBvcnQgeyBJT3B0aW9uYWwgfSBmcm9tICcuL09wdGlvbmFsJztcbmltcG9ydCB7IElPbmVPZiB9IGZyb20gJy4vT25lT2YnO1xuaW1wb3J0IHsganNvblNjaGVtYVRvU2NoZW1hLCBtdXRhdGVWYWx1ZXMgfSBmcm9tICcuL2J1aWxkU2NoZW1hJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFNjaGVtYXM7XG4oZnVuY3Rpb24gKFNjaGVtYXMpIHtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQm9vbGVhbiA9IEJvb2w7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLlN0cmluZyA9IEVjc1N0cmluZztcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuRmxvYXQgPSBGbG9hdDMyO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5Eb3VibGUgPSBGbG9hdDY0O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5CeXRlID0gSW50ODtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuU2hvcnQgPSBJbnQxNjtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuSW50ID0gSW50MzI7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkludDY0ID0gaUludDY0O1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5OdW1iZXIgPSBGbG9hdDMyO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5WZWN0b3IzID0gVmVjdG9yM1NjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuUXVhdGVybmlvbiA9IFF1YXRlcm5pb25TY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkNvbG9yMyA9IENvbG9yM1NjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQ29sb3I0ID0gQ29sb3I0U2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5FbnRpdHkgPSBFbnRpdHlTY2hlbWE7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLkVudW1OdW1iZXIgPSBJbnRFbnVtU2NoZW1hO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5FbnVtU3RyaW5nID0gU3RyaW5nRW51bVNjaGVtYTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIFNjaGVtYXMuQXJyYXkgPSBJQXJyYXk7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLk1hcCA9IElNYXA7XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBTY2hlbWFzLk9wdGlvbmFsID0gSU9wdGlvbmFsO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgU2NoZW1hcy5PbmVPZiA9IElPbmVPZjtcbiAgICAvKipcbiAgICAgKiBAcHVibGljIENyZWF0ZSBhbiBJU2NoZW1hIG9iamVjdCBmcm9tIHRoZSBqc29uLXNjaGVtYVxuICAgICAqIEBwYXJhbSBqc29uU2NoZW1hXG4gICAgICogQHJldHVybnMgYSBJU2NoZW1hIG9yIGZhaWwgZm9yIHVuc3VwcG9ydGVkIGpzb24tc2NoZW1hXG4gICAgICovXG4gICAgU2NoZW1hcy5mcm9tSnNvbiA9IGpzb25TY2hlbWFUb1NjaGVtYTtcbiAgICAvKipcbiAgICAgKiBAcHVibGljXG4gICAgICpcbiAgICAgKiBUcmF2ZXJzZXMgYW5kIG11dGF0ZXMgdmFsdWVzIGluIGEgSlNPTiBzY2hlbWEtYmFzZWQgc3RydWN0dXJlLCBhcHBseWluZyB0aGUgZ2l2ZW4gbXV0YXRpb24gZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gaXMgZGVzaWduZWQgdG8gd29yayB3aXRoIG5lc3RlZCBtYXBzIGFuZCBhcnJheXMsIHJlY3Vyc2l2ZWx5IHByb2Nlc3NpbmcgZWFjaCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGpzb25TY2hlbWEgLSBUaGUgSlNPTiBzY2hlbWEgb2JqZWN0IHRoYXQgZGVzY3JpYmVzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHZhbHVlLlxuICAgICAqICAgICAgICAgICAgICAgICAgIEl0IG11c3QgaGF2ZSBhIHNlcmlhbGl6YXRpb25UeXBlIG9mICdtYXAnLCAnYXJyYXknLCBvciBvdGhlciBjdXN0b20gdHlwZXMgbGlrZSAnZW50aXR5Jy5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgbXV0YXRlZCwgd2hpY2ggc2hvdWxkIGNvbmZvcm0gdG8gdGhlIHByb3ZpZGVkIEpTT04gc2NoZW1hLlxuICAgICAqIEBwYXJhbSBtdXRhdGVGbiAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHZhbHVlIGFuZCBpdHMgY29ycmVzcG9uZGluZyB2YWx1ZVR5cGUgKEpzb25TY2hlbWFFeHRlbmRlZCkgYXMgYXJndW1lbnRzXG4gICAgICogICAgICAgICAgICAgICAgICAgYW5kIHJldHVybnMgYSB0dXBsZSBbYm9vbGVhbiwgYW55XS4gVGhlIGJvb2xlYW4gaW5kaWNhdGVzIHdoZXRoZXIgdGhlIG11dGF0aW9uIHNob3VsZCBiZSBhcHBsaWVkLFxuICAgICAqICAgICAgICAgICAgICAgICAgIGFuZCB0aGUgc2Vjb25kIGVsZW1lbnQgaXMgdGhlIG11dGF0ZWQgdmFsdWUuXG4gICAgICovXG4gICAgU2NoZW1hcy5tdXRhdGVOZXN0ZWRWYWx1ZXMgPSBtdXRhdGVWYWx1ZXM7XG59KShTY2hlbWFzIHx8IChTY2hlbWFzID0ge30pKTtcbiIsICJpbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vLi4vc2NoZW1hcyc7XG5mdW5jdGlvbiBkZWZpbmVOYW1lQ29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IE5hbWUgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdjb3JlLXNjaGVtYTo6TmFtZScsIHtcbiAgICAgICAgdmFsdWU6IFNjaGVtYXMuU3RyaW5nXG4gICAgfSk7XG4gICAgcmV0dXJuIE5hbWU7XG59XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVOYW1lQ29tcG9uZW50O1xuIiwgImltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi8uLi9zY2hlbWFzJztcbmZ1bmN0aW9uIGRlZmluZVN5bmNDb21wb25lbnRzKGVuZ2luZSkge1xuICAgIGNvbnN0IFN5bmNDb21wb25lbnRzID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY29yZS1zY2hlbWE6OlN5bmMtQ29tcG9uZW50cycsIHtcbiAgICAgICAgY29tcG9uZW50SWRzOiBTY2hlbWFzLkFycmF5KFNjaGVtYXMuSW50NjQpXG4gICAgfSk7XG4gICAgcmV0dXJuIFN5bmNDb21wb25lbnRzO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lU3luY0NvbXBvbmVudHM7XG4iLCAiaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uLy4uL3NjaGVtYXMnO1xuZnVuY3Rpb24gZGVmaW5lTmV0d29ya0VudGl0eUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCBFbnRpdHlOZXR3b3JrID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY29yZS1zY2hlbWE6Ok5ldHdvcmstRW50aXR5Jywge1xuICAgICAgICBuZXR3b3JrSWQ6IFNjaGVtYXMuSW50NjQsXG4gICAgICAgIGVudGl0eUlkOiBTY2hlbWFzLkVudGl0eVxuICAgIH0pO1xuICAgIHJldHVybiBFbnRpdHlOZXR3b3JrO1xufVxuZXhwb3J0IGRlZmF1bHQgZGVmaW5lTmV0d29ya0VudGl0eUNvbXBvbmVudDtcbiIsICJpbXBvcnQgeyBTY2hlbWFzIH0gZnJvbSAnLi4vLi4vc2NoZW1hcyc7XG5mdW5jdGlvbiBkZWZpbmVOZXR3b3JrUGFyZW50Q29tcG9uZW50KGVuZ2luZSkge1xuICAgIGNvbnN0IEVudGl0eU5ldHdvcmsgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdjb3JlLXNjaGVtYTo6TmV0d29yay1QYXJlbnQnLCB7XG4gICAgICAgIG5ldHdvcmtJZDogU2NoZW1hcy5JbnQ2NCxcbiAgICAgICAgZW50aXR5SWQ6IFNjaGVtYXMuRW50aXR5XG4gICAgfSk7XG4gICAgcmV0dXJuIEVudGl0eU5ldHdvcms7XG59XG5leHBvcnQgZGVmYXVsdCBkZWZpbmVOZXR3b3JrUGFyZW50Q29tcG9uZW50O1xuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBDT01QT05FTlRfSUQgPSAxO1xuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFRSQU5TRk9STV9MRU5HVEggPSA0NDtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm1TY2hlbWEgPSB7XG4gICAgc2VyaWFsaXplKHZhbHVlLCBidWlsZGVyKSB7XG4gICAgICAgIGNvbnN0IHB0ciA9IGJ1aWxkZXIuaW5jcmVtZW50V3JpdGVPZmZzZXQoVFJBTlNGT1JNX0xFTkdUSCk7XG4gICAgICAgIGJ1aWxkZXIuc2V0RmxvYXQzMihwdHIsIHZhbHVlLnBvc2l0aW9uLngpO1xuICAgICAgICBidWlsZGVyLnNldEZsb2F0MzIocHRyICsgNCwgdmFsdWUucG9zaXRpb24ueSk7XG4gICAgICAgIGJ1aWxkZXIuc2V0RmxvYXQzMihwdHIgKyA4LCB2YWx1ZS5wb3NpdGlvbi56KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDEyLCB2YWx1ZS5yb3RhdGlvbi54KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDE2LCB2YWx1ZS5yb3RhdGlvbi55KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDIwLCB2YWx1ZS5yb3RhdGlvbi56KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDI0LCB2YWx1ZS5yb3RhdGlvbi53KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDI4LCB2YWx1ZS5zY2FsZS54KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDMyLCB2YWx1ZS5zY2FsZS55KTtcbiAgICAgICAgYnVpbGRlci5zZXRGbG9hdDMyKHB0ciArIDM2LCB2YWx1ZS5zY2FsZS56KTtcbiAgICAgICAgYnVpbGRlci5zZXRVaW50MzIocHRyICsgNDAsIHZhbHVlLnBhcmVudCB8fCAwKTtcbiAgICB9LFxuICAgIGRlc2VyaWFsaXplKHJlYWRlcikge1xuICAgICAgICBjb25zdCBwdHIgPSByZWFkZXIuaW5jcmVtZW50UmVhZE9mZnNldChUUkFOU0ZPUk1fTEVOR1RIKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgeDogcmVhZGVyLmdldEZsb2F0MzIocHRyKSxcbiAgICAgICAgICAgICAgICB5OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyA0KSxcbiAgICAgICAgICAgICAgICB6OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyA4KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7XG4gICAgICAgICAgICAgICAgeDogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMTIpLFxuICAgICAgICAgICAgICAgIHk6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDE2KSxcbiAgICAgICAgICAgICAgICB6OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAyMCksXG4gICAgICAgICAgICAgICAgdzogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMjQpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICB4OiByZWFkZXIuZ2V0RmxvYXQzMihwdHIgKyAyOCksXG4gICAgICAgICAgICAgICAgeTogcmVhZGVyLmdldEZsb2F0MzIocHRyICsgMzIpLFxuICAgICAgICAgICAgICAgIHo6IHJlYWRlci5nZXRGbG9hdDMyKHB0ciArIDM2KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogcmVhZGVyLmdldFVpbnQzMihwdHIgKyA0MClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgICAgICAgIHNjYWxlOiB7IHg6IDEsIHk6IDEsIHo6IDEgfSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDEgfSxcbiAgICAgICAgICAgIHBhcmVudDogMFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZXh0ZW5kKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiAwLCB5OiAwLCB6OiAwIH0sXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxLCB6OiAxIH0sXG4gICAgICAgICAgICByb3RhdGlvbjogeyB4OiAwLCB5OiAwLCB6OiAwLCB3OiAxIH0sXG4gICAgICAgICAgICBwYXJlbnQ6IDAsXG4gICAgICAgICAgICAuLi52YWx1ZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAganNvblNjaGVtYToge1xuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcm90YXRpb246IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHsgdHlwZTogJ251bWJlcicgfSxcbiAgICAgICAgICAgICAgICAgICAgeTogeyB0eXBlOiAnbnVtYmVyJyB9LFxuICAgICAgICAgICAgICAgICAgICB6OiB7IHR5cGU6ICdudW1iZXInIH0sXG4gICAgICAgICAgICAgICAgICAgIHc6IHsgdHlwZTogJ251bWJlcicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXJlbnQ6IHsgdHlwZTogJ2ludGVnZXInIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2VyaWFsaXphdGlvblR5cGU6ICd0cmFuc2Zvcm0nXG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVUcmFuc2Zvcm1Db21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtRGVmID0gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoJ2NvcmU6OlRyYW5zZm9ybScsIFRyYW5zZm9ybVNjaGVtYSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udHJhbnNmb3JtRGVmLFxuICAgICAgICBjcmVhdGUoZW50aXR5LCB2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1EZWYuY3JlYXRlKGVudGl0eSwgVHJhbnNmb3JtU2NoZW1hLmV4dGVuZCh2YWwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtRGVmLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIFRyYW5zZm9ybVNjaGVtYS5leHRlbmQodmFsKSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IEF1ZGlvU3RyZWFtLCBBdWRpb0V2ZW50IGFzIGRlZmluZUF1ZGlvRXZlbnRDb21wb25lbnQgfSBmcm9tICcuLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbmV4cG9ydCBmdW5jdGlvbiBkZWZpbmVBdWRpb1N0cmVhbUNvbXBvbmVudChlbmdpbmUpIHtcbiAgICBjb25zdCB0aGVDb21wb25lbnQgPSBBdWRpb1N0cmVhbShlbmdpbmUpO1xuICAgIGNvbnN0IEF1ZGlvRXZlbnQgPSBkZWZpbmVBdWRpb0V2ZW50Q29tcG9uZW50KGVuZ2luZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udGhlQ29tcG9uZW50LFxuICAgICAgICBnZXRBdWRpb1N0YXRlKGVudGl0eSkge1xuICAgICAgICAgICAgY29uc3QgQXVkaW9TdHJlYW0gPSB0aGVDb21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFBdWRpb1N0cmVhbSB8fCAhQXVkaW9FdmVudC5oYXMoZW50aXR5KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgbGFzdEV2ZW50ID0gQXJyYXkuZnJvbShBdWRpb0V2ZW50LmdldChlbnRpdHkpKS5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBsYXN0RXZlbnQ7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIE1lZGlhU3RhdGU7XG4oZnVuY3Rpb24gKE1lZGlhU3RhdGUpIHtcbiAgICBNZWRpYVN0YXRlW01lZGlhU3RhdGVbXCJNU19OT05FXCJdID0gMF0gPSBcIk1TX05PTkVcIjtcbiAgICBNZWRpYVN0YXRlW01lZGlhU3RhdGVbXCJNU19FUlJPUlwiXSA9IDFdID0gXCJNU19FUlJPUlwiO1xuICAgIE1lZGlhU3RhdGVbTWVkaWFTdGF0ZVtcIk1TX0xPQURJTkdcIl0gPSAyXSA9IFwiTVNfTE9BRElOR1wiO1xuICAgIE1lZGlhU3RhdGVbTWVkaWFTdGF0ZVtcIk1TX1JFQURZXCJdID0gM10gPSBcIk1TX1JFQURZXCI7XG4gICAgTWVkaWFTdGF0ZVtNZWRpYVN0YXRlW1wiTVNfUExBWUlOR1wiXSA9IDRdID0gXCJNU19QTEFZSU5HXCI7XG4gICAgTWVkaWFTdGF0ZVtNZWRpYVN0YXRlW1wiTVNfQlVGRkVSSU5HXCJdID0gNV0gPSBcIk1TX0JVRkZFUklOR1wiO1xuICAgIE1lZGlhU3RhdGVbTWVkaWFTdGF0ZVtcIk1TX1NFRUtJTkdcIl0gPSA2XSA9IFwiTVNfU0VFS0lOR1wiO1xuICAgIE1lZGlhU3RhdGVbTWVkaWFTdGF0ZVtcIk1TX1BBVVNFRFwiXSA9IDddID0gXCJNU19QQVVTRURcIjtcbn0pKE1lZGlhU3RhdGUgfHwgKE1lZGlhU3RhdGUgPSB7fSkpO1xuIiwgImltcG9ydCB7IGRlZmluZUFuaW1hdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9BbmltYXRvcic7XG5pbXBvcnQgeyBkZWZpbmVBdWRpb1NvdXJjZUNvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvQXVkaW9Tb3VyY2UnO1xuaW1wb3J0IHsgZGVmaW5lTWF0ZXJpYWxDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL01hdGVyaWFsJztcbmltcG9ydCB7IGRlZmluZU1lc2hDb2xsaWRlckNvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvTWVzaENvbGxpZGVyJztcbmltcG9ydCB7IGRlZmluZU1lc2hSZW5kZXJlckNvbXBvbmVudCB9IGZyb20gJy4vZXh0ZW5kZWQvTWVzaFJlbmRlcmVyJztcbmltcG9ydCB7IGRlZmluZVR3ZWVuQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9Ud2Vlbic7XG5pbXBvcnQgZGVmaW5lTmFtZUNvbXBvbmVudCBmcm9tICcuL21hbnVhbC9OYW1lJztcbmltcG9ydCBkZWZpbmVTeW5jQ29tcG9uZW50IGZyb20gJy4vbWFudWFsL1N5bmNDb21wb25lbnRzJztcbmltcG9ydCBkZWZpbmVOZXR3b3JrRW50aXR5IGZyb20gJy4vbWFudWFsL05ldHdvcmtFbnRpdHknO1xuaW1wb3J0IGRlZmluZU5ldHdvcmtQYXJlbnQgZnJvbSAnLi9tYW51YWwvTmV0d29ya1BhcmVudCc7XG5pbXBvcnQgeyBkZWZpbmVUcmFuc2Zvcm1Db21wb25lbnQgfSBmcm9tICcuL21hbnVhbC9UcmFuc2Zvcm0nO1xuaW1wb3J0IHsgZGVmaW5lQXVkaW9TdHJlYW1Db21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL0F1ZGlvU3RyZWFtJztcbmltcG9ydCB7IE1lZGlhU3RhdGUgfSBmcm9tICcuL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvc2RrL2NvbXBvbmVudHMvY29tbW9uL21lZGlhX3N0YXRlLmdlbic7XG5pbXBvcnQgeyBkZWZpbmVWaXJ0dWFsQ2FtZXJhQ29tcG9uZW50IH0gZnJvbSAnLi9leHRlbmRlZC9WaXJ0dWFsQ2FtZXJhJztcbmltcG9ydCB7IGRlZmluZUlucHV0TW9kaWZpZXJDb21wb25lbnQgfSBmcm9tICcuL2V4dGVuZGVkL0lucHV0TW9kaWZpZXInO1xuZXhwb3J0ICogZnJvbSAnLi9nZW5lcmF0ZWQvaW5kZXguZ2VuJztcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zZm9ybSA9IChlbmdpbmUpID0+IGRlZmluZVRyYW5zZm9ybUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTWF0ZXJpYWwgPSAoZW5naW5lKSA9PiBkZWZpbmVNYXRlcmlhbENvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgQW5pbWF0b3IgPSAoZW5naW5lKSA9PiBkZWZpbmVBbmltYXRvckNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgQXVkaW9Tb3VyY2UgPSAoZW5naW5lKSA9PiBkZWZpbmVBdWRpb1NvdXJjZUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSAoZW5naW5lKSA9PiBkZWZpbmVBdWRpb1N0cmVhbUNvbXBvbmVudChlbmdpbmUpO1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTWVzaFJlbmRlcmVyID0gKGVuZ2luZSkgPT4gZGVmaW5lTWVzaFJlbmRlcmVyQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBNZXNoQ29sbGlkZXIgPSAoZW5naW5lKSA9PiBkZWZpbmVNZXNoQ29sbGlkZXJDb21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFR3ZWVuID0gKGVuZ2luZSkgPT4gZGVmaW5lVHdlZW5Db21wb25lbnQoZW5naW5lKTtcbi8qIEBfX1BVUkVfXyAqL1xuZXhwb3J0IGNvbnN0IFZpcnR1YWxDYW1lcmEgPSAoZW5naW5lKSA9PiBkZWZpbmVWaXJ0dWFsQ2FtZXJhQ29tcG9uZW50KGVuZ2luZSk7XG4vKiBAX19QVVJFX18qL1xuZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXIgPSAoZW5naW5lKSA9PiBkZWZpbmVJbnB1dE1vZGlmaWVyQ29tcG9uZW50KGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBOYW1lID0gKGVuZ2luZSkgPT4gZGVmaW5lTmFtZUNvbXBvbmVudChlbmdpbmUpO1xuLyoqXG4gKiBAYWxwaGFcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgU3luY0NvbXBvbmVudHMgPSAoZW5naW5lKSA9PiBkZWZpbmVTeW5jQ29tcG9uZW50KGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCBjb25zdCBOZXR3b3JrRW50aXR5ID0gKGVuZ2luZSkgPT4gZGVmaW5lTmV0d29ya0VudGl0eShlbmdpbmUpO1xuLyoqXG4gKiBAYWxwaGFcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgY29uc3QgTmV0d29ya1BhcmVudCA9IChlbmdpbmUpID0+IGRlZmluZU5ldHdvcmtQYXJlbnQoZW5naW5lKTtcbmV4cG9ydCB7IE1lZGlhU3RhdGUgfTtcbiIsICIvKipcbiAqIEF1dG9nZW5lcmF0ZWQgbWFwcGluZyBvZiBjb3JlIGNvbXBvbmVudHMgdG8gdGhlaXIgY29tcG9uZW50IG51bWJlcnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNvcmVDb21wb25lbnRNYXBwaW5ncyA9IHtcbiAgICBcImNvcmU6OlRyYW5zZm9ybVwiOiAxLFxuICAgIFwiY29yZTo6QW5pbWF0b3JcIjogMTA0MixcbiAgICBcImNvcmU6OkF1ZGlvRXZlbnRcIjogMTEwNSxcbiAgICBcImNvcmU6OkF1ZGlvU291cmNlXCI6IDEwMjAsXG4gICAgXCJjb3JlOjpBdWRpb1N0cmVhbVwiOiAxMDIxLFxuICAgIFwiY29yZTo6QXZhdGFyQXR0YWNoXCI6IDEwNzMsXG4gICAgXCJjb3JlOjpBdmF0YXJCYXNlXCI6IDEwODcsXG4gICAgXCJjb3JlOjpBdmF0YXJFbW90ZUNvbW1hbmRcIjogMTA4OCxcbiAgICBcImNvcmU6OkF2YXRhckVxdWlwcGVkRGF0YVwiOiAxMDkxLFxuICAgIFwiY29yZTo6QXZhdGFyTW9kaWZpZXJBcmVhXCI6IDEwNzAsXG4gICAgXCJjb3JlOjpBdmF0YXJTaGFwZVwiOiAxMDgwLFxuICAgIFwiY29yZTo6QmlsbGJvYXJkXCI6IDEwOTAsXG4gICAgXCJjb3JlOjpDYW1lcmFNb2RlXCI6IDEwNzIsXG4gICAgXCJjb3JlOjpDYW1lcmFNb2RlQXJlYVwiOiAxMDcxLFxuICAgIFwiY29yZTo6RW5naW5lSW5mb1wiOiAxMDQ4LFxuICAgIFwiY29yZTo6R2x0ZkNvbnRhaW5lclwiOiAxMDQxLFxuICAgIFwiY29yZTo6R2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZVwiOiAxMDQ5LFxuICAgIFwiY29yZTo6SW5wdXRNb2RpZmllclwiOiAxMDc4LFxuICAgIFwiY29yZTo6TWFpbkNhbWVyYVwiOiAxMDc1LFxuICAgIFwiY29yZTo6TWFwUGluXCI6IDEwOTcsXG4gICAgXCJjb3JlOjpNYXRlcmlhbFwiOiAxMDE3LFxuICAgIFwiY29yZTo6TWVzaENvbGxpZGVyXCI6IDEwMTksXG4gICAgXCJjb3JlOjpNZXNoUmVuZGVyZXJcIjogMTAxOCxcbiAgICBcImNvcmU6Ok5mdFNoYXBlXCI6IDEwNDAsXG4gICAgXCJjb3JlOjpQbGF5ZXJJZGVudGl0eURhdGFcIjogMTA4OSxcbiAgICBcImNvcmU6OlBvaW50ZXJFdmVudHNcIjogMTA2MixcbiAgICBcImNvcmU6OlBvaW50ZXJFdmVudHNSZXN1bHRcIjogMTA2MyxcbiAgICBcImNvcmU6OlBvaW50ZXJMb2NrXCI6IDEwNzQsXG4gICAgXCJjb3JlOjpSYXljYXN0XCI6IDEwNjcsXG4gICAgXCJjb3JlOjpSYXljYXN0UmVzdWx0XCI6IDEwNjgsXG4gICAgXCJjb3JlOjpSZWFsbUluZm9cIjogMTEwNixcbiAgICBcImNvcmU6OlRleHRTaGFwZVwiOiAxMDMwLFxuICAgIFwiY29yZTo6VHdlZW5cIjogMTEwMixcbiAgICBcImNvcmU6OlR3ZWVuU2VxdWVuY2VcIjogMTEwNCxcbiAgICBcImNvcmU6OlR3ZWVuU3RhdGVcIjogMTEwMyxcbiAgICBcImNvcmU6OlVpQmFja2dyb3VuZFwiOiAxMDUzLFxuICAgIFwiY29yZTo6VWlDYW52YXNJbmZvcm1hdGlvblwiOiAxMDU0LFxuICAgIFwiY29yZTo6VWlEcm9wZG93blwiOiAxMDk0LFxuICAgIFwiY29yZTo6VWlEcm9wZG93blJlc3VsdFwiOiAxMDk2LFxuICAgIFwiY29yZTo6VWlJbnB1dFwiOiAxMDkzLFxuICAgIFwiY29yZTo6VWlJbnB1dFJlc3VsdFwiOiAxMDk1LFxuICAgIFwiY29yZTo6VWlUZXh0XCI6IDEwNTIsXG4gICAgXCJjb3JlOjpVaVRyYW5zZm9ybVwiOiAxMDUwLFxuICAgIFwiY29yZTo6VmlkZW9FdmVudFwiOiAxMDQ0LFxuICAgIFwiY29yZTo6VmlkZW9QbGF5ZXJcIjogMTA0MyxcbiAgICBcImNvcmU6OlZpcnR1YWxDYW1lcmFcIjogMTA3NixcbiAgICBcImNvcmU6OlZpc2liaWxpdHlDb21wb25lbnRcIjogMTA4MVxufTtcbiIsICJpbXBvcnQgeyBjb3JlQ29tcG9uZW50TWFwcGluZ3MgfSBmcm9tICcuL2dlbmVyYXRlZC9jb21wb25lbnQtbmFtZXMuZ2VuJztcbmltcG9ydCAqIGFzIHV0ZjggZnJvbSAnQHByb3RvYnVmanMvdXRmOCc7XG5pbXBvcnQgeyB1bnNpZ25lZENSQzMyIH0gZnJvbSAnLi4vcnVudGltZS9jcmMnO1xuLy8gTWF4IHBvc3NpYmxlIHByZS1kZWZpbmVkIChzdGF0aWMpIGNvbXBvbmVudC5cbmV4cG9ydCBjb25zdCBNQVhfU1RBVElDX0NPTVBPTkVOVCA9IDEgPDwgMTE7IC8vIDIwNDhcbi8qKlxuICogQWxsIGNvbXBvbmVudHMgdGhhdCBhcmUgbm90IHBhcnQgb2YgdGhlIGNvcmVDb21wb25lbnRNYXBwaW5ncyBNVVNUIHlpZWxkXG4gKiBhIGNvbXBvbmVudE51bWJlciAoY29tcG9uZW50SWQpIGdyZWF0aGVyIHRoYW4gTUFYX1NUQVRJQ19DT01QT05FTlQuXG4gKiBGb3IgdGhhdCByZWFzb24sIHdlIHNpbXBseSBhZGQgTUFYX1NUQVRJQ19DT01QT05FTlQgYW5kIHRyaW0gdG8gdGhlIGRvbWFpbiAyXjMyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnROdW1iZXJGcm9tTmFtZShjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKGNvcmVDb21wb25lbnRNYXBwaW5nc1tjb21wb25lbnROYW1lXSlcbiAgICAgICAgcmV0dXJuIGNvcmVDb21wb25lbnRNYXBwaW5nc1tjb21wb25lbnROYW1lXTtcbiAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KDEyOCk7XG4gICAgdXRmOC53cml0ZShjb21wb25lbnROYW1lLCBieXRlcywgMCk7XG4gICAgcmV0dXJuICgodW5zaWduZWRDUkMzMihieXRlcykgKyBNQVhfU1RBVElDX0NPTVBPTkVOVCkgJiA0Mjk0OTY3Mjk1KSA+Pj4gMDtcbn1cbiIsICJjb25zdCBDUkNfVEFCTEUgPSBuZXcgSW50MzJBcnJheShbXG4gICAgMHgwMDAwMDAwMCwgMHg3NzA3MzA5NiwgMHhlZTBlNjEyYywgMHg5OTA5NTFiYSwgMHgwNzZkYzQxOSwgMHg3MDZhZjQ4ZiwgMHhlOTYzYTUzNSwgMHg5ZTY0OTVhMywgMHgwZWRiODgzMixcbiAgICAweDc5ZGNiOGE0LCAweGUwZDVlOTFlLCAweDk3ZDJkOTg4LCAweDA5YjY0YzJiLCAweDdlYjE3Y2JkLCAweGU3YjgyZDA3LCAweDkwYmYxZDkxLCAweDFkYjcxMDY0LCAweDZhYjAyMGYyLFxuICAgIDB4ZjNiOTcxNDgsIDB4ODRiZTQxZGUsIDB4MWFkYWQ0N2QsIDB4NmRkZGU0ZWIsIDB4ZjRkNGI1NTEsIDB4ODNkMzg1YzcsIDB4MTM2Yzk4NTYsIDB4NjQ2YmE4YzAsIDB4ZmQ2MmY5N2EsXG4gICAgMHg4YTY1YzllYywgMHgxNDAxNWM0ZiwgMHg2MzA2NmNkOSwgMHhmYTBmM2Q2MywgMHg4ZDA4MGRmNSwgMHgzYjZlMjBjOCwgMHg0YzY5MTA1ZSwgMHhkNTYwNDFlNCwgMHhhMjY3NzE3MixcbiAgICAweDNjMDNlNGQxLCAweDRiMDRkNDQ3LCAweGQyMGQ4NWZkLCAweGE1MGFiNTZiLCAweDM1YjVhOGZhLCAweDQyYjI5ODZjLCAweGRiYmJjOWQ2LCAweGFjYmNmOTQwLCAweDMyZDg2Y2UzLFxuICAgIDB4NDVkZjVjNzUsIDB4ZGNkNjBkY2YsIDB4YWJkMTNkNTksIDB4MjZkOTMwYWMsIDB4NTFkZTAwM2EsIDB4YzhkNzUxODAsIDB4YmZkMDYxMTYsIDB4MjFiNGY0YjUsIDB4NTZiM2M0MjMsXG4gICAgMHhjZmJhOTU5OSwgMHhiOGJkYTUwZiwgMHgyODAyYjg5ZSwgMHg1ZjA1ODgwOCwgMHhjNjBjZDliMiwgMHhiMTBiZTkyNCwgMHgyZjZmN2M4NywgMHg1ODY4NGMxMSwgMHhjMTYxMWRhYixcbiAgICAweGI2NjYyZDNkLCAweDc2ZGM0MTkwLCAweDAxZGI3MTA2LCAweDk4ZDIyMGJjLCAweGVmZDUxMDJhLCAweDcxYjE4NTg5LCAweDA2YjZiNTFmLCAweDlmYmZlNGE1LCAweGU4YjhkNDMzLFxuICAgIDB4NzgwN2M5YTIsIDB4MGYwMGY5MzQsIDB4OTYwOWE4OGUsIDB4ZTEwZTk4MTgsIDB4N2Y2YTBkYmIsIDB4MDg2ZDNkMmQsIDB4OTE2NDZjOTcsIDB4ZTY2MzVjMDEsIDB4NmI2YjUxZjQsXG4gICAgMHgxYzZjNjE2MiwgMHg4NTY1MzBkOCwgMHhmMjYyMDA0ZSwgMHg2YzA2OTVlZCwgMHgxYjAxYTU3YiwgMHg4MjA4ZjRjMSwgMHhmNTBmYzQ1NywgMHg2NWIwZDljNiwgMHgxMmI3ZTk1MCxcbiAgICAweDhiYmViOGVhLCAweGZjYjk4ODdjLCAweDYyZGQxZGRmLCAweDE1ZGEyZDQ5LCAweDhjZDM3Y2YzLCAweGZiZDQ0YzY1LCAweDRkYjI2MTU4LCAweDNhYjU1MWNlLCAweGEzYmMwMDc0LFxuICAgIDB4ZDRiYjMwZTIsIDB4NGFkZmE1NDEsIDB4M2RkODk1ZDcsIDB4YTRkMWM0NmQsIDB4ZDNkNmY0ZmIsIDB4NDM2OWU5NmEsIDB4MzQ2ZWQ5ZmMsIDB4YWQ2Nzg4NDYsIDB4ZGE2MGI4ZDAsXG4gICAgMHg0NDA0MmQ3MywgMHgzMzAzMWRlNSwgMHhhYTBhNGM1ZiwgMHhkZDBkN2NjOSwgMHg1MDA1NzEzYywgMHgyNzAyNDFhYSwgMHhiZTBiMTAxMCwgMHhjOTBjMjA4NiwgMHg1NzY4YjUyNSxcbiAgICAweDIwNmY4NWIzLCAweGI5NjZkNDA5LCAweGNlNjFlNDlmLCAweDVlZGVmOTBlLCAweDI5ZDljOTk4LCAweGIwZDA5ODIyLCAweGM3ZDdhOGI0LCAweDU5YjMzZDE3LCAweDJlYjQwZDgxLFxuICAgIDB4YjdiZDVjM2IsIDB4YzBiYTZjYWQsIDB4ZWRiODgzMjAsIDB4OWFiZmIzYjYsIDB4MDNiNmUyMGMsIDB4NzRiMWQyOWEsIDB4ZWFkNTQ3MzksIDB4OWRkMjc3YWYsIDB4MDRkYjI2MTUsXG4gICAgMHg3M2RjMTY4MywgMHhlMzYzMGIxMiwgMHg5NDY0M2I4NCwgMHgwZDZkNmEzZSwgMHg3YTZhNWFhOCwgMHhlNDBlY2YwYiwgMHg5MzA5ZmY5ZCwgMHgwYTAwYWUyNywgMHg3ZDA3OWViMSxcbiAgICAweGYwMGY5MzQ0LCAweDg3MDhhM2QyLCAweDFlMDFmMjY4LCAweDY5MDZjMmZlLCAweGY3NjI1NzVkLCAweDgwNjU2N2NiLCAweDE5NmMzNjcxLCAweDZlNmIwNmU3LCAweGZlZDQxYjc2LFxuICAgIDB4ODlkMzJiZTAsIDB4MTBkYTdhNWEsIDB4NjdkZDRhY2MsIDB4ZjliOWRmNmYsIDB4OGViZWVmZjksIDB4MTdiN2JlNDMsIDB4NjBiMDhlZDUsIDB4ZDZkNmEzZTgsIDB4YTFkMTkzN2UsXG4gICAgMHgzOGQ4YzJjNCwgMHg0ZmRmZjI1MiwgMHhkMWJiNjdmMSwgMHhhNmJjNTc2NywgMHgzZmI1MDZkZCwgMHg0OGIyMzY0YiwgMHhkODBkMmJkYSwgMHhhZjBhMWI0YywgMHgzNjAzNGFmNixcbiAgICAweDQxMDQ3YTYwLCAweGRmNjBlZmMzLCAweGE4NjdkZjU1LCAweDMxNmU4ZWVmLCAweDQ2NjliZTc5LCAweGNiNjFiMzhjLCAweGJjNjY4MzFhLCAweDI1NmZkMmEwLCAweDUyNjhlMjM2LFxuICAgIDB4Y2MwYzc3OTUsIDB4YmIwYjQ3MDMsIDB4MjIwMjE2YjksIDB4NTUwNTI2MmYsIDB4YzViYTNiYmUsIDB4YjJiZDBiMjgsIDB4MmJiNDVhOTIsIDB4NWNiMzZhMDQsIDB4YzJkN2ZmYTcsXG4gICAgMHhiNWQwY2YzMSwgMHgyY2Q5OWU4YiwgMHg1YmRlYWUxZCwgMHg5YjY0YzJiMCwgMHhlYzYzZjIyNiwgMHg3NTZhYTM5YywgMHgwMjZkOTMwYSwgMHg5YzA5MDZhOSwgMHhlYjBlMzYzZixcbiAgICAweDcyMDc2Nzg1LCAweDA1MDA1NzEzLCAweDk1YmY0YTgyLCAweGUyYjg3YTE0LCAweDdiYjEyYmFlLCAweDBjYjYxYjM4LCAweDkyZDI4ZTliLCAweGU1ZDViZTBkLCAweDdjZGNlZmI3LFxuICAgIDB4MGJkYmRmMjEsIDB4ODZkM2QyZDQsIDB4ZjFkNGUyNDIsIDB4NjhkZGIzZjgsIDB4MWZkYTgzNmUsIDB4ODFiZTE2Y2QsIDB4ZjZiOTI2NWIsIDB4NmZiMDc3ZTEsIDB4MThiNzQ3NzcsXG4gICAgMHg4ODA4NWFlNiwgMHhmZjBmNmE3MCwgMHg2NjA2M2JjYSwgMHgxMTAxMGI1YywgMHg4ZjY1OWVmZiwgMHhmODYyYWU2OSwgMHg2MTZiZmZkMywgMHgxNjZjY2Y0NSwgMHhhMDBhZTI3OCxcbiAgICAweGQ3MGRkMmVlLCAweDRlMDQ4MzU0LCAweDM5MDNiM2MyLCAweGE3NjcyNjYxLCAweGQwNjAxNmY3LCAweDQ5Njk0NzRkLCAweDNlNmU3N2RiLCAweGFlZDE2YTRhLCAweGQ5ZDY1YWRjLFxuICAgIDB4NDBkZjBiNjYsIDB4MzdkODNiZjAsIDB4YTliY2FlNTMsIDB4ZGViYjllYzUsIDB4NDdiMmNmN2YsIDB4MzBiNWZmZTksIDB4YmRiZGYyMWMsIDB4Y2FiYWMyOGEsIDB4NTNiMzkzMzAsXG4gICAgMHgyNGI0YTNhNiwgMHhiYWQwMzYwNSwgMHhjZGQ3MDY5MywgMHg1NGRlNTcyOSwgMHgyM2Q5NjdiZiwgMHhiMzY2N2EyZSwgMHhjNDYxNGFiOCwgMHg1ZDY4MWIwMiwgMHgyYTZmMmI5NCxcbiAgICAweGI0MGJiZTM3LCAweGMzMGM4ZWExLCAweDVhMDVkZjFiLCAweDJkMDJlZjhkXG5dKTtcbmZ1bmN0aW9uIF9jcmMzMihidWYsIHByZXZpb3VzKSB7XG4gICAgbGV0IGNyYyA9IH5+cHJldmlvdXMgXiAtMTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGJ1Zi5sZW5ndGg7IG4rKykge1xuICAgICAgICBjcmMgPSBDUkNfVEFCTEVbKGNyYyBeIGJ1ZltuXSkgJiAweGZmXSBeIChjcmMgPj4+IDgpO1xuICAgIH1cbiAgICByZXR1cm4gY3JjIF4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5zaWduZWRDUkMzMihkYXRhLCBwcmV2ID0gMCkge1xuICAgIHJldHVybiBfY3JjMzIoZGF0YSwgcHJldikgPj4+IDA7XG59XG4iLCAiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cbmV4cG9ydCBjb25zdCBfX0RFVl9fID0gKHR5cGVvZiBERUJVRyA9PT0gJ2Jvb2xlYW4nICYmIERFQlVHKSB8fFxuICAgICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgKHByb2Nlc3MuZW52Py5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nIHx8IHByb2Nlc3MuZW52Py5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykpIHx8XG4gICAgZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tOb3RUaGVuYWJsZSh0LCBlcnJvcikge1xuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICAgIGlmICh0ICYmIHR5cGVvZiB0ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufVxuIiwgIi8qKlxuICpcbiAqIEByZXR1cm5zIGEgbmV3IEdTZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZlcnNpb25HU2V0KCkge1xuICAgIGNvbnN0IGxhc3RWZXJzaW9uID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gbnVtYmVyXG4gICAgICAgICAqIEBwYXJhbSB2ZXJzaW9uXG4gICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAqL1xuICAgICAgICBhZGRUbyhudW1iZXIsIHZlcnNpb24pIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICBpZiAodmVyc2lvbiA8IDApIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGxhc3RWZXJzaW9uLmdldChudW1iZXIpO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZlcnNpb24gaXMgPj0sIGl0IG1lYW5zIHRoZSB2YWx1ZSBpdCdzIGFscmVhZHkgaW4gdGhlIHNldFxuICAgICAgICAgICAgaWYgKGN1cnJlbnRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGN1cnJlbnRWYWx1ZSA+PSB2ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0VmVyc2lvbi5zZXQobnVtYmVyLCB2ZXJzaW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgdGhlIHNldCB3aXRoIFtudW1iZXIsIHZlcnNpb25dIG9mIGVhY2ggdmFsdWVcbiAgICAgICAgICovXG4gICAgICAgIGhhcyhuLCB2KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBsYXN0VmVyc2lvbi5nZXQobik7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdmVyc2lvbiBpcyA+PSwgaXQgbWVhbnMgdGhlIHZhbHVlIGl0J3MgYWxyZWFkeSBpbiB0aGUgc2V0XG4gICAgICAgICAgICBpZiAoY3VycmVudFZhbHVlICE9PSB1bmRlZmluZWQgJiYgY3VycmVudFZhbHVlID49IHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdhcm5pbmc6IHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVmZXJlbmNlIHRvIHRoZSBpbnRlcm5hbCBtYXAsXG4gICAgICAgICAqICBpZiB5b3UgbmVlZCB0byBtdXRhdGUgc29tZSB2YWx1ZSwgbWFrZSBhIGNvcHkuXG4gICAgICAgICAqIEZvciBvcHRpbWl6YXRpb24gcHVycG9zZSB0aGUgY29weSBpc24ndCBtYWRlIGhlcmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIHRoZSBtYXAgb2YgbnVtYmVyIHRvIHZlcnNpb25cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0VmVyc2lvbjtcbiAgICAgICAgfVxuICAgIH07XG59XG4iLCAiaW1wb3J0IHsgY3JlYXRlVmVyc2lvbkdTZXQgfSBmcm9tICcuLi9zeXN0ZW1zL2NyZHQvZ3NldCc7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTUFYX1UxNiA9IDB4ZmZmZjtcbmNvbnN0IE1BU0tfVVBQRVJfMTZfT05fMzIgPSAweGZmZmYwMDAwO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IEFNT1VOVF9WRVJTSU9OX0FWQUlMQUJMRSA9IE1BWF9VMTYgKyAxO1xuLy8gVGhpcyB0eXBlIG1hdGNoZXMgd2l0aCBAZGNsL2NyZHQgZW50aXR5IHR5cGUuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgTUFYX0VOVElUWV9OVU1CRVIgPSBNQVhfVTE2O1xuLyoqXG4gKiBUaGlzIGZpcnN0IDUxMiBlbnRpdGllcyBhcmUgcmVzZXJ2ZWQgYnkgdGhlIHJlbmRlcmVyXG4gKi9cbmV4cG9ydCBjb25zdCBSRVNFUlZFRF9TVEFUSUNfRU5USVRJRVMgPSA1MTI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBFbnRpdHlVdGlscztcbihmdW5jdGlvbiAoRW50aXR5VXRpbHMpIHtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBbZW50aXR5TnVtYmVyLCBlbnRpdHlWZXJzaW9uXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21FbnRpdHlJZChlbnRpdHlJZCkge1xuICAgICAgICByZXR1cm4gWyhlbnRpdHlJZCAmIE1BWF9VMTYpID4+PiAwLCAoKChlbnRpdHlJZCAmIE1BU0tfVVBQRVJfMTZfT05fMzIpID4+IDE2KSAmIE1BWF9VMTYpID4+PiAwXTtcbiAgICB9XG4gICAgRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkID0gZnJvbUVudGl0eUlkO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIGNvbXBvdW5kIG51bWJlciBmcm9tIGVudGl0eU51bWJlciBhbmQgZW50aXR5VmVyaXNvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvRW50aXR5SWQoZW50aXR5TnVtYmVyLCBlbnRpdHlWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiAoKChlbnRpdHlOdW1iZXIgJiBNQVhfVTE2KSB8ICgoZW50aXR5VmVyc2lvbiAmIE1BWF9VMTYpIDw8IDE2KSkgPj4+IDApO1xuICAgIH1cbiAgICBFbnRpdHlVdGlscy50b0VudGl0eUlkID0gdG9FbnRpdHlJZDtcbn0pKEVudGl0eVV0aWxzIHx8IChFbnRpdHlVdGlscyA9IHt9KSk7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBFbnRpdHlTdGF0ZTtcbihmdW5jdGlvbiAoRW50aXR5U3RhdGUpIHtcbiAgICBFbnRpdHlTdGF0ZVtFbnRpdHlTdGF0ZVtcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBlbnRpdHkgd2FzIGdlbmVyYXRlZCBhbmQgYWRkZWQgdG8gdGhlIHVzZWRFbnRpdGllcyBzZXRcbiAgICAgKi9cbiAgICBFbnRpdHlTdGF0ZVtFbnRpdHlTdGF0ZVtcIlVzZWRFbnRpdHlcIl0gPSAxXSA9IFwiVXNlZEVudGl0eVwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBlbnRpdHkgd2FzIHJlbW92ZWQgZnJvbSBjdXJyZW50IGVuZ2luZSBvciByZW1vdGVseVxuICAgICAqL1xuICAgIEVudGl0eVN0YXRlW0VudGl0eVN0YXRlW1wiUmVtb3ZlZFwiXSA9IDJdID0gXCJSZW1vdmVkXCI7XG4gICAgLyoqXG4gICAgICogVGhlIGVudGl0eSBpcyByZXNlcnZlZCBudW1iZXIuXG4gICAgICovXG4gICAgRW50aXR5U3RhdGVbRW50aXR5U3RhdGVbXCJSZXNlcnZlZFwiXSA9IDNdID0gXCJSZXNlcnZlZFwiO1xufSkoRW50aXR5U3RhdGUgfHwgKEVudGl0eVN0YXRlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRW50aXR5Q29udGFpbmVyKG9wdHMpIHtcbiAgICBjb25zdCByZXNlcnZlZFN0YXRpY0VudGl0aWVzID0gb3B0cz8ucmVzZXJ2ZWRTdGF0aWNFbnRpdGllcyA/PyBSRVNFUlZFRF9TVEFUSUNfRU5USVRJRVM7XG4gICAgLy8gTG9jYWwgZW50aXRpZXMgY291bnRlclxuICAgIGxldCBlbnRpdHlDb3VudGVyID0gcmVzZXJ2ZWRTdGF0aWNFbnRpdGllcztcbiAgICBjb25zdCB1c2VkRW50aXRpZXMgPSBuZXcgU2V0KCk7XG4gICAgbGV0IHRvUmVtb3ZlRW50aXRpZXMgPSBbXTtcbiAgICBjb25zdCByZW1vdmVkRW50aXRpZXMgPSBjcmVhdGVWZXJzaW9uR1NldCgpO1xuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTmV3RW50aXR5KCkge1xuICAgICAgICBpZiAoZW50aXR5Q291bnRlciA+IE1BWF9FTlRJVFlfTlVNQkVSIC0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJdCBmYWlscyB0cnlpbmcgdG8gZ2VuZXJhdGUgYW4gZW50aXR5IG91dCBvZiByYW5nZSAke01BWF9FTlRJVFlfTlVNQkVSfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRpdHlOdW1iZXIgPSBlbnRpdHlDb3VudGVyKys7XG4gICAgICAgIGNvbnN0IGVudGl0eVZlcnNpb24gPSByZW1vdmVkRW50aXRpZXMuZ2V0TWFwKCkuaGFzKGVudGl0eU51bWJlcilcbiAgICAgICAgICAgID8gcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpLmdldChlbnRpdHlOdW1iZXIpICsgMVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBjb25zdCBlbnRpdHkgPSBFbnRpdHlVdGlscy50b0VudGl0eUlkKGVudGl0eU51bWJlciwgZW50aXR5VmVyc2lvbik7XG4gICAgICAgIGlmICh1c2VkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZU5ld0VudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHVzZWRFbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVFbnRpdHkoKSB7XG4gICAgICAgIGNvbnN0IHVzZWRTaXplID0gdXNlZEVudGl0aWVzLnNpemU7XG4gICAgICAgIC8vIElmIGFsbCBlbnRpdGllcyB1bnRpbCBgZW50aXR5Q291bnRlcmAgYXJlIGJlaW5nIHVzZWQsIHdlIG5lZWQgdG8gZ2VuZXJhdGUgYW5vdGhlciBvbmVcbiAgICAgICAgaWYgKHVzZWRTaXplICsgcmVzZXJ2ZWRTdGF0aWNFbnRpdGllcyA+PSBlbnRpdHlDb3VudGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVOZXdFbnRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtudW1iZXIsIHZlcnNpb25dIG9mIHJlbW92ZWRFbnRpdGllcy5nZXRNYXAoKSkge1xuICAgICAgICAgICAgaWYgKHZlcnNpb24gPCBNQVhfVTE2KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gRW50aXR5VXRpbHMudG9FbnRpdHlJZChudW1iZXIsIHZlcnNpb24gKyAxKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgZW50aXR5IGlzIG5vdCBiZWluZyB1c2VkLCB3ZSBjYW4gcmUtdXNlIGl0XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGVudGl0eSB3YXMgcmVtb3ZlZCBpbiB0aGlzIHRpY2ssIHdlJ3JlIG5vdCBjb3VudGluZyBmb3IgdGhlIHVzZWRFbnRpdGllcywgYnV0IHdlIGhhdmUgaXQgaW4gdGhlIHRvUmVtb3ZlRW50aXR5QXJyYXlcbiAgICAgICAgICAgICAgICBpZiAoIXVzZWRFbnRpdGllcy5oYXMoZW50aXR5KSAmJiAhdG9SZW1vdmVFbnRpdGllcy5pbmNsdWRlcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVzZWRFbnRpdGllcy5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlTmV3RW50aXR5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgaWYgKGVudGl0eSA8IHJlc2VydmVkU3RhdGljRW50aXRpZXMpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICh1c2VkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHVzZWRFbnRpdGllcy5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgICAgIHRvUmVtb3ZlRW50aXRpZXMucHVzaChlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdXBkYXRlUmVtb3ZlZEVudGl0eShlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWxlYXNlUmVtb3ZlZEVudGl0aWVzKCkge1xuICAgICAgICBjb25zdCBhcnIgPSB0b1JlbW92ZUVudGl0aWVzO1xuICAgICAgICBpZiAoYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgdG9SZW1vdmVFbnRpdGllcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgYXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgW24sIHZdID0gRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZEVudGl0aWVzLmFkZFRvKG4sIHYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlbW92ZWRFbnRpdHkoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IFtuLCB2XSA9IEVudGl0eVV0aWxzLmZyb21FbnRpdHlJZChlbnRpdHkpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHJlbW92ZWQgZW50aXRpZXMgbWFwXG4gICAgICAgIHJlbW92ZWRFbnRpdGllcy5hZGRUbyhuLCB2KTtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSB1c2VkRW50aXRpZXMgaWYgZXhpc3RcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdjsgaSsrKSB7XG4gICAgICAgICAgICB1c2VkRW50aXRpZXMuZGVsZXRlKEVudGl0eVV0aWxzLnRvRW50aXR5SWQobiwgaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVVc2VkRW50aXR5KGVudGl0eSkge1xuICAgICAgICBjb25zdCBbbiwgdl0gPSBFbnRpdHlVdGlscy5mcm9tRW50aXR5SWQoZW50aXR5KTtcbiAgICAgICAgLy8gaWYgdGhlIGVudGl0eSB3YXMgcmVtb3ZlZCB0aGVuIGFib3J0IGZhc3RcbiAgICAgICAgaWYgKHJlbW92ZWRFbnRpdGllcy5oYXMobiwgdikpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIFVwZGF0ZVxuICAgICAgICBpZiAodiA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHYgLSAxOyBpKyspIHtcbiAgICAgICAgICAgICAgICB1c2VkRW50aXRpZXMuZGVsZXRlKEVudGl0eVV0aWxzLnRvRW50aXR5SWQobiwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtb3ZlZEVudGl0aWVzLmFkZFRvKG4sIHYgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB1c2VkRW50aXRpZXMuYWRkKGVudGl0eSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbnRpdHlTdGF0ZShlbnRpdHkpIHtcbiAgICAgICAgY29uc3QgW24sIHZdID0gRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkKGVudGl0eSk7XG4gICAgICAgIGlmIChuIDwgcmVzZXJ2ZWRTdGF0aWNFbnRpdGllcykge1xuICAgICAgICAgICAgcmV0dXJuIEVudGl0eVN0YXRlLlJlc2VydmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1c2VkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiBFbnRpdHlTdGF0ZS5Vc2VkRW50aXR5O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZWRWZXJzaW9uID0gcmVtb3ZlZEVudGl0aWVzLmdldE1hcCgpLmdldChuKTtcbiAgICAgICAgaWYgKHJlbW92ZWRWZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgcmVtb3ZlZFZlcnNpb24gPj0gdikge1xuICAgICAgICAgICAgcmV0dXJuIEVudGl0eVN0YXRlLlJlbW92ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVudGl0eVN0YXRlLlVua25vd247XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGdlbmVyYXRlRW50aXR5LFxuICAgICAgICByZW1vdmVFbnRpdHksXG4gICAgICAgIGdldEV4aXN0aW5nRW50aXRpZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNldCh1c2VkRW50aXRpZXMpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRFbnRpdHlTdGF0ZSxcbiAgICAgICAgcmVsZWFzZVJlbW92ZWRFbnRpdGllcyxcbiAgICAgICAgdXBkYXRlUmVtb3ZlZEVudGl0eSxcbiAgICAgICAgdXBkYXRlVXNlZEVudGl0eVxuICAgIH07XG59XG4iLCAidmFyIF9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSAodGhpcyAmJiB0aGlzLl9fY2xhc3NQcml2YXRlRmllbGRHZXQpIHx8IGZ1bmN0aW9uIChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcbn07XG52YXIgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQ7XG5pbXBvcnQgKiBhcyB1dGY4IGZyb20gJ0Bwcm90b2J1ZmpzL3V0ZjgnO1xuLyoqXG4gKiBUYWtlIHRoZSBtYXggYmV0d2VlbiBjdXJyZW50U2l6ZSBhbmQgaW50ZW5kZWRTaXplIGFuZCB0aGVuIHBsdXMgMTAyNC4gVGhlbixcbiAqICBmaW5kIHRoZSBuZXh0IG5lYXJlciBtdWx0aXBsZSBvZiAxMDI0LlxuICogQHBhcmFtIGN1cnJlbnRTaXplIC0gbnVtYmVyXG4gKiBAcGFyYW0gaW50ZW5kZWRTaXplIC0gbnVtYmVyXG4gKiBAcmV0dXJucyB0aGUgY2FsY3VsYXRlZCBudW1iZXJcbiAqL1xuZnVuY3Rpb24gZ2V0TmV4dFNpemUoY3VycmVudFNpemUsIGludGVuZGVkU2l6ZSkge1xuICAgIGNvbnN0IG1pbk5ld1NpemUgPSBNYXRoLm1heChjdXJyZW50U2l6ZSwgaW50ZW5kZWRTaXplKSArIDEwMjQ7XG4gICAgcmV0dXJuIE1hdGguY2VpbChtaW5OZXdTaXplIC8gMTAyNCkgKiAxMDI0O1xufVxuY29uc3QgZGVmYXVsdEluaXRpYWxDYXBhY2l0eSA9IDEwMjQwO1xuLyoqXG4gKiBCeXRlQnVmZmVyIGlzIGEgd3JhcHBlciBvZiBEYXRhVmlldyB3aGljaCBhbHNvIGFkZHMgYSByZWFkIGFuZCB3cml0ZSBvZmZzZXQuXG4gKiAgQWxzbyBpbiBhIHdyaXRlIG9wZXJhdGlvbiBpdCByZXNpemVzIHRoZSBidWZmZXIgaXMgYmVpbmcgdXNlZCBpZiBpdCBuZWVkcy5cbiAqXG4gKiAtIFVzZSByZWFkIGFuZCB3cml0ZSBmdW5jdGlvbiB0byBnZW5lcmF0ZSBvciBjb25zdW1lIGRhdGEuXG4gKiAtIFVzZSBzZXQgYW5kIGdldCBvbmx5IGlmIHlvdSBhcmUgc3VyZSB0aGF0IHlvdSdyZSBkb2luZy5cbiAqXG4gKiBJdCBhbHdheXMgcGFzc2VzIGxpdHRsZUVuZGlhbiBwYXJhbSBhcyB0cnVlXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFkV3JpdGVCeXRlQnVmZmVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYnVmZmVyIC0gVGhlIGluaXRpYWwgYnVmZmVyLCBwcm92aWRlIGEgYnVmZmVyIGlmIHlvdSBuZWVkIHRvIHNldCBcImluaXRpYWwgY2FwYWNpdHlcIlxuICAgICAqIEBwYXJhbSByZWFkaW5nT2Zmc2V0IC0gU2V0IHRoZSBjdXJzb3Igd2hlcmUgYmVnaW5zIHRvIHJlYWQuIERlZmF1bHQgMFxuICAgICAqIEBwYXJhbSB3cml0aW5nT2Zmc2V0IC0gU2V0IHRoZSBjdXJzb3IgdG8gbm90IHN0YXJ0IHdyaXRpbmcgZnJvbSB0aGUgYmVnaW4gb2YgaXQuIERlZmF1bHRzIHRvIHRoZSBidWZmZXIgc2l6ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJ1ZmZlciwgcmVhZGluZ09mZnNldCwgd3JpdGluZ09mZnNldCkge1xuICAgICAgICBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBidWZmZXIgfHwgbmV3IFVpbnQ4QXJyYXkoZGVmYXVsdEluaXRpYWxDYXBhY2l0eSk7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9idWZmZXIuYnVmZmVyLCB0aGlzLl9idWZmZXIuYnl0ZU9mZnNldCk7XG4gICAgICAgIHRoaXMud29mZnNldCA9IHdyaXRpbmdPZmZzZXQgPz8gKGJ1ZmZlciA/IHRoaXMuX2J1ZmZlci5sZW5ndGggOiBudWxsKSA/PyAwO1xuICAgICAgICB0aGlzLnJvZmZzZXQgPSByZWFkaW5nT2Zmc2V0ID8/IDA7XG4gICAgfVxuICAgIGJ1ZmZlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICB9XG4gICAgYnVmZmVyTGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmxlbmd0aDtcbiAgICB9XG4gICAgcmVzZXRCdWZmZXIoKSB7XG4gICAgICAgIHRoaXMucm9mZnNldCA9IDA7XG4gICAgICAgIHRoaXMud29mZnNldCA9IDA7XG4gICAgfVxuICAgIGN1cnJlbnRSZWFkT2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb2Zmc2V0O1xuICAgIH1cbiAgICBjdXJyZW50V3JpdGVPZmZzZXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndvZmZzZXQ7XG4gICAgfVxuICAgIGluY3JlbWVudFJlYWRPZmZzZXQoYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIGFtb3VudCk7XG4gICAgfVxuICAgIHJlbWFpbmluZ0J5dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53b2Zmc2V0IC0gdGhpcy5yb2Zmc2V0O1xuICAgIH1cbiAgICByZWFkRmxvYXQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRGbG9hdDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRGbG9hdDY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0NjQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA4KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZEludDgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50OChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDEpKTtcbiAgICB9XG4gICAgcmVhZEludDE2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDE2KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMiksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHJlYWRJbnQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkSW50NjQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0QmlnSW50NjQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA4KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgcmVhZFVpbnQ4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQ4KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgMSkpO1xuICAgIH1cbiAgICByZWFkVWludDE2KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQxNihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDIpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkVWludDMyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQzMihfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDQpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkVWludDY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEJpZ1VpbnQ2NChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDgpLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICByZWFkQnVmZmVyKCkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnZpZXcuZ2V0VWludDMyKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgNCksIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuc3ViYXJyYXkoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCBsZW5ndGgpLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkKS5jYWxsKHRoaXMsIDApKTtcbiAgICB9XG4gICAgcmVhZFV0ZjhTdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMudmlldy5nZXRVaW50MzIoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCA0KSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICAgICAgcmV0dXJuIHV0ZjgucmVhZCh0aGlzLl9idWZmZXIsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQpLmNhbGwodGhpcywgbGVuZ3RoKSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCkuY2FsbCh0aGlzLCAwKSk7XG4gICAgfVxuICAgIGluY3JlbWVudFdyaXRlT2Zmc2V0KGFtb3VudCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCBhbW91bnQpO1xuICAgIH1cbiAgICB0b0JpbmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5zdWJhcnJheSgwLCB0aGlzLndvZmZzZXQpO1xuICAgIH1cbiAgICB0b0NvcGllZEJpbmFyeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMudG9CaW5hcnkoKSk7XG4gICAgfVxuICAgIHdyaXRlQnVmZmVyKHZhbHVlLCB3cml0ZUxlbmd0aCA9IHRydWUpIHtcbiAgICAgICAgaWYgKHdyaXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlVWludDMyKHZhbHVlLmJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIHZhbHVlLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLl9idWZmZXIuc2V0KHZhbHVlLCBvKTtcbiAgICB9XG4gICAgd3JpdGVVdGY4U3RyaW5nKHZhbHVlLCB3cml0ZUxlbmd0aCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICAgICAgaWYgKHdyaXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlVWludDMyKGJ5dGVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIGJ5dGVMZW5ndGgpO1xuICAgICAgICB1dGY4LndyaXRlKHZhbHVlLCB0aGlzLl9idWZmZXIsIG8pO1xuICAgIH1cbiAgICB3cml0ZUZsb2F0MzIodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgNCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDMyKG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUZsb2F0NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgOCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDY0KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUludDgodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgMSk7XG4gICAgICAgIHRoaXMudmlldy5zZXRJbnQ4KG8sIHZhbHVlKTtcbiAgICB9XG4gICAgd3JpdGVJbnQxNih2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCAyKTtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDE2KG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZUludDMyKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0SW50MzIobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlSW50NjQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgOCk7XG4gICAgICAgIHRoaXMudmlldy5zZXRCaWdJbnQ2NChvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgd3JpdGVVaW50OCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KG8sIHZhbHVlKTtcbiAgICB9XG4gICAgd3JpdGVVaW50MTYodmFsdWUpIHtcbiAgICAgICAgY29uc3QgbyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfaW5zdGFuY2VzLCBcIm1cIiwgX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQpLmNhbGwodGhpcywgMik7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MTYobywgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHdyaXRlVWludDMyKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG8gPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcywgXCJtXCIsIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkKS5jYWxsKHRoaXMsIDQpO1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDMyKG8sIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICB3cml0ZVVpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9pbnN0YW5jZXMsIFwibVwiLCBfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCkuY2FsbCh0aGlzLCA4KTtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChvLCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgLy8gRGF0YVZpZXcgUHJveHlcbiAgICBnZXRGbG9hdDMyKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0MzIob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRGbG9hdDY0KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0NjQob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRJbnQ4KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDgob2Zmc2V0KTtcbiAgICB9XG4gICAgZ2V0SW50MTYob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0SW50MTYob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBnZXRJbnQzMihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRJbnQzMihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldEludDY0KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEJpZ0ludDY0KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgZ2V0VWludDgob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0VWludDgob2Zmc2V0KTtcbiAgICB9XG4gICAgZ2V0VWludDE2KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldFVpbnQxNihvZmZzZXQsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIGdldFVpbnQzMihvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MzIob2Zmc2V0LCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZSA+Pj4gMFxuICAgIH1cbiAgICBnZXRVaW50NjQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0QmlnVWludDY0KG9mZnNldCwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0RmxvYXQzMihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRGbG9hdDMyKG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEZsb2F0NjQob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0RmxvYXQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbiAgICBzZXRJbnQ4KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDgob2Zmc2V0LCB2YWx1ZSk7XG4gICAgfVxuICAgIHNldEludDE2KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDE2KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEludDMyKG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEludDMyKG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldEludDY0KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ0ludDY0KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldFVpbnQ4KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldFVpbnQ4KG9mZnNldCwgdmFsdWUpO1xuICAgIH1cbiAgICBzZXRVaW50MTYob2Zmc2V0LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnZpZXcuc2V0VWludDE2KG9mZnNldCwgdmFsdWUsIHRydWUpOyAvLyBsaXR0bGVFbmRpYW4gPSB0cnVlXG4gICAgfVxuICAgIHNldFVpbnQzMihvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmlldy5zZXRVaW50MzIob2Zmc2V0LCB2YWx1ZSwgdHJ1ZSk7IC8vIGxpdHRsZUVuZGlhbiA9IHRydWVcbiAgICB9XG4gICAgc2V0VWludDY0KG9mZnNldCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy52aWV3LnNldEJpZ1VpbnQ2NChvZmZzZXQsIHZhbHVlLCB0cnVlKTsgLy8gbGl0dGxlRW5kaWFuID0gdHJ1ZVxuICAgIH1cbn1cbl9SZWFkV3JpdGVCeXRlQnVmZmVyX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3dvQWRkID0gZnVuY3Rpb24gX1JlYWRXcml0ZUJ5dGVCdWZmZXJfd29BZGQoYW1vdW50KSB7XG4gICAgaWYgKHRoaXMud29mZnNldCArIGFtb3VudCA+IHRoaXMuX2J1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG5ld3NpemUgPSBnZXROZXh0U2l6ZSh0aGlzLl9idWZmZXIuYnl0ZUxlbmd0aCwgdGhpcy53b2Zmc2V0ICsgYW1vdW50KTtcbiAgICAgICAgY29uc3QgbmV3QnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkobmV3c2l6ZSk7XG4gICAgICAgIG5ld0J1ZmZlci5zZXQodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgY29uc3Qgb2xkT2Zmc2V0ID0gdGhpcy5fYnVmZmVyLmJ5dGVPZmZzZXQ7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ld0J1ZmZlcjtcbiAgICAgICAgdGhpcy52aWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuX2J1ZmZlci5idWZmZXIsIG9sZE9mZnNldCk7XG4gICAgfVxuICAgIHRoaXMud29mZnNldCArPSBhbW91bnQ7XG4gICAgcmV0dXJuIHRoaXMud29mZnNldCAtIGFtb3VudDtcbn0sIF9SZWFkV3JpdGVCeXRlQnVmZmVyX3JvQWRkID0gZnVuY3Rpb24gX1JlYWRXcml0ZUJ5dGVCdWZmZXJfcm9BZGQoYW1vdW50KSB7XG4gICAgaWYgKHRoaXMucm9mZnNldCArIGFtb3VudCA+IHRoaXMud29mZnNldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ091dHNpZGUgb2YgdGhlIGJvdW5kcyBvZiB3cml0ZW4gZGF0YS4nKTtcbiAgICB9XG4gICAgdGhpcy5yb2Zmc2V0ICs9IGFtb3VudDtcbiAgICByZXR1cm4gdGhpcy5yb2Zmc2V0IC0gYW1vdW50O1xufTtcbiIsICIvKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDcmR0TWVzc2FnZVR5cGU7XG4oZnVuY3Rpb24gKENyZHRNZXNzYWdlVHlwZSkge1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJSRVNFUlZFRFwiXSA9IDBdID0gXCJSRVNFUlZFRFwiO1xuICAgIC8vIENvbXBvbmVudCBPcGVyYXRpb25cbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiUFVUX0NPTVBPTkVOVFwiXSA9IDFdID0gXCJQVVRfQ09NUE9ORU5UXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIkRFTEVURV9DT01QT05FTlRcIl0gPSAyXSA9IFwiREVMRVRFX0NPTVBPTkVOVFwiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJERUxFVEVfRU5USVRZXCJdID0gM10gPSBcIkRFTEVURV9FTlRJVFlcIjtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiQVBQRU5EX1ZBTFVFXCJdID0gNF0gPSBcIkFQUEVORF9WQUxVRVwiO1xuICAgIC8vIE5ldHdvcmsgb3BlcmF0aW9uc1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJQVVRfQ09NUE9ORU5UX05FVFdPUktcIl0gPSA1XSA9IFwiUFVUX0NPTVBPTkVOVF9ORVRXT1JLXCI7XG4gICAgQ3JkdE1lc3NhZ2VUeXBlW0NyZHRNZXNzYWdlVHlwZVtcIkRFTEVURV9DT01QT05FTlRfTkVUV09SS1wiXSA9IDZdID0gXCJERUxFVEVfQ09NUE9ORU5UX05FVFdPUktcIjtcbiAgICBDcmR0TWVzc2FnZVR5cGVbQ3JkdE1lc3NhZ2VUeXBlW1wiREVMRVRFX0VOVElUWV9ORVRXT1JLXCJdID0gN10gPSBcIkRFTEVURV9FTlRJVFlfTkVUV09SS1wiO1xuICAgIENyZHRNZXNzYWdlVHlwZVtDcmR0TWVzc2FnZVR5cGVbXCJNQVhfTUVTU0FHRV9UWVBFXCJdID0gOF0gPSBcIk1BWF9NRVNTQUdFX1RZUEVcIjtcbn0pKENyZHRNZXNzYWdlVHlwZSB8fCAoQ3JkdE1lc3NhZ2VUeXBlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggPSA4O1xuZXhwb3J0IHZhciBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGU7XG4oZnVuY3Rpb24gKFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZSkge1xuICAgIC8qKlxuICAgICAqIFR5cGljYWwgbWVzc2FnZSBhbmQgbmV3IHN0YXRlIHNldC5cbiAgICAgKiBAc3RhdGUgQ0hBTkdFXG4gICAgICogQHJlYXNvbiBJbmNvbWluZyBtZXNzYWdlIGhhcyBhIHRpbWVzdGFtcCBncmVhdGVyXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIlN0YXRlVXBkYXRlZFRpbWVzdGFtcFwiXSA9IDFdID0gXCJTdGF0ZVVwZGF0ZWRUaW1lc3RhbXBcIjtcbiAgICAvKipcbiAgICAgKiBUeXBpY2FsIG1lc3NhZ2Ugd2hlbiBpdCBpcyBjb25zaWRlcmVkIG9sZC5cbiAgICAgKiBAc3RhdGUgaXQgZG9lcyBOT1QgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gaW5jb21pbmcgbWVzc2FnZSBoYXMgYSB0aW1lc3RhbXAgbG93ZXIuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIlN0YXRlT3V0ZGF0ZWRUaW1lc3RhbXBcIl0gPSAyXSA9IFwiU3RhdGVPdXRkYXRlZFRpbWVzdGFtcFwiO1xuICAgIC8qKlxuICAgICAqIFdlaXJkIG1lc3NhZ2UsIHNhbWUgdGltZXN0YW1wIGFuZCBkYXRhLlxuICAgICAqIEBzdGF0ZSBpdCBkb2VzIE5PVCBDSEFOR0UuXG4gICAgICogQHJlYXNvbiBjb25zaXN0ZW50IHN0YXRlIGJldHdlZW4gcGVlcnMuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIk5vQ2hhbmdlc1wiXSA9IDNdID0gXCJOb0NoYW5nZXNcIjtcbiAgICAvKipcbiAgICAgKiBMZXNzIGJ1dCB0eXBpY2FsIG1lc3NhZ2UsIHNhbWUgdGltZXN0YW1wLCByZXNvbHV0aW9uIGJ5IGRhdGEuXG4gICAgICogQHN0YXRlIGl0IGRvZXMgTk9UIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIGluY29taW5nIG1lc3NhZ2UgaGFzIGEgTE9XRVIgZGF0YS5cbiAgICAgKi9cbiAgICBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1wiU3RhdGVPdXRkYXRlZERhdGFcIl0gPSA0XSA9IFwiU3RhdGVPdXRkYXRlZERhdGFcIjtcbiAgICAvKipcbiAgICAgKiBMZXNzIGJ1dCB0eXBpY2FsIG1lc3NhZ2UsIHNhbWUgdGltZXN0YW1wLCByZXNvbHV0aW9uIGJ5IGRhdGEuXG4gICAgICogQHN0YXRlIENIQU5HRS5cbiAgICAgKiBAcmVhc29uIGluY29taW5nIG1lc3NhZ2UgaGFzIGEgR1JFQVRFUiBkYXRhLlxuICAgICAqL1xuICAgIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGVbXCJTdGF0ZVVwZGF0ZWREYXRhXCJdID0gNV0gPSBcIlN0YXRlVXBkYXRlZERhdGFcIjtcbiAgICAvKipcbiAgICAgKiBFbnRpdHkgd2FzIHByZXZpb3VzbHkgZGVsZXRlZC5cbiAgICAgKiBAc3RhdGUgaXQgZG9lcyBOT1QgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gVGhlIG1lc3NhZ2UgaXMgY29uc2lkZXJlZCBvbGQuXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIkVudGl0eVdhc0RlbGV0ZWRcIl0gPSA2XSA9IFwiRW50aXR5V2FzRGVsZXRlZFwiO1xuICAgIC8qKlxuICAgICAqIEVudGl0eSBzaG91bGQgYmUgZGVsZXRlZC5cbiAgICAgKiBAc3RhdGUgQ0hBTkdFLlxuICAgICAqIEByZWFzb24gdGhlIHN0YXRlIGlzIHN0b3Jpbmcgb2xkIGVudGl0aWVzXG4gICAgICovXG4gICAgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlW1Byb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZVtcIkVudGl0eURlbGV0ZWRcIl0gPSA3XSA9IFwiRW50aXR5RGVsZXRlZFwiO1xufSkoUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlIHx8IChQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUgPSB7fSkpO1xuLy8gd2UgcmVjZWl2ZSBMV1csIHY9Niwgd2UgaGF2ZSB2PTUgPT4gd2UgcmVjZWl2ZSB3aXRoIGRlbGF5IHRoZSBkZWxldGVFbnRpdHkodj01KVxuLy8gICA9PiB3ZSBzaG91bGQgZ2VuZXJhdGUgdGhlIGRlbGV0ZUVudGl0eSBtZXNzYWdlIGVmZmVjdHMgaW50ZXJuYWxseSB3aXRoIGRlbGV0ZUVudGl0eSh2PTUpLFxuLy8gICAgICAgYnV0IGRvbid0IHJlc2VuZCB0aGUgZGVsZXRlRW50aXR5XG4vLyAgICAgICAgICAtIChDUkRUKSBhZGREZWxldGVkRW50aXR5U2V0IHY9NSAod2l0aCBjcmR0IHN0YXRlIGNsZWFuaW5nKSBhbmQgdGhlbiBMV1cgdj02XG4vLyAgICAgICAgICAtIChlbmdpbmUpIGVuZ2luZS5kZWxldGVFbnRpdHkgdj01XG4vLyB3ZSByZWNlaXZlIExXVywgdj03LCB3ZSBoYXZlIHY9NSA9PiB3ZSByZWNlaXZlIHdpdGggZGVsYXkgdGhlIGRlbGV0ZUVudGl0eSh2PTUpLCBkZWxldGVFbnRpdHkodj02KSwgLi4uLCBOXG4vLyAgID0+IHdlIHNob3VsZCBnZW5lcmF0ZSB0aGUgZGVsZXRlRW50aXR5IG1lc3NhZ2UgZWZmZWN0cyBpbnRlcm5hbGx5IHdpdGggZGVsZXRlRW50aXR5KHY9NSksXG4vLyAgICAgICBidXQgZG9uJ3QgcmVzZW5kIHRoZSBkZWxldGVFbnRpdHlcbi8vICAgICAgICAgIC0gKENSRFQpIGFkZERlbGV0ZWRFbnRpdHlTZXQgdj01ICh3aXRoIGNyZHQgc3RhdGUgY2xlYW5pbmcpIGFuZCB0aGVuIExXVyB2PTZcbi8vICAgICAgICAgIC0gKGVuZ2luZSkgZW5naW5lLmRlbGV0ZUVudGl0eSB2PTVcbi8vIG1zZyBkZWxldGUgZW50aXR5OiBpdCBvbmx5IHNob3VsZCBiZSBzZW50IGJ5IGRlbGV0ZXJcbi8vXG4iLCAiaW1wb3J0IHsgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENyZHRNZXNzYWdlUHJvdG9jb2w7XG4oZnVuY3Rpb24gKENyZHRNZXNzYWdlUHJvdG9jb2wpIHtcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBpZiB0aGUgbWVzc2FnZSBpbmNvbWluZyBpcyBjb21wbGV0ZWRcbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKGJ1Zikge1xuICAgICAgICBjb25zdCByZW0gPSBidWYucmVtYWluaW5nQnl0ZXMoKTtcbiAgICAgICAgaWYgKHJlbSA8IENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IGJ1Zi5nZXRVaW50MzIoYnVmLmN1cnJlbnRSZWFkT2Zmc2V0KCkpO1xuICAgICAgICBpZiAocmVtIDwgbWVzc2FnZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLnZhbGlkYXRlID0gdmFsaWRhdGU7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IGhlYWRlciwgY29uc3VtaW5nIHRoZSBieXRlcyBpbnZvbHZlZC5cbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqIEByZXR1cm5zIGhlYWRlciBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHZhbGlkYXRlZCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVhZEhlYWRlcihidWYpIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZShidWYpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdHlwZTogYnVmLnJlYWRVaW50MzIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIgPSByZWFkSGVhZGVyO1xuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBoZWFkZXIsIHdpdGhvdXQgY29uc3VtaW5nIHRoZSBieXRlcyBpbnZvbHZlZC5cbiAgICAgKiBAcGFyYW0gYnVmIC0gQnl0ZUJ1ZmZlclxuICAgICAqIEByZXR1cm5zIGhlYWRlciBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHZhbGlkYXRlZCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SGVhZGVyKGJ1Zikge1xuICAgICAgICBpZiAoIXZhbGlkYXRlKGJ1ZikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRPZmZzZXQgPSBidWYuY3VycmVudFJlYWRPZmZzZXQoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogYnVmLmdldFVpbnQzMihjdXJyZW50T2Zmc2V0KSxcbiAgICAgICAgICAgIHR5cGU6IGJ1Zi5nZXRVaW50MzIoY3VycmVudE9mZnNldCArIDQpXG4gICAgICAgIH07XG4gICAgfVxuICAgIENyZHRNZXNzYWdlUHJvdG9jb2wuZ2V0SGVhZGVyID0gZ2V0SGVhZGVyO1xuICAgIC8qKlxuICAgICAqIENvbnN1bWUgdGhlIGluY29taW5nIG1lc3NhZ2Ugd2l0aG91dCBwcm9jZXNzaW5nIGl0LlxuICAgICAqIEBwYXJhbSBidWYgLSBCeXRlQnVmZmVyXG4gICAgICogQHJldHVybnMgdHJ1ZSBpbiBjYXNlIG9mIHN1Y2Nlc3Mgb3IgZmFsc2UgaWYgdGhlcmUgaXMgbm8gdmFsaWQgbWVzc2FnZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25zdW1lTWVzc2FnZShidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZ2V0SGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLmluY3JlbWVudFJlYWRPZmZzZXQoaGVhZGVyLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBDcmR0TWVzc2FnZVByb3RvY29sLmNvbnN1bWVNZXNzYWdlID0gY29uc3VtZU1lc3NhZ2U7XG59KShDcmR0TWVzc2FnZVByb3RvY29sIHx8IChDcmR0TWVzc2FnZVByb3RvY29sID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIERlbGV0ZUNvbXBvbmVudDtcbihmdW5jdGlvbiAoRGVsZXRlQ29tcG9uZW50KSB7XG4gICAgRGVsZXRlQ29tcG9uZW50Lk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDEyO1xuICAgIC8qKlxuICAgICAqIFdyaXRlIERlbGV0ZUNvbXBvbmVudCBtZXNzYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCBjb21wb25lbnRJZCwgdGltZXN0YW1wLCBidWYpIHtcbiAgICAgICAgLy8gcmVzZXJ2ZSB0aGUgYmVnaW5uaW5nXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIERlbGV0ZUNvbXBvbmVudC5NRVNTQUdFX0hFQURFUl9MRU5HVEg7XG4gICAgICAgIGNvbnN0IHN0YXJ0TWVzc2FnZU9mZnNldCA9IGJ1Zi5pbmNyZW1lbnRXcml0ZU9mZnNldChtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0LCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA0LCBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgfVxuICAgIERlbGV0ZUNvbXBvbmVudC53cml0ZSA9IHdyaXRlO1xuICAgIGZ1bmN0aW9uIHJlYWQoYnVmKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wucmVhZEhlYWRlcihidWYpO1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhlYWRlci50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWxldGVDb21wb25lbnRPcGVyYXRpb24gdHJpZWQgdG8gcmVhZCBhbm90aGVyIG1lc3NhZ2UgdHlwZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIERlbGV0ZUNvbXBvbmVudC5yZWFkID0gcmVhZDtcbn0pKERlbGV0ZUNvbXBvbmVudCB8fCAoRGVsZXRlQ29tcG9uZW50ID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuL3R5cGVzJztcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEFwcGVuZFZhbHVlT3BlcmF0aW9uO1xuKGZ1bmN0aW9uIChBcHBlbmRWYWx1ZU9wZXJhdGlvbikge1xuICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCA9IDE2O1xuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBmb3IgYW4gb3B0aW1hbCB3cml0aW5nIGRhdGEgcGFzc2luZyB0aGUgQnl0ZUJ1ZmZlclxuICAgICAqICBhbHJlYWR5IGFsbG9jYXRlZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgdGltZXN0YW1wLCBjb21wb25lbnRJZCwgZGF0YSwgYnVmKSB7XG4gICAgICAgIC8vIHJlc2VydmUgdGhlIGJlZ2lubmluZ1xuICAgICAgICBjb25zdCBzdGFydE1lc3NhZ2VPZmZzZXQgPSBidWYuaW5jcmVtZW50V3JpdGVPZmZzZXQoQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyBBcHBlbmRWYWx1ZU9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEgpO1xuICAgICAgICAvLyB3cml0ZSBib2R5XG4gICAgICAgIGJ1Zi53cml0ZUJ1ZmZlcihkYXRhLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBidWYuY3VycmVudFdyaXRlT2Zmc2V0KCkgLSBzdGFydE1lc3NhZ2VPZmZzZXQ7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCwgbWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgNCwgQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgICAgIGNvbnN0IG5ld0xvY2FsID0gbWVzc2FnZUxlbmd0aCAtIEFwcGVuZFZhbHVlT3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCAtIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDIwLCBuZXdMb2NhbCk7XG4gICAgfVxuICAgIEFwcGVuZFZhbHVlT3BlcmF0aW9uLndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcHBlbmRWYWx1ZU9wZXJhdGlvbiB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIGNvbXBvbmVudElkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgZGF0YTogYnVmLnJlYWRCdWZmZXIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBBcHBlbmRWYWx1ZU9wZXJhdGlvbi5yZWFkID0gcmVhZDtcbn0pKEFwcGVuZFZhbHVlT3BlcmF0aW9uIHx8IChBcHBlbmRWYWx1ZU9wZXJhdGlvbiA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBEZWxldGVFbnRpdHk7XG4oZnVuY3Rpb24gKERlbGV0ZUVudGl0eSkge1xuICAgIERlbGV0ZUVudGl0eS5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSA0O1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgYnVmKSB7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYud3JpdGVVaW50MzIoQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyA0KTtcbiAgICAgICAgYnVmLndyaXRlVWludDMyKENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKTtcbiAgICAgICAgLy8gYm9keVxuICAgICAgICBidWYud3JpdGVVaW50MzIoZW50aXR5KTtcbiAgICB9XG4gICAgRGVsZXRlRW50aXR5LndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RlbGV0ZUVudGl0eSB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBEZWxldGVFbnRpdHkucmVhZCA9IHJlYWQ7XG59KShEZWxldGVFbnRpdHkgfHwgKERlbGV0ZUVudGl0eSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgQ3JkdE1lc3NhZ2VQcm90b2NvbCB9IGZyb20gJy4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQdXRDb21wb25lbnRPcGVyYXRpb247XG4oZnVuY3Rpb24gKFB1dENvbXBvbmVudE9wZXJhdGlvbikge1xuICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSAxNjtcbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gZm9yIGFuIG9wdGltYWwgd3JpdGluZyBkYXRhIHBhc3NpbmcgdGhlIEJ5dGVCdWZmZXJcbiAgICAgKiAgYWxyZWFkeSBhbGxvY2F0ZWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIHRpbWVzdGFtcCwgY29tcG9uZW50SWQsIGRhdGEsIGJ1Zikge1xuICAgICAgICAvLyByZXNlcnZlIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlT2Zmc2V0ID0gYnVmLmluY3JlbWVudFdyaXRlT2Zmc2V0KENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgUHV0Q29tcG9uZW50T3BlcmF0aW9uLk1FU1NBR0VfSEVBREVSX0xFTkdUSCk7XG4gICAgICAgIC8vIHdyaXRlIGJvZHlcbiAgICAgICAgYnVmLndyaXRlQnVmZmVyKGRhdGEsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUxlbmd0aCA9IGJ1Zi5jdXJyZW50V3JpdGVPZmZzZXQoKSAtIHN0YXJ0TWVzc2FnZU9mZnNldDtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0LCBtZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA0LCBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgICAgIGNvbnN0IG5ld0xvY2FsID0gbWVzc2FnZUxlbmd0aCAtIFB1dENvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggLSBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSDtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAyMCwgbmV3TG9jYWwpO1xuICAgIH1cbiAgICBQdXRDb21wb25lbnRPcGVyYXRpb24ud3JpdGUgPSB3cml0ZTtcbiAgICBmdW5jdGlvbiByZWFkKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIoYnVmKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHV0Q29tcG9uZW50T3BlcmF0aW9uIHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBkYXRhOiBidWYucmVhZEJ1ZmZlcigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi5yZWFkID0gcmVhZDtcbn0pKFB1dENvbXBvbmVudE9wZXJhdGlvbiB8fCAoUHV0Q29tcG9uZW50T3BlcmF0aW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbjtcbihmdW5jdGlvbiAoUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbikge1xuICAgIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24uTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gMjA7XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIGZvciBhbiBvcHRpbWFsIHdyaXRpbmcgZGF0YSBwYXNzaW5nIHRoZSBCeXRlQnVmZmVyXG4gICAgICogIGFscmVhZHkgYWxsb2NhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGUoZW50aXR5LCB0aW1lc3RhbXAsIGNvbXBvbmVudElkLCBuZXR3b3JrSWQsIGRhdGEsIGJ1Zikge1xuICAgICAgICAvLyByZXNlcnZlIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlT2Zmc2V0ID0gYnVmLmluY3JlbWVudFdyaXRlT2Zmc2V0KENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIICsgUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEgpO1xuICAgICAgICAvLyB3cml0ZSBib2R5XG4gICAgICAgIGJ1Zi53cml0ZUJ1ZmZlcihkYXRhLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBidWYuY3VycmVudFdyaXRlT2Zmc2V0KCkgLSBzdGFydE1lc3NhZ2VPZmZzZXQ7XG4gICAgICAgIC8vIFdyaXRlIENyZHRNZXNzYWdlIGhlYWRlclxuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCwgbWVzc2FnZUxlbmd0aCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgNCwgQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSyk7XG4gICAgICAgIC8vIFdyaXRlIENvbXBvbmVudE9wZXJhdGlvbiBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyA4LCBlbnRpdHkpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDEyLCBjb21wb25lbnRJZCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMTYsIHRpbWVzdGFtcCk7XG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgMjAsIG5ldHdvcmtJZCk7XG4gICAgICAgIGNvbnN0IGRhdGFMZW5ndGggPSBtZXNzYWdlTGVuZ3RoIC0gUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbi5NRVNTQUdFX0hFQURFUl9MRU5HVEggLSBDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSDtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAyNCwgZGF0YUxlbmd0aCk7XG4gICAgfVxuICAgIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24ud3JpdGUgPSB3cml0ZTtcbiAgICBmdW5jdGlvbiByZWFkKGJ1Zikge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLnJlYWRIZWFkZXIoYnVmKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXIudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQdXRDb21wb25lbnROZXR3b3JrT3BlcmF0aW9uIHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBuZXR3b3JrSWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBkYXRhOiBidWYucmVhZEJ1ZmZlcigpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24ucmVhZCA9IHJlYWQ7XG59KShQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uIHx8IChQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uID0ge30pKTtcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi4vY3JkdE1lc3NhZ2VQcm90b2NvbCc7XG5pbXBvcnQgeyBDcmR0TWVzc2FnZVR5cGUsIENSRFRfTUVTU0FHRV9IRUFERVJfTEVOR1RIIH0gZnJvbSAnLi4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgRGVsZXRlQ29tcG9uZW50TmV0d29yaztcbihmdW5jdGlvbiAoRGVsZXRlQ29tcG9uZW50TmV0d29yaykge1xuICAgIERlbGV0ZUNvbXBvbmVudE5ldHdvcmsuTUVTU0FHRV9IRUFERVJfTEVOR1RIID0gMTY7XG4gICAgLyoqXG4gICAgICogV3JpdGUgRGVsZXRlQ29tcG9uZW50IG1lc3NhZ2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cml0ZShlbnRpdHksIGNvbXBvbmVudElkLCB0aW1lc3RhbXAsIG5ldHdvcmtJZCwgYnVmKSB7XG4gICAgICAgIC8vIHJlc2VydmUgdGhlIGJlZ2lubmluZ1xuICAgICAgICBjb25zdCBtZXNzYWdlTGVuZ3RoID0gQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggKyBEZWxldGVDb21wb25lbnROZXR3b3JrLk1FU1NBR0VfSEVBREVSX0xFTkdUSDtcbiAgICAgICAgY29uc3Qgc3RhcnRNZXNzYWdlT2Zmc2V0ID0gYnVmLmluY3JlbWVudFdyaXRlT2Zmc2V0KG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICAvLyBXcml0ZSBDcmR0TWVzc2FnZSBoZWFkZXJcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQsIG1lc3NhZ2VMZW5ndGgpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDQsIENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UX05FVFdPUkspO1xuICAgICAgICAvLyBXcml0ZSBDb21wb25lbnRPcGVyYXRpb24gaGVhZGVyXG4gICAgICAgIGJ1Zi5zZXRVaW50MzIoc3RhcnRNZXNzYWdlT2Zmc2V0ICsgOCwgZW50aXR5KTtcbiAgICAgICAgYnVmLnNldFVpbnQzMihzdGFydE1lc3NhZ2VPZmZzZXQgKyAxMiwgY29tcG9uZW50SWQpO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDE2LCB0aW1lc3RhbXApO1xuICAgICAgICBidWYuc2V0VWludDMyKHN0YXJ0TWVzc2FnZU9mZnNldCArIDIwLCBuZXR3b3JrSWQpO1xuICAgIH1cbiAgICBEZWxldGVDb21wb25lbnROZXR3b3JrLndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UX05FVFdPUkspIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVsZXRlQ29tcG9uZW50T3BlcmF0aW9uIHRyaWVkIHRvIHJlYWQgYW5vdGhlciBtZXNzYWdlIHR5cGUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmhlYWRlcixcbiAgICAgICAgICAgIGVudGl0eUlkOiBidWYucmVhZFVpbnQzMigpLFxuICAgICAgICAgICAgY29tcG9uZW50SWQ6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IGJ1Zi5yZWFkVWludDMyKCksXG4gICAgICAgICAgICBuZXR3b3JrSWQ6IGJ1Zi5yZWFkVWludDMyKClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRGVsZXRlQ29tcG9uZW50TmV0d29yay5yZWFkID0gcmVhZDtcbn0pKERlbGV0ZUNvbXBvbmVudE5ldHdvcmsgfHwgKERlbGV0ZUNvbXBvbmVudE5ldHdvcmsgPSB7fSkpO1xuIiwgImltcG9ydCB7IENyZHRNZXNzYWdlUHJvdG9jb2wgfSBmcm9tICcuLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSwgQ1JEVF9NRVNTQUdFX0hFQURFUl9MRU5HVEggfSBmcm9tICcuLi90eXBlcyc7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBEZWxldGVFbnRpdHlOZXR3b3JrO1xuKGZ1bmN0aW9uIChEZWxldGVFbnRpdHlOZXR3b3JrKSB7XG4gICAgRGVsZXRlRW50aXR5TmV0d29yay5NRVNTQUdFX0hFQURFUl9MRU5HVEggPSA4O1xuICAgIGZ1bmN0aW9uIHdyaXRlKGVudGl0eSwgbmV0d29ya0lkLCBidWYpIHtcbiAgICAgICAgLy8gV3JpdGUgQ3JkdE1lc3NhZ2UgaGVhZGVyXG4gICAgICAgIGJ1Zi53cml0ZVVpbnQzMihDUkRUX01FU1NBR0VfSEVBREVSX0xFTkdUSCArIDQpO1xuICAgICAgICBidWYud3JpdGVVaW50MzIoQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFlfTkVUV09SSyk7XG4gICAgICAgIC8vIGJvZHlcbiAgICAgICAgYnVmLndyaXRlVWludDMyKGVudGl0eSk7XG4gICAgICAgIGJ1Zi53cml0ZVVpbnQzMihuZXR3b3JrSWQpO1xuICAgIH1cbiAgICBEZWxldGVFbnRpdHlOZXR3b3JrLndyaXRlID0gd3JpdGU7XG4gICAgZnVuY3Rpb24gcmVhZChidWYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5yZWFkSGVhZGVyKGJ1Zik7XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVyLnR5cGUgIT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUkspIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGVsZXRlRW50aXR5TmV0d29yayB0cmllZCB0byByZWFkIGFub3RoZXIgbWVzc2FnZSB0eXBlLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5oZWFkZXIsXG4gICAgICAgICAgICBlbnRpdHlJZDogYnVmLnJlYWRVaW50MzIoKSxcbiAgICAgICAgICAgIG5ldHdvcmtJZDogYnVmLnJlYWRVaW50MzIoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBEZWxldGVFbnRpdHlOZXR3b3JrLnJlYWQgPSByZWFkO1xufSkoRGVsZXRlRW50aXR5TmV0d29yayB8fCAoRGVsZXRlRW50aXR5TmV0d29yayA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uLy4uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgUHV0Q29tcG9uZW50T3BlcmF0aW9uIH0gZnJvbSAnLi4vcHV0Q29tcG9uZW50JztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IERlbGV0ZUNvbXBvbmVudCB9IGZyb20gJy4uL2RlbGV0ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEZWxldGVFbnRpdHkgfSBmcm9tICcuLi9kZWxldGVFbnRpdHknO1xuaW1wb3J0IHsgUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbiB9IGZyb20gJy4vcHV0Q29tcG9uZW50TmV0d29yayc7XG5pbXBvcnQgeyBEZWxldGVDb21wb25lbnROZXR3b3JrIH0gZnJvbSAnLi9kZWxldGVDb21wb25lbnROZXR3b3JrJztcbmltcG9ydCB7IERlbGV0ZUVudGl0eU5ldHdvcmsgfSBmcm9tICcuL2RlbGV0ZUVudGl0eU5ldHdvcmsnO1xuaW1wb3J0IHsgVHJhbnNmb3JtU2NoZW1hIH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9tYW51YWwvVHJhbnNmb3JtJztcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gaXNOZXR3b3JrTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlRfTkVUV09SSyxcbiAgICAgICAgQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFlfTkVUV09SSyxcbiAgICAgICAgQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SS1xuICAgIF0uaW5jbHVkZXMobWVzc2FnZS50eXBlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gbmV0d29ya01lc3NhZ2VUb0xvY2FsKG1lc3NhZ2UsIGxvY2FsRW50aXR5SWQsIGJ1ZmZlciwgZGVzdGluYXRpb25CdWZmZXIpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSykge1xuICAgICAgICBQdXRDb21wb25lbnRPcGVyYXRpb24ud3JpdGUobG9jYWxFbnRpdHlJZCwgbWVzc2FnZS50aW1lc3RhbXAsIG1lc3NhZ2UuY29tcG9uZW50SWQsIG1lc3NhZ2UuZGF0YSwgYnVmZmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLKSB7XG4gICAgICAgIERlbGV0ZUNvbXBvbmVudC53cml0ZShsb2NhbEVudGl0eUlkLCBtZXNzYWdlLmNvbXBvbmVudElkLCBtZXNzYWdlLnRpbWVzdGFtcCwgYnVmZmVyKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWV9ORVRXT1JLKSB7XG4gICAgICAgIERlbGV0ZUVudGl0eS53cml0ZShsb2NhbEVudGl0eUlkLCBidWZmZXIpO1xuICAgIH1cbiAgICBkZXN0aW5hdGlvbkJ1ZmZlci53cml0ZUJ1ZmZlcihidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCkpLCBmYWxzZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY2FsTWVzc2FnZVRvTmV0d29yayhtZXNzYWdlLCBuZXR3b3JrLCBidWZmZXIsIGRlc3RpbmF0aW9uQnVmZmVyKSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpO1xuICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKSB7XG4gICAgICAgIFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24ud3JpdGUobmV0d29yay5lbnRpdHlJZCwgbWVzc2FnZS50aW1lc3RhbXAsIG1lc3NhZ2UuY29tcG9uZW50SWQsIG5ldHdvcmsubmV0d29ya0lkLCBtZXNzYWdlLmRhdGEsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpIHtcbiAgICAgICAgRGVsZXRlQ29tcG9uZW50TmV0d29yay53cml0ZShuZXR3b3JrLmVudGl0eUlkLCBtZXNzYWdlLmNvbXBvbmVudElkLCBtZXNzYWdlLnRpbWVzdGFtcCwgbmV0d29yay5uZXR3b3JrSWQsIGJ1ZmZlcik7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpIHtcbiAgICAgICAgRGVsZXRlRW50aXR5TmV0d29yay53cml0ZShuZXR3b3JrLmVudGl0eUlkLCBuZXR3b3JrLm5ldHdvcmtJZCwgYnVmZmVyKTtcbiAgICB9XG4gICAgZGVzdGluYXRpb25CdWZmZXIud3JpdGVCdWZmZXIoYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKSwgZmFsc2UpO1xufVxuY29uc3QgYnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5leHBvcnQgZnVuY3Rpb24gZml4VHJhbnNmb3JtUGFyZW50KG1lc3NhZ2UsIHRyYW5zZm9ybVZhbHVlLCBwYXJlbnQpIHtcbiAgICBidWZmZXIucmVzZXRCdWZmZXIoKTtcbiAgICBsZXQgdHJhbnNmb3JtID0gdHJhbnNmb3JtVmFsdWU7XG4gICAgaWYgKCF0cmFuc2Zvcm0gJiYgJ2RhdGEnIGluIG1lc3NhZ2UpIHtcbiAgICAgICAgdHJhbnNmb3JtID0gVHJhbnNmb3JtU2NoZW1hLmRlc2VyaWFsaXplKG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKG1lc3NhZ2UuZGF0YSkpO1xuICAgIH1cbiAgICBpZiAoIXRyYW5zZm9ybSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBhcmVudCB0cmFuc2Zvcm0nKTtcbiAgICAvLyBHZW5lcmF0ZSBuZXcgdHJhbnNmb3JtIHJhdyBkYXRhIHdpdGggdGhlIHBhcmVudFxuICAgIGNvbnN0IG5ld1RyYW5zZm9ybSA9IHsgLi4udHJhbnNmb3JtLCBwYXJlbnQgfTtcbiAgICBUcmFuc2Zvcm1TY2hlbWEuc2VyaWFsaXplKG5ld1RyYW5zZm9ybSwgYnVmZmVyKTtcbiAgICByZXR1cm4gYnVmZmVyLnRvQmluYXJ5KCk7XG59XG4iLCAiaW1wb3J0IHsgRW50aXR5U3RhdGUgfSBmcm9tICcuLi8uLi9lbmdpbmUvZW50aXR5JztcbmltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgQXBwZW5kVmFsdWVPcGVyYXRpb24sIENyZHRNZXNzYWdlUHJvdG9jb2wsIERlbGV0ZUNvbXBvbmVudE5ldHdvcmssIERlbGV0ZUVudGl0eU5ldHdvcmsgfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuaW1wb3J0IHsgRGVsZXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L2RlbGV0ZUNvbXBvbmVudCc7XG5pbXBvcnQgeyBEZWxldGVFbnRpdHkgfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQvZGVsZXRlRW50aXR5JztcbmltcG9ydCB7IFB1dENvbXBvbmVudE9wZXJhdGlvbiB9IGZyb20gJy4uLy4uL3NlcmlhbGl6YXRpb24vY3JkdC9wdXRDb21wb25lbnQnO1xuaW1wb3J0IHsgQ3JkdE1lc3NhZ2VUeXBlIH0gZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L3R5cGVzJztcbmltcG9ydCB7IFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24gfSBmcm9tICcuLi8uLi9zZXJpYWxpemF0aW9uL2NyZHQvbmV0d29yay9wdXRDb21wb25lbnROZXR3b3JrJztcbmltcG9ydCB7IE5ldHdvcmtFbnRpdHkgYXMgZGVmaW5lTmV0d29ya0VudGl0eSwgTmV0d29ya1BhcmVudCBhcyBkZWZpbmVOZXR3b3JrUGFyZW50LCBUcmFuc2Zvcm0gYXMgZGVmaW5lVHJhbnNmb3JtIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgKiBhcyBuZXR3b3JrVXRpbHMgZnJvbSAnLi4vLi4vc2VyaWFsaXphdGlvbi9jcmR0L25ldHdvcmsvdXRpbHMnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZHRTY2VuZVN5c3RlbShlbmdpbmUsIG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSkge1xuICAgIGNvbnN0IHRyYW5zcG9ydHMgPSBbXTtcbiAgICAvLyBDb21wb25lbnRzIHRoYXQgd2UgdXNlZCBvbiB0aGlzIHN5c3RlbVxuICAgIGNvbnN0IE5ldHdvcmtFbnRpdHkgPSBkZWZpbmVOZXR3b3JrRW50aXR5KGVuZ2luZSk7XG4gICAgY29uc3QgTmV0d29ya1BhcmVudCA9IGRlZmluZU5ldHdvcmtQYXJlbnQoZW5naW5lKTtcbiAgICBjb25zdCBUcmFuc2Zvcm0gPSBkZWZpbmVUcmFuc2Zvcm0oZW5naW5lKTtcbiAgICAvLyBNZXNzYWdlcyB0aGF0IHdlIHJlY2VpdmVkIGF0IHRyYW5zcG9ydC5vbk1lc3NhZ2Ugd2FpdGluZyB0byBiZSBwcm9jZXNzZWRcbiAgICBjb25zdCByZWNlaXZlZE1lc3NhZ2VzID0gW107XG4gICAgLy8gTWVzc2FnZXMgYWxyZWFkeSBwcm9jZXNzZWQgYnkgdGhlIGVuZ2luZSBidXQgdGhhdCB3ZSBuZWVkIHRvIGJyb2FkY2FzdCB0byBvdGhlciB0cmFuc3BvcnRzLlxuICAgIGNvbnN0IGJyb2FkY2FzdE1lc3NhZ2VzID0gW107XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNwb3J0SWQgdHJhbnBvcnQgaWQgdG8gaWRlbnRpeSBtZXNzYWdlc1xuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gdG8gcHJvY2VzcyByZWNlaXZlZCBtZXNzYWdlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcnNlQ2h1bmtNZXNzYWdlKHRyYW5zcG9ydElkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWNlaXZlcyBhIGNodW5rIG9mIGJpbmFyeSBtZXNzYWdlcyBhbmQgc3RvcmVzIGFsbCB0aGUgdmFsaWRcbiAgICAgICAgICogQ29tcG9uZW50IE9wZXJhdGlvbiBNZXNzYWdlcyBhdCBtZXNzYWdlcyBxdWV1ZVxuICAgICAgICAgKiBAcGFyYW0gY2h1bmtNZXNzYWdlIEEgY2h1bmsgb2YgYmluYXJ5IG1lc3NhZ2VzXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcGFyc2VDaHVua01lc3NhZ2UoY2h1bmtNZXNzYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcihjaHVua01lc3NhZ2UpO1xuICAgICAgICAgICAgbGV0IGhlYWRlcjtcbiAgICAgICAgICAgIHdoaWxlICgoaGVhZGVyID0gQ3JkdE1lc3NhZ2VQcm90b2NvbC5nZXRIZWFkZXIoYnVmZmVyKSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFJlYWRPZmZzZXQoKTtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBEZWxldGVDb21wb25lbnQucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlRfTkVUV09SSykge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gRGVsZXRlQ29tcG9uZW50TmV0d29yay5yZWFkKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gUHV0Q29tcG9uZW50T3BlcmF0aW9uLnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UX05FVFdPUkspIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24ucmVhZChidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IERlbGV0ZUVudGl0eS5yZWFkKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWV9ORVRXT1JLKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBEZWxldGVFbnRpdHlOZXR3b3JrLnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5BUFBFTkRfVkFMVUUpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IEFwcGVuZFZhbHVlT3BlcmF0aW9uLnJlYWQoYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVW5rbm93biBtZXNzYWdlLCB3ZSBza2lwIGl0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdW1lIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5pbmNyZW1lbnRSZWFkT2Zmc2V0KGhlYWRlci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICByZWNlaXZlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRSZWFkT2Zmc2V0KCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuZCBjbGVhciB0aGUgbWVzc2FlcyBxdWV1ZVxuICAgICAqIEByZXR1cm5zIG1lc3NhZ2VzIHJlY2lldmVkIGJ5IHRoZSB0cmFuc3BvcnQgdG8gcHJvY2VzcyBvbiB0aGUgbmV4dCB0aWNrXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWVzc2FnZXModmFsdWUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZXNUb1Byb2Nlc3MgPSB2YWx1ZS5zcGxpY2UoMCwgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2VzVG9Qcm9jZXNzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBsb2NhbCBlbnRpdHlJZCBhc3NvY2lhdGVkIHRvIHRoZSBuZXR3b3JrIGNvbXBvbmVudCBtZXNzYWdlLlxuICAgICAqIEl0J3MgYSBtYXBwaW5nIE5ldHdvcmsgLT4gdG8gTG9jYWxcbiAgICAgKiBJZiBpdCdzIG5vdCBhIG5ldHdvcmsgbWVzc2FnZSwgcmV0dXJuIHRoZSBlbnRpdHlJZCByZWNlaXZlZCBieSB0aGUgbWVzc2FnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmROZXR3b3JrSWQobXNnKSB7XG4gICAgICAgIGNvbnN0IGhhc05ldHdvcmtJZCA9ICduZXR3b3JrSWQnIGluIG1zZztcbiAgICAgICAgaWYgKGhhc05ldHdvcmtJZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50aXR5SWQsIG5ldHdvcmtdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoTmV0d29ya0VudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV0d29yay5uZXR3b3JrSWQgPT09IG1zZy5uZXR3b3JrSWQgJiYgbmV0d29yay5lbnRpdHlJZCA9PT0gbXNnLmVudGl0eUlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGVudGl0eUlkLCBuZXR3b3JrIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGVudGl0eUlkOiBtc2cuZW50aXR5SWQgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmbiB3aWxsIGJlIGNhbGxlZCBvbiBldmVyeSB0aWNrLlxuICAgICAqIFByb2Nlc3MgYWxsIHRoZSBtZXNzYWdlcyBxdWV1ZSByZWNlaXZlZCBieSB0aGUgdHJhbnNwb3J0XG4gICAgICovXG4gICAgYXN5bmMgZnVuY3Rpb24gcmVjZWl2ZU1lc3NhZ2VzKCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlc1RvUHJvY2VzcyA9IGdldE1lc3NhZ2VzKHJlY2VpdmVkTWVzc2FnZXMpO1xuICAgICAgICBjb25zdCBlbnRpdGllc1Nob3VsZEJlQ2xlYW5lZCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG1zZyBvZiBtZXNzYWdlc1RvUHJvY2Vzcykge1xuICAgICAgICAgICAgbGV0IHsgZW50aXR5SWQsIG5ldHdvcmsgfSA9IGZpbmROZXR3b3JrSWQobXNnKTtcbiAgICAgICAgICAgIC8vIFdlIHJlY2VpdmUgYSBuZXcgRW50aXR5LiBDcmVhdGUgdGhlIGxvY2FsRW50aXR5IGFuZCBtYXAgaXQgdG8gdGhlIE5ldHdvcmtFbnRpdHkgY29tcG9uZW50XG4gICAgICAgICAgICBpZiAobmV0d29ya1V0aWxzLmlzTmV0d29ya01lc3NhZ2UobXNnKSAmJiAhbmV0d29yaykge1xuICAgICAgICAgICAgICAgIGVudGl0eUlkID0gZW5naW5lLmFkZEVudGl0eSgpO1xuICAgICAgICAgICAgICAgIG5ldHdvcmsgPSB7IGVudGl0eUlkOiBtc2cuZW50aXR5SWQsIG5ldHdvcmtJZDogbXNnLm5ldHdvcmtJZCB9O1xuICAgICAgICAgICAgICAgIE5ldHdvcmtFbnRpdHkuY3JlYXRlT3JSZXBsYWNlKGVudGl0eUlkLCBuZXR3b3JrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtc2cudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkgfHwgbXNnLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUkspIHtcbiAgICAgICAgICAgICAgICBlbnRpdGllc1Nob3VsZEJlQ2xlYW5lZC5wdXNoKGVudGl0eUlkKTtcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlTdGF0ZSA9IGVuZ2luZS5lbnRpdHlDb250YWluZXIuZ2V0RW50aXR5U3RhdGUoZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgIC8vIFNraXAgdXBkYXRlcyBmcm9tIHJlbW92ZWQgZW50aXR5ZXNcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5U3RhdGUgPT09IEVudGl0eVN0YXRlLlJlbW92ZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIC8vIEVudGl0aWVzIHdpdGggdW5rbm93biBlbnRpdGllcyBzaG91bGQgdXBkYXRlIGl0cyBlbnRpdHkgc3RhdGVcbiAgICAgICAgICAgICAgICBpZiAoZW50aXR5U3RhdGUgPT09IEVudGl0eVN0YXRlLlVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgZW5naW5lLmVudGl0eUNvbnRhaW5lci51cGRhdGVVc2VkRW50aXR5KGVudGl0eUlkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbChtc2cuY29tcG9uZW50SWQpO1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobXNnLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuY29tcG9uZW50SWQgPT09IFRyYW5zZm9ybS5jb21wb25lbnRJZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya0VudGl0eS5oYXMoZW50aXR5SWQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrUGFyZW50LmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5kYXRhID0gbmV0d29ya1V0aWxzLmZpeFRyYW5zZm9ybVBhcmVudChtc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtjb25mbGljdE1lc3NhZ2UsIHZhbHVlXSA9IGNvbXBvbmVudC51cGRhdGVGcm9tQ3JkdCh7IC4uLm1zZywgZW50aXR5SWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29uZmxpY3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbWVzc2FnZSB0byB0cmFuc3BvcnQgcXVldWUgdG8gYmUgcHJvY2Vzc2VkIGJ5IG90aGVycyB0cmFuc3BvcnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBicm9hZGNhc3RNZXNzYWdlcy5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKGVudGl0eUlkLCBtc2cudHlwZSwgY29tcG9uZW50LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHRlc3QgdGhpcyBsaW5lLCBpdCBpcyBmdW5kYW1tZW50YWwgdG8gbWFrZSB0aGUgZWRpdG9yIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgYnJvYWRjYXN0TWVzc2FnZXMucHVzaChtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgbGFzdCBzdGFnZSBvZiB0aGUgc3luY3Job25pemF0aW9uIGlzIHRvIGRlbGV0ZSB0aGUgZW50aXRpZXNcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZW50aXRpZXNTaG91bGRCZUNsZWFuZWQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGVmaW5pdGlvbiBvZiBlbmdpbmUuY29tcG9uZW50c0l0ZXIoKSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IGNoZWNrIHRoaXMgd2l0aCBwYXRvL3ByYXZ1c1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb24uZW50aXR5RGVsZXRlZChlbnRpdHksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5naW5lLmVudGl0eUNvbnRhaW5lci51cGRhdGVSZW1vdmVkRW50aXR5KGVudGl0eSk7XG4gICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKGVudGl0eSwgQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIHRoZSBkaXJ0eSBtYXAgYW5kIGdlbmVyYXRlcyBjcmR0IG1lc3NhZ2VzIHRvIGJlIHNlbmRcbiAgICAgKi9cbiAgICBhc3luYyBmdW5jdGlvbiBzZW5kTWVzc2FnZXMoZW50aXRpZXNEZWxldGVkVGhpc1RpY2spIHtcbiAgICAgICAgLy8gQ1JEVCBNZXNzYWdlcyB3aWxsIGJlIHRoZSBtZXJnZSBiZXR3ZWVuIHRoZSByZWNpZXZlZCB0cmFuc3BvcnQgbWVzc2FnZXMgYW5kIHRoZSBuZXcgY3JkdCBtZXNzYWdlc1xuICAgICAgICBjb25zdCBjcmR0TWVzc2FnZXMgPSBnZXRNZXNzYWdlcyhicm9hZGNhc3RNZXNzYWdlcyk7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgIGZvciAoY29uc3QgY29tcG9uZW50IG9mIGVuZ2luZS5jb21wb25lbnRzSXRlcigpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgY29tcG9uZW50LmdldENyZHRVcGRhdGVzKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgY3JlYXRpbmcgbWVzc2FnZXMgaWYgdGhlcmUgaXMgbm8gdHJhbnNwb3J0IHRoYXQgd2lsbCBoYW5kbGUgaXRcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNwb3J0cy5zb21lKCh0KSA9PiB0LmZpbHRlcihtZXNzYWdlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi53cml0ZShtZXNzYWdlLmVudGl0eUlkLCBtZXNzYWdlLnRpbWVzdGFtcCwgbWVzc2FnZS5jb21wb25lbnRJZCwgbWVzc2FnZS5kYXRhLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERlbGV0ZUNvbXBvbmVudC53cml0ZShtZXNzYWdlLmVudGl0eUlkLCBjb21wb25lbnQuY29tcG9uZW50SWQsIG1lc3NhZ2UudGltZXN0YW1wLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQXBwZW5kVmFsdWVPcGVyYXRpb24ud3JpdGUobWVzc2FnZS5lbnRpdHlJZCwgbWVzc2FnZS50aW1lc3RhbXAsIG1lc3NhZ2UuY29tcG9uZW50SWQsIG1lc3NhZ2UuZGF0YSwgYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjcmR0TWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uUHJvY2Vzc0VudGl0eUNvbXBvbmVudENoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3VmFsdWUgPSBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UIHx8IG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gY29tcG9uZW50LmdldChtZXNzYWdlLmVudGl0eUlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKG1lc3NhZ2UuZW50aXR5SWQsIG1lc3NhZ2UudHlwZSwgY29tcG9uZW50LCByYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWZ0ZXIgYWxsIHVwZGF0ZXMsIEkgZXhlY3V0ZSB0aGUgRGVsZXRlZEVudGl0eSBtZXNzYWdlc1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIG9mIGVudGl0aWVzRGVsZXRlZFRoaXNUaWNrKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICBEZWxldGVFbnRpdHkud3JpdGUoZW50aXR5SWQsIGJ1ZmZlcik7XG4gICAgICAgICAgICBjcmR0TWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFksXG4gICAgICAgICAgICAgICAgZW50aXR5SWQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlcjogYnVmZmVyLmJ1ZmZlcigpLnN1YmFycmF5KG9mZnNldCwgYnVmZmVyLmN1cnJlbnRXcml0ZU9mZnNldCgpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvblByb2Nlc3NFbnRpdHlDb21wb25lbnRDaGFuZ2UgJiYgb25Qcm9jZXNzRW50aXR5Q29tcG9uZW50Q2hhbmdlKGVudGl0eUlkLCBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2VuZCBDUkRUIG1lc3NhZ2VzIHRvIHRyYW5zcG9ydHNcbiAgICAgICAgY29uc3QgdHJhbnNwb3J0QnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBpbmRleCBpbiB0cmFuc3BvcnRzKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnRJbmRleCA9IE51bWJlcihpbmRleCk7XG4gICAgICAgICAgICBjb25zdCB0cmFuc3BvcnQgPSB0cmFuc3BvcnRzW3RyYW5zcG9ydEluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGlzUmVuZGVyZXJUcmFuc3BvcnQgPSB0cmFuc3BvcnQudHlwZSA9PT0gJ3JlbmRlcmVyJztcbiAgICAgICAgICAgIGNvbnN0IGlzTmV0d29ya1RyYW5zcG9ydCA9IHRyYW5zcG9ydC50eXBlID09PSAnbmV0d29yayc7XG4gICAgICAgICAgICB0cmFuc3BvcnRCdWZmZXIucmVzZXRCdWZmZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAvLyBUaGVuIHdlIHNlbmQgYWxsIHRoZSBuZXcgY3JkdE1lc3NhZ2VzIHRoYXQgdGhlIHRyYW5zcG9ydCBuZWVkcyB0byBwcm9jZXNzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgY3JkdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgZWNobyBtZXNzYWdlc1xuICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnRyYW5zcG9ydElkID09PSB0cmFuc3BvcnRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gUmVkdW5kYW50IG1lc3NhZ2UgZm9yIHRoZSB0cmFuc3BvcnRcbiAgICAgICAgICAgICAgICBpZiAoIXRyYW5zcG9ydC5maWx0ZXIobWVzc2FnZSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZW50aXR5SWQgfSA9IGZpbmROZXR3b3JrSWQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtTmVlZHNGaXggPSAnY29tcG9uZW50SWQnIGluIG1lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21wb25lbnRJZCA9PT0gVHJhbnNmb3JtLmNvbXBvbmVudElkICYmXG4gICAgICAgICAgICAgICAgICAgIFRyYW5zZm9ybS5oYXMoZW50aXR5SWQpICYmXG4gICAgICAgICAgICAgICAgICAgIE5ldHdvcmtQYXJlbnQuaGFzKGVudGl0eUlkKSAmJlxuICAgICAgICAgICAgICAgICAgICBOZXR3b3JrRW50aXR5LmhhcyhlbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIGEgTE9DQUwgY2hhbmdlIGluIHRoZSB0cmFuc2Zvcm0uIEFkZCB0aGUgcGFyZW50IHRvIHRoYXQgdHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgaWYgKGlzUmVuZGVyZXJUcmFuc3BvcnQgJiYgbWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVCAmJiB0cmFuc2Zvcm1OZWVkc0ZpeCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBmaW5kTmV0d29ya0lkKE5ldHdvcmtQYXJlbnQuZ2V0KGVudGl0eUlkKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybURhdGEgPSBuZXR3b3JrVXRpbHMuZml4VHJhbnNmb3JtUGFyZW50KG1lc3NhZ2UsIFRyYW5zZm9ybS5nZXQoZW50aXR5SWQpLCBwYXJlbnQuZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIFB1dENvbXBvbmVudE9wZXJhdGlvbi53cml0ZShlbnRpdHlJZCwgbWVzc2FnZS50aW1lc3RhbXAsIG1lc3NhZ2UuY29tcG9uZW50SWQsIHRyYW5zZm9ybURhdGEsIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zcG9ydEJ1ZmZlci53cml0ZUJ1ZmZlcihidWZmZXIuYnVmZmVyKCkuc3ViYXJyYXkob2Zmc2V0LCBidWZmZXIuY3VycmVudFdyaXRlT2Zmc2V0KCkpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNSZW5kZXJlclRyYW5zcG9ydCAmJiBuZXR3b3JrVXRpbHMuaXNOZXR3b3JrTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIHRoZSByZW5kZXJlciB0cmFuc3BvcnQgYW5kIGl0cyBhIE5ldHdvcmtNZXNzYWdlLCB3ZSBuZWVkIHRvIGZpeCB0aGUgZW50aXR5SWQgZmllbGQgYW5kIGNvbnZlcnQgaXQgdG8gYSBrbm93biBNZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAvLyBQVVRfTkVUV09SS19DT01QT05FTlQgLT4gUFVUX0NPTVBPTkVOVFxuICAgICAgICAgICAgICAgICAgICBsZXQgdHJhbnNmb3JtRGF0YSA9ICdkYXRhJyBpbiBtZXNzYWdlID8gbWVzc2FnZS5kYXRhIDogbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybU5lZWRzRml4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBmaW5kTmV0d29ya0lkKE5ldHdvcmtQYXJlbnQuZ2V0KGVudGl0eUlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1EYXRhID0gbmV0d29ya1V0aWxzLmZpeFRyYW5zZm9ybVBhcmVudChtZXNzYWdlLCBUcmFuc2Zvcm0uZ2V0KGVudGl0eUlkKSwgcGFyZW50LmVudGl0eUlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrVXRpbHMubmV0d29ya01lc3NhZ2VUb0xvY2FsKHsgLi4ubWVzc2FnZSwgZGF0YTogdHJhbnNmb3JtRGF0YSB9LCBlbnRpdHlJZCwgYnVmZmVyLCB0cmFuc3BvcnRCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRoZSBuZXh0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIGl0cyBhIG5ldHdvcmsgdHJhbnNwb3J0IGFuZCBpdHMgYSBQVVRfQ09NUE9ORU5UIHRoYXQgaGFzIGEgTmV0d29ya0VudGl0eSBjb21wb25lbnQsIHdlIG5lZWQgdG8gc2VuZCB0aGlzIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGNvbW1zIHdpdGggdGhlIEVudGl0eUlEIGFuZCBOZXR3b3JrSUQgZnJvbSB0aGVyIE5ldHdvcmtFbnRpdHkgc28gZXZlcnlvbmUgY2FuIHJlY2lldmUgdGhpcyBtZXNzYWdlIGFuZCBtYXAgdG8gdGhlaXIgY3VzdG9tIGVudGl0eUlELlxuICAgICAgICAgICAgICAgIGlmIChpc05ldHdvcmtUcmFuc3BvcnQgJiYgIW5ldHdvcmtVdGlscy5pc05ldHdvcmtNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ldHdvcmtEYXRhID0gTmV0d29ya0VudGl0eS5nZXRPck51bGwobWVzc2FnZS5lbnRpdHlJZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGl0IGhhcyBuZXR3b3JrRGF0YSBjb252ZXJ0IHRoZSBtZXNzYWdlIHRvIFBVVF9ORVRXT1JLX0NPTVBPTkVOVC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldHdvcmtEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrVXRpbHMubG9jYWxNZXNzYWdlVG9OZXR3b3JrKG1lc3NhZ2UsIG5ldHdvcmtEYXRhLCBidWZmZXIsIHRyYW5zcG9ydEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRoZSBuZXh0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENvbW1vbiBtZXNzYWdlXG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0QnVmZmVyLndyaXRlQnVmZmVyKG1lc3NhZ2UubWVzc2FnZUJ1ZmZlciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRyYW5zcG9ydEJ1ZmZlci5jdXJyZW50V3JpdGVPZmZzZXQoKSA/IHRyYW5zcG9ydEJ1ZmZlci50b0JpbmFyeSgpIDogbmV3IFVpbnQ4QXJyYXkoW10pO1xuICAgICAgICAgICAgYXdhaXQgdHJhbnNwb3J0LnNlbmQobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEFkZCBhIHRyYW5zcG9ydCB0byB0aGUgY3JkdCBzeXN0ZW1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUcmFuc3BvcnQodHJhbnNwb3J0KSB7XG4gICAgICAgIGNvbnN0IGlkID0gdHJhbnNwb3J0cy5wdXNoKHRyYW5zcG9ydCkgLSAxO1xuICAgICAgICB0cmFuc3BvcnQub25tZXNzYWdlID0gcGFyc2VDaHVua01lc3NhZ2UoaWQpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZW5kTWVzc2FnZXMsXG4gICAgICAgIHJlY2VpdmVNZXNzYWdlcyxcbiAgICAgICAgYWRkVHJhbnNwb3J0XG4gICAgfTtcbn1cbiIsICJleHBvcnQgdmFyIENyZHRVdGlscztcbihmdW5jdGlvbiAoQ3JkdFV0aWxzKSB7XG4gICAgbGV0IFN5bmNocm9uaXplZEVudGl0eVR5cGU7XG4gICAgKGZ1bmN0aW9uIChTeW5jaHJvbml6ZWRFbnRpdHlUeXBlKSB7XG4gICAgICAgIC8vIHN5bmNocm9uaXplcyBlbnRpdGllcyB3aXRoIHRoZSBOZXR3b3JrU3luY2hyb25pemVkIGNvbXBvbmVudCBvbmx5LCB1c2VkIGZvciBuZXR3b3JrZWQgZ2FtZXNcbiAgICAgICAgU3luY2hyb25pemVkRW50aXR5VHlwZVtTeW5jaHJvbml6ZWRFbnRpdHlUeXBlW1wiTkVUV09SS0VEXCJdID0gMF0gPSBcIk5FVFdPUktFRFwiO1xuICAgICAgICAvLyBzeW5jaHJvbml6ZXMgZW50aXRpZXMgbmVlZGVkIGJ5IHRoZSByZW5kZXJlclxuICAgICAgICBTeW5jaHJvbml6ZWRFbnRpdHlUeXBlW1N5bmNocm9uaXplZEVudGl0eVR5cGVbXCJSRU5ERVJFUlwiXSA9IDFdID0gXCJSRU5ERVJFUlwiO1xuICAgIH0pKFN5bmNocm9uaXplZEVudGl0eVR5cGUgPSBDcmR0VXRpbHMuU3luY2hyb25pemVkRW50aXR5VHlwZSB8fCAoQ3JkdFV0aWxzLlN5bmNocm9uaXplZEVudGl0eVR5cGUgPSB7fSkpO1xufSkoQ3JkdFV0aWxzIHx8IChDcmR0VXRpbHMgPSB7fSkpO1xuZXhwb3J0IGRlZmF1bHQgQ3JkdFV0aWxzO1xuLyoqXG4gKiBDb21wYXJlIHJhdyBkYXRhLlxuICogQHB1YmxpY1xuICogQHJldHVybnMgMCBpZiBpcyB0aGUgc2FtZSBkYXRhLCAxIGlmIGEgPiBiLCAtMSBpZiBiID4gYVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGF0YUNvbXBhcmUoYSwgYikge1xuICAgIC8vIEF0IHJlZmVyZW5jZSBsZXZlbFxuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gMDtcbiAgICBpZiAoYSA9PT0gbnVsbCAmJiBiICE9PSBudWxsKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGEgIT09IG51bGwgJiYgYiA9PT0gbnVsbClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBVaW50OEFycmF5ICYmIGIgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIGNvbnN0IGxlbmd0aERpZmZlcmVuY2UgPSBhLmJ5dGVMZW5ndGggLSBiLmJ5dGVMZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGhEaWZmZXJlbmNlICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoRGlmZmVyZW5jZSA+IDAgPyAxIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIG4gPSBhLmJ5dGVMZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHJlcyA9IGFbaV0gLSBiW2ldO1xuICAgICAgICAgICAgaWYgKHJlcyAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMgPiAwID8gMSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBkYXRhIGlzIGV4YWN0bHkgdGhlIHNhbWVcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgbGVuZ3RoRGlmZmVyZW5jZSA9IGEubGVuZ3RoIC0gYi5sZW5ndGg7XG4gICAgICAgIGlmIChsZW5ndGhEaWZmZXJlbmNlICE9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVuZ3RoRGlmZmVyZW5jZSA+IDAgPyAxIDogLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiKTtcbiAgICB9XG4gICAgcmV0dXJuIGEgPiBiID8gMSA6IC0xO1xufVxuIiwgIi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwUmVhZG9ubHkodmFsKSB7XG4gICAgcmV0dXJuIE9iamVjdC5mcmVlemUoeyAuLi52YWwgfSk7XG59XG4iLCAiaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUsIENyZHRNZXNzYWdlVHlwZSwgUHV0Q29tcG9uZW50T3BlcmF0aW9uLCBEZWxldGVDb21wb25lbnQgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL2NyZHQnO1xuaW1wb3J0IHsgZGF0YUNvbXBhcmUgfSBmcm9tICcuLi9zeXN0ZW1zL2NyZHQvdXRpbHMnO1xuaW1wb3J0IHsgZGVlcFJlYWRvbmx5IH0gZnJvbSAnLi9yZWFkb25seSc7XG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50VGltZXN0YW1wKGVudGl0eSwgdGltZXN0YW1wcykge1xuICAgIGNvbnN0IG5ld1RpbWVzdGFtcCA9ICh0aW1lc3RhbXBzLmdldChlbnRpdHkpIHx8IDApICsgMTtcbiAgICB0aW1lc3RhbXBzLnNldChlbnRpdHksIG5ld1RpbWVzdGFtcCk7XG4gICAgcmV0dXJuIG5ld1RpbWVzdGFtcDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEdW1wTHd3RnVuY3Rpb25Gcm9tQ3JkdChjb21wb25lbnRJZCwgdGltZXN0YW1wcywgc2NoZW1hLCBkYXRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGR1bXBDcmR0U3RhdGUoYnVmZmVyLCBmaWx0ZXJFbnRpdHkpIHtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCB0aW1lc3RhbXBdIG9mIHRpbWVzdGFtcHMpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKGZpbHRlckVudGl0eSkge1xuICAgICAgICAgICAgICAgIC8vIEkgc3dlYXIgdGhhdCB0aGlzIGlzIGJlaW5nIHRlc3RlZCBvbiBzdGF0ZS10by1jcmR0LnNwZWMgYnV0IGplc3QgaXMgdHJvbGxpbmcgbWVcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGlmICghZmlsdGVyRW50aXR5KGVudGl0eSkpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChkYXRhLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShpdCwgYnVmKTtcbiAgICAgICAgICAgICAgICBQdXRDb21wb25lbnRPcGVyYXRpb24ud3JpdGUoZW50aXR5LCB0aW1lc3RhbXAsIGNvbXBvbmVudElkLCBidWYudG9CaW5hcnkoKSwgYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIERlbGV0ZUNvbXBvbmVudC53cml0ZShlbnRpdHksIGNvbXBvbmVudElkLCB0aW1lc3RhbXAsIGJ1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZUx3d0Zyb21DcmR0KGNvbXBvbmVudElkLCB0aW1lc3RhbXBzLCBzY2hlbWEsIGRhdGEpIHtcbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSByZWNlaXZlZCBtZXNzYWdlIG9ubHkgaWYgdGhlIGxhbXBvcnQgbnVtYmVyIHJlY2lldmVkIGlzIGhpZ2hlclxuICAgICAqIHRoYW4gdGhlIHN0b3JlZCBvbmUuIElmIGl0cyBsb3dlciwgd2Ugc3ByZWFkIGl0IHRvIHRoZSBuZXR3b3JrIHRvIGNvcnJlY3QgdGhlIHBlZXIuXG4gICAgICogSWYgdGhleSBhcmUgZXF1YWwsIHRoZSBiaWdnZXIgcmF3IGRhdGEgd2lucy5cbiAgXG4gICAgICAqIFJldHVybnMgdGhlIHJlY2lldmVkIGRhdGEgaWYgdGhlIGxhbXBvcnQgbnVtYmVyIHdhcyBiaWdnZXIgdGhhbiBvdXJzLlxuICAgICAgKiBJZiBpdCB3YXMgYW4gb3V0ZGF0ZWQgbWVzc2FnZSwgdGhlbiB3ZSByZXR1cm4gdm9pZFxuICAgICAgKiBAcHVibGljXG4gICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZHRSdWxlRm9yQ3VycmVudFN0YXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgeyBlbnRpdHlJZCwgdGltZXN0YW1wIH0gPSBtZXNzYWdlO1xuICAgICAgICBjb25zdCBjdXJyZW50VGltZXN0YW1wID0gdGltZXN0YW1wcy5nZXQoZW50aXR5SWQpO1xuICAgICAgICAvLyBUaGUgcmVjZWl2ZWQgbWVzc2FnZSBpcyA+IHRoYW4gb3VyIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZSBvdXIgc3RhdGUuY29tcG9uZW50cy5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lc3RhbXAgPT09IHVuZGVmaW5lZCB8fCBjdXJyZW50VGltZXN0YW1wIDwgdGltZXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlVXBkYXRlZFRpbWVzdGFtcDtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdXRkYXRlZCBNZXNzYWdlLiBSZXNlbmQgb3VyIHN0YXRlIG1lc3NhZ2UgdGhyb3VnaCB0aGUgd2lyZS5cbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lc3RhbXAgPiB0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCcyJywgY3VycmVudFRpbWVzdGFtcCwgdGltZXN0YW1wKVxuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZU91dGRhdGVkVGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgICAgIC8vIERlbGV0ZXMgYXJlIGlkZW1wb3RlbnRcbiAgICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQgJiYgIWRhdGEuaGFzKGVudGl0eUlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5Ob0NoYW5nZXM7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGN1cnJlbnREYXRhR3JlYXRlciA9IDA7XG4gICAgICAgIGlmIChkYXRhLmhhcyhlbnRpdHlJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHdyaXRlQnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoZGF0YS5nZXQoZW50aXR5SWQpLCB3cml0ZUJ1ZmZlcik7XG4gICAgICAgICAgICBjdXJyZW50RGF0YUdyZWF0ZXIgPSBkYXRhQ29tcGFyZSh3cml0ZUJ1ZmZlci50b0JpbmFyeSgpLCBtZXNzYWdlLmRhdGEgfHwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RGF0YUdyZWF0ZXIgPSBkYXRhQ29tcGFyZShudWxsLCBtZXNzYWdlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhbWUgZGF0YSwgc2FtZSB0aW1lc3RhbXAuIFdlaXJkbyBlY2hvIG1lc3NhZ2UuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCczJywgY3VycmVudERhdGFHcmVhdGVyLCB3cml0ZUJ1ZmZlci50b0JpbmFyeSgpLCAobWVzc2FnZSBhcyBhbnkpLmRhdGEgfHwgbnVsbClcbiAgICAgICAgaWYgKGN1cnJlbnREYXRhR3JlYXRlciA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5Ob0NoYW5nZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudERhdGFHcmVhdGVyID4gMCkge1xuICAgICAgICAgICAgLy8gQ3VycmVudCBkYXRhIGlzIGdyZWF0ZXJcbiAgICAgICAgICAgIHJldHVybiBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVPdXRkYXRlZERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBDdXJlbnQgZGF0YSBpcyBsb3dlclxuICAgICAgICAgICAgcmV0dXJuIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZVVwZGF0ZWREYXRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAobXNnKSA9PiB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChtc2cudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQgJiZcbiAgICAgICAgICAgIG1zZy50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuUFVUX0NPTVBPTkVOVF9ORVRXT1JLICYmXG4gICAgICAgICAgICBtc2cudHlwZSAhPT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9DT01QT05FTlQgJiZcbiAgICAgICAgICAgIG1zZy50eXBlICE9PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLKVxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgZGF0YS5nZXQobXNnLmVudGl0eUlkKV07XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGNyZHRSdWxlRm9yQ3VycmVudFN0YXRlKG1zZyk7XG4gICAgICAgIGNvbnN0IGVudGl0eSA9IG1zZy5lbnRpdHlJZDtcbiAgICAgICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhc2UgUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlLlN0YXRlVXBkYXRlZERhdGE6XG4gICAgICAgICAgICBjYXNlIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZVVwZGF0ZWRUaW1lc3RhbXA6IHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBzLnNldChlbnRpdHksIG1zZy50aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIGlmIChtc2cudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQgfHwgbXNnLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UX05FVFdPUkspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIobXNnLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHNjaGVtYS5kZXNlcmlhbGl6ZShidWYpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbbnVsbCwgZGF0YS5nZXQoZW50aXR5KV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFByb2Nlc3NNZXNzYWdlUmVzdWx0VHlwZS5TdGF0ZU91dGRhdGVkVGltZXN0YW1wOlxuICAgICAgICAgICAgY2FzZSBQcm9jZXNzTWVzc2FnZVJlc3VsdFR5cGUuU3RhdGVPdXRkYXRlZERhdGE6IHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3cml0ZUJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoZGF0YS5nZXQoZW50aXR5KSwgd3JpdGVCdWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHdyaXRlQnVmZmVyLnRvQmluYXJ5KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQ6IGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcHMuZ2V0KGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmdldChlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5ULFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXBzLmdldChlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbbnVsbCwgZGF0YS5nZXQoZW50aXR5KV07XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHZXRDcmR0TWVzc2FnZXNGb3JMd3coY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIGRpcnR5SXRlcmF0b3IsIHNjaGVtYSwgZGF0YSkge1xuICAgIHJldHVybiBmdW5jdGlvbiogKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBkaXJ0eUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdUaW1lc3RhbXAgPSBpbmNyZW1lbnRUaW1lc3RhbXAoZW50aXR5LCB0aW1lc3RhbXBzKTtcbiAgICAgICAgICAgIGlmIChkYXRhLmhhcyhlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JpdGVCdWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUoZGF0YS5nZXQoZW50aXR5KSwgd3JpdGVCdWZmZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1zZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudElkLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB3cml0ZUJ1ZmZlci50b0JpbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ld1RpbWVzdGFtcFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgeWllbGQgbXNnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCxcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eUlkOiBlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3VGltZXN0YW1wXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB5aWVsZCBtc2c7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZGlydHlJdGVyYXRvci5jbGVhcigpO1xuICAgIH07XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSkge1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGlydHlJdGVyYXRvciA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IG9uQ2hhbmdlQ2FsbGJhY2tzID0gbmV3IE1hcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldCBjb21wb25lbnRJZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNvbXBvbmVudE5hbWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNvbXBvbmVudFR5cGUoKSB7XG4gICAgICAgICAgICAvLyBhIGdldHRlciBpcyB1c2VkIGhlcmUgdG8gcHJldmVudCBhY2NpZGVudGFsIGNoYW5nZXNcbiAgICAgICAgICAgIHJldHVybiAwIC8qIENvbXBvbmVudFR5cGUuTGFzdFdyaXRlV2luRWxlbWVudFNldCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBoYXMoZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5oYXMoZW50aXR5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsZXRlRnJvbShlbnRpdHksIG1hcmtBc0RpcnR5ID0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbGV0ZShlbnRpdHkpICYmIG1hcmtBc0RpcnR5KSB7XG4gICAgICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgfHwgbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW50aXR5RGVsZXRlZChlbnRpdHksIG1hcmtBc0RpcnR5KSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5kZWxldGUoZW50aXR5KSAmJiBtYXJrQXNEaXJ0eSkge1xuICAgICAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9yTnVsbChlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50ID8gZGVlcFJlYWRvbmx5KGNvbXBvbmVudCkgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBnZXQoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFtnZXRGcm9tXSBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBmb3IgZW50aXR5ICMke2VudGl0eX0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVlcFJlYWRvbmx5KGNvbXBvbmVudCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZShlbnRpdHksIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgW2NyZWF0ZV0gQ29tcG9uZW50ICR7Y29tcG9uZW50TmFtZX0gZm9yICR7ZW50aXR5fSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlZFZhbHVlID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHNjaGVtYS5jcmVhdGUoKSA6IHNjaGVtYS5leHRlbmQgPyBzY2hlbWEuZXh0ZW5kKHZhbHVlKSA6IHZhbHVlO1xuICAgICAgICAgICAgZGF0YS5zZXQoZW50aXR5LCB1c2VkVmFsdWUpO1xuICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiB1c2VkVmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VkVmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gc2NoZW1hLmNyZWF0ZSgpIDogc2NoZW1hLmV4dGVuZCA/IHNjaGVtYS5leHRlbmQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgICAgICBkYXRhLnNldChlbnRpdHksIHVzZWRWYWx1ZSk7XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgcmV0dXJuIHVzZWRWYWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlydHlJdGVyYXRvci5hZGQoZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9yQ3JlYXRlTXV0YWJsZShlbnRpdHksIHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoZW50aXR5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldE11dGFibGUoZW50aXR5KSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldE11dGFibGVPck51bGwoZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFttdXRhYmxlXSBDb21wb25lbnQgJHtjb21wb25lbnROYW1lfSBmb3IgJHtlbnRpdHl9IG5vdCBmb3VuZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgKml0ZXJhdG9yKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBjb21wb25lbnRdIG9mIGRhdGEpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBbZW50aXR5LCBjb21wb25lbnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAqZGlydHlJdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRpcnR5SXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBlbnRpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldENyZHRVcGRhdGVzOiBjcmVhdGVHZXRDcmR0TWVzc2FnZXNGb3JMd3coY29tcG9uZW50SWQsIHRpbWVzdGFtcHMsIGRpcnR5SXRlcmF0b3IsIHNjaGVtYSwgZGF0YSksXG4gICAgICAgIHVwZGF0ZUZyb21DcmR0OiBjcmVhdGVVcGRhdGVMd3dGcm9tQ3JkdChjb21wb25lbnRJZCwgdGltZXN0YW1wcywgc2NoZW1hLCBkYXRhKSxcbiAgICAgICAgZHVtcENyZHRTdGF0ZVRvQnVmZmVyOiBjcmVhdGVEdW1wTHd3RnVuY3Rpb25Gcm9tQ3JkdChjb21wb25lbnRJZCwgdGltZXN0YW1wcywgc2NoZW1hLCBkYXRhKSxcbiAgICAgICAgb25DaGFuZ2UoZW50aXR5LCBjYikge1xuICAgICAgICAgICAgY29uc3QgY2JzID0gb25DaGFuZ2VDYWxsYmFja3MuZ2V0KGVudGl0eSkgPz8gW107XG4gICAgICAgICAgICBjYnMucHVzaChjYik7XG4gICAgICAgICAgICBvbkNoYW5nZUNhbGxiYWNrcy5zZXQoZW50aXR5LCBjYnMpO1xuICAgICAgICB9LFxuICAgICAgICBfX29uQ2hhbmdlQ2FsbGJhY2tzKGVudGl0eSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNicyA9IG9uQ2hhbmdlQ2FsbGJhY2tzLmdldChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKCFjYnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjYiBvZiBjYnMpIHtcbiAgICAgICAgICAgICAgICBjYih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImV4cG9ydCBjb25zdCBTWVNURU1TX1JFR1VMQVJfUFJJT1JJVFkgPSAxMDBlMztcbmV4cG9ydCBmdW5jdGlvbiBTeXN0ZW1Db250YWluZXIoKSB7XG4gICAgY29uc3Qgc3lzdGVtcyA9IFtdO1xuICAgIGZ1bmN0aW9uIHNvcnQoKSB7XG4gICAgICAgIC8vIFRPRE86IHN5c3RlbXMgd2l0aCB0aGUgc2FtZSBwcmlvcml0eSBzaG91bGQgYWx3YXlzIGhhdmUgdGhlIHNhbWUgc3RhYmxlIG9yZGVyXG4gICAgICAgIC8vICAgICAgIGFkZCBhIFwiY291bnRlclwiIHRvIHRoZSBTeXN0ZW0gdHlwZSB0byBlbnN1cmUgdGhhdCBvcmRlclxuICAgICAgICBzeXN0ZW1zLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkKGZuLCBwcmlvcml0eSwgbmFtZSkge1xuICAgICAgICBjb25zdCBzeXN0ZW1OYW1lID0gbmFtZSA/PyBmbi5uYW1lO1xuICAgICAgICBpZiAoc3lzdGVtcy5maW5kKChpdGVtKSA9PiBpdGVtLmZuID09PSBmbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU3lzdGVtICR7SlNPTi5zdHJpbmdpZnkoc3lzdGVtTmFtZSl9IGFscmVhZHkgYWRkZWQgdG8gdGhlIGVuZ2luZWApO1xuICAgICAgICB9XG4gICAgICAgIHN5c3RlbXMucHVzaCh7XG4gICAgICAgICAgICBmbixcbiAgICAgICAgICAgIHByaW9yaXR5LFxuICAgICAgICAgICAgbmFtZTogc3lzdGVtTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogcmVwbGFjZSB0aGlzIHNvcnQgYnkgYW4gaW5zZXJ0aW9uIGluIHRoZSByaWdodCBwbGFjZVxuICAgICAgICBzb3J0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZShzZWxlY3Rvcikge1xuICAgICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RvciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGluZGV4ID0gc3lzdGVtcy5maW5kSW5kZXgoKGl0ZW0pID0+IGl0ZW0ubmFtZSA9PT0gc2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggPSBzeXN0ZW1zLmZpbmRJbmRleCgoaXRlbSkgPT4gaXRlbS5mbiA9PT0gc2VsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBzeXN0ZW1zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIHNvcnQoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFkZCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBnZXRTeXN0ZW1zKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5c3RlbXM7XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwgImltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICcuLi9zZXJpYWxpemF0aW9uL0J5dGVCdWZmZXInO1xuaW1wb3J0IHsgQXBwZW5kVmFsdWVPcGVyYXRpb24sIENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5pbXBvcnQgeyBfX0RFVl9fIH0gZnJvbSAnLi4vcnVudGltZS9pbnZhcmlhbnQnO1xuY29uc3QgZW1wdHlSZWFkb25seVNldCA9IGZyZWV6ZVNldChuZXcgU2V0KCkpO1xuZnVuY3Rpb24gZnJvemVuRXJyb3IoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc2V0IGlzIGZyb3plbicpO1xufVxuZnVuY3Rpb24gZnJlZXplU2V0KHNldCkge1xuICAgIDtcbiAgICBzZXQuYWRkID0gZnJvemVuRXJyb3I7XG4gICAgc2V0LmNsZWFyID0gZnJvemVuRXJyb3I7XG4gICAgcmV0dXJuIHNldDtcbn1cbmZ1bmN0aW9uIHNvcnRCeVRpbWVzdGFtcChhLCBiKSB7XG4gICAgcmV0dXJuIGEudGltZXN0YW1wID4gYi50aW1lc3RhbXAgPyAxIDogLTE7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVmFsdWVTZXRDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBjb21wb25lbnRJZCwgc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZGF0YSA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBkaXJ0eUl0ZXJhdG9yID0gbmV3IFNldCgpO1xuICAgIGNvbnN0IHF1ZXVlZENvbW1hbmRzID0gW107XG4gICAgY29uc3Qgb25DaGFuZ2VDYWxsYmFja3MgPSBuZXcgTWFwKCk7XG4gICAgLy8gb25seSBzb3J0IHRoZSBhcnJheSBpZiB0aGUgbGF0ZXN0IChOKSBlbGVtZW50IGhhcyBhIHRpbWVzdGFtcCA8PSBOLTFcbiAgICBmdW5jdGlvbiBzaG91bGRTb3J0KHJvdykge1xuICAgICAgICBjb25zdCBsZW4gPSByb3cucmF3Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA+IDEgJiYgcm93LnJhd1tsZW4gLSAxXS50aW1lc3RhbXAgPD0gcm93LnJhd1tsZW4gLSAyXS50aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ290VXBkYXRlZChlbnRpdHkpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gZGF0YS5nZXQoZW50aXR5KTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgICAgaWYgKHNob3VsZFNvcnQocm93KSkge1xuICAgICAgICAgICAgICAgIHJvdy5yYXcuc29ydChzb3J0QnlUaW1lc3RhbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHJvdy5yYXcubGVuZ3RoID4gb3B0aW9ucy5tYXhFbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHJvdy5yYXcuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZyb3plblNldCA9IGZyZWV6ZVNldChuZXcgU2V0KHJvdz8ucmF3Lm1hcCgoJCkgPT4gJC52YWx1ZSkpKTtcbiAgICAgICAgICAgIHJvdy5mcm96ZW5TZXQgPSBmcm96ZW5TZXQ7XG4gICAgICAgICAgICByZXR1cm4gZnJvemVuU2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiBlbXB0eVJlYWRvbmx5U2V0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFwcGVuZChlbnRpdHksIHZhbHVlKSB7XG4gICAgICAgIGxldCByb3cgPSBkYXRhLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoIXJvdykge1xuICAgICAgICAgICAgcm93ID0geyByYXc6IFtdLCBmcm96ZW5TZXQ6IGVtcHR5UmVhZG9ubHlTZXQgfTtcbiAgICAgICAgICAgIGRhdGEuc2V0KGVudGl0eSwgcm93KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VkVmFsdWUgPSBzY2hlbWEuZXh0ZW5kID8gc2NoZW1hLmV4dGVuZCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gb3B0aW9ucy50aW1lc3RhbXBGdW5jdGlvbih1c2VkVmFsdWUpO1xuICAgICAgICBpZiAoX19ERVZfXykge1xuICAgICAgICAgICAgLy8gb25seSBmcmVlemUgdGhlIG9iamVjdHMgaW4gZGV2IG1vZGUgdG8gd2FybiB0aGUgZGV2ZWxvcGVycyBiZWNhdXNlXG4gICAgICAgICAgICAvLyBpdCBpcyBhbiBleHBlbnNpdmUgb3BlcmF0aW9uXG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHVzZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcm93LnJhdy5wdXNoKHsgdmFsdWU6IHVzZWRWYWx1ZSwgdGltZXN0YW1wIH0pO1xuICAgICAgICByZXR1cm4geyBzZXQ6IGdvdFVwZGF0ZWQoZW50aXR5KSwgdmFsdWU6IHVzZWRWYWx1ZSB9O1xuICAgIH1cbiAgICBjb25zdCByZXQgPSB7XG4gICAgICAgIGdldCBjb21wb25lbnRJZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRJZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNvbXBvbmVudE5hbWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50TmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IGNvbXBvbmVudFR5cGUoKSB7XG4gICAgICAgICAgICAvLyBhIGdldHRlciBpcyB1c2VkIGhlcmUgdG8gcHJldmVudCBhY2NpZGVudGFsIGNoYW5nZXNcbiAgICAgICAgICAgIHJldHVybiAxIC8qIENvbXBvbmVudFR5cGUuR3Jvd09ubHlWYWx1ZVNldCAqLztcbiAgICAgICAgfSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICBoYXMoZW50aXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5oYXMoZW50aXR5KTtcbiAgICAgICAgfSxcbiAgICAgICAgZW50aXR5RGVsZXRlZChlbnRpdHkpIHtcbiAgICAgICAgICAgIGRhdGEuZGVsZXRlKGVudGl0eSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldChlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcy5mcm96ZW5TZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW1wdHlSZWFkb25seVNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWRkVmFsdWUoZW50aXR5LCByYXdWYWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgeyBzZXQsIHZhbHVlIH0gPSBhcHBlbmQoZW50aXR5LCByYXdWYWx1ZSk7XG4gICAgICAgICAgICBkaXJ0eUl0ZXJhdG9yLmFkZChlbnRpdHkpO1xuICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgIHNjaGVtYS5zZXJpYWxpemUodmFsdWUsIGJ1Zik7XG4gICAgICAgICAgICBxdWV1ZWRDb21tYW5kcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJZCxcbiAgICAgICAgICAgICAgICBkYXRhOiBidWYudG9CaW5hcnkoKSxcbiAgICAgICAgICAgICAgICBlbnRpdHlJZDogZW50aXR5LFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgICAgICAgICAgICB0eXBlOiBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzZXQ7XG4gICAgICAgIH0sXG4gICAgICAgICppdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29tcG9uZW50XSBvZiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW2VudGl0eSwgY29tcG9uZW50LmZyb3plblNldF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICpkaXJ0eUl0ZXJhdG9yKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZGlydHlJdGVyYXRvcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q3JkdFVwZGF0ZXMoKSB7XG4gICAgICAgICAgICAvLyByZXR1cm4gYSBjb3B5IG9mIHRoZSBjb21tYW5kcywgYW5kIHRoZW4gY2xlYXIgdGhlIGxvY2FsIGNvcHlcbiAgICAgICAgICAgIGRpcnR5SXRlcmF0b3IuY2xlYXIoKTtcbiAgICAgICAgICAgIHJldHVybiBxdWV1ZWRDb21tYW5kcy5zcGxpY2UoMCwgcXVldWVkQ29tbWFuZHMubGVuZ3RoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlRnJvbUNyZHQoX2JvZHkpIHtcbiAgICAgICAgICAgIGlmIChfYm9keS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuQVBQRU5EX1ZBTFVFKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoX2JvZHkuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSB9ID0gYXBwZW5kKF9ib2R5LmVudGl0eUlkLCBzY2hlbWEuZGVzZXJpYWxpemUoYnVmKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtudWxsLCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIHVuZGVmaW5lZF07XG4gICAgICAgIH0sXG4gICAgICAgIGR1bXBDcmR0U3RhdGVUb0J1ZmZlcjogZnVuY3Rpb24gKGJ1ZmZlciwgZmlsdGVyRW50aXR5KSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIHsgcmF3IH1dIG9mIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyRW50aXR5ICYmICFmaWx0ZXJFbnRpdHkoZW50aXR5KSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpdCBvZiByYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnNlcmlhbGl6ZShpdC52YWx1ZSwgYnVmKTtcbiAgICAgICAgICAgICAgICAgICAgQXBwZW5kVmFsdWVPcGVyYXRpb24ud3JpdGUoZW50aXR5LCAwLCBjb21wb25lbnRJZCwgYnVmLnRvQmluYXJ5KCksIGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZShlbnRpdHksIGNiKSB7XG4gICAgICAgICAgICBjb25zdCBjYnMgPSBvbkNoYW5nZUNhbGxiYWNrcy5nZXQoZW50aXR5KSA/PyBbXTtcbiAgICAgICAgICAgIGNicy5wdXNoKGNiKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlQ2FsbGJhY2tzLnNldChlbnRpdHksIGNicyk7XG4gICAgICAgIH0sXG4gICAgICAgIF9fb25DaGFuZ2VDYWxsYmFja3MoZW50aXR5LCB2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY2JzID0gb25DaGFuZ2VDYWxsYmFja3MuZ2V0KGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoIWNicylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNiIG9mIGNicykge1xuICAgICAgICAgICAgICAgIGNiKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJldDtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMnO1xuZnVuY3Rpb24qIGdlbkVudGl0eVRyZWUoZW50aXR5LCBlbnRpdGllcykge1xuICAgIC8vIFRoaXMgYXZvaWQgaW5maW5pdGUgbG9vcCB3aGVuIHRoZXJlIGlzIGEgY3ljbGljIHBhcmVudGluZ1xuICAgIGlmICghZW50aXRpZXMuaGFzKGVudGl0eSkpXG4gICAgICAgIHJldHVybjtcbiAgICBlbnRpdGllcy5kZWxldGUoZW50aXR5KTtcbiAgICBmb3IgKGNvbnN0IFtfZW50aXR5LCB2YWx1ZV0gb2YgZW50aXRpZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlLnBhcmVudCA9PT0gZW50aXR5KSB7XG4gICAgICAgICAgICB5aWVsZCogZ2VuRW50aXR5VHJlZShfZW50aXR5LCBlbnRpdGllcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgeWllbGQgZW50aXR5O1xufVxuLyoqXG4gKiBHZXQgYW4gaXRlcmF0b3Igb2YgZW50aXRpZXMgdGhhdCBmb2xsb3cgYSB0cmVlIHN0cnVjdHVyZSBmb3IgYSBjb21wb25lbnRcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSBlbmdpbmUgLSB0aGUgZW5naW5lIHJ1bm5pbmcgdGhlIGVudGl0aWVzXG4gKiBAcGFyYW0gZW50aXR5IC0gdGhlIHJvb3QgZW50aXR5IG9mIHRoZSB0cmVlXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIHBhcmVudGluZyBjb21wb25lbnQgdG8gZmlsdGVyIGJ5XG4gKiBAcmV0dXJucyBBbiBpdGVyYXRvciBvZiBhbiBhcnJheSBhcyBbZW50aXR5LCBlbnRpdHkyLCAuLi5dXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBjb25zdCBUcmVlQ29tcG9uZW50ID0gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY3VzdG9tOjpUcmVlQ29tcG9uZW50Jywge1xuICogICAgbGFiZWw6IFNjaGVtYXMuU3RyaW5nLFxuICogICAgcGFyZW50OiBTY2hlbWFzLkVudGl0eVxuICogfSlcbiAqXG4gKiBmb3IgKGNvbnN0IGVudGl0eSBvZiBnZXRDb21wb25lbnRFbnRpdHlUcmVlKGVuZ2luZSwgZW50aXR5LCBUcmVlQ29tcG9uZW50KSkge1xuICogICAgLy8gZW50aXR5IGluIHRoZSB0cmVlXG4gKiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudEVudGl0eVRyZWUoZW5naW5lLCBlbnRpdHksIGNvbXBvbmVudCkge1xuICAgIGNvbnN0IGVudGl0aWVzID0gbmV3IE1hcChlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKGNvbXBvbmVudCkpO1xuICAgIHJldHVybiBnZW5FbnRpdHlUcmVlKGVudGl0eSwgZW50aXRpZXMpO1xufVxuLy8gSSBzd2VhciBieSBhbGwgdGhlIGdvZHMgdGhhdCB0aGlzIGlzIGJlaW5nIHRlc3RlZCBvbiB0ZXN0L3Nkay9uZXR3b3JrL3N5bmMtZW5naW5lcy5zcGVjLnRzXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gcmVtb3ZlTmV0d29ya0VudGl0eUNoaWxkcmVucyhlbmdpbmUsIHBhcmVudCkge1xuICAgIGNvbnN0IE5ldHdvcmtQYXJlbnQgPSBjb21wb25lbnRzLk5ldHdvcmtQYXJlbnQoZW5naW5lKTtcbiAgICBjb25zdCBOZXR3b3JrRW50aXR5ID0gY29tcG9uZW50cy5OZXR3b3JrRW50aXR5KGVuZ2luZSk7XG4gICAgLy8gUmVtb3ZlIHBhcmVudFxuICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkocGFyZW50KTtcbiAgICAvLyBSZW1vdmUgY2hpbGRzXG4gICAgY29uc3QgbmV0d29yayA9IE5ldHdvcmtFbnRpdHkuZ2V0T3JOdWxsKHBhcmVudCk7XG4gICAgaWYgKG5ldHdvcmspIHtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBwYXJlbnRdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoTmV0d29ya1BhcmVudCkpIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnQuZW50aXR5SWQgPT09IG5ldHdvcmsuZW50aXR5SWQgJiYgcGFyZW50Lm5ldHdvcmtJZCA9PT0gbmV0d29yay5uZXR3b3JrSWQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVOZXR3b3JrRW50aXR5Q2hpbGRyZW5zKGVuZ2luZSwgZW50aXR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59XG4vKipcbiAqIFJlbW92ZSBhbGwgY29tcG9uZW50cyBvZiBlYWNoIGVudGl0eSBpbiB0aGUgdHJlZSBtYWRlIHdpdGggVHJhbnNmb3JtIHBhcmVudGluZ1xuICogQHBhcmFtIGVuZ2luZSAtIHRoZSBlbmdpbmUgcnVubmluZyB0aGUgZW50aXRpZXNcbiAqIEBwYXJhbSBmaXJzdEVudGl0eSAtIHRoZSByb290IGVudGl0eSBvZiB0aGUgdHJlZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuKGVuZ2luZSwgZW50aXR5KSB7XG4gICAgY29uc3QgVHJhbnNmb3JtID0gY29tcG9uZW50cy5UcmFuc2Zvcm0oZW5naW5lKTtcbiAgICBjb25zdCBOZXR3b3JrRW50aXR5ID0gY29tcG9uZW50cy5OZXR3b3JrRW50aXR5KGVuZ2luZSk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKE5ldHdvcmtFbnRpdHkuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZU5ldHdvcmtFbnRpdHlDaGlsZHJlbnMoZW5naW5lLCBlbnRpdHkpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGVudCBvZiBnZXRDb21wb25lbnRFbnRpdHlUcmVlKGVuZ2luZSwgZW50aXR5LCBUcmFuc2Zvcm0pKSB7XG4gICAgICAgIGVuZ2luZS5yZW1vdmVFbnRpdHkoZW50KTtcbiAgICB9XG59XG4iLCAiaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuLi9jb21wb25lbnRzJztcbmNvbnN0IElucHV0Q29tbWFuZHMgPSBbXG4gICAgMCAvKiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSICovLFxuICAgIDEgLyogSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSAqLyxcbiAgICAyIC8qIElucHV0QWN0aW9uLklBX1NFQ09OREFSWSAqLyxcbiAgICA0IC8qIElucHV0QWN0aW9uLklBX0ZPUldBUkQgKi8sXG4gICAgNSAvKiBJbnB1dEFjdGlvbi5JQV9CQUNLV0FSRCAqLyxcbiAgICA2IC8qIElucHV0QWN0aW9uLklBX1JJR0hUICovLFxuICAgIDcgLyogSW5wdXRBY3Rpb24uSUFfTEVGVCAqLyxcbiAgICA4IC8qIElucHV0QWN0aW9uLklBX0pVTVAgKi8sXG4gICAgOSAvKiBJbnB1dEFjdGlvbi5JQV9XQUxLICovLFxuICAgIDEwIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl8zICovLFxuICAgIDExIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl80ICovLFxuICAgIDEyIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl81ICovLFxuICAgIDEzIC8qIElucHV0QWN0aW9uLklBX0FDVElPTl82ICovXG5dO1xuY29uc3QgSW5wdXRTdGF0ZVVwZGF0ZVN5c3RlbVByaW9yaXR5ID0gMSA8PCAyMDtcbi8qKlxuICogQHB1YmxpY1xuICogX19fX0RPIE5PVCBVU0UgX19fXyB1c2UgaW5wdXRTeXN0ZW0gaW5zdGVhZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW5wdXRTeXN0ZW0oZW5naW5lKSB7XG4gICAgY29uc3QgUG9pbnRlckV2ZW50c1Jlc3VsdCA9IGNvbXBvbmVudHMuUG9pbnRlckV2ZW50c1Jlc3VsdChlbmdpbmUpO1xuICAgIGNvbnN0IGdsb2JhbFN0YXRlID0ge1xuICAgICAgICBwcmV2aW91c0ZyYW1lTWF4VGltZXN0YW1wOiAwLFxuICAgICAgICBjdXJyZW50RnJhbWVNYXhUaW1lc3RhbXA6IDAsXG4gICAgICAgIGJ1dHRvblN0YXRlOiBuZXcgTWFwKCksXG4gICAgICAgIHRoaXNGcmFtZUNvbW1hbmRzOiBbXVxuICAgIH07XG4gICAgZnVuY3Rpb24gZmluZExhc3RBY3Rpb24ocG9pbnRlckV2ZW50VHlwZSwgaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICBjb25zdCBhc2NlbmRpbmdUaW1lc3RhbXBJdGVyYXRvciA9IFBvaW50ZXJFdmVudHNSZXN1bHQuZ2V0KGVudGl0eSk7XG4gICAgICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiBBcnJheS5mcm9tKGFzY2VuZGluZ1RpbWVzdGFtcEl0ZXJhdG9yKS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgIGlmIChjb21tYW5kLmJ1dHRvbiA9PT0gaW5wdXRBY3Rpb24gJiYgY29tbWFuZC5zdGF0ZSA9PT0gcG9pbnRlckV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBmaW5kQ29tbWFuZHNCeUFjdGlvbkRlc2NlbmRpbmcoaW5wdXRBY3Rpb24sIGVudGl0eSkge1xuICAgICAgICBjb25zdCBhc2NlbmRpbmdUaW1lc3RhbXBJdGVyYXRvciA9IFBvaW50ZXJFdmVudHNSZXN1bHQuZ2V0KGVudGl0eSk7XG4gICAgICAgIGZvciAoY29uc3QgY29tbWFuZCBvZiBBcnJheS5mcm9tKGFzY2VuZGluZ1RpbWVzdGFtcEl0ZXJhdG9yKS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgIGlmIChjb21tYW5kLmJ1dHRvbiA9PT0gaW5wdXRBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBjb21tYW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1dHRvblN0YXRlVXBkYXRlU3lzdGVtKCkge1xuICAgICAgICAvLyBmaXJzdCBzdG9yZSB0aGUgcHJldmlvdXMnIGZyYW1lIHRpbWVzdGFtcFxuICAgICAgICBsZXQgbWF4VGltZXN0YW1wID0gZ2xvYmFsU3RhdGUuY3VycmVudEZyYW1lTWF4VGltZXN0YW1wO1xuICAgICAgICBnbG9iYWxTdGF0ZS5wcmV2aW91c0ZyYW1lTWF4VGltZXN0YW1wID0gbWF4VGltZXN0YW1wO1xuICAgICAgICBpZiAoZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBnbG9iYWxTdGF0ZS50aGlzRnJhbWVDb21tYW5kcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4gaXRlcmF0ZSBvdmVyIGFsbCBuZXcgY29tbWFuZHNcbiAgICAgICAgZm9yIChjb25zdCBbLCBjb21tYW5kc10gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChQb2ludGVyRXZlbnRzUmVzdWx0KSkge1xuICAgICAgICAgICAgLy8gVE9ETzogYWRhcHQgdGhlIGdzZXQgY29tcG9uZW50IHRvIGhhdmUgYSBjYWNoZWQgXCJyZXZlcnNlZFwiIG9wdGlvbiBieSBkZWZhdWx0XG4gICAgICAgICAgICBjb25zdCBhcnJheUNvbW1hbmRzID0gQXJyYXkuZnJvbShjb21tYW5kcyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gYXJyYXlDb21tYW5kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBhcnJheUNvbW1hbmRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChjb21tYW5kLnRpbWVzdGFtcCA+IG1heFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhUaW1lc3RhbXAgPSBjb21tYW5kLnRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQudGltZXN0YW1wID4gZ2xvYmFsU3RhdGUucHJldmlvdXNGcmFtZU1heFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICBnbG9iYWxTdGF0ZS50aGlzRnJhbWVDb21tYW5kcy5wdXNoKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29tbWFuZC5zdGF0ZSA9PT0gMCAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9VUCAqLyB8fCBjb21tYW5kLnN0YXRlID09PSAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldkNvbW1hbmQgPSBnbG9iYWxTdGF0ZS5idXR0b25TdGF0ZS5nZXQoY29tbWFuZC5idXR0b24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZDb21tYW5kIHx8IGNvbW1hbmQudGltZXN0YW1wID4gcHJldkNvbW1hbmQudGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTdGF0ZS5idXR0b25TdGF0ZS5zZXQoY29tbWFuZC5idXR0b24sIGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2Ugd2UgYXJlIGl0ZXJhdGluZyBhIGRlc2NlbmRpbmcgYXJyYXksIHdlIGNhbiBlYXJseSBmaW5pc2ggdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb29wXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB1cGRhdGUgY3VycmVudCBmcmFtZSdzIG1heCB0aW1lc3RhbXBcbiAgICAgICAgZ2xvYmFsU3RhdGUuY3VycmVudEZyYW1lTWF4VGltZXN0YW1wID0gbWF4VGltZXN0YW1wO1xuICAgIH1cbiAgICBlbmdpbmUuYWRkU3lzdGVtKGJ1dHRvblN0YXRlVXBkYXRlU3lzdGVtLCBJbnB1dFN0YXRlVXBkYXRlU3lzdGVtUHJpb3JpdHksICdAZGNsL2VjcyNpbnB1dFN5c3RlbScpO1xuICAgIGZ1bmN0aW9uIHRpbWVzdGFtcElzQ3VycmVudEZyYW1lKHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAodGltZXN0YW1wID4gZ2xvYmFsU3RhdGUucHJldmlvdXNGcmFtZU1heFRpbWVzdGFtcCAmJiB0aW1lc3RhbXAgPD0gZ2xvYmFsU3RhdGUuY3VycmVudEZyYW1lTWF4VGltZXN0YW1wKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDbGljayhpbnB1dEFjdGlvbiwgZW50aXR5KSB7XG4gICAgICAgIGlmIChpbnB1dEFjdGlvbiAhPT0gMyAvKiBJbnB1dEFjdGlvbi5JQV9BTlkgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kQ2xpY2soaW5wdXRBY3Rpb24sIGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBpbnB1dCBvZiBJbnB1dENvbW1hbmRzKSB7XG4gICAgICAgICAgICBjb25zdCBjbWQgPSBmaW5kQ2xpY2soaW5wdXQsIGVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY21kKVxuICAgICAgICAgICAgICAgIHJldHVybiBjbWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRDbGljayhpbnB1dEFjdGlvbiwgZW50aXR5KSB7XG4gICAgICAgIGxldCBkb3duID0gbnVsbDtcbiAgICAgICAgbGV0IHVwID0gbnVsbDtcbiAgICAgICAgLy8gV2Ugc2VhcmNoIHRoZSBsYXN0IFVQICYgRE9XTiBjb21tYW5kIHNvcnRlZCBieSB0aW1lc3RhbXAgZGVzY2VuZGluZ1xuICAgICAgICBmb3IgKGNvbnN0IGl0IG9mIGZpbmRDb21tYW5kc0J5QWN0aW9uRGVzY2VuZGluZyhpbnB1dEFjdGlvbiwgZW50aXR5KSkge1xuICAgICAgICAgICAgaWYgKCF1cCkge1xuICAgICAgICAgICAgICAgIGlmIChpdC5zdGF0ZSA9PT0gMCAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9VUCAqLykge1xuICAgICAgICAgICAgICAgICAgICB1cCA9IGl0O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZG93bikge1xuICAgICAgICAgICAgICAgIGlmIChpdC5zdGF0ZSA9PT0gMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvd24gPSBpdDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghdXAgfHwgIWRvd24pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gSWYgdGhlIERPV04gY29tbWFuZCBoYXMgaGFwcGVuIGJlZm9yZSB0aGUgVVAgY29tbWFuZHMsIGl0IG1lYW5zIHRoYXQgdGhhdCBhIGNsaWNrZWQgaGFzIGhhcHBlblxuICAgICAgICBpZiAoZG93bi50aW1lc3RhbXAgPCB1cC50aW1lc3RhbXAgJiYgdGltZXN0YW1wSXNDdXJyZW50RnJhbWUodXAudGltZXN0YW1wKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgdXAsIGRvd24gfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5wdXRDb21tYW5kRnJvbUVudGl0eShpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KSB7XG4gICAgICAgIGlmIChpbnB1dEFjdGlvbiAhPT0gMyAvKiBJbnB1dEFjdGlvbi5JQV9BTlkgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5kSW5wdXRDb21tYW5kKGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgaW5wdXQgb2YgSW5wdXRDb21tYW5kcykge1xuICAgICAgICAgICAgY29uc3QgY21kID0gZmluZElucHV0Q29tbWFuZChpbnB1dCwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KTtcbiAgICAgICAgICAgIGlmIChjbWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNtZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SW5wdXRDb21tYW5kKGlucHV0QWN0aW9uLCBwb2ludGVyRXZlbnRUeXBlLCBlbnRpdHkpIHtcbiAgICAgICAgaWYgKGVudGl0eSkge1xuICAgICAgICAgICAgcmV0dXJuIGdldElucHV0Q29tbWFuZEZyb21FbnRpdHkoaW5wdXRBY3Rpb24sIHBvaW50ZXJFdmVudFR5cGUsIGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbW1hbmQgb2YgZ2xvYmFsU3RhdGUudGhpc0ZyYW1lQ29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoKGNvbW1hbmQuYnV0dG9uID09PSBpbnB1dEFjdGlvbiB8fCBpbnB1dEFjdGlvbiA9PT0gMyAvKiBJbnB1dEFjdGlvbi5JQV9BTlkgKi8pICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hbmQuc3RhdGUgPT09IHBvaW50ZXJFdmVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZElucHV0Q29tbWFuZChpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KSB7XG4gICAgICAgIC8vIFdlIHNlYXJjaCB0aGUgbGFzdCBwb2ludGVyIEV2ZW50IGNvbW1hbmQgc29ydGVkIGJ5IHRpbWVzdGFtcFxuICAgICAgICBjb25zdCBjb21tYW5kID0gZmluZExhc3RBY3Rpb24ocG9pbnRlckV2ZW50VHlwZSwgaW5wdXRBY3Rpb24sIGVudGl0eSk7XG4gICAgICAgIGlmICghY29tbWFuZClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodGltZXN0YW1wSXNDdXJyZW50RnJhbWUoY29tbWFuZC50aW1lc3RhbXApKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tbWFuZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGVyZSB3YXMgYSBET1dOIChpbiBhbnkgcGFzdCBmcmFtZSksIGFuZCB0aGVuIGFuIFVQIGluIHRoZSBsYXN0IGZyYW1lXG4gICAgZnVuY3Rpb24gaXNDbGlja2VkKGlucHV0QWN0aW9uLCBlbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGdldENsaWNrKGlucHV0QWN0aW9uLCBlbnRpdHkpICE9PSBudWxsO1xuICAgIH1cbiAgICAvLyByZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIGxhc3QgYWN0aW9uIHdhcyB0cmlnZ2VyZWQgaW4gdGhlIGxhc3QgZnJhbWVcbiAgICBmdW5jdGlvbiBpc1RyaWdnZXJlZChpbnB1dEFjdGlvbiwgcG9pbnRlckV2ZW50VHlwZSwgZW50aXR5KSB7XG4gICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBmaW5kTGFzdEFjdGlvbihwb2ludGVyRXZlbnRUeXBlLCBpbnB1dEFjdGlvbiwgZW50aXR5KTtcbiAgICAgICAgICAgIHJldHVybiAoY29tbWFuZCAmJiB0aW1lc3RhbXBJc0N1cnJlbnRGcmFtZShjb21tYW5kLnRpbWVzdGFtcCkpIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21tYW5kIG9mIGdsb2JhbFN0YXRlLnRoaXNGcmFtZUNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKChjb21tYW5kLmJ1dHRvbiA9PT0gaW5wdXRBY3Rpb24gfHwgaW5wdXRBY3Rpb24gPT09IDMgLyogSW5wdXRBY3Rpb24uSUFfQU5ZICovKSAmJlxuICAgICAgICAgICAgICAgICAgICBjb21tYW5kLnN0YXRlID09PSBwb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyByZXR1cm5zIHRoZSBnbG9iYWwgc3RhdGUgb2YgdGhlIGlucHV0LiBUaGlzIGdsb2JhbCBzdGF0ZSBpcyB1cGRhdGVkIGZyb20gdGhlIHN5c3RlbVxuICAgIGZ1bmN0aW9uIGlzUHJlc3NlZChpbnB1dEFjdGlvbikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsU3RhdGUuYnV0dG9uU3RhdGUuZ2V0KGlucHV0QWN0aW9uKT8uc3RhdGUgPT09IDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNQcmVzc2VkLFxuICAgICAgICBnZXRDbGljayxcbiAgICAgICAgZ2V0SW5wdXRDb21tYW5kLFxuICAgICAgICBpc0NsaWNrZWQsXG4gICAgICAgIGlzVHJpZ2dlcmVkXG4gICAgfTtcbn1cbiIsICIvKipcbiAqIENvbXBvbmVudCB0eXBlcyBhcmUgdXNlZCB0byBwaWNrIHRoZSB3aXJlIHByb3RvY29sIGFuZCB0aGUgY29uZmxpY3QgcmVzb2x1dGlvbiBhbGdvcml0aG1cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb25lbnRUeXBlO1xuKGZ1bmN0aW9uIChDb21wb25lbnRUeXBlKSB7XG4gICAgQ29tcG9uZW50VHlwZVtDb21wb25lbnRUeXBlW1wiTGFzdFdyaXRlV2luRWxlbWVudFNldFwiXSA9IDBdID0gXCJMYXN0V3JpdGVXaW5FbGVtZW50U2V0XCI7XG4gICAgQ29tcG9uZW50VHlwZVtDb21wb25lbnRUeXBlW1wiR3Jvd09ubHlWYWx1ZVNldFwiXSA9IDFdID0gXCJHcm93T25seVZhbHVlU2V0XCI7XG59KShDb21wb25lbnRUeXBlIHx8IChDb21wb25lbnRUeXBlID0ge30pKTtcbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29tcG9uZW50TnVtYmVyRnJvbU5hbWUgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudC1udW1iZXInO1xuaW1wb3J0IHsgY2hlY2tOb3RUaGVuYWJsZSB9IGZyb20gJy4uL3J1bnRpbWUvaW52YXJpYW50JztcbmltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi9zY2hlbWFzJztcbmltcG9ydCB7IGNyZHRTY2VuZVN5c3RlbSB9IGZyb20gJy4uL3N5c3RlbXMvY3JkdCc7XG5pbXBvcnQgeyBjcmVhdGVDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYSB9IGZyb20gJy4vbHd3LWVsZW1lbnQtc2V0LWNvbXBvbmVudC1kZWZpbml0aW9uJztcbmltcG9ydCB7IGNyZWF0ZUVudGl0eUNvbnRhaW5lciB9IGZyb20gJy4vZW50aXR5JztcbmltcG9ydCB7IFN5c3RlbUNvbnRhaW5lciwgU1lTVEVNU19SRUdVTEFSX1BSSU9SSVRZIH0gZnJvbSAnLi9zeXN0ZW1zJztcbmltcG9ydCB7IGNyZWF0ZVZhbHVlU2V0Q29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEgfSBmcm9tICcuL2dyb3ctb25seS12YWx1ZS1zZXQtY29tcG9uZW50LWRlZmluaXRpb24nO1xuaW1wb3J0IHsgcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuIGFzIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbkVuZ2luZSB9IGZyb20gJy4uL3J1bnRpbWUvaGVscGVycy90cmVlJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5leHBvcnQgKiBmcm9tICcuL2lucHV0JztcbmV4cG9ydCAqIGZyb20gJy4vcmVhZG9ubHknO1xuZXhwb3J0ICogZnJvbSAnLi90eXBlcyc7XG5mdW5jdGlvbiBwcmVFbmdpbmUob3B0aW9ucykge1xuICAgIGNvbnN0IGVudGl0eUNvbnRhaW5lciA9IG9wdGlvbnM/LmVudGl0eUNvbnRhaW5lciA/PyBjcmVhdGVFbnRpdHlDb250YWluZXIoKTtcbiAgICBjb25zdCBjb21wb25lbnRzRGVmaW5pdGlvbiA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBzeXN0ZW1zID0gU3lzdGVtQ29udGFpbmVyKCk7XG4gICAgbGV0IHNlYWxlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIGFkZFN5c3RlbShmbiwgcHJpb3JpdHkgPSBTWVNURU1TX1JFR1VMQVJfUFJJT1JJVFksIG5hbWUpIHtcbiAgICAgICAgc3lzdGVtcy5hZGQoZm4sIHByaW9yaXR5LCBuYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlU3lzdGVtKHNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBzeXN0ZW1zLnJlbW92ZShzZWxlY3Rvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEVudGl0eSgpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gZW50aXR5Q29udGFpbmVyLmdlbmVyYXRlRW50aXR5KCk7XG4gICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUVudGl0eShlbnRpdHkpIHtcbiAgICAgICAgZm9yIChjb25zdCBbLCBjb21wb25lbnRdIG9mIGNvbXBvbmVudHNEZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBoYWNrIGZvciB0aGUgbW9tZW50LlxuICAgICAgICAgICAgLy8gV2Ugc3RpbGwgbmVlZCB0aGUgTmV0d29ya0VudGl0eSB0byBmb3J3YXJkIHRoaXMgbWVzc2FnZSB0byB0aGUgU3luY1RyYW5zcG9ydC5cbiAgICAgICAgICAgIC8vIElmIHdlIHJlbW92ZSBpdCB0aGVuIHdlIGNhbid0IG5vdGlmeSB0aGUgb3RoZXIgdXNlcnMgd2hpY2ggZW50aXR5IHdhcyBkZWxldGVkLlxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnROYW1lID09PSAnY29yZS1zY2hlbWE6Ok5ldHdvcmstRW50aXR5JylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbXBvbmVudC5lbnRpdHlEZWxldGVkKGVudGl0eSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudGl0eUNvbnRhaW5lci5yZW1vdmVFbnRpdHkoZW50aXR5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuKGVudGl0eSkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuRW5naW5lKHsgcmVtb3ZlRW50aXR5LCBkZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hLCBnZXRFbnRpdGllc1dpdGgsIGRlZmluZUNvbXBvbmVudCB9LCBlbnRpdHkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudERlZmluaXRpb24oY29tcG9uZW50TmFtZSwgY29tcG9uZW50KSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgdGhpcyBzdGFnZScpO1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICBjb25zdCBwcmV2ID0gY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50IG51bWJlciAke2NvbXBvbmVudElkfSB3YXMgYWxyZWFkeSByZWdpc3RlcmVkLmApO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChjb21wb25lbnQuY29tcG9uZW50TmFtZSAhPT0gY29tcG9uZW50TmFtZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb21wb25lbnQgbmFtZSBkb2Vzbid0IG1hdGNoIGNvbXBvbmVudERlZmluaXRpb24uY29tcG9uZW50TmFtZSAke2NvbXBvbmVudE5hbWV9ICE9ICR7Y29tcG9uZW50LmNvbXBvbmVudE5hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKGNvbXBvbmVudC5jb21wb25lbnRJZCAhPT0gY29tcG9uZW50SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50IG51bWJlciBkb2Vzbid0IG1hdGNoIGNvbXBvbmVudERlZmluaXRpb24uY29tcG9uZW50SWQgJHtjb21wb25lbnRJZH0gIT0gJHtjb21wb25lbnQuY29tcG9uZW50SWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50c0RlZmluaXRpb24uc2V0KGNvbXBvbmVudElkLCBjb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVDb21wb25lbnRGcm9tU2NoZW1hKGNvbXBvbmVudE5hbWUsIHNjaGVtYSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICBjb25zdCBwcmV2ID0gY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFzc2VydCBzcGVjID09PSBwcmV2LnNwZWNcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgdGhpcyBzdGFnZScpO1xuICAgICAgICBjb25zdCBuZXdDb21wb25lbnQgPSBjcmVhdGVDb21wb25lbnREZWZpbml0aW9uRnJvbVNjaGVtYShjb21wb25lbnROYW1lLCBjb21wb25lbnRJZCwgc2NoZW1hKTtcbiAgICAgICAgY29tcG9uZW50c0RlZmluaXRpb24uc2V0KGNvbXBvbmVudElkLCBuZXdDb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gbmV3Q29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVWYWx1ZVNldENvbXBvbmVudEZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgc2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50TmFtZSk7XG4gICAgICAgIGNvbnN0IHByZXYgPSBjb21wb25lbnRzRGVmaW5pdGlvbi5nZXQoY29tcG9uZW50SWQpO1xuICAgICAgICBpZiAocHJldikge1xuICAgICAgICAgICAgLy8gVE9ETzogYXNzZXJ0IHNwZWMgPT09IHByZXYuc3BlY1xuICAgICAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHNlYWxlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW5naW5lIGlzIGFscmVhZHkgc2VhbGVkLiBObyBjb21wb25lbnRzIGNhbiBiZSBhZGRlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IG5ld0NvbXBvbmVudCA9IGNyZWF0ZVZhbHVlU2V0Q29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbXBvbmVudHNEZWZpbml0aW9uLnNldChjb21wb25lbnRJZCwgbmV3Q29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0NvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KGNvbXBvbmVudE5hbWUsIG1hcFNwZWMsIGNvbnN0cnVjdG9yRGVmYXVsdCkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudE5hbWUpO1xuICAgICAgICBjb25zdCBwcmV2ID0gY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGFzc2VydCBzcGVjID09PSBwcmV2LnNwZWNcbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgYWRkZWQgYXQgdGhpcyBzdGFnZScpO1xuICAgICAgICBjb25zdCBzY2hlbWFTcGVjID0gU2NoZW1hcy5NYXAobWFwU3BlYywgY29uc3RydWN0b3JEZWZhdWx0KTtcbiAgICAgICAgY29uc3QgZGVmID0gY3JlYXRlQ29tcG9uZW50RGVmaW5pdGlvbkZyb21TY2hlbWEoY29tcG9uZW50TmFtZSwgY29tcG9uZW50SWQsIHNjaGVtYVNwZWMpO1xuICAgICAgICBjb25zdCBuZXdDb21wb25lbnQgPSB7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBjcmVhdGUoZW50aXR5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLmNyZWF0ZShlbnRpdHksIHZhbCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5zZXQoY29tcG9uZW50SWQsIG5ld0NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBuZXdDb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudChjb21wb25lbnRJZE9yTmFtZSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHR5cGVvZiBjb21wb25lbnRJZE9yTmFtZSA9PT0gJ251bWJlcicgPyBjb21wb25lbnRJZE9yTmFtZSA6IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudElkT3JOYW1lKTtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gY29tcG9uZW50c0RlZmluaXRpb24uZ2V0KGNvbXBvbmVudElkKTtcbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ29tcG9uZW50ICR7Y29tcG9uZW50SWRPck5hbWV9IG5vdCBmb3VuZC4gWW91IG5lZWQgdG8gZGVjbGFyZSB0aGUgY29tcG9uZW50cyBhdCB0aGUgYmVnaW5uaWcgb2YgdGhlIGVuZ2luZSBkZWNsYXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE9yTnVsbChjb21wb25lbnRJZE9yTmFtZSkge1xuICAgICAgICBjb25zdCBjb21wb25lbnRJZCA9IHR5cGVvZiBjb21wb25lbnRJZE9yTmFtZSA9PT0gJ251bWJlcicgPyBjb21wb25lbnRJZE9yTmFtZSA6IGNvbXBvbmVudE51bWJlckZyb21OYW1lKGNvbXBvbmVudElkT3JOYW1lKTtcbiAgICAgICAgcmV0dXJuIChjb21wb25lbnRzRGVmaW5pdGlvbi5nZXQoY29tcG9uZW50SWQpID8/XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgbnVsbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uKiBnZXRFbnRpdGllc1dpdGgoLi4uY29tcG9uZW50cykge1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIC4uLmdyb3VwQ29tcF0gb2YgZ2V0Q29tcG9uZW50RGVmR3JvdXAoLi4uY29tcG9uZW50cykpIHtcbiAgICAgICAgICAgIHlpZWxkIFtlbnRpdHksIC4uLmdyb3VwQ29tcC5tYXAoKGMpID0+IGMuZ2V0KGVudGl0eSkpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbnRpdHlPck51bGxCeU5hbWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgTmFtZUNvbXBvbmVudCA9IGNvbXBvbmVudHMuTmFtZSh7IGRlZmluZUNvbXBvbmVudCB9KTtcbiAgICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBuYW1lXSBvZiBnZXRFbnRpdGllc1dpdGgoTmFtZUNvbXBvbmVudCkpIHtcbiAgICAgICAgICAgIGlmIChuYW1lLnZhbHVlID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50aXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiogZ2V0Q29tcG9uZW50RGVmR3JvdXAoLi4uYXJncykge1xuICAgICAgICBjb25zdCBbZmlyc3RDb21wb25lbnREZWYsIC4uLmNvbXBvbmVudERlZmluaXRpb25zXSA9IGFyZ3M7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eV0gb2YgZmlyc3RDb21wb25lbnREZWYuaXRlcmF0b3IoKSkge1xuICAgICAgICAgICAgbGV0IG1hdGNoZXMgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCBjb21wb25lbnREZWYgb2YgY29tcG9uZW50RGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbXBvbmVudERlZi5oYXMoZW50aXR5KSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgW2VudGl0eSwgLi4uYXJnc107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3lzdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHN5c3RlbXMuZ2V0U3lzdGVtcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wb25lbnRzSXRlcigpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudHNEZWZpbml0aW9uLnZhbHVlcygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDb21wb25lbnREZWZpbml0aW9uKGNvbXBvbmVudElkT3JOYW1lKSB7XG4gICAgICAgIGlmIChzZWFsZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VuZ2luZSBpcyBhbHJlYWR5IHNlYWxlZC4gTm8gY29tcG9uZW50cyBjYW4gYmUgcmVtb3ZlZCBhdCB0aGlzIHN0YWdlJyk7XG4gICAgICAgIGNvbnN0IGNvbXBvbmVudElkID0gdHlwZW9mIGNvbXBvbmVudElkT3JOYW1lID09PSAnbnVtYmVyJyA/IGNvbXBvbmVudElkT3JOYW1lIDogY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoY29tcG9uZW50SWRPck5hbWUpO1xuICAgICAgICBjb21wb25lbnRzRGVmaW5pdGlvbi5kZWxldGUoY29tcG9uZW50SWQpO1xuICAgIH1cbiAgICBjb21wb25lbnRzLlRyYW5zZm9ybSh7IGRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEgfSk7XG4gICAgZnVuY3Rpb24gc2VhbCgpIHtcbiAgICAgICAgaWYgKCFzZWFsZWQpIHtcbiAgICAgICAgICAgIHNlYWxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkRW50aXR5LFxuICAgICAgICByZW1vdmVFbnRpdHksXG4gICAgICAgIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbixcbiAgICAgICAgYWRkU3lzdGVtLFxuICAgICAgICBnZXRTeXN0ZW1zLFxuICAgICAgICByZW1vdmVTeXN0ZW0sXG4gICAgICAgIGRlZmluZUNvbXBvbmVudCxcbiAgICAgICAgZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSxcbiAgICAgICAgZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hLFxuICAgICAgICBnZXRFbnRpdGllc1dpdGgsXG4gICAgICAgIGdldENvbXBvbmVudCxcbiAgICAgICAgZ2V0Q29tcG9uZW50T3JOdWxsOiBnZXRDb21wb25lbnRPck51bGwsXG4gICAgICAgIGdldEVudGl0eU9yTnVsbEJ5TmFtZSxcbiAgICAgICAgcmVtb3ZlQ29tcG9uZW50RGVmaW5pdGlvbixcbiAgICAgICAgcmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICBlbnRpdHlDb250YWluZXIsXG4gICAgICAgIGNvbXBvbmVudHNJdGVyLFxuICAgICAgICBzZWFsXG4gICAgfTtcbn1cbi8qKlxuICogSW50ZXJuYWwgY29uc3RydWN0b3Igb2YgbmV3IGVuZ2luZXMsIHRoaXMgaXMgYW4gaW50ZXJuYWwgQVBJXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBQcmV2ZW50IG1hbnVhbCB1c2FnZSBwcmVmZXIgXCJlbmdpbmVcIiBmb3Igc2NlbmUgZGV2ZWxvcG1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVuZ2luZShvcHRpb25zKSB7XG4gICAgY29uc3QgcGFydGlhbEVuZ2luZSA9IHByZUVuZ2luZShvcHRpb25zKTtcbiAgICBjb25zdCBvbkNoYW5nZUZ1bmN0aW9uID0gKGVudGl0eSwgb3BlcmF0aW9uLCBjb21wb25lbnQsIGNvbXBvbmVudFZhbHVlKSA9PiB7XG4gICAgICAgIGlmIChvcGVyYXRpb24gPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBwYXJ0aWFsRW5naW5lLmNvbXBvbmVudHNJdGVyKCkpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ/Ll9fb25DaGFuZ2VDYWxsYmFja3MoZW50aXR5LCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tcG9uZW50Py5fX29uQ2hhbmdlQ2FsbGJhY2tzKGVudGl0eSwgY29tcG9uZW50VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25zPy5vbkNoYW5nZUZ1bmN0aW9uKGVudGl0eSwgb3BlcmF0aW9uLCBjb21wb25lbnQsIGNvbXBvbmVudFZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IGNyZHRTeXN0ZW0gPSBjcmR0U2NlbmVTeXN0ZW0ocGFydGlhbEVuZ2luZSwgb25DaGFuZ2VGdW5jdGlvbik7XG4gICAgYXN5bmMgZnVuY3Rpb24gdXBkYXRlKGR0KSB7XG4gICAgICAgIGF3YWl0IGNyZHRTeXN0ZW0ucmVjZWl2ZU1lc3NhZ2VzKCk7XG4gICAgICAgIGZvciAoY29uc3Qgc3lzdGVtIG9mIHBhcnRpYWxFbmdpbmUuZ2V0U3lzdGVtcygpKSB7XG4gICAgICAgICAgICBjb25zdCByZXQgPSBzeXN0ZW0uZm4oZHQpO1xuICAgICAgICAgICAgY2hlY2tOb3RUaGVuYWJsZShyZXQsIGBBIHN5c3RlbSAoJHtzeXN0ZW0ubmFtZSB8fCAnYW5vbnltb3VzJ30pIHJldHVybmVkIGEgdGhlbmFibGUuIFN5c3RlbXMgY2Fubm90IGJlIGFzeW5jIGZ1bmN0aW9ucy4gRG9jdW1lbnRhdGlvbjogaHR0cHM6Ly9kY2wuZ2cvc2RrL3N5bmMtc3lzdGVtc2ApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGdldCB0aGUgZGVsZXRlZCBlbnRpdGllcyB0byBzZW5kIHRoZSBEZWxldGVFbnRpdHkgQ1JEVCBjb21tYW5kc1xuICAgICAgICBjb25zdCBkZWxldGVkRW50aXRlcyA9IHBhcnRpYWxFbmdpbmUuZW50aXR5Q29udGFpbmVyLnJlbGVhc2VSZW1vdmVkRW50aXRpZXMoKTtcbiAgICAgICAgYXdhaXQgY3JkdFN5c3RlbS5zZW5kTWVzc2FnZXMoZGVsZXRlZEVudGl0ZXMpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBfaWQ6IERhdGUubm93KCksXG4gICAgICAgIGFkZEVudGl0eTogcGFydGlhbEVuZ2luZS5hZGRFbnRpdHksXG4gICAgICAgIHJlbW92ZUVudGl0eTogcGFydGlhbEVuZ2luZS5yZW1vdmVFbnRpdHksXG4gICAgICAgIHJlbW92ZUVudGl0eVdpdGhDaGlsZHJlbjogcGFydGlhbEVuZ2luZS5yZW1vdmVFbnRpdHlXaXRoQ2hpbGRyZW4sXG4gICAgICAgIGFkZFN5c3RlbTogcGFydGlhbEVuZ2luZS5hZGRTeXN0ZW0sXG4gICAgICAgIHJlbW92ZVN5c3RlbTogcGFydGlhbEVuZ2luZS5yZW1vdmVTeXN0ZW0sXG4gICAgICAgIGRlZmluZUNvbXBvbmVudDogcGFydGlhbEVuZ2luZS5kZWZpbmVDb21wb25lbnQsXG4gICAgICAgIGRlZmluZUNvbXBvbmVudEZyb21TY2hlbWE6IHBhcnRpYWxFbmdpbmUuZGVmaW5lQ29tcG9uZW50RnJvbVNjaGVtYSxcbiAgICAgICAgZGVmaW5lVmFsdWVTZXRDb21wb25lbnRGcm9tU2NoZW1hOiBwYXJ0aWFsRW5naW5lLmRlZmluZVZhbHVlU2V0Q29tcG9uZW50RnJvbVNjaGVtYSxcbiAgICAgICAgcmVnaXN0ZXJDb21wb25lbnREZWZpbml0aW9uOiBwYXJ0aWFsRW5naW5lLnJlZ2lzdGVyQ29tcG9uZW50RGVmaW5pdGlvbixcbiAgICAgICAgZ2V0RW50aXRpZXNXaXRoOiBwYXJ0aWFsRW5naW5lLmdldEVudGl0aWVzV2l0aCxcbiAgICAgICAgZ2V0Q29tcG9uZW50OiBwYXJ0aWFsRW5naW5lLmdldENvbXBvbmVudCxcbiAgICAgICAgZ2V0Q29tcG9uZW50T3JOdWxsOiBwYXJ0aWFsRW5naW5lLmdldENvbXBvbmVudE9yTnVsbCxcbiAgICAgICAgcmVtb3ZlQ29tcG9uZW50RGVmaW5pdGlvbjogcGFydGlhbEVuZ2luZS5yZW1vdmVDb21wb25lbnREZWZpbml0aW9uLFxuICAgICAgICBjb21wb25lbnRzSXRlcjogcGFydGlhbEVuZ2luZS5jb21wb25lbnRzSXRlcixcbiAgICAgICAgc2VhbDogcGFydGlhbEVuZ2luZS5zZWFsLFxuICAgICAgICBnZXRFbnRpdHlPck51bGxCeU5hbWU6IHBhcnRpYWxFbmdpbmUuZ2V0RW50aXR5T3JOdWxsQnlOYW1lLFxuICAgICAgICB1cGRhdGUsXG4gICAgICAgIFJvb3RFbnRpdHk6IDAsXG4gICAgICAgIFBsYXllckVudGl0eTogMSxcbiAgICAgICAgQ2FtZXJhRW50aXR5OiAyLFxuICAgICAgICBnZXRFbnRpdHlTdGF0ZTogcGFydGlhbEVuZ2luZS5lbnRpdHlDb250YWluZXIuZ2V0RW50aXR5U3RhdGUsXG4gICAgICAgIGFkZFRyYW5zcG9ydDogY3JkdFN5c3RlbS5hZGRUcmFuc3BvcnQsXG4gICAgICAgIGVudGl0eUNvbnRhaW5lcjogcGFydGlhbEVuZ2luZS5lbnRpdHlDb250YWluZXJcbiAgICB9O1xufVxuIiwgImltcG9ydCAqIGFzIGNvbXBvbmVudHMgZnJvbSAnLi4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBFbnRpdHlTdGF0ZSB9IGZyb20gJy4uL2VuZ2luZS9lbnRpdHknO1xuaW1wb3J0IHsgY2hlY2tOb3RUaGVuYWJsZSB9IGZyb20gJy4uL3J1bnRpbWUvaW52YXJpYW50JztcbmV4cG9ydCBjb25zdCBnZXREZWZhdWx0T3B0cyA9IChvcHRzID0ge30pID0+ICh7XG4gICAgYnV0dG9uOiAzIC8qIElucHV0QWN0aW9uLklBX0FOWSAqLyxcbiAgICAuLi5vcHRzXG59KTtcbi8qKlxuICogQHB1YmxpY1xuICogX19fRE8gTk9UIFVTRV9fXyB1c2UgcG9pbnRlckV2ZW50c1N5c3RlbSBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQb2ludGVyRXZlbnRzU3lzdGVtKGVuZ2luZSwgaW5wdXRTeXN0ZW0pIHtcbiAgICBjb25zdCBQb2ludGVyRXZlbnRzID0gY29tcG9uZW50cy5Qb2ludGVyRXZlbnRzKGVuZ2luZSk7XG4gICAgbGV0IEV2ZW50VHlwZTtcbiAgICAoZnVuY3Rpb24gKEV2ZW50VHlwZSkge1xuICAgICAgICBFdmVudFR5cGVbRXZlbnRUeXBlW1wiQ2xpY2tcIl0gPSAwXSA9IFwiQ2xpY2tcIjtcbiAgICAgICAgRXZlbnRUeXBlW0V2ZW50VHlwZVtcIkRvd25cIl0gPSAxXSA9IFwiRG93blwiO1xuICAgICAgICBFdmVudFR5cGVbRXZlbnRUeXBlW1wiVXBcIl0gPSAyXSA9IFwiVXBcIjtcbiAgICB9KShFdmVudFR5cGUgfHwgKEV2ZW50VHlwZSA9IHt9KSk7XG4gICAgY29uc3QgZXZlbnRzTWFwID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGdldEV2ZW50KGVudGl0eSkge1xuICAgICAgICByZXR1cm4gZXZlbnRzTWFwLmdldChlbnRpdHkpIHx8IGV2ZW50c01hcC5zZXQoZW50aXR5LCBuZXcgTWFwKCkpLmdldChlbnRpdHkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCB0eXBlLCBvcHRzKSB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJFdmVudCA9IFBvaW50ZXJFdmVudHMuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpIHx8IFBvaW50ZXJFdmVudHMuY3JlYXRlKGVudGl0eSk7XG4gICAgICAgIHBvaW50ZXJFdmVudC5wb2ludGVyRXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgZXZlbnRUeXBlOiB0eXBlLFxuICAgICAgICAgICAgZXZlbnRJbmZvOiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uOiBvcHRzLmJ1dHRvbixcbiAgICAgICAgICAgICAgICBzaG93RmVlZGJhY2s6IG9wdHMuc2hvd0ZlZWRiYWNrLFxuICAgICAgICAgICAgICAgIHNob3dIaWdobGlnaHQ6IG9wdHMuc2hvd0hpZ2hsaWdodCxcbiAgICAgICAgICAgICAgICBob3ZlclRleHQ6IG9wdHMuaG92ZXJUZXh0LFxuICAgICAgICAgICAgICAgIG1heERpc3RhbmNlOiBvcHRzLm1heERpc3RhbmNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVQb2ludGVyRXZlbnQoZW50aXR5LCB0eXBlLCBidXR0b24pIHtcbiAgICAgICAgY29uc3QgcG9pbnRlckV2ZW50ID0gUG9pbnRlckV2ZW50cy5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSk7XG4gICAgICAgIGlmICghcG9pbnRlckV2ZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwb2ludGVyRXZlbnQucG9pbnRlckV2ZW50cyA9IHBvaW50ZXJFdmVudC5wb2ludGVyRXZlbnRzLmZpbHRlcigocG9pbnRlcikgPT4gIShwb2ludGVyLmV2ZW50SW5mbz8uYnV0dG9uID09PSBidXR0b24gJiYgcG9pbnRlci5ldmVudFR5cGUgPT09IHR5cGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UG9pbnRlckV2ZW50KGV2ZW50VHlwZSkge1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSBFdmVudFR5cGUuVXApIHtcbiAgICAgICAgICAgIHJldHVybiAwIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX1VQICovO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAxIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04gKi87XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50KGVudGl0eSwgdHlwZSkge1xuICAgICAgICBjb25zdCBldmVudCA9IGdldEV2ZW50KGVudGl0eSk7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJFdmVudCA9IGV2ZW50LmdldCh0eXBlKTtcbiAgICAgICAgaWYgKHBvaW50ZXJFdmVudD8ub3B0cy5ob3ZlclRleHQpIHtcbiAgICAgICAgICAgIHJlbW92ZVBvaW50ZXJFdmVudChlbnRpdHksIGdldFBvaW50ZXJFdmVudCh0eXBlKSwgcG9pbnRlckV2ZW50Lm9wdHMuYnV0dG9uKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5kZWxldGUodHlwZSk7XG4gICAgfVxuICAgIGVuZ2luZS5hZGRTeXN0ZW0oZnVuY3Rpb24gRXZlbnRTeXN0ZW0oKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgZXZlbnRdIG9mIGV2ZW50c01hcCkge1xuICAgICAgICAgICAgaWYgKGVuZ2luZS5nZXRFbnRpdHlTdGF0ZShlbnRpdHkpID09PSBFbnRpdHlTdGF0ZS5SZW1vdmVkKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRzTWFwLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBbZXZlbnRUeXBlLCB7IGNiLCBvcHRzIH1dIG9mIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSBpbnB1dFN5c3RlbS5nZXRDbGljayhvcHRzLmJ1dHRvbiwgZW50aXR5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja05vdFRoZW5hYmxlKGNiKGNvbW1hbmQudXApLCAnQ2xpY2sgZXZlbnQgcmV0dXJuZWQgYSB0aGVuYWJsZS4gT25seSBzeW5jaHJvbm91cyBmdW5jdGlvbnMgYXJlIGFsbG93ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gRXZlbnRUeXBlLkRvd24gfHwgZXZlbnRUeXBlID09PSBFdmVudFR5cGUuVXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWFuZCA9IGlucHV0U3lzdGVtLmdldElucHV0Q29tbWFuZChvcHRzLmJ1dHRvbiwgZ2V0UG9pbnRlckV2ZW50KGV2ZW50VHlwZSksIGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja05vdFRoZW5hYmxlKGNiKGNvbW1hbmQpLCAnRXZlbnQgaGFuZGxlciByZXR1cm5lZCBhIHRoZW5hYmxlLiBPbmx5IHN5bmNocm9ub3VzIGZ1bmN0aW9ucyBhcmUgYWxsb3dlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyRG93biA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IFtkYXRhLCBjYiwgbWF5YmVPcHRzXSA9IGFyZ3M7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBvblBvaW50ZXJEb3duKHsgZW50aXR5OiBkYXRhLCBvcHRzOiBtYXliZU9wdHMgPz8ge30gfSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW50aXR5LCBvcHRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0RGVmYXVsdE9wdHMob3B0cyk7XG4gICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLkRvd24pO1xuICAgICAgICBnZXRFdmVudChlbnRpdHkpLnNldChFdmVudFR5cGUuRG93biwgeyBjYiwgb3B0czogb3B0aW9ucyB9KTtcbiAgICAgICAgc2V0UG9pbnRlckV2ZW50KGVudGl0eSwgMSAvKiBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOICovLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIGNvbnN0IG9uUG9pbnRlclVwID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgW2RhdGEsIGNiLCBtYXliZU9wdHNdID0gYXJncztcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIG9uUG9pbnRlclVwKHsgZW50aXR5OiBkYXRhLCBvcHRzOiBtYXliZU9wdHMgPz8ge30gfSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW50aXR5LCBvcHRzIH0gPSBkYXRhO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0RGVmYXVsdE9wdHMob3B0cyk7XG4gICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLlVwKTtcbiAgICAgICAgZ2V0RXZlbnQoZW50aXR5KS5zZXQoRXZlbnRUeXBlLlVwLCB7IGNiLCBvcHRzOiBvcHRpb25zIH0pO1xuICAgICAgICBzZXRQb2ludGVyRXZlbnQoZW50aXR5LCAwIC8qIFBvaW50ZXJFdmVudFR5cGUuUEVUX1VQICovLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlbW92ZU9uQ2xpY2soZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5DbGljayk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZU9uUG9pbnRlckRvd24oZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5Eb3duKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlT25Qb2ludGVyVXAoZW50aXR5KSB7XG4gICAgICAgICAgICByZW1vdmVFdmVudChlbnRpdHksIEV2ZW50VHlwZS5VcCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2xpY2sodmFsdWUsIGNiKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVudGl0eSB9ID0gdmFsdWU7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gZ2V0RGVmYXVsdE9wdHModmFsdWUub3B0cyk7XG4gICAgICAgICAgICAvLyBDbGVhciBwcmV2aW91cyBldmVudCB3aXRoIG92ZXIgZmVlZGJhY2sgaW5jbHVkZWRcbiAgICAgICAgICAgIHJlbW92ZUV2ZW50KGVudGl0eSwgRXZlbnRUeXBlLkNsaWNrKTtcbiAgICAgICAgICAgIC8vIFNldCBuZXcgZXZlbnRcbiAgICAgICAgICAgIGdldEV2ZW50KGVudGl0eSkuc2V0KEV2ZW50VHlwZS5DbGljaywgeyBjYiwgb3B0czogb3B0aW9ucyB9KTtcbiAgICAgICAgICAgIHNldFBvaW50ZXJFdmVudChlbnRpdHksIDEgLyogUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTiAqLywgb3B0aW9ucyk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUG9pbnRlckRvd24sXG4gICAgICAgIG9uUG9pbnRlclVwXG4gICAgfTtcbn1cbiIsICJpbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBkYXRhQ29tcGFyZSB9IGZyb20gJy4vY3JkdC91dGlscyc7XG4vKipcbiAqIEF2b2lkIGNyZWF0aW5nIG11bHRpcGxlIHR3ZWVuIHN5c3RlbXNcbiAqL1xuY29uc3QgY2FjaGVUd2VlbiA9IG5ldyBNYXAoKTtcbi8qKlxuICogQHB1YmxpY1xuICogQHJldHVybnMgdHdlZW4gaGVscGVyIHRvIGJlIHVzZWQgb24gdGhlIHNjZW5lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUd2VlblN5c3RlbShlbmdpbmUpIHtcbiAgICBpZiAoY2FjaGVUd2Vlbi5oYXMoZW5naW5lLl9pZCkpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlVHdlZW4uZ2V0KGVuZ2luZS5faWQpO1xuICAgIH1cbiAgICBjb25zdCBUd2VlbiA9IGNvbXBvbmVudHMuVHdlZW4oZW5naW5lKTtcbiAgICBjb25zdCBUd2VlblN0YXRlID0gY29tcG9uZW50cy5Ud2VlblN0YXRlKGVuZ2luZSk7XG4gICAgY29uc3QgVHdlZW5TZXF1ZW5jZSA9IGNvbXBvbmVudHMuVHdlZW5TZXF1ZW5jZShlbmdpbmUpO1xuICAgIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICAgIGZ1bmN0aW9uIGlzQ29tcGxldGVkKGVudGl0eSkge1xuICAgICAgICBjb25zdCB0d2VlblN0YXRlID0gVHdlZW5TdGF0ZS5nZXRPck51bGwoZW50aXR5KTtcbiAgICAgICAgY29uc3QgdHdlZW4gPSBUd2Vlbi5nZXRPck51bGwoZW50aXR5KTtcbiAgICAgICAgY29uc3QgdHdlZW5DYWNoZSA9IGNhY2hlLmdldChlbnRpdHkpO1xuICAgICAgICBpZiAoIXR3ZWVuU3RhdGUgfHwgIXR3ZWVuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIFJlbmRlcmVyIG5vdGlmaWVkIHRoYXQgdGhlIHR3ZWVuIGlzIGNvbXBsZXRlZFxuICAgICAgICAodHdlZW5DaGFuZ2VkKGVudGl0eSkgfHwgdHdlZW5TdGF0ZS5zdGF0ZSA9PT0gMSAvKiBUd2VlblN0YXRlU3RhdHVzLlRTX0NPTVBMRVRFRCAqLykgJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNlbmRpbmcgaXNDb21wbGV0ZWQgbXVsdGlwbGUgdGltZXNcbiAgICAgICAgICAgICF0d2VlbkNhY2hlPy5jb21wbGV0ZWQgJiZcbiAgICAgICAgICAgIC8vIEFtb3VudCBvZiBmcmFtZXMgbmVlZGVkIHRvIGNvbnNpZGVyIGEgdHdlZW4gY29tcGxldGVkXG4gICAgICAgICAgICAodHdlZW5DYWNoZT8uZnJhbWVzID8/IDApID4gMikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0d2VlbkNoYW5nZWQoZW50aXR5KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUd2VlbiA9IFR3ZWVuLmdldE9yTnVsbChlbnRpdHkpO1xuICAgICAgICBjb25zdCBwcmV2VHdlZW4gPSBjYWNoZS5nZXQoZW50aXR5KT8udHdlZW47XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmICgoY3VycmVudFR3ZWVuICYmICFwcmV2VHdlZW4pIHx8ICghY3VycmVudFR3ZWVuICYmIHByZXZUd2VlbikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRCdWZmID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgVHdlZW4uc2NoZW1hLnNlcmlhbGl6ZShjdXJyZW50VHdlZW4sIGN1cnJlbnRCdWZmKTtcbiAgICAgICAgY29uc3QgZXF1YWwgPSBkYXRhQ29tcGFyZShjdXJyZW50QnVmZi50b0JpbmFyeSgpLCBwcmV2VHdlZW4pO1xuICAgICAgICByZXR1cm4gZXF1YWw7XG4gICAgfVxuICAgIGNvbnN0IHJlc3RhcnRUd2VlbnMgPSBbXTtcbiAgICAvLyBMb2dpYyBmb3Igc2VxdWVuY2UgdHdlZW5zXG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgcmVzdGFydCBvZiByZXN0YXJ0VHdlZW5zKSB7XG4gICAgICAgICAgICByZXN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdGFydFR3ZWVucy5sZW5ndGggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IFtlbnRpdHksIHR3ZWVuXSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFR3ZWVuKSkge1xuICAgICAgICAgICAgaWYgKHR3ZWVuQ2hhbmdlZChlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBUd2Vlbi5zY2hlbWEuc2VyaWFsaXplKHR3ZWVuLCBidWZmZXIpO1xuICAgICAgICAgICAgICAgIGNhY2hlLnNldChlbnRpdHksIHtcbiAgICAgICAgICAgICAgICAgICAgdHdlZW46IGJ1ZmZlci50b0JpbmFyeSgpLFxuICAgICAgICAgICAgICAgICAgICBmcmFtZXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHR3ZWVuQ2FjaGUgPSBjYWNoZS5nZXQoZW50aXR5KTtcbiAgICAgICAgICAgIHR3ZWVuQ2FjaGUuZnJhbWVzICs9IDE7XG4gICAgICAgICAgICB0d2VlbkNhY2hlLmNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc0NvbXBsZXRlZChlbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdHdlZW4gZnJhbWVzLlxuICAgICAgICAgICAgICAgIHR3ZWVuQ2FjaGUuZnJhbWVzID0gMDtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHR3ZWVuIGNvbXBsZXRlZCB0byBhdm9pZCBjYWxsaW5nIHRoaXMgYWdhaW4gZm9yIHRoZSBzYW1lIHR3ZWVuXG4gICAgICAgICAgICAgICAgdHdlZW5DYWNoZS5jb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHR3ZWVuU2VxdWVuY2UgPSBUd2VlblNlcXVlbmNlLmdldE9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgICAgIGlmICghdHdlZW5TZXF1ZW5jZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzZXF1ZW5jZSB9ID0gdHdlZW5TZXF1ZW5jZTtcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UgJiYgc2VxdWVuY2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFtuZXh0VHdlZW5TZXF1ZW5jZSwgLi4ub3RoZXJUd2VlbnNdID0gc2VxdWVuY2U7XG4gICAgICAgICAgICAgICAgICAgIFR3ZWVuLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIG5leHRUd2VlblNlcXVlbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXV0YWJsZVR3ZWVuSGVscGVyID0gVHdlZW5TZXF1ZW5jZS5nZXRNdXRhYmxlKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIG11dGFibGVUd2VlbkhlbHBlci5zZXF1ZW5jZSA9IG90aGVyVHdlZW5zO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHdlZW5TZXF1ZW5jZS5sb29wID09PSAwIC8qIFR3ZWVuTG9vcC5UTF9SRVNUQVJUICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhYmxlVHdlZW5IZWxwZXIuc2VxdWVuY2UucHVzaCh0d2Vlbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHdlZW5TZXF1ZW5jZS5sb29wID09PSAxIC8qIFR3ZWVuTG9vcC5UTF9ZT1lPICovKSB7XG4gICAgICAgICAgICAgICAgICAgIFR3ZWVuLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIGJhY2t3YXJkc1R3ZWVuKHR3ZWVuKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR3ZWVuU2VxdWVuY2UubG9vcCA9PT0gMCAvKiBUd2Vlbkxvb3AuVExfUkVTVEFSVCAqLykge1xuICAgICAgICAgICAgICAgICAgICBUd2Vlbi5kZWxldGVGcm9tKGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShlbnRpdHkpO1xuICAgICAgICAgICAgICAgICAgICByZXN0YXJ0VHdlZW5zLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgVHdlZW4uY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgdHdlZW4pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgIGZ1bmN0aW9uIGJhY2t3YXJkc1R3ZWVuKHR3ZWVuKSB7XG4gICAgICAgIGlmICh0d2Vlbi5tb2RlPy4kY2FzZSA9PT0gJ21vdmUnICYmIHR3ZWVuLm1vZGUubW92ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4udHdlZW4sIG1vZGU6IHsgLi4udHdlZW4ubW9kZSwgbW92ZTogeyBzdGFydDogdHdlZW4ubW9kZS5tb3ZlLmVuZCwgZW5kOiB0d2Vlbi5tb2RlLm1vdmUuc3RhcnQgfSB9IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR3ZWVuLm1vZGU/LiRjYXNlID09PSAncm90YXRlJyAmJiB0d2Vlbi5tb2RlLnJvdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi50d2VlbixcbiAgICAgICAgICAgICAgICBtb2RlOiB7IC4uLnR3ZWVuLm1vZGUsIHJvdGF0ZTogeyBzdGFydDogdHdlZW4ubW9kZS5yb3RhdGUuZW5kLCBlbmQ6IHR3ZWVuLm1vZGUucm90YXRlLnN0YXJ0IH0gfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHdlZW4ubW9kZT8uJGNhc2UgPT09ICdzY2FsZScgJiYgdHdlZW4ubW9kZS5zY2FsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4udHdlZW4sIG1vZGU6IHsgLi4udHdlZW4ubW9kZSwgc2NhbGU6IHsgc3RhcnQ6IHR3ZWVuLm1vZGUuc2NhbGUuZW5kLCBlbmQ6IHR3ZWVuLm1vZGUuc2NhbGUuc3RhcnQgfSB9IH07XG4gICAgICAgIH1cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHR3ZWVuJyk7XG4gICAgfVxuICAgIGNvbnN0IHR3ZWVuU3lzdGVtID0ge1xuICAgICAgICAvLyBUaGlzIGV2ZW50IGlzIGZpcmVkIG9ubHkgb25jZSBwZXIgdHdlZW5cbiAgICAgICAgdHdlZW5Db21wbGV0ZWQ6IGlzQ29tcGxldGVkXG4gICAgfTtcbiAgICBjYWNoZVR3ZWVuLnNldChlbmdpbmUuX2lkLCB0d2VlblN5c3RlbSk7XG4gICAgcmV0dXJuIHR3ZWVuU3lzdGVtO1xufVxuIiwgIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5pbXBvcnQgKiBhcyBjb21wb25lbnRzIGZyb20gJy4uL2NvbXBvbmVudHMnO1xuLyoqXG4gKiBJdCBjaGVja3MgYWxsIHRoZSBlbnRpdGllcyB0aGF0IGhhcyBhIFBvaW50ZXJFdmVudCBhbmQgY2hlY2sgaWYgaXQgaGFzIGEgY29sbGlkZXIuXG4gKiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW1zIGVuZ2luZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9pbnRlckV2ZW50Q29sbGlkZXJDaGVja2VyKGVuZ2luZSkge1xuICAgIGNvbnN0IFBvaW50ZXJFdmVudHMgPSBjb21wb25lbnRzLlBvaW50ZXJFdmVudHMoZW5naW5lKTtcbiAgICBjb25zdCBNZXNoQ29sbGlkZXIgPSBjb21wb25lbnRzLk1lc2hDb2xsaWRlcihlbmdpbmUpO1xuICAgIGNvbnN0IEdsdGZDb250YWluZXIgPSBjb21wb25lbnRzLkdsdGZDb250YWluZXIoZW5naW5lKTtcbiAgICBjb25zdCBVaVRyYW5zZm9ybSA9IGNvbXBvbmVudHMuVWlUcmFuc2Zvcm0oZW5naW5lKTtcbiAgICBjb25zdCBhbHJlYWR5U2hvd25sb2cgPSBuZXcgU2V0KCk7XG4gICAgbGV0IHRpbWVyID0gMDtcbiAgICBmdW5jdGlvbiBzeXN0ZW1DaGVja2VyKGR0KSB7XG4gICAgICAgIHRpbWVyICs9IGR0O1xuICAgICAgICBpZiAodGltZXIgPD0gMTApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aW1lciA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eV0gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChQb2ludGVyRXZlbnRzKSkge1xuICAgICAgICAgICAgaWYgKGFscmVhZHlTaG93bmxvZy5oYXMoZW50aXR5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIE1heWJlIHRoZSBjb2xsaWRlciBpcyBpbnNpZGUgdGhlIEdMVEZDb250YWluZXIuIElnbm9yZSBpdFxuICAgICAgICAgICAgaWYgKEdsdGZDb250YWluZXIuaGFzKGVudGl0eSkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAvLyBVSSBoYW5kbGVzIHRoZSBwb2ludGVyJ3MgaW4gYSBkaWZmIHdheS5cbiAgICAgICAgICAgIGlmIChVaVRyYW5zZm9ybS5oYXMoZW50aXR5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBNZXNoIFBvaW50ZXIgQ29sbGlzaW9uIExheWVyXG4gICAgICAgICAgICBjb25zdCBtZXNoID0gTWVzaENvbGxpZGVyLmdldE9yTnVsbChlbnRpdHkpO1xuICAgICAgICAgICAgaWYgKG1lc2gpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVzaC5jb2xsaXNpb25NYXNrID09PSB1bmRlZmluZWQgfHwgbWVzaC5jb2xsaXNpb25NYXNrICYgMSAvKiBjb21wb25lbnRzLkNvbGxpZGVyTGF5ZXIuQ0xfUE9JTlRFUiAqLykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbHJlYWR5U2hvd25sb2cuYWRkKGVudGl0eSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgXHUyNkEwXHVGRTBGIE1pc3NpbmcgTWVzaENvbGxpZGVyIGNvbXBvbmVudCBvbiBlbnRpdHkgJHtlbnRpdHl9LiBBZGQgYSBNZXNoQ29sbGlkZXIgdG8gdGhlIGVudGl0eSBzbyBpdCBjYW4gYmUgY2xpY2tlYWJsZSBieSB0aGUgcGxheWVyLlxuU2VlIGh0dHBzOi8vZG9jcy5kZWNlbnRyYWxhbmQub3JnL2NyZWF0b3IvZGV2ZWxvcG1lbnQtZ3VpZGUvc2RrNy9jb2xsaWRlcnMvI3BvaW50ZXItYmxvY2tpbmdgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbmdpbmUucmVtb3ZlU3lzdGVtKHN5c3RlbUNoZWNrZXIpO1xuICAgIGVuZ2luZS5hZGRTeXN0ZW0oc3lzdGVtQ2hlY2tlcik7XG59XG4iLCAiLyoqXG4gKiBAYWxwaGEgKiBUaGlzIGZpbGUgaW5pdGlhbGl6YXRpb24gaXMgYW4gYWxwaGEgb25lLiBUaGlzIGlzIGJhc2VkIG9uIHRoZSBvbGQtZWNzXG4gKiBpbml0IGFuZCBpdCdsbCBiZSBjaGFuZ2luZy5cbiAqL1xuaW1wb3J0IHsgRW5naW5lIH0gZnJvbSAnLi4vLi4vZW5naW5lJztcbmltcG9ydCB7IGNyZWF0ZVRhc2tTeXN0ZW0gfSBmcm9tICcuLi8uLi9zeXN0ZW1zL2FzeW5jLXRhc2snO1xuaW1wb3J0IHsgY3JlYXRlUG9pbnRlckV2ZW50c1N5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvZXZlbnRzJztcbmltcG9ydCB7IGNyZWF0ZUlucHV0U3lzdGVtIH0gZnJvbSAnLi8uLi8uLi9lbmdpbmUvaW5wdXQnO1xuaW1wb3J0IHsgY3JlYXRlUmF5Y2FzdFN5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvcmF5Y2FzdCc7XG5pbXBvcnQgeyBjcmVhdGVWaWRlb0V2ZW50c1N5c3RlbSB9IGZyb20gJy4uLy4uL3N5c3RlbXMvdmlkZW9FdmVudHMnO1xuaW1wb3J0IHsgY3JlYXRlVHdlZW5TeXN0ZW0gfSBmcm9tICcuLi8uLi9zeXN0ZW1zL3R3ZWVuJztcbmltcG9ydCB7IHBvaW50ZXJFdmVudENvbGxpZGVyQ2hlY2tlciB9IGZyb20gJy4uLy4uL3N5c3RlbXMvcG9pbnRlci1ldmVudC1jb2xsaWRlci1jaGVja2VyJztcbi8qKlxuICogQHB1YmxpY1xuICogVGhlIGVuZ2luZSBpcyB0aGUgcGFydCBvZiB0aGUgc2NlbmUgdGhhdCBzaXRzIGluIHRoZSBtaWRkbGUgYW5kIG1hbmFnZXMgYWxsIG9mIHRoZSBvdGhlciBwYXJ0cy5cbiAqIEl0IGRldGVybWluZXMgd2hhdCBlbnRpdGllcyBhcmUgcmVuZGVyZWQgYW5kIGhvdyBwbGF5ZXJzIGludGVyYWN0IHdpdGggdGhlbS5cbiAqIEl0IGFsc28gY29vcmRpbmF0ZXMgd2hhdCBmdW5jdGlvbnMgZnJvbSBzeXN0ZW1zIGFyZSBleGVjdXRlZCBhbmQgd2hlbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgZW5naW5lIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuICogY29uc3QgZW50aXR5ID0gZW5naW5lLmFkZEVudGl0eSgpXG4gKiBlbmdpbmUuYWRkU3lzdGVtKHNvbWVTeXN0ZW1GdW5jdGlvbilcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBlbmdpbmUgPSAvKiBAX19QVVJFX18gKi8gRW5naW5lKCk7XG4vKipcbiAqIEBwdWJsaWNcbiAqIElucHV0IHN5c3RlbSBtYW5hZ2VyLiBDaGVjayBmb3IgYnV0dG9uIGV2ZW50c1xuICogQGV4YW1wbGVcbiAqIGlucHV0U3lzdGVtLmlzVHJpZ2dlcmVkOiBSZXR1cm5zIHRydWUgaWYgYW4gaW5wdXQgYWN0aW9uIG9jdXJyZWQgc2luY2UgdGhlIGxhc3QgdGljay5cbiAqIGlucHV0U3lzdGVtLmlzUHJlc3NlZDogUmV0dXJucyB0cnVlIGlmIGFuIGlucHV0IGlzIGN1cnJlbnRseSBiZWluZyBwcmVzc2VkIGRvd24uIEl0IHdpbGwgcmV0dXJuIHRydWUgb24gZXZlcnkgdGljayB1bnRpbCB0aGUgYnV0dG9uIGdvZXMgdXAgYWdhaW4uXG4gKiBpbnB1dFN5c3RlbS5nZXRJbnB1dENvbW1hbmQ6IFJldHVybnMgYW4gb2JqZWN0IHdpdGggZGF0YSBhYm91dCB0aGUgaW5wdXQgYWN0aW9uLlxuICovXG5leHBvcnQgY29uc3QgaW5wdXRTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5wdXRTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gaW5wdXQgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgcG9pbnRlckV2ZW50c1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVQb2ludGVyRXZlbnRzU3lzdGVtKGVuZ2luZSwgaW5wdXRTeXN0ZW0pO1xuLyoqXG4gKiBAcHVibGljXG4gKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbnMgdG8gYSBwYXJ0aWN1bGFyIGVudGl0eSBvbiByYXljYXN0IHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBjb25zdCByYXljYXN0U3lzdGVtID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVJheWNhc3RTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gdmlkZW8gZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgdmlkZW9FdmVudHNTeXN0ZW0gPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlVmlkZW9FdmVudHNTeXN0ZW0oZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb25zIHRvIGEgcGFydGljdWxhciBlbnRpdHkgb24gdmlkZW8gZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3QgdHdlZW5TeXN0ZW0gPSBjcmVhdGVUd2VlblN5c3RlbShlbmdpbmUpO1xuLyoqXG4gKiBBZGRzIHBvaW50ZXIgZXZlbnQgY29sbGlkZXIgc3lzdGVtIG9ubHkgaW4gREVWIGVudlxuICovXG5wb2ludGVyRXZlbnRDb2xsaWRlckNoZWNrZXIoZW5naW5lKTtcbi8qKlxuICogQHB1YmxpY1xuICogUnVucyBhbiBhc3luYyBmdW5jdGlvblxuICovXG5leHBvcnQgY29uc3QgZXhlY3V0ZVRhc2sgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlVGFza1N5c3RlbShlbmdpbmUpO1xuIiwgImltcG9ydCB7IGVuZ2luZSB9IGZyb20gJy4uLy4uL3J1bnRpbWUvaW5pdGlhbGl6YXRpb24nO1xuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuL2luZGV4Lmdlbic7XG5leHBvcnQgKiBmcm9tICcuL2luZGV4Lmdlbic7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9FdmVudCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF1ZGlvRXZlbnQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBBdWRpb1NvdXJjZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF1ZGlvU291cmNlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXVkaW9TdHJlYW0gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdWRpb1N0cmVhbShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhckF0dGFjaCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkF2YXRhckF0dGFjaChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEF2YXRhckJhc2UgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdmF0YXJCYXNlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyRW1vdGVDb21tYW5kID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyRW1vdGVDb21tYW5kKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyRXF1aXBwZWREYXRhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyRXF1aXBwZWREYXRhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyTW9kaWZpZXJBcmVhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuQXZhdGFyTW9kaWZpZXJBcmVhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQXZhdGFyU2hhcGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5BdmF0YXJTaGFwZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEJpbGxib2FyZCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkJpbGxib2FyZChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IENhbWVyYU1vZGUgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5DYW1lcmFNb2RlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgQ2FtZXJhTW9kZUFyZWEgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5DYW1lcmFNb2RlQXJlYShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IEVuZ2luZUluZm8gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5FbmdpbmVJbmZvKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgR2x0ZkNvbnRhaW5lciA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLkdsdGZDb250YWluZXIoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuR2x0ZkNvbnRhaW5lckxvYWRpbmdTdGF0ZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXIgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5JbnB1dE1vZGlmaWVyKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgTWFpbkNhbWVyYSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLk1haW5DYW1lcmEoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBOZnRTaGFwZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLk5mdFNoYXBlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUGxheWVySWRlbnRpdHlEYXRhID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUGxheWVySWRlbnRpdHlEYXRhKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUG9pbnRlckV2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlBvaW50ZXJFdmVudHMoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBQb2ludGVyRXZlbnRzUmVzdWx0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckV2ZW50c1Jlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFBvaW50ZXJMb2NrID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUG9pbnRlckxvY2soZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBSYXljYXN0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUmF5Y2FzdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFJheWNhc3RSZXN1bHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5SYXljYXN0UmVzdWx0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgUmVhbG1JbmZvID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuUmVhbG1JbmZvKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVGV4dFNoYXBlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVGV4dFNoYXBlKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVHdlZW5TZXF1ZW5jZSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlR3ZWVuU2VxdWVuY2UoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBUd2VlblN0YXRlID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVHdlZW5TdGF0ZShlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpQmFja2dyb3VuZCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpQmFja2dyb3VuZChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpQ2FudmFzSW5mb3JtYXRpb24gPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaUNhbnZhc0luZm9ybWF0aW9uKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlEcm9wZG93biA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpRHJvcGRvd24oZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaURyb3Bkb3duUmVzdWx0ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVWlEcm9wZG93blJlc3VsdChlbmdpbmUpO1xuLyoqIEBwdWJsaWMgKi8gZXhwb3J0IGNvbnN0IFVpSW5wdXQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaUlucHV0KGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVWlJbnB1dFJlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpSW5wdXRSZXN1bHQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaVRleHQgPSAvKiBAX19QVVJFX18gKi8gY29tcG9uZW50cy5VaVRleHQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBVaVRyYW5zZm9ybSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlVpVHJhbnNmb3JtKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlkZW9FdmVudCA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlZpZGVvRXZlbnQoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaWRlb1BsYXllciA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlZpZGVvUGxheWVyKGVuZ2luZSk7XG4vKiogQHB1YmxpYyAqLyBleHBvcnQgY29uc3QgVmlydHVhbENhbWVyYSA9IC8qIEBfX1BVUkVfXyAqLyBjb21wb25lbnRzLlZpcnR1YWxDYW1lcmEoZW5naW5lKTtcbi8qKiBAcHVibGljICovIGV4cG9ydCBjb25zdCBWaXNpYmlsaXR5Q29tcG9uZW50ID0gLyogQF9fUFVSRV9fICovIGNvbXBvbmVudHMuVmlzaWJpbGl0eUNvbXBvbmVudChlbmdpbmUpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENhbWVyYVR5cGU7XG4oZnVuY3Rpb24gKENhbWVyYVR5cGUpIHtcbiAgICBDYW1lcmFUeXBlW0NhbWVyYVR5cGVbXCJDVF9GSVJTVF9QRVJTT05cIl0gPSAwXSA9IFwiQ1RfRklSU1RfUEVSU09OXCI7XG4gICAgQ2FtZXJhVHlwZVtDYW1lcmFUeXBlW1wiQ1RfVEhJUkRfUEVSU09OXCJdID0gMV0gPSBcIkNUX1RISVJEX1BFUlNPTlwiO1xuICAgIC8qKiBDVF9DSU5FTUFUSUMgLSBjb250cm9sbGVkIGJ5IHRoZSBzY2VuZSAqL1xuICAgIENhbWVyYVR5cGVbQ2FtZXJhVHlwZVtcIkNUX0NJTkVNQVRJQ1wiXSA9IDJdID0gXCJDVF9DSU5FTUFUSUNcIjtcbn0pKENhbWVyYVR5cGUgfHwgKENhbWVyYVR5cGUgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIElucHV0QWN0aW9uO1xuKGZ1bmN0aW9uIChJbnB1dEFjdGlvbikge1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfUE9JTlRFUlwiXSA9IDBdID0gXCJJQV9QT0lOVEVSXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9QUklNQVJZXCJdID0gMV0gPSBcIklBX1BSSU1BUllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1NFQ09OREFSWVwiXSA9IDJdID0gXCJJQV9TRUNPTkRBUllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FOWVwiXSA9IDNdID0gXCJJQV9BTllcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0ZPUldBUkRcIl0gPSA0XSA9IFwiSUFfRk9SV0FSRFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQkFDS1dBUkRcIl0gPSA1XSA9IFwiSUFfQkFDS1dBUkRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX1JJR0hUXCJdID0gNl0gPSBcIklBX1JJR0hUXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9MRUZUXCJdID0gN10gPSBcIklBX0xFRlRcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0pVTVBcIl0gPSA4XSA9IFwiSUFfSlVNUFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfV0FMS1wiXSA9IDldID0gXCJJQV9XQUxLXCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fM1wiXSA9IDEwXSA9IFwiSUFfQUNUSU9OXzNcIjtcbiAgICBJbnB1dEFjdGlvbltJbnB1dEFjdGlvbltcIklBX0FDVElPTl80XCJdID0gMTFdID0gXCJJQV9BQ1RJT05fNFwiO1xuICAgIElucHV0QWN0aW9uW0lucHV0QWN0aW9uW1wiSUFfQUNUSU9OXzVcIl0gPSAxMl0gPSBcIklBX0FDVElPTl81XCI7XG4gICAgSW5wdXRBY3Rpb25bSW5wdXRBY3Rpb25bXCJJQV9BQ1RJT05fNlwiXSA9IDEzXSA9IFwiSUFfQUNUSU9OXzZcIjtcbn0pKElucHV0QWN0aW9uIHx8IChJbnB1dEFjdGlvbiA9IHt9KSk7XG4vKiogUG9pbnRlckV2ZW50VHlwZSBpcyBhIGtpbmQgb2YgaW50ZXJhY3Rpb24gdGhhdCBjYW4gYmUgZGV0ZWN0ZWQuICovXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBQb2ludGVyRXZlbnRUeXBlO1xuKGZ1bmN0aW9uIChQb2ludGVyRXZlbnRUeXBlKSB7XG4gICAgUG9pbnRlckV2ZW50VHlwZVtQb2ludGVyRXZlbnRUeXBlW1wiUEVUX1VQXCJdID0gMF0gPSBcIlBFVF9VUFwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9ET1dOXCJdID0gMV0gPSBcIlBFVF9ET1dOXCI7XG4gICAgUG9pbnRlckV2ZW50VHlwZVtQb2ludGVyRXZlbnRUeXBlW1wiUEVUX0hPVkVSX0VOVEVSXCJdID0gMl0gPSBcIlBFVF9IT1ZFUl9FTlRFUlwiO1xuICAgIFBvaW50ZXJFdmVudFR5cGVbUG9pbnRlckV2ZW50VHlwZVtcIlBFVF9IT1ZFUl9MRUFWRVwiXSA9IDNdID0gXCJQRVRfSE9WRVJfTEVBVkVcIjtcbn0pKFBvaW50ZXJFdmVudFR5cGUgfHwgKFBvaW50ZXJFdmVudFR5cGUgPSB7fSkpO1xuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5jb25zdCBwcm90b2J1ZlBhY2thZ2VTYXJhc2EgPSBcImRlY2VudHJhbGFuZC5zZGsuY29tcG9uZW50cy5jb21tb25cIjtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIExvYWRpbmdTdGF0ZTtcbihmdW5jdGlvbiAoTG9hZGluZ1N0YXRlKSB7XG4gICAgTG9hZGluZ1N0YXRlW0xvYWRpbmdTdGF0ZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJMT0FESU5HXCJdID0gMV0gPSBcIkxPQURJTkdcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiTk9UX0ZPVU5EXCJdID0gMl0gPSBcIk5PVF9GT1VORFwiO1xuICAgIExvYWRpbmdTdGF0ZVtMb2FkaW5nU3RhdGVbXCJGSU5JU0hFRF9XSVRIX0VSUk9SXCJdID0gM10gPSBcIkZJTklTSEVEX1dJVEhfRVJST1JcIjtcbiAgICBMb2FkaW5nU3RhdGVbTG9hZGluZ1N0YXRlW1wiRklOSVNIRURcIl0gPSA0XSA9IFwiRklOSVNIRURcIjtcbn0pKExvYWRpbmdTdGF0ZSB8fCAoTG9hZGluZ1N0YXRlID0ge30pKTtcbiIsICIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJkZWNlbnRyYWxhbmQuc2RrLmNvbXBvbmVudHMuY29tbW9uXCI7XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBUZXh0QWxpZ25Nb2RlO1xuKGZ1bmN0aW9uIChUZXh0QWxpZ25Nb2RlKSB7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX1RPUF9MRUZUXCJdID0gMF0gPSBcIlRBTV9UT1BfTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9UT1BfQ0VOVEVSXCJdID0gMV0gPSBcIlRBTV9UT1BfQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX1RPUF9SSUdIVFwiXSA9IDJdID0gXCJUQU1fVE9QX1JJR0hUXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX01JRERMRV9MRUZUXCJdID0gM10gPSBcIlRBTV9NSURETEVfTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9NSURETEVfQ0VOVEVSXCJdID0gNF0gPSBcIlRBTV9NSURETEVfQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX01JRERMRV9SSUdIVFwiXSA9IDVdID0gXCJUQU1fTUlERExFX1JJR0hUXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX0JPVFRPTV9MRUZUXCJdID0gNl0gPSBcIlRBTV9CT1RUT01fTEVGVFwiO1xuICAgIFRleHRBbGlnbk1vZGVbVGV4dEFsaWduTW9kZVtcIlRBTV9CT1RUT01fQ0VOVEVSXCJdID0gN10gPSBcIlRBTV9CT1RUT01fQ0VOVEVSXCI7XG4gICAgVGV4dEFsaWduTW9kZVtUZXh0QWxpZ25Nb2RlW1wiVEFNX0JPVFRPTV9SSUdIVFwiXSA9IDhdID0gXCJUQU1fQk9UVE9NX1JJR0hUXCI7XG59KShUZXh0QWxpZ25Nb2RlIHx8IChUZXh0QWxpZ25Nb2RlID0ge30pKTtcbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIEZvbnQ7XG4oZnVuY3Rpb24gKEZvbnQpIHtcbiAgICBGb250W0ZvbnRbXCJGX1NBTlNfU0VSSUZcIl0gPSAwXSA9IFwiRl9TQU5TX1NFUklGXCI7XG4gICAgRm9udFtGb250W1wiRl9TRVJJRlwiXSA9IDFdID0gXCJGX1NFUklGXCI7XG4gICAgRm9udFtGb250W1wiRl9NT05PU1BBQ0VcIl0gPSAyXSA9IFwiRl9NT05PU1BBQ0VcIjtcbn0pKEZvbnQgfHwgKEZvbnQgPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjaGVtYXMgfSBmcm9tICcuLi9zY2hlbWFzJztcbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgY29tcG9zaXRlIGlzIG5vdCBiZWluZyBzdXBwb3J0ZWQgc28gZmFyLCBwbGVhc2UgZG8gbm90IHVzZSB0aGlzIGZlYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQoZW5naW5lKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZW5naW5lLmdldENvbXBvbmVudE9yTnVsbCgnY29tcG9zaXRlOjpyb290Jyk7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgIH1cbiAgICByZXR1cm4gZW5naW5lLmRlZmluZUNvbXBvbmVudCgnY29tcG9zaXRlOjpyb290Jywge1xuICAgICAgICBzcmM6IFNjaGVtYXMuU3RyaW5nLFxuICAgICAgICBlbnRpdGllczogU2NoZW1hcy5BcnJheShTY2hlbWFzLk1hcCh7XG4gICAgICAgICAgICBzcmM6IFNjaGVtYXMuRW50aXR5LFxuICAgICAgICAgICAgZGVzdDogU2NoZW1hcy5FbnRpdHlcbiAgICAgICAgfSkpXG4gICAgfSk7XG59XG4iLCAiY29uc3QgY3VycmVudFdvcmtpbmdEaXIgPSAnLyc7XG4vKipcbiAqIFRoZSBmdW5jdGlvbnMgYG5vcm1hbGl6ZVN0cmluZ1Bvc2l4YCwgYGRpcm5hbWVgIGFuZCBgcmVzb2x2ZWBcbiAqIHdlcmUgZXh0cmFjdGVkIGZyb20gcGFja2FnZSBAYnJvd3NlcmlmeS9wYXRoXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmdQb3NpeChwYXRoLCBhbGxvd0Fib3ZlUm9vdCA9IGZhbHNlKSB7XG4gICAgbGV0IHJlcyA9ICcnO1xuICAgIGxldCBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgbGV0IGxhc3RTbGFzaCA9IC0xO1xuICAgIGxldCBkb3RzID0gMDtcbiAgICBsZXQgY29kZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGlmIChpIDwgcGF0aC5sZW5ndGgpXG4gICAgICAgICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBlbHNlIGlmIChjb2RlID09PSA0NyAvKi8qLylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb2RlID0gNDc7IC8qLyovXG4gICAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgaWYgKGxhc3RTbGFzaCA9PT0gaSAtIDEgfHwgZG90cyA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIE5PT1BcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGxhc3RTbGFzaCAhPT0gaSAtIDEgJiYgZG90cyA9PT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fFxuICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IDQ2IC8qLiovIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gNDYgLyouKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZignLycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ICE9PSByZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U2xhc2hJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gcmVzLmxlbmd0aCAtIDEgLSByZXMubGFzdEluZGV4T2YoJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXMubGVuZ3RoID09PSAyIHx8IHJlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyArPSAnLy4uJztcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJy4uJztcbiAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9ICcvJyArIHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXMgPSBwYXRoLnNsaWNlKGxhc3RTbGFzaCArIDEsIGkpO1xuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gaSAtIGxhc3RTbGFzaCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gNDYgLyouKi8gJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICAgICAgICsrZG90cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvdHMgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlKC4uLmFyZ3MpIHtcbiAgICBsZXQgcmVzb2x2ZWRQYXRoID0gJyc7XG4gICAgbGV0IHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICBsZXQgY3dkO1xuICAgIGZvciAobGV0IGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgaWYgKGkgPj0gMClcbiAgICAgICAgICAgIHBhdGggPSBhcmdzW2ldO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjd2QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICBjd2QgPSBjdXJyZW50V29ya2luZ0RpcjtcbiAgICAgICAgICAgIHBhdGggPSBjd2Q7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDtcbiAgICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDc7IC8qLyovXG4gICAgfVxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVTdHJpbmdQb3NpeChyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlKTtcbiAgICBpZiAocmVzb2x2ZWRBYnNvbHV0ZSkge1xuICAgICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gJy8nICsgcmVzb2x2ZWRQYXRoO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNvbHZlZFBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRQYXRoO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICB9XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICBsZXQgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICBjb25zdCBoYXNSb290ID0gY29kZSA9PT0gNDc7IC8qLyovXG4gICAgbGV0IGVuZCA9IC0xO1xuICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7XG4gICAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlID09PSA0NyAvKi8qLykge1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3JcbiAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChlbmQgPT09IC0xKVxuICAgICAgICByZXR1cm4gaGFzUm9vdCA/ICcvJyA6ICcuJztcbiAgICBpZiAoaGFzUm9vdCAmJiBlbmQgPT09IDEpXG4gICAgICAgIHJldHVybiAnLy8nO1xuICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNvbXBvc2l0ZShwYXRoLCBjd2QpIHtcbiAgICBjb25zdCBhYnNvbHV0ZVBhdGggPSBwYXRoLnN0YXJ0c1dpdGgoJy4nKSA/IHJlc29sdmUoY3dkLCBwYXRoKSA6IHJlc29sdmUocGF0aCk7XG4gICAgcmV0dXJuIGFic29sdXRlUGF0aC5zdWJzdHJpbmcoMSk7XG59XG4iLCAiaW1wb3J0IHsgY29tcG9uZW50RGVmaW5pdGlvbkJ5TmFtZSB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgY29tcG9uZW50TnVtYmVyRnJvbU5hbWUgfSBmcm9tICcuLi9jb21wb25lbnRzL2NvbXBvbmVudC1udW1iZXInO1xuaW1wb3J0IHsgU2NoZW1hcyB9IGZyb20gJy4uL3NjaGVtYXMnO1xuaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJy4uL3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcic7XG5pbXBvcnQgeyBnZXRDb21wb3NpdGVSb290Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAnLi9wYXRoJztcbi8qKiBAcHVibGljICovXG4vKiBAX19QVVJFX18gKi9cbmV4cG9ydCB2YXIgRW50aXR5TWFwcGluZ01vZGU7XG4oZnVuY3Rpb24gKEVudGl0eU1hcHBpbmdNb2RlKSB7XG4gICAgRW50aXR5TWFwcGluZ01vZGVbRW50aXR5TWFwcGluZ01vZGVbXCJFTU1fTk9ORVwiXSA9IDBdID0gXCJFTU1fTk9ORVwiO1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX05FWFRfQVZBSUxBQkxFXCJdID0gMV0gPSBcIkVNTV9ORVhUX0FWQUlMQUJMRVwiO1xuICAgIEVudGl0eU1hcHBpbmdNb2RlW0VudGl0eU1hcHBpbmdNb2RlW1wiRU1NX0RJUkVDVF9NQVBQSU5HXCJdID0gMl0gPSBcIkVNTV9ESVJFQ1RfTUFQUElOR1wiO1xufSkoRW50aXR5TWFwcGluZ01vZGUgfHwgKEVudGl0eU1hcHBpbmdNb2RlID0ge30pKTtcbi8qKlxuICogUmV0dXJuIHRoZSBjb21wb25lbnQgdmFsdWUgZnJvbSBjb21wb3NpdGUgZGF0YVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wb25lbnRWYWx1ZShjb21wb25lbnREZWZpbml0aW9uLCBjb21wb25lbnQpIHtcbiAgICBpZiAoY29tcG9uZW50LmRhdGE/LiRjYXNlID09PSAnanNvbicpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5kYXRhLmpzb247XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWEuZGVzZXJpYWxpemUobmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoY29tcG9uZW50LmRhdGE/LmJpbmFyeSkpO1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJuIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbiBmcm9tIGNvbXBvc2l0ZSBpbmZvXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudERlZmluaXRpb24oZW5naW5lLCBjb21wb25lbnQpIHtcbiAgICBjb25zdCBleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb24gPSBlbmdpbmUuZ2V0Q29tcG9uZW50T3JOdWxsKGNvbXBvbmVudC5uYW1lKTtcbiAgICBpZiAoIWV4aXN0aW5nQ29tcG9uZW50RGVmaW5pdGlvbikge1xuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUuc3RhcnRzV2l0aCgnY29yZTo6JykpIHtcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQubmFtZSBpbiBjb21wb25lbnREZWZpbml0aW9uQnlOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudERlZmluaXRpb25CeU5hbWVbY29tcG9uZW50Lm5hbWVdKGVuZ2luZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRoZSBjb3JlIGNvbXBvbmVudCAke2NvbXBvbmVudC5uYW1lfSB3YXMgbm90IGZvdW5kLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbXBvbmVudC5qc29uU2NoZW1hKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5naW5lLmRlZmluZUNvbXBvbmVudEZyb21TY2hlbWEoY29tcG9uZW50Lm5hbWUsIFNjaGVtYXMuZnJvbUpzb24oY29tcG9uZW50Lmpzb25TY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtjb21wb25lbnQubmFtZX0gaXMgbm90IGRlZmluZWQgYW5kIHRoZXJlIGlzIG5vIHNjaGVtYSB0byBkZWZpbmUgaXQuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBleGlzdGluZ0NvbXBvbmVudERlZmluaXRpb247XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm4gdGhlIGVudGl0eSBtYXBwaW5nIG9yIGZhaWwgaWYgdGhlcmUgaXMgbm8gbW9yZVxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdHlNYXBwaW5nKGVuZ2luZSwgY29tcG9zaXRlRW50aXR5LCBtYXBwZWRFbnRpdGllcywgeyBlbnRpdHlNYXBwaW5nIH0pIHtcbiAgICBjb25zdCBleGlzdGluZ0VudGl0eSA9IG1hcHBlZEVudGl0aWVzLmdldChjb21wb3NpdGVFbnRpdHkpO1xuICAgIGlmIChleGlzdGluZ0VudGl0eSkge1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdFbnRpdHk7XG4gICAgfVxuICAgIGlmIChlbnRpdHlNYXBwaW5nPy50eXBlID09PSBFbnRpdHlNYXBwaW5nTW9kZS5FTU1fRElSRUNUX01BUFBJTkcpIHtcbiAgICAgICAgY29uc3QgZW50aXR5ID0gZW50aXR5TWFwcGluZy5nZXRDb21wb3NpdGVFbnRpdHkoY29tcG9zaXRlRW50aXR5KTtcbiAgICAgICAgbWFwcGVkRW50aXRpZXMuc2V0KGNvbXBvc2l0ZUVudGl0eSwgZW50aXR5KTtcbiAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICB9XG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpbiBydW50aW1lIGNhbiBiZSBqdXN0IGBlbmdpbmUuYWRkRW50aXR5KClgXG4gICAgY29uc3QgbmV3RW50aXR5ID0gZW50aXR5TWFwcGluZz8udHlwZSA9PT0gRW50aXR5TWFwcGluZ01vZGUuRU1NX05FWFRfQVZBSUxBQkxFXG4gICAgICAgID8gZW50aXR5TWFwcGluZy5nZXROZXh0QXZhaWxhYmxlRW50aXR5KClcbiAgICAgICAgOiBlbmdpbmUuYWRkRW50aXR5KCk7XG4gICAgaWYgKG5ld0VudGl0eSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIG1vcmUgZW50aXRpZXMgdG8gYWxsb2NhdGUnKTtcbiAgICB9XG4gICAgbWFwcGVkRW50aXRpZXMuc2V0KGNvbXBvc2l0ZUVudGl0eSwgbmV3RW50aXR5KTtcbiAgICByZXR1cm4gbmV3RW50aXR5O1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuLyogQF9fUFVSRV9fICovXG5leHBvcnQgZnVuY3Rpb24gaW5zdGFuY2VDb21wb3NpdGUoZW5naW5lLCBjb21wb3NpdGVSZXNvdXJjZSwgY29tcG9zaXRlUHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHJvb3RFbnRpdHksIGFscmVhZHlSZXF1ZXN0ZWRTcmM6IG9wdGlvbmFsQWxyZWFkeVJlcXVlc3RlZFNyYywgZW50aXR5TWFwcGluZyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBhbHJlYWR5UmVxdWVzdGVkU3JjID0gb3B0aW9uYWxBbHJlYWR5UmVxdWVzdGVkU3JjIHx8IG5ldyBTZXQoKTtcbiAgICBjb25zdCBjb21wb3NpdGVEaXJlY3RvcnlQYXRoID0gcGF0aC5kaXJuYW1lKHBhdGgucmVzb2x2ZShjb21wb3NpdGVSZXNvdXJjZS5zcmMpKTtcbiAgICBjb25zdCBUcmFuc2Zvcm1Db21wb25lbnROdW1iZXIgPSBjb21wb25lbnROdW1iZXJGcm9tTmFtZSgnY29yZTo6VHJhbnNmb3JtJyk7XG4gICAgY29uc3QgQ29tcG9zaXRlUm9vdENvbXBvbmVudCA9IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQoZW5naW5lKTtcbiAgICAvLyBLZXkgPT4gRW50aXR5TnVtYmVyIGZyb20gdGhlIGNvbXBvc2l0ZVxuICAgIC8vIFZhbHVlID0+IEVudGl0eU51bWJlciBpbiBjdXJyZW50IGVuZ2luZVxuICAgIGNvbnN0IG1hcHBlZEVudGl0aWVzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGdldENvbXBvc2l0ZUVudGl0eSA9IChjb21wb3NpdGVFbnRpdHkpID0+IGdldEVudGl0eU1hcHBpbmcoZW5naW5lLCBjb21wb3NpdGVFbnRpdHksIG1hcHBlZEVudGl0aWVzLCBvcHRpb25zKTtcbiAgICAvLyAjIyAxICMjXG4gICAgLy8gRmlyc3QgZW50aXR5IHRoYXQgSSB3YW50IHRvIG1hcCwgdGhlIHJvb3QgZW50aXR5IGZyb20gdGhlIGNvbXBvc2l0ZSB0byB0aGUgdGFyZ2V0IGVudGl0eSBpbiB0aGUgZW5naW5lXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gYHJvb3RFbnRpdHlgIHBhc3NlZCwgd2UgYXNzaWduIG9uZSBmcm9tIGBnZXROZXh0QXZhaWxhYmxlRW50aXR5YFxuICAgIGNvbnN0IGNvbXBvc2l0ZVJvb3RFbnRpdHkgPSByb290RW50aXR5ID8/IGdldENvbXBvc2l0ZUVudGl0eSgwKTtcbiAgICBpZiAocm9vdEVudGl0eSkge1xuICAgICAgICBtYXBwZWRFbnRpdGllcy5zZXQoMCwgcm9vdEVudGl0eSk7XG4gICAgfVxuICAgIC8vICMjIDIgIyNcbiAgICAvLyBJZiB0aGVyZSBhcmUgbW9yZSBjb21wb3NpdGUgaW5zaWRlIHRoaXMgb25lLCB3ZSBpbnN0YW5jZSBmaXJzdC5cbiAgICAvLyA9PiBUaGlzIGlzIG5vdCBvbmx5IGEgY29weSwgd2UgbmVlZCB0byBpbnN0YW5jZS4gT3RoZXJ3aXNlLCB3ZSdkIGJlIG1pc3NpbmcgdGhhdCBicmFuY2hlc1xuICAgIC8vID0+IFRPRE86IGluIHRoZSBmdXR1cmUsIHRoZSBpbnN0YW5jaWF0aW9uIGlzIGZpcnN0LCB0aGVuIHRoZSBvdmVyaWRlcyAodG8gcGFyYW1ldGVyaXplIENvbXBvc2l0ZSwgZS5nLiBob3VzZSB3aXRoIGRpZmZlcmVudCB3YWxsIGNvbG9ycylcbiAgICBjb25zdCBjaGlsZHJlbkNvbXBvc2l0ZSA9IGNvbXBvc2l0ZVJlc291cmNlLmNvbXBvc2l0ZS5jb21wb25lbnRzLmZpbmQoKGl0ZW0pID0+IGl0ZW0ubmFtZSA9PT0gQ29tcG9zaXRlUm9vdENvbXBvbmVudC5jb21wb25lbnROYW1lKTtcbiAgICBpZiAoY2hpbGRyZW5Db21wb3NpdGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBbY2hpbGRDb21wb3NpdGVFbnRpdHksIGNvbXBvc2l0ZVJhd0RhdGFdIG9mIGNoaWxkcmVuQ29tcG9zaXRlLmRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29tcG9zaXRlID0gZ2V0Q29tcG9uZW50VmFsdWUoQ29tcG9zaXRlUm9vdENvbXBvbmVudCwgY29tcG9zaXRlUmF3RGF0YSk7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbXBvc2l0ZVBhdGggPSBwYXRoLnJlc29sdmVDb21wb3NpdGUoY2hpbGRDb21wb3NpdGUuc3JjLCBjb21wb3NpdGVEaXJlY3RvcnlQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UgPSBjb21wb3NpdGVQcm92aWRlci5nZXRDb21wb3NpdGVPck51bGwoY2hpbGRDb21wb3NpdGVQYXRoKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVudGl0eSA9IGdldENvbXBvc2l0ZUVudGl0eShjaGlsZENvbXBvc2l0ZUVudGl0eSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRDb21wb3NpdGVSZXNvdXJjZSkge1xuICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmVxdWVzdGVkU3JjLmhhcyhjaGlsZENvbXBvc2l0ZVJlc291cmNlLnNyYykgfHxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMgPT09IGNvbXBvc2l0ZVJlc291cmNlLnNyYykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvbXBvc2l0ZSAke2NvbXBvc2l0ZVJlc291cmNlLnNyY30gaGFzIGEgcmVjdXJzaXZlIGluc3RhbmNpYXRpb24gd2hpbGUgdHJ5IHRvIGluc3RhbmNlICR7Y2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmN9LiBQcmV2aW91cyBpbnN0YW5jZXM6ICR7YWxyZWFkeVJlcXVlc3RlZFNyYy50b1N0cmluZygpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnN0YW5jZUNvbXBvc2l0ZShlbmdpbmUsIGNoaWxkQ29tcG9zaXRlUmVzb3VyY2UsIGNvbXBvc2l0ZVByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHJvb3RFbnRpdHk6IHRhcmdldEVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgYWxyZWFkeVJlcXVlc3RlZFNyYzogbmV3IFNldChhbHJlYWR5UmVxdWVzdGVkU3JjKS5hZGQoY2hpbGRDb21wb3NpdGVSZXNvdXJjZS5zcmMpLFxuICAgICAgICAgICAgICAgICAgICBlbnRpdHlNYXBwaW5nOiBlbnRpdHlNYXBwaW5nPy50eXBlID09PSBFbnRpdHlNYXBwaW5nTW9kZS5FTU1fTkVYVF9BVkFJTEFCTEUgPyBlbnRpdHlNYXBwaW5nIDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gIyMgMyAjI1xuICAgIC8vIFRoZW4sIHdlIGNvcHkgdGhlIGFsbCByZXN0IG9mIHRoZSBjb21wb25lbnRzIChza2lwcGluZyB0aGUgQ29tcG9zaXRlIG9uZXMpXG4gICAgZm9yIChjb25zdCBjb21wb25lbnQgb2YgY29tcG9zaXRlUmVzb3VyY2UuY29tcG9zaXRlLmNvbXBvbmVudHMpIHtcbiAgICAgICAgLy8gV2UgYWxyZWFkeSBpbnN0YW5jZWQgdGhlIGNvbXBvc2l0ZVxuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgPT09IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuY29tcG9uZW50TmFtZSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyAjIyAzYSAjI1xuICAgICAgICAvLyBXZSBmaW5kIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvblxuICAgICAgICBjb25zdCBjb21wb25lbnREZWZpbml0aW9uID0gZ2V0Q29tcG9uZW50RGVmaW5pdGlvbihlbmdpbmUsIGNvbXBvbmVudCk7XG4gICAgICAgIC8vICMjIDNiICMjXG4gICAgICAgIC8vIEl0ZXJhdGluZyBvdmVyIGFsbCB0aGUgZW50aXRpZXMgd2l0aCB0aGlzIGNvbXBvbmVudCBhbmQgY3JlYXRlIHRoZSByZXBsaWNhXG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgY29tcG9zaXRlQ29tcG9uZW50VmFsdWVdIG9mIGNvbXBvbmVudC5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnRWYWx1ZURlc2VyaWFsaXplZCA9IGdldENvbXBvbmVudFZhbHVlKGNvbXBvbmVudERlZmluaXRpb24sIGNvbXBvc2l0ZUNvbXBvbmVudFZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEVudGl0eSA9IGdldENvbXBvc2l0ZUVudGl0eShlbnRpdHkpO1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50VmFsdWUgPSBjb21wb25lbnREZWZpbml0aW9uLmNyZWF0ZSh0YXJnZXRFbnRpdHksIGNvbXBvbmVudFZhbHVlRGVzZXJpYWxpemVkKTtcbiAgICAgICAgICAgIC8vICMjIDNjICMjXG4gICAgICAgICAgICAvLyBBbGwgZW50aXRpZXMgcmVmZXJlbmNlZCBpbiB0aGUgY29tcG9zaXRlIHByb2JhYmx5IGhhcyBhIGRpZmZlcmVudCByZXNvbHZlZCBFbnRpdHlOdW1iZXJcbiAgICAgICAgICAgIC8vIFdlJ2xsIGtub3cgd2l0aCB0aGUgbWFwcGVkRW50aXR5ZXNcbiAgICAgICAgICAgIGlmIChjb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudElkID09PSBUcmFuc2Zvcm1Db21wb25lbnROdW1iZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBjb21wb25lbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtLnBhcmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucGFyZW50ID0gZ2V0Q29tcG9zaXRlRW50aXR5KHRyYW5zZm9ybS5wYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnBhcmVudCA9IGdldENvbXBvc2l0ZUVudGl0eSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogaXMgaXQgZ29pbmcgdG8gYmUgbmVjZXNzYXJ5IHRvIHJlbWFwIGFzc2V0cz8gZS5nLiBzcmMgcGFyYW0gZnJvbSBBdWRpb1NvdXJjZSBhbmQgR2x0ZkNvbnRhaW5lclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgU2NoZW1hcy5tdXRhdGVOZXN0ZWRWYWx1ZXMoY29tcG9uZW50RGVmaW5pdGlvbi5zY2hlbWEuanNvblNjaGVtYSwgY29tcG9uZW50VmFsdWUsICh2YWx1ZSwgdmFsdWVUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZVR5cGUuc2VyaWFsaXphdGlvblR5cGUgPT09ICdlbnRpdHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBjaGFuZ2VkOiB0cnVlLCB2YWx1ZTogZ2V0Q29tcG9zaXRlRW50aXR5KHZhbHVlKSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY2hhbmdlZDogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvc2l0ZSA9IENvbXBvc2l0ZVJvb3RDb21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChjb21wb3NpdGVSb290RW50aXR5KSB8fCBDb21wb3NpdGVSb290Q29tcG9uZW50LmNyZWF0ZShjb21wb3NpdGVSb290RW50aXR5KTtcbiAgICBmb3IgKGNvbnN0IFtlbnRpdHlTb3VyY2UsIHRhcmdldEVudGl0eV0gb2YgbWFwcGVkRW50aXRpZXMpIHtcbiAgICAgICAgY29tcG9zaXRlLmVudGl0aWVzLnB1c2goe1xuICAgICAgICAgICAgc3JjOiBlbnRpdHlTb3VyY2UsXG4gICAgICAgICAgICBkZXN0OiB0YXJnZXRFbnRpdHlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbXBvc2l0ZS5zcmMgPSBjb21wb3NpdGVSZXNvdXJjZS5zcmM7XG4gICAgcmV0dXJuIGNvbXBvc2l0ZVJvb3RFbnRpdHk7XG59XG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBfbTAgZnJvbSBcInByb3RvYnVmanMvbWluaW1hbFwiO1xuaW1wb3J0IHsgVmFsdWUgfSBmcm9tIFwiLi9nb29nbGUvcHJvdG9idWYvc3RydWN0LmdlblwiO1xuY29uc3QgcHJvdG9idWZQYWNrYWdlU2FyYXNhID0gXCJcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VDb21wb25lbnREYXRhKCkge1xuICAgIHJldHVybiB7IGRhdGE6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9uZW50RGF0YTtcbihmdW5jdGlvbiAoQ29tcG9uZW50RGF0YSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5kYXRhPy4kY2FzZSkge1xuICAgICAgICAgICAgY2FzZSBcImpzb25cIjpcbiAgICAgICAgICAgICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLmRhdGEuanNvbiksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYmluYXJ5XCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigxOCkuYnl0ZXMobWVzc2FnZS5kYXRhLmJpbmFyeSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9uZW50RGF0YS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvbmVudERhdGEoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kYXRhID0geyAkY2FzZTogXCJqc29uXCIsIGpzb246IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRhdGEgPSB7ICRjYXNlOiBcImJpbmFyeVwiLCBiaW5hcnk6IHJlYWRlci5ieXRlcygpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRlci5za2lwVHlwZSh0YWcgJiA3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgQ29tcG9uZW50RGF0YS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBpc1NldChvYmplY3QuanNvbilcbiAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwianNvblwiLCBqc29uOiBvYmplY3QuanNvbiB9XG4gICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QuYmluYXJ5KVxuICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwiYmluYXJ5XCIsIGJpbmFyeTogYnl0ZXNGcm9tQmFzZTY0KG9iamVjdC5iaW5hcnkpIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEuZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS5kYXRhPy4kY2FzZSA9PT0gXCJqc29uXCIgJiYgKG9iai5qc29uID0gbWVzc2FnZS5kYXRhPy5qc29uKTtcbiAgICAgICAgbWVzc2FnZS5kYXRhPy4kY2FzZSA9PT0gXCJiaW5hcnlcIiAmJlxuICAgICAgICAgICAgKG9iai5iaW5hcnkgPSBtZXNzYWdlLmRhdGE/LmJpbmFyeSAhPT0gdW5kZWZpbmVkID8gYmFzZTY0RnJvbUJ5dGVzKG1lc3NhZ2UuZGF0YT8uYmluYXJ5KSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIENvbXBvbmVudERhdGEudG9KU09OID0gdG9KU09OO1xufSkoQ29tcG9uZW50RGF0YSB8fCAoQ29tcG9uZW50RGF0YSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50KCkge1xuICAgIHJldHVybiB7IG5hbWU6IFwiXCIsIGpzb25TY2hlbWE6IHVuZGVmaW5lZCwgZGF0YTogbmV3IE1hcCgpIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGVDb21wb25lbnQ7XG4oZnVuY3Rpb24gKENvbXBvc2l0ZUNvbXBvbmVudCkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLmpzb25TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAobWVzc2FnZS5qc29uU2NoZW1hKSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfVxuICAgICAgICBtZXNzYWdlLmRhdGEuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS5lbmNvZGUoeyBrZXk6IGtleSwgdmFsdWUgfSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudC5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvc2l0ZUNvbXBvbmVudCgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuanNvblNjaGVtYSA9IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50cnkzID0gQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkzLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGF0YS5zZXQoZW50cnkzLmtleSwgZW50cnkzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudC5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBpc1NldChvYmplY3QubmFtZSkgPyBTdHJpbmcob2JqZWN0Lm5hbWUpIDogXCJcIixcbiAgICAgICAgICAgIGpzb25TY2hlbWE6IGlzU2V0KG9iamVjdD8uanNvblNjaGVtYSkgPyBvYmplY3QuanNvblNjaGVtYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGE6IGlzT2JqZWN0KG9iamVjdC5kYXRhKVxuICAgICAgICAgICAgICAgID8gT2JqZWN0LmVudHJpZXMob2JqZWN0LmRhdGEpLnJlZHVjZSgoYWNjLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWNjLnNldChOdW1iZXIoa2V5KSwgQ29tcG9uZW50RGF0YS5mcm9tSlNPTih2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIG5ldyBNYXAoKSlcbiAgICAgICAgICAgICAgICA6IG5ldyBNYXAoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50LmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG1lc3NhZ2UubmFtZSAhPT0gdW5kZWZpbmVkICYmIChvYmoubmFtZSA9IG1lc3NhZ2UubmFtZSk7XG4gICAgICAgIG1lc3NhZ2UuanNvblNjaGVtYSAhPT0gdW5kZWZpbmVkICYmIChvYmouanNvblNjaGVtYSA9IG1lc3NhZ2UuanNvblNjaGVtYSk7XG4gICAgICAgIG9iai5kYXRhID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLmRhdGEpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UuZGF0YS5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqLmRhdGFba10gPSBDb21wb25lbnREYXRhLnRvSlNPTih2KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudC50b0pTT04gPSB0b0pTT047XG59KShDb21wb3NpdGVDb21wb25lbnQgfHwgKENvbXBvc2l0ZUNvbXBvbmVudCA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSgpIHtcbiAgICByZXR1cm4geyBrZXk6IDAsIHZhbHVlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnk7XG4oZnVuY3Rpb24gKENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkpIHtcbiAgICBmdW5jdGlvbiBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gX20wLldyaXRlci5jcmVhdGUoKSkge1xuICAgICAgICBpZiAobWVzc2FnZS5rZXkgIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIENvbXBvbmVudERhdGEuZW5jb2RlKG1lc3NhZ2UudmFsdWUsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZhbHVlID0gQ29tcG9uZW50RGF0YS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBpc1NldChvYmplY3Qua2V5KSA/IE51bWJlcihvYmplY3Qua2V5KSA6IDAsXG4gICAgICAgICAgICB2YWx1ZTogaXNTZXQob2JqZWN0LnZhbHVlKSA/IENvbXBvbmVudERhdGEuZnJvbUpTT04ob2JqZWN0LnZhbHVlKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeS5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gTWF0aC5yb3VuZChtZXNzYWdlLmtleSkpO1xuICAgICAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IG1lc3NhZ2UudmFsdWUgPyBDb21wb25lbnREYXRhLnRvSlNPTihtZXNzYWdlLnZhbHVlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIENvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkudG9KU09OID0gdG9KU09OO1xufSkoQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSB8fCAoQ29tcG9zaXRlQ29tcG9uZW50X0RhdGFFbnRyeSA9IHt9KSk7XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ29tcG9zaXRlRGVmaW5pdGlvbigpIHtcbiAgICByZXR1cm4geyB2ZXJzaW9uOiAwLCBjb21wb25lbnRzOiBbXSB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgQ29tcG9zaXRlRGVmaW5pdGlvbjtcbihmdW5jdGlvbiAoQ29tcG9zaXRlRGVmaW5pdGlvbikge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLnZlcnNpb24gIT09IDApIHtcbiAgICAgICAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS52ZXJzaW9uKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgbWVzc2FnZS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICBDb21wb3NpdGVDb21wb25lbnQuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgQ29tcG9zaXRlRGVmaW5pdGlvbi5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUNvbXBvc2l0ZURlZmluaXRpb24oKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnZlcnNpb24gPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb21wb25lbnRzLnB1c2goQ29tcG9zaXRlQ29tcG9uZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkZXIuc2tpcFR5cGUodGFnICYgNyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIENvbXBvc2l0ZURlZmluaXRpb24uZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogaXNTZXQob2JqZWN0LnZlcnNpb24pID8gTnVtYmVyKG9iamVjdC52ZXJzaW9uKSA6IDAsXG4gICAgICAgICAgICBjb21wb25lbnRzOiBBcnJheS5pc0FycmF5KG9iamVjdD8uY29tcG9uZW50cylcbiAgICAgICAgICAgICAgICA/IG9iamVjdC5jb21wb25lbnRzLm1hcCgoZSkgPT4gQ29tcG9zaXRlQ29tcG9uZW50LmZyb21KU09OKGUpKVxuICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgIH07XG4gICAgfVxuICAgIENvbXBvc2l0ZURlZmluaXRpb24uZnJvbUpTT04gPSBmcm9tSlNPTjtcbiAgICBmdW5jdGlvbiB0b0pTT04obWVzc2FnZSkge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgbWVzc2FnZS52ZXJzaW9uICE9PSB1bmRlZmluZWQgJiYgKG9iai52ZXJzaW9uID0gTWF0aC5yb3VuZChtZXNzYWdlLnZlcnNpb24pKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuY29tcG9uZW50cykge1xuICAgICAgICAgICAgb2JqLmNvbXBvbmVudHMgPSBtZXNzYWdlLmNvbXBvbmVudHMubWFwKChlKSA9PiBlID8gQ29tcG9zaXRlQ29tcG9uZW50LnRvSlNPTihlKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmouY29tcG9uZW50cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIENvbXBvc2l0ZURlZmluaXRpb24udG9KU09OID0gdG9KU09OO1xufSkoQ29tcG9zaXRlRGVmaW5pdGlvbiB8fCAoQ29tcG9zaXRlRGVmaW5pdGlvbiA9IHt9KSk7XG5jb25zdCB0c1Byb3RvR2xvYmFsVGhpcyA9ICgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWw7XG4gICAgfVxuICAgIHRocm93IFwiVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0XCI7XG59KSgpO1xuZnVuY3Rpb24gYnl0ZXNGcm9tQmFzZTY0KGI2NCkge1xuICAgIGlmICh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbSh0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShiNjQsIFwiYmFzZTY0XCIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGJpbiA9IHRzUHJvdG9HbG9iYWxUaGlzLmF0b2IoYjY0KTtcbiAgICAgICAgY29uc3QgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYmluLmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYmluLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJhc2U2NEZyb21CeXRlcyhhcnIpIHtcbiAgICBpZiAodHNQcm90b0dsb2JhbFRoaXMuQnVmZmVyKSB7XG4gICAgICAgIHJldHVybiB0c1Byb3RvR2xvYmFsVGhpcy5CdWZmZXIuZnJvbShhcnIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgYmluID0gW107XG4gICAgICAgIGFyci5mb3JFYWNoKChieXRlKSA9PiB7XG4gICAgICAgICAgICBiaW4ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0c1Byb3RvR2xvYmFsVGhpcy5idG9hKGJpbi5qb2luKFwiXCIpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiBpc1NldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuIiwgIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgX20wIGZyb20gXCJwcm90b2J1ZmpzL21pbmltYWxcIjtcbmNvbnN0IHByb3RvYnVmUGFja2FnZVNhcmFzYSA9IFwiZ29vZ2xlLnByb3RvYnVmXCI7XG4vKipcbiAqIGBOdWxsVmFsdWVgIGlzIGEgc2luZ2xldG9uIGVudW1lcmF0aW9uIHRvIHJlcHJlc2VudCB0aGUgbnVsbCB2YWx1ZSBmb3IgdGhlXG4gKiBgVmFsdWVgIHR5cGUgdW5pb24uXG4gKlxuICogIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTnVsbFZhbHVlYCBpcyBKU09OIGBudWxsYC5cbiAqL1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgTnVsbFZhbHVlO1xuKGZ1bmN0aW9uIChOdWxsVmFsdWUpIHtcbiAgICAvKiogTlVMTF9WQUxVRSAtIE51bGwgdmFsdWUuICovXG4gICAgTnVsbFZhbHVlW051bGxWYWx1ZVtcIk5VTExfVkFMVUVcIl0gPSAwXSA9IFwiTlVMTF9WQUxVRVwiO1xufSkoTnVsbFZhbHVlIHx8IChOdWxsVmFsdWUgPSB7fSkpO1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudWxsVmFsdWVGcm9tSlNPTihvYmplY3QpIHtcbiAgICBzd2l0Y2ggKG9iamVjdCkge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgXCJOVUxMX1ZBTFVFXCI6XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBOdWxsVmFsdWUuTlVMTF9WQUxVRSAqLztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gTnVsbFZhbHVlXCIpO1xuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbFZhbHVlVG9KU09OKG9iamVjdCkge1xuICAgIHN3aXRjaCAob2JqZWN0KSB7XG4gICAgICAgIGNhc2UgMCAvKiBOdWxsVmFsdWUuTlVMTF9WQUxVRSAqLzpcbiAgICAgICAgICAgIHJldHVybiBcIk5VTExfVkFMVUVcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyB0c1Byb3RvR2xvYmFsVGhpcy5FcnJvcihcIlVucmVjb2duaXplZCBlbnVtIHZhbHVlIFwiICsgb2JqZWN0ICsgXCIgZm9yIGVudW0gTnVsbFZhbHVlXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTdHJ1Y3QoKSB7XG4gICAgcmV0dXJuIHsgZmllbGRzOiBuZXcgTWFwKCkgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFN0cnVjdDtcbihmdW5jdGlvbiAoU3RydWN0KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgbWVzc2FnZS5maWVsZHMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZW5jb2RlKHsga2V5OiBrZXksIHZhbHVlIH0sIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbiAgICBTdHJ1Y3QuZW5jb2RlID0gZW5jb2RlO1xuICAgIGZ1bmN0aW9uIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgX20wLlJlYWRlciA/IGlucHV0IDogX20wLlJlYWRlci5jcmVhdGUoaW5wdXQpO1xuICAgICAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB1bmRlZmluZWQgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdHJ1Y3QoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZW50cnkxID0gU3RydWN0X0ZpZWxkc0VudHJ5LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeTEudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5maWVsZHMuc2V0KGVudHJ5MS5rZXksIGVudHJ5MS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBTdHJ1Y3QuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRzOiBpc09iamVjdChvYmplY3QuZmllbGRzKVxuICAgICAgICAgICAgICAgID8gT2JqZWN0LmVudHJpZXMob2JqZWN0LmZpZWxkcykucmVkdWNlKChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhY2Muc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgIH0sIG5ldyBNYXAoKSlcbiAgICAgICAgICAgICAgICA6IG5ldyBNYXAoKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgU3RydWN0LmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIG9iai5maWVsZHMgPSB7fTtcbiAgICAgICAgaWYgKG1lc3NhZ2UuZmllbGRzKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmZpZWxkcy5mb3JFYWNoKCh2LCBrKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqLmZpZWxkc1trXSA9IHY7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBTdHJ1Y3QudG9KU09OID0gdG9KU09OO1xuICAgIGZ1bmN0aW9uIHdyYXAob2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHN0cnVjdCA9IGNyZWF0ZUJhc2VTdHJ1Y3QoKTtcbiAgICAgICAgaWYgKG9iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhvYmplY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHN0cnVjdC5maWVsZHMuc2V0KGtleSwgb2JqZWN0W2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cnVjdDtcbiAgICB9XG4gICAgU3RydWN0LndyYXAgPSB3cmFwO1xuICAgIGZ1bmN0aW9uIHVud3JhcChtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iamVjdCA9IHt9O1xuICAgICAgICBbLi4ubWVzc2FnZS5maWVsZHMua2V5cygpXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gbWVzc2FnZS5maWVsZHMuZ2V0KGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cbiAgICBTdHJ1Y3QudW53cmFwID0gdW53cmFwO1xufSkoU3RydWN0IHx8IChTdHJ1Y3QgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVN0cnVjdF9GaWVsZHNFbnRyeSgpIHtcbiAgICByZXR1cm4geyBrZXk6IFwiXCIsIHZhbHVlOiB1bmRlZmluZWQgfTtcbn1cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdmFyIFN0cnVjdF9GaWVsZHNFbnRyeTtcbihmdW5jdGlvbiAoU3RydWN0X0ZpZWxkc0VudHJ5KSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2Uua2V5ICE9PSBcIlwiKSB7XG4gICAgICAgICAgICB3cml0ZXIudWludDMyKDEwKS5zdHJpbmcobWVzc2FnZS5rZXkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFZhbHVlLmVuY29kZShWYWx1ZS53cmFwKG1lc3NhZ2UudmFsdWUpLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFN0cnVjdF9GaWVsZHNFbnRyeS5lbmNvZGUgPSBlbmNvZGU7XG4gICAgZnVuY3Rpb24gZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBfbTAuUmVhZGVyID8gaW5wdXQgOiBfbTAuUmVhZGVyLmNyZWF0ZShpbnB1dCk7XG4gICAgICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHVuZGVmaW5lZCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0cnVjdF9GaWVsZHNFbnRyeSgpO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4geyBrZXk6IGlzU2V0KG9iamVjdC5rZXkpID8gU3RyaW5nKG9iamVjdC5rZXkpIDogXCJcIiwgdmFsdWU6IGlzU2V0KG9iamVjdD8udmFsdWUpID8gb2JqZWN0LnZhbHVlIDogdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIFN0cnVjdF9GaWVsZHNFbnRyeS5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmtleSAhPT0gdW5kZWZpbmVkICYmIChvYmoua2V5ID0gbWVzc2FnZS5rZXkpO1xuICAgICAgICBtZXNzYWdlLnZhbHVlICE9PSB1bmRlZmluZWQgJiYgKG9iai52YWx1ZSA9IG1lc3NhZ2UudmFsdWUpO1xuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICBTdHJ1Y3RfRmllbGRzRW50cnkudG9KU09OID0gdG9KU09OO1xufSkoU3RydWN0X0ZpZWxkc0VudHJ5IHx8IChTdHJ1Y3RfRmllbGRzRW50cnkgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZVZhbHVlKCkge1xuICAgIHJldHVybiB7IGtpbmQ6IHVuZGVmaW5lZCB9O1xufVxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgVmFsdWU7XG4oZnVuY3Rpb24gKFZhbHVlKSB7XG4gICAgZnVuY3Rpb24gZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IF9tMC5Xcml0ZXIuY3JlYXRlKCkpIHtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLmtpbmQ/LiRjYXNlKSB7XG4gICAgICAgICAgICBjYXNlIFwibnVsbFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLmtpbmQubnVsbFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIHdyaXRlci51aW50MzIoMTcpLmRvdWJsZShtZXNzYWdlLmtpbmQubnVtYmVyVmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1ZhbHVlXCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2Uua2luZC5zdHJpbmdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgd3JpdGVyLnVpbnQzMigzMikuYm9vbChtZXNzYWdlLmtpbmQuYm9vbFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJ1Y3RWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIFN0cnVjdC5lbmNvZGUoU3RydWN0LndyYXAobWVzc2FnZS5raW5kLnN0cnVjdFZhbHVlKSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5sZGVsaW0oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsaXN0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICBMaXN0VmFsdWUuZW5jb2RlKExpc3RWYWx1ZS53cmFwKG1lc3NhZ2Uua2luZC5saXN0VmFsdWUpLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmxkZWxpbSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIFZhbHVlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsdWUoKTtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcIm51bGxWYWx1ZVwiLCBudWxsVmFsdWU6IHJlYWRlci5pbnQzMigpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwibnVtYmVyVmFsdWVcIiwgbnVtYmVyVmFsdWU6IHJlYWRlci5kb3VibGUoKSB9O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmtpbmQgPSB7ICRjYXNlOiBcInN0cmluZ1ZhbHVlXCIsIHN0cmluZ1ZhbHVlOiByZWFkZXIuc3RyaW5nKCkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5raW5kID0geyAkY2FzZTogXCJib29sVmFsdWVcIiwgYm9vbFZhbHVlOiByZWFkZXIuYm9vbCgpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwic3RydWN0VmFsdWVcIiwgc3RydWN0VmFsdWU6IFN0cnVjdC51bndyYXAoU3RydWN0LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uua2luZCA9IHsgJGNhc2U6IFwibGlzdFZhbHVlXCIsIGxpc3RWYWx1ZTogTGlzdFZhbHVlLnVud3JhcChMaXN0VmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSkgfTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBWYWx1ZS5kZWNvZGUgPSBkZWNvZGU7XG4gICAgZnVuY3Rpb24gZnJvbUpTT04ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiBpc1NldChvYmplY3QubnVsbFZhbHVlKVxuICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJudWxsVmFsdWVcIiwgbnVsbFZhbHVlOiBudWxsVmFsdWVGcm9tSlNPTihvYmplY3QubnVsbFZhbHVlKSB9XG4gICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QubnVtYmVyVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJudW1iZXJWYWx1ZVwiLCBudW1iZXJWYWx1ZTogTnVtYmVyKG9iamVjdC5udW1iZXJWYWx1ZSkgfVxuICAgICAgICAgICAgICAgICAgICA6IGlzU2V0KG9iamVjdC5zdHJpbmdWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJzdHJpbmdWYWx1ZVwiLCBzdHJpbmdWYWx1ZTogU3RyaW5nKG9iamVjdC5zdHJpbmdWYWx1ZSkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpc1NldChvYmplY3QuYm9vbFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyAkY2FzZTogXCJib29sVmFsdWVcIiwgYm9vbFZhbHVlOiBCb29sZWFuKG9iamVjdC5ib29sVmFsdWUpIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzU2V0KG9iamVjdC5zdHJ1Y3RWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7ICRjYXNlOiBcInN0cnVjdFZhbHVlXCIsIHN0cnVjdFZhbHVlOiBvYmplY3Quc3RydWN0VmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGlzU2V0KG9iamVjdC5saXN0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgJGNhc2U6IFwibGlzdFZhbHVlXCIsIGxpc3RWYWx1ZTogWy4uLm9iamVjdC5saXN0VmFsdWVdIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBWYWx1ZS5mcm9tSlNPTiA9IGZyb21KU09OO1xuICAgIGZ1bmN0aW9uIHRvSlNPTihtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xuICAgICAgICBtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcIm51bGxWYWx1ZVwiICYmXG4gICAgICAgICAgICAob2JqLm51bGxWYWx1ZSA9IG1lc3NhZ2Uua2luZD8ubnVsbFZhbHVlICE9PSB1bmRlZmluZWQgPyBudWxsVmFsdWVUb0pTT04obWVzc2FnZS5raW5kPy5udWxsVmFsdWUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJudW1iZXJWYWx1ZVwiICYmIChvYmoubnVtYmVyVmFsdWUgPSBtZXNzYWdlLmtpbmQ/Lm51bWJlclZhbHVlKTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJzdHJpbmdWYWx1ZVwiICYmIChvYmouc3RyaW5nVmFsdWUgPSBtZXNzYWdlLmtpbmQ/LnN0cmluZ1ZhbHVlKTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJib29sVmFsdWVcIiAmJiAob2JqLmJvb2xWYWx1ZSA9IG1lc3NhZ2Uua2luZD8uYm9vbFZhbHVlKTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJzdHJ1Y3RWYWx1ZVwiICYmIChvYmouc3RydWN0VmFsdWUgPSBtZXNzYWdlLmtpbmQ/LnN0cnVjdFZhbHVlKTtcbiAgICAgICAgbWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJsaXN0VmFsdWVcIiAmJiAob2JqLmxpc3RWYWx1ZSA9IG1lc3NhZ2Uua2luZD8ubGlzdFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgVmFsdWUudG9KU09OID0gdG9KU09OO1xuICAgIGZ1bmN0aW9uIHdyYXAodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlQmFzZVZhbHVlKCk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcIm51bGxWYWx1ZVwiLCBudWxsVmFsdWU6IDAgLyogTnVsbFZhbHVlLk5VTExfVkFMVUUgKi8gfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwiYm9vbFZhbHVlXCIsIGJvb2xWYWx1ZTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJudW1iZXJWYWx1ZVwiLCBudW1iZXJWYWx1ZTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5raW5kID0geyAkY2FzZTogXCJzdHJpbmdWYWx1ZVwiLCBzdHJpbmdWYWx1ZTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgcmVzdWx0LmtpbmQgPSB7ICRjYXNlOiBcImxpc3RWYWx1ZVwiLCBsaXN0VmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXN1bHQua2luZCA9IHsgJGNhc2U6IFwic3RydWN0VmFsdWVcIiwgc3RydWN0VmFsdWU6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBhbnkgdmFsdWUgdHlwZTogXCIgKyB0eXBlb2YgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZhbHVlLndyYXAgPSB3cmFwO1xuICAgIGZ1bmN0aW9uIHVud3JhcChtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcIm51bGxWYWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlLmtpbmQ/LiRjYXNlID09PSBcIm51bWJlclZhbHVlXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQ/Lm51bWJlclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwic3RyaW5nVmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZD8uc3RyaW5nVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJib29sVmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZD8uYm9vbFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2Uua2luZD8uJGNhc2UgPT09IFwic3RydWN0VmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZD8uc3RydWN0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZS5raW5kPy4kY2FzZSA9PT0gXCJsaXN0VmFsdWVcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZD8ubGlzdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWYWx1ZS51bndyYXAgPSB1bndyYXA7XG59KShWYWx1ZSB8fCAoVmFsdWUgPSB7fSkpO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUxpc3RWYWx1ZSgpIHtcbiAgICByZXR1cm4geyB2YWx1ZXM6IFtdIH07XG59XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBMaXN0VmFsdWU7XG4oZnVuY3Rpb24gKExpc3RWYWx1ZSkge1xuICAgIGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBfbTAuV3JpdGVyLmNyZWF0ZSgpKSB7XG4gICAgICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnZhbHVlcykge1xuICAgICAgICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAodiksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkubGRlbGltKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG4gICAgTGlzdFZhbHVlLmVuY29kZSA9IGVuY29kZTtcbiAgICBmdW5jdGlvbiBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgICAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIF9tMC5SZWFkZXIgPyBpbnB1dCA6IF9tMC5SZWFkZXIuY3JlYXRlKGlucHV0KTtcbiAgICAgICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTGlzdFZhbHVlKCk7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmFsdWVzLnB1c2goVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGVyLnNraXBUeXBlKHRhZyAmIDcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBMaXN0VmFsdWUuZGVjb2RlID0gZGVjb2RlO1xuICAgIGZ1bmN0aW9uIGZyb21KU09OKG9iamVjdCkge1xuICAgICAgICByZXR1cm4geyB2YWx1ZXM6IEFycmF5LmlzQXJyYXkob2JqZWN0Py52YWx1ZXMpID8gWy4uLm9iamVjdC52YWx1ZXNdIDogW10gfTtcbiAgICB9XG4gICAgTGlzdFZhbHVlLmZyb21KU09OID0gZnJvbUpTT047XG4gICAgZnVuY3Rpb24gdG9KU09OKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIGlmIChtZXNzYWdlLnZhbHVlcykge1xuICAgICAgICAgICAgb2JqLnZhbHVlcyA9IG1lc3NhZ2UudmFsdWVzLm1hcCgoZSkgPT4gZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYmoudmFsdWVzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgTGlzdFZhbHVlLnRvSlNPTiA9IHRvSlNPTjtcbiAgICBmdW5jdGlvbiB3cmFwKGFycmF5KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZUJhc2VMaXN0VmFsdWUoKTtcbiAgICAgICAgcmVzdWx0LnZhbHVlcyA9IGFycmF5ID8/IFtdO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBMaXN0VmFsdWUud3JhcCA9IHdyYXA7XG4gICAgZnVuY3Rpb24gdW53cmFwKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2U/Lmhhc093blByb3BlcnR5KFwidmFsdWVzXCIpICYmIEFycmF5LmlzQXJyYXkobWVzc2FnZS52YWx1ZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZS52YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBMaXN0VmFsdWUudW53cmFwID0gdW53cmFwO1xufSkoTGlzdFZhbHVlIHx8IChMaXN0VmFsdWUgPSB7fSkpO1xuY29uc3QgdHNQcm90b0dsb2JhbFRoaXMgPSAoKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgICB0aHJvdyBcIlVuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdFwiO1xufSkoKTtcbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQ7XG59XG4iLCAiaW1wb3J0IHsgZ2V0Q29tcG9zaXRlUm9vdENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBFbnRpdHlNYXBwaW5nTW9kZSwgaW5zdGFuY2VDb21wb3NpdGUgfSBmcm9tICcuL2luc3RhbmNlJztcbmltcG9ydCB7IHJlc29sdmVDb21wb3NpdGUgfSBmcm9tICcuL3BhdGgnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGVmaW5pdGlvbiB9IGZyb20gJy4vcHJvdG8vZ2VuL2NvbXBvc2l0ZS5nZW4nO1xuZXhwb3J0IHsgRW50aXR5TWFwcGluZ01vZGUgfTtcbmV4cG9ydCB7IGdldENvbXBvc2l0ZVJvb3RDb21wb25lbnQgfTtcbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgY29tcG9zaXRlIGlzIG5vdCBiZWluZyBzdXBwb3J0ZWQgc28gZmFyLCBwbGVhc2UgZG8gbm90IHVzZSB0aGlzIGZlYXR1cmVcbiAqL1xuZXhwb3J0IHZhciBDb21wb3NpdGU7XG4oZnVuY3Rpb24gKENvbXBvc2l0ZSkge1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZnVuY3Rpb24gZnJvbUpzb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVEZWZpbml0aW9uLmZyb21KU09OKG9iamVjdCk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5mcm9tSnNvbiA9IGZyb21Kc29uO1xuICAgIC8qKiBAcHVibGljICovXG4gICAgZnVuY3Rpb24gZnJvbUJpbmFyeShidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZURlZmluaXRpb24uZGVjb2RlKGJ1ZmZlcik7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5mcm9tQmluYXJ5ID0gZnJvbUJpbmFyeTtcbiAgICAvKiogQHB1YmxpYyAqL1xuICAgIGZ1bmN0aW9uIHRvSnNvbihjb21wb3NpdGUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZURlZmluaXRpb24udG9KU09OKGNvbXBvc2l0ZSk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS50b0pzb24gPSB0b0pzb247XG4gICAgLyoqIEBwdWJsaWMgKi9cbiAgICBmdW5jdGlvbiB0b0JpbmFyeShjb21wb3NpdGUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZURlZmluaXRpb24uZW5jb2RlKGNvbXBvc2l0ZSkuZmluaXNoKCk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS50b0JpbmFyeSA9IHRvQmluYXJ5O1xuICAgIC8qKlxuICAgICAqIEluc3RhbmNlIGEgY29tcG9zaXRlIGFuZCByZXR1cm5zIGl0cyByb290IGVudGl0eVxuICAgICAqIEBwYXJhbSBjb21wb3NpdGVEYXRhIC0gc3RhdGUgc2VyaWFsaXplZCBieSB0aGUgQ1JEVCBwcm90b2NvbFxuICAgICAqIEBwYXJhbSBnZXROZXh0QXZhaWxhYmxlRW50aXR5IC0gZnVuY3Rpb24gdGhhdCBnaXZlcyB1bnVzZWQgZW50aXRpZXNcbiAgICAgKiBAcGFyYW0gcm9vdEVudGl0eSAtIChvcHRpb25hbCkgc3VnZ2VzdGVkIG1hcHBlZCByb290RW50aXR5IGZvciB0aGUgY29tcG9zaXRlXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgLyojX19QVVJFX18qLyBmdW5jdGlvbiBpbnN0YW5jZShlbmdpbmUsIGNvbXBvc2l0ZURhdGEsIGNvbXBvc2l0ZVByb3ZpZGVyLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgaW5zdGFuY2VDb21wb3NpdGUoZW5naW5lLCBjb21wb3NpdGVEYXRhLCBjb21wb3NpdGVQcm92aWRlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENvbXBvc2l0ZS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYW5kIG5vcm1hbGl6ZSBhIGNvbXBvc2l0ZSBwYXRoXG4gICAgICogQHBhcmFtIHNyYyAtIHRoZSBzb3VyY2UgcGF0aFxuICAgICAqIEBwYXJhbSBjd2QgLSB0aGUgZGlyZWN0b3J5IGZyb20gdGhlIHJlc29sdmUgc2hvdWxkIHN0YXJ0IHRvIHJlc29sdmVcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRoZSBhYnNvbHV0ZSByZXNvbHZlZCBwYXRoIHdpdGhvdXQgc2xhc2ggYXQgdGhlIGJlZ2lubmluZ1xuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICAvKiNfX1BVUkVfXyovIGZ1bmN0aW9uIHJlc29sdmVBbmROb3JtYWxpemVQYXRoKHNyYywgY3dkID0gJy8nKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlQ29tcG9zaXRlKHNyYywgY3dkKTtcbiAgICB9XG4gICAgQ29tcG9zaXRlLnJlc29sdmVBbmROb3JtYWxpemVQYXRoID0gcmVzb2x2ZUFuZE5vcm1hbGl6ZVBhdGg7XG59KShDb21wb3NpdGUgfHwgKENvbXBvc2l0ZSA9IHt9KSk7XG4iLCAiLy8gVGhlIG9yZGVyIG9mIHRoZSBmb2xsb3dpbmcgaW1wb3J0cyBtYXR0ZXJzLiBQbGVhc2UgZG8gbm90IGF1dG8tc29ydFxuZXhwb3J0ICogZnJvbSAnLi9lbmdpbmUnO1xuZXhwb3J0ICogZnJvbSAnLi9zY2hlbWFzJztcbmV4cG9ydCAqIGZyb20gJy4vcnVudGltZS9pbml0aWFsaXphdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL3J1bnRpbWUvdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9ydW50aW1lL2hlbHBlcnMnO1xuZXhwb3J0IHsgY3ljbGljUGFyZW50aW5nQ2hlY2tlciB9IGZyb20gJy4vc3lzdGVtcy9jeWNsaWNQYXJlbnRpbmdDaGVja2VyJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy9ldmVudHMnO1xuZXhwb3J0ICogZnJvbSAnLi9zeXN0ZW1zL3JheWNhc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9zeXN0ZW1zL3ZpZGVvRXZlbnRzJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy9hc3luYy10YXNrJztcbmV4cG9ydCAqIGZyb20gJy4vc3lzdGVtcy90d2Vlbic7XG5leHBvcnQgKiBmcm9tICcuL2VuZ2luZS9lbnRpdHknO1xuZXhwb3J0ICogZnJvbSAnLi9jb21wb25lbnRzL3R5cGVzJztcbi8vIEBpbnRlcm5hbFxuaW1wb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuL2NvbXBvbmVudHMnO1xuLy8gQGludGVybmFsXG5leHBvcnQgeyBjb21wb25lbnRzIH07XG5pbXBvcnQgeyBlbmdpbmUgfSBmcm9tICcuL3J1bnRpbWUvaW5pdGlhbGl6YXRpb24nO1xuLy8gZXhwb3J0IGNvbXBvbmVudHMgZm9yIGdsb2JhbCBlbmdpbmVcbmV4cG9ydCBjb25zdCBUcmFuc2Zvcm0gPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlRyYW5zZm9ybShlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IEFuaW1hdG9yID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5BbmltYXRvcihlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IEF1ZGlvU291cmNlID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5BdWRpb1NvdXJjZShlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IEF1ZGlvU3RyZWFtID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5BdWRpb1N0cmVhbShlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IE1hdGVyaWFsID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5NYXRlcmlhbChlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IE1lc2hSZW5kZXJlciA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuTWVzaFJlbmRlcmVyKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgTWVzaENvbGxpZGVyID0gLyogQF9fUFVSRV9fKi8gY29tcG9uZW50cy5NZXNoQ29sbGlkZXIoZW5naW5lKTtcbmV4cG9ydCBjb25zdCBOYW1lID0gY29tcG9uZW50cy5OYW1lKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgVHdlZW4gPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlR3ZWVuKGVuZ2luZSk7XG5leHBvcnQgY29uc3QgVmlydHVhbENhbWVyYSA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuVmlydHVhbENhbWVyYShlbmdpbmUpO1xuZXhwb3J0IGNvbnN0IElucHV0TW9kaWZpZXIgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLklucHV0TW9kaWZpZXIoZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKiBUaGlzIGlzIGdvaW5nIHRvIGJlIHVzZWQgZm9yIHN5bmMgY29tcG9uZW50cyB0aHJvdWdoIGEgc2VydmVyLlxuICogQ2FuIGJlIG1vZGlmaWVkIGluIHRoZSBmdXR1cmUgc2luY2UgaXQncyBzdGlsbCBpbiByZXNlYXJjaFxuICovXG5leHBvcnQgY29uc3QgU3luY0NvbXBvbmVudHMgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLlN5bmNDb21wb25lbnRzKGVuZ2luZSk7XG4vKipcbiAqIEBhbHBoYVxuICogVGFnIGEgZW50aXR5IHRvIGJlIHN5bmNyb25pemVkIHRocm91Z2ggY29tbXNcbiAqL1xuZXhwb3J0IGNvbnN0IE5ldHdvcmtFbnRpdHkgPSAvKiBAX19QVVJFX18qLyBjb21wb25lbnRzLk5ldHdvcmtFbnRpdHkoZW5naW5lKTtcbi8qKlxuICogQGFscGhhXG4gKiBUYWcgYSBlbnRpdHkgdG8gYmUgc3luY3Jvbml6ZWQgdGhyb3VnaCBjb21tc1xuICovXG5leHBvcnQgY29uc3QgTmV0d29ya1BhcmVudCA9IC8qIEBfX1BVUkVfXyovIGNvbXBvbmVudHMuTmV0d29ya1BhcmVudChlbmdpbmUpO1xuLy8gZXhwb3J0IGNvbXBvbmVudHMgZm9yIGdsb2JhbCBlbmdpbmVcbmV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9nZW5lcmF0ZWQvZ2xvYmFsLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvbmVudHMvZ2VuZXJhdGVkL3R5cGVzLmdlbic7XG5leHBvcnQgKiBmcm9tICcuL3NlcmlhbGl6YXRpb24vY3JkdCc7XG5leHBvcnQgKiBmcm9tICcuL2NvbXBvc2l0ZSc7XG4iLCAiaW1wb3J0IHt9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBlbmdpbmUsIEdsdGZDb250YWluZXIsIFRyYW5zZm9ybSwgQ29sbGlkZXJMYXllciB9IGZyb20gJ0BkY2wvc2RrL2VjcydcblxuZXhwb3J0IGZ1bmN0aW9uIG1haW4oKSB7XG4gIC8vIENyZWF0ZSBlbnRpdHkgZm9yIHRoZSBtb2RlbFxuICBjb25zdCBteU1vZGVsID0gZW5naW5lLmFkZEVudGl0eSgpXG5cbiAgLy8gQWRkIFRyYW5zZm9ybSBjb21wb25lbnQgdG8gcG9zaXRpb24gdGhlIG1vZGVsXG4gIFRyYW5zZm9ybS5jcmVhdGUobXlNb2RlbCwge1xuICAgIHBvc2l0aW9uOiB7IHg6IDIsIHk6IDAsIHo6IDMyfSwgXG4gICAgc2NhbGU6IHsgeDogMC44NSwgeTogMC44NSwgejogMC44NX0sICAgIFxuICAgIHJvdGF0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAsIHc6IDEgfSAgXG4gIH0pXG5cbiAgLy8gQWRkIEdsdGZDb250YWluZXIgd2l0aCBjb2xsaXNpb24gbWFza3NcbiAgR2x0ZkNvbnRhaW5lci5jcmVhdGUobXlNb2RlbCwge1xuICAgIHNyYzogJ2Fzc2V0cy9zY2VuZS9MQVVORFJPTUFULmdsYicsXG4gICAgaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzazogQ29sbGlkZXJMYXllci5DTF9QSFlTSUNTLFxuICAgIHZpc2libGVNZXNoZXNDb2xsaXNpb25NYXNrOiBDb2xsaWRlckxheWVyLkNMX1BIWVNJQ1NcbiAgfSlcbn1cbiIsICJpbXBvcnQgeyBzZW5kQmluYXJ5IH0gZnJvbSAnfnN5c3RlbS9Db21tdW5pY2F0aW9uc0NvbnRyb2xsZXInXG5pbXBvcnQgeyBlbmdpbmUgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IGFkZFN5bmNUcmFuc3BvcnQgfSBmcm9tICcuL21lc3NhZ2UtYnVzLXN5bmMnXG5pbXBvcnQgeyBnZXRVc2VyRGF0YSB9IGZyb20gJ35zeXN0ZW0vVXNlcklkZW50aXR5J1xuXG4vLyBpbml0aWFsaXplIHN5bmMgdHJhbnNwb3J0IGZvciBzZGsgZW5naW5lXG5jb25zdCB7IGdldENoaWxkcmVuLCBzeW5jRW50aXR5LCBwYXJlbnRFbnRpdHksIGdldFBhcmVudCwgbXlQcm9maWxlLCByZW1vdmVQYXJlbnQsIGdldEZpcnN0Q2hpbGQsIGlzU3RhdGVTeW5jcm9uaXplZCB9ID1cbiAgYWRkU3luY1RyYW5zcG9ydChlbmdpbmUsIHNlbmRCaW5hcnksIGdldFVzZXJEYXRhKVxuXG5leHBvcnQgeyBnZXRGaXJzdENoaWxkLCBnZXRDaGlsZHJlbiwgc3luY0VudGl0eSwgcGFyZW50RW50aXR5LCBnZXRQYXJlbnQsIG15UHJvZmlsZSwgcmVtb3ZlUGFyZW50LCBpc1N0YXRlU3luY3Jvbml6ZWQgfVxuIiwgImltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICdAZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcidcbmltcG9ydCB7XG4gIENyZHRNZXNzYWdlSGVhZGVyLFxuICBDcmR0TWVzc2FnZVByb3RvY29sLFxuICBDcmR0TWVzc2FnZVR5cGUsXG4gIElFbmdpbmUsXG4gIFB1dENvbXBvbmVudE9wZXJhdGlvbixcbiAgUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbixcbiAgU3luY0NvbXBvbmVudHMgYXMgX1N5bmNDb21wb25lbnRzLFxuICBOZXR3b3JrRW50aXR5IGFzIF9OZXR3b3JrRW50aXR5LFxuICBJTmV0b3dya0VudGl0eSxcbiAgVmlkZW9FdmVudCxcbiAgQXVkaW9FdmVudCxcbiAgQXVkaW9Tb3VyY2UsXG4gIEVuZ2luZUluZm8sXG4gIEdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUsXG4gIFBvaW50ZXJFdmVudHNSZXN1bHQsXG4gIFJheWNhc3RSZXN1bHQsXG4gIFJlYWxtSW5mbyxcbiAgVHdlZW5TdGF0ZSxcbiAgVWlEcm9wZG93bixcbiAgVWlEcm9wZG93blJlc3VsdCxcbiAgVWlJbnB1dCxcbiAgVWlJbnB1dFJlc3VsdCxcbiAgVWlUZXh0LFxuICBVaVRyYW5zZm9ybSxcbiAgVmlkZW9QbGF5ZXJcbn0gZnJvbSAnQGRjbC9lY3MnXG5cbmV4cG9ydCBjb25zdCBOT1RfU1lOQ19DT01QT05FTlRTID0gW1xuICBWaWRlb0V2ZW50LFxuICBWaWRlb1BsYXllcixcbiAgVHdlZW5TdGF0ZSxcbiAgQXVkaW9FdmVudCxcbiAgQXVkaW9Tb3VyY2UsXG4gIEVuZ2luZUluZm8sXG4gIEdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUsXG4gIFBvaW50ZXJFdmVudHNSZXN1bHQsXG4gIFJheWNhc3RSZXN1bHQsXG4gIFJlYWxtSW5mbyxcbiAgVWlEcm9wZG93bixcbiAgVWlEcm9wZG93blJlc3VsdCxcbiAgVWlJbnB1dCxcbiAgVWlJbnB1dFJlc3VsdCxcbiAgVWlUcmFuc2Zvcm0sXG4gIFVpVGV4dFxuXVxuXG5leHBvcnQgY29uc3QgTk9UX1NZTkNfQ09NUE9ORU5UU19JRFMgPSBOT1RfU1lOQ19DT01QT05FTlRTLm1hcCgoJCkgPT4gJC5jb21wb25lbnRJZClcblxuZXhwb3J0IGZ1bmN0aW9uIGVuZ2luZVRvQ3JkdChlbmdpbmU6IElFbmdpbmUpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgY3JkdEJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKClcbiAgY29uc3QgbmV0d29ya0J1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKClcbiAgY29uc3QgTmV0d29ya0VudGl0eSA9IGVuZ2luZS5nZXRDb21wb25lbnQoX05ldHdvcmtFbnRpdHkuY29tcG9uZW50SWQpIGFzIElOZXRvd3JrRW50aXR5XG5cbiAgZm9yIChjb25zdCBpdENvbXBvbmVudERlZmluaXRpb24gb2YgZW5naW5lLmNvbXBvbmVudHNJdGVyKCkpIHtcbiAgICBpZiAoTk9UX1NZTkNfQ09NUE9ORU5UU19JRFMuaW5jbHVkZXMoaXRDb21wb25lbnREZWZpbml0aW9uLmNvbXBvbmVudElkKSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaXRDb21wb25lbnREZWZpbml0aW9uLmR1bXBDcmR0U3RhdGVUb0J1ZmZlcihjcmR0QnVmZmVyLCAoZW50aXR5KSA9PiB7XG4gICAgICBjb25zdCBpc05ldHdvcmtFbnRpdHkgPSBOZXR3b3JrRW50aXR5LmhhcyhlbnRpdHkpXG4gICAgICByZXR1cm4gaXNOZXR3b3JrRW50aXR5XG4gICAgfSlcbiAgfVxuXG4gIGxldCBoZWFkZXI6IENyZHRNZXNzYWdlSGVhZGVyIHwgbnVsbFxuICB3aGlsZSAoKGhlYWRlciA9IENyZHRNZXNzYWdlUHJvdG9jb2wuZ2V0SGVhZGVyKGNyZHRCdWZmZXIpKSkge1xuICAgIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBQdXRDb21wb25lbnRPcGVyYXRpb24ucmVhZChjcmR0QnVmZmVyKSFcbiAgICAgIGNvbnN0IG5ldHdvcmtFbnRpdHkgPSBOZXR3b3JrRW50aXR5LmdldE9yTnVsbChtZXNzYWdlLmVudGl0eUlkKVxuICAgICAgaWYgKG5ldHdvcmtFbnRpdHkpIHtcbiAgICAgICAgUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbi53cml0ZShcbiAgICAgICAgICBuZXR3b3JrRW50aXR5LmVudGl0eUlkLFxuICAgICAgICAgIG1lc3NhZ2UudGltZXN0YW1wLFxuICAgICAgICAgIG1lc3NhZ2UuY29tcG9uZW50SWQsXG4gICAgICAgICAgbmV0d29ya0VudGl0eS5uZXR3b3JrSWQsXG4gICAgICAgICAgbWVzc2FnZS5kYXRhLFxuICAgICAgICAgIG5ldHdvcmtCdWZmZXJcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgUHV0Q29tcG9uZW50T3BlcmF0aW9uLndyaXRlKFxuICAgICAgICAgIG1lc3NhZ2UuZW50aXR5SWQsXG4gICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAsXG4gICAgICAgICAgbWVzc2FnZS5jb21wb25lbnRJZCxcbiAgICAgICAgICBtZXNzYWdlLmRhdGEsXG4gICAgICAgICAgbmV0d29ya0J1ZmZlclxuICAgICAgICApXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNyZHRCdWZmZXIuaW5jcmVtZW50UmVhZE9mZnNldChoZWFkZXIubGVuZ3RoKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXR3b3JrQnVmZmVyLnRvQmluYXJ5KClcbn1cbiIsICJpbXBvcnQge1xuICBUcmFuc3BvcnRNZXNzYWdlLFxuICBFbnRpdHlVdGlscyxcbiAgUkVTRVJWRURfU1RBVElDX0VOVElUSUVTLFxuICBDcmR0TWVzc2FnZVR5cGUsXG4gIFN5bmNDb21wb25lbnRzIGFzIF9TeW5jQ29tcG9uZW50cyxcbiAgTmV0d29ya0VudGl0eSBhcyBfTmV0d29ya0VudGl0eSxcbiAgTmV0d29ya1BhcmVudCBhcyBfTmV0d29ya1BhcmVudCxcbiAgSUVuZ2luZVxufSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IE5PVF9TWU5DX0NPTVBPTkVOVFNfSURTIH0gZnJvbSAnLi9zdGF0ZSdcblxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNGaWx0ZXIoZW5naW5lOiBJRW5naW5lKSB7XG4gIGNvbnN0IE5ldHdvcmtFbnRpdHkgPSBlbmdpbmUuZ2V0Q29tcG9uZW50KF9OZXR3b3JrRW50aXR5LmNvbXBvbmVudElkKSBhcyB0eXBlb2YgX05ldHdvcmtFbnRpdHlcbiAgY29uc3QgU3luY0NvbXBvbmVudHMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50KF9TeW5jQ29tcG9uZW50cy5jb21wb25lbnRJZCkgYXMgdHlwZW9mIF9TeW5jQ29tcG9uZW50c1xuXG4gIHJldHVybiBmdW5jdGlvbiAobWVzc2FnZTogT21pdDxUcmFuc3BvcnRNZXNzYWdlLCAnbWVzc2FnZUJ1ZmZlcic+KSB7XG4gICAgY29uc3QgY29tcG9uZW50SWQgPSAobWVzc2FnZSBhcyBhbnkpLmNvbXBvbmVudElkXG5cbiAgICBpZiAoTk9UX1NZTkNfQ09NUE9ORU5UU19JRFMuaW5jbHVkZXMoY29tcG9uZW50SWQpKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBjb25zdCBbZW50aXR5SWRdID0gRW50aXR5VXRpbHMuZnJvbUVudGl0eUlkKG1lc3NhZ2UuZW50aXR5SWQpXG5cbiAgICAvLyBmaWx0ZXIgbWVzc2FnZXMgZnJvbSByZXNlcnZlZCBlbnRpdGllcy5cbiAgICBpZiAoZW50aXR5SWQgPCBSRVNFUlZFRF9TVEFUSUNfRU5USVRJRVMpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IG5ldHdvcmsgPSBOZXR3b3JrRW50aXR5LmdldE9yTnVsbChtZXNzYWdlLmVudGl0eUlkKVxuICAgIC8vIERlbGV0ZSBOZXR3b3JrIEVudGl0eSBBbHdheXNcbiAgICBpZiAoXG4gICAgICBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUksgfHxcbiAgICAgIChuZXR3b3JrICYmIG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IHN5bmMgPSBTeW5jQ29tcG9uZW50cy5nZXRPck51bGwobWVzc2FnZS5lbnRpdHlJZClcbiAgICBpZiAoIXN5bmMpIHJldHVybiBmYWxzZVxuXG4gICAgLy8gRmlyc3QgY29tcG9uZW50XG4gICAgaWYgKChtZXNzYWdlIGFzIGFueSkudGltZXN0YW1wIDw9IDEpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGNvbXBvbmVudElkID09PSBOZXR3b3JrRW50aXR5LmNvbXBvbmVudElkKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIGNoYW5nZSBpbiB0aGUgbmV0d29yayBwYXJlbnQgb3Igc3luY0NvbXBvbmVudHMgd2Ugc2hvdWxkIGFsd2F5cyBzeW5jXG4gICAgaWYgKGNvbXBvbmVudElkID09PSBfTmV0d29ya1BhcmVudC5jb21wb25lbnRJZCB8fCBjb21wb25lbnRJZCA9PT0gU3luY0NvbXBvbmVudHMuY29tcG9uZW50SWQpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKGNvbXBvbmVudElkICYmIHN5bmMuY29tcG9uZW50SWRzLmluY2x1ZGVzKGNvbXBvbmVudElkKSkge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuIiwgImltcG9ydCB7IFJlYWRXcml0ZUJ5dGVCdWZmZXIgfSBmcm9tICdAZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vQnl0ZUJ1ZmZlcidcblxuZXhwb3J0IGVudW0gQ29tbXNNZXNzYWdlIHtcbiAgQ1JEVCA9IDEsXG4gIFJFUV9DUkRUX1NUQVRFID0gMixcbiAgUkVTX0NSRFRfU1RBVEUgPSAzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCaW5hcnlNZXNzYWdlQnVzPFQgZXh0ZW5kcyBDb21tc01lc3NhZ2U+KHNlbmQ6IChtZXNzYWdlOiBVaW50OEFycmF5KSA9PiB2b2lkKSB7XG4gIGNvbnN0IG1hcHBpbmc6IE1hcDxULCAodmFsdWU6IFVpbnQ4QXJyYXksIHNlbmRlcjogc3RyaW5nKSA9PiB2b2lkPiA9IG5ldyBNYXAoKVxuICByZXR1cm4ge1xuICAgIG9uOiA8SyBleHRlbmRzIFQ+KG1lc3NhZ2U6IEssIGNhbGxiYWNrOiAodmFsdWU6IFVpbnQ4QXJyYXksIHNlbmRlcjogc3RyaW5nKSA9PiB2b2lkKSA9PiB7XG4gICAgICBtYXBwaW5nLnNldChtZXNzYWdlLCBjYWxsYmFjaylcbiAgICB9LFxuICAgIGVtaXQ6IDxLIGV4dGVuZHMgVD4obWVzc2FnZTogSywgdmFsdWU6IFVpbnQ4QXJyYXkpID0+IHtcbiAgICAgIHNlbmQoY3JhZnRDb21tc01lc3NhZ2U8VD4obWVzc2FnZSwgdmFsdWUpKVxuICAgIH0sXG4gICAgX19wcm9jZXNzTWVzc2FnZXM6IChtZXNzYWdlczogVWludDhBcnJheVtdKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgY29uc3QgY29tbXNNc2cgPSBkZWNvZGVDb21tc01lc3NhZ2U8VD4obWVzc2FnZSlcbiAgICAgICAgaWYgKCFjb21tc01zZykgY29udGludWVcbiAgICAgICAgY29uc3QgeyBzZW5kZXIsIG1lc3NhZ2VUeXBlLCBkYXRhIH0gPSBjb21tc01zZ1xuICAgICAgICBjb25zdCBmbiA9IG1hcHBpbmcuZ2V0KG1lc3NhZ2VUeXBlKVxuICAgICAgICBpZiAoZm4pIGZuKGRhdGEsIHNlbmRlcilcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyYWZ0Q29tbXNNZXNzYWdlPFQgZXh0ZW5kcyBDb21tc01lc3NhZ2U+KG1lc3NhZ2VUeXBlOiBULCBwYXlsb2FkOiBVaW50OEFycmF5KTogVWludDhBcnJheSB7XG4gIGNvbnN0IG1zZyA9IG5ldyBVaW50OEFycmF5KHBheWxvYWQuYnl0ZUxlbmd0aCArIDEpXG4gIG1zZy5zZXQoW21lc3NhZ2VUeXBlXSlcbiAgbXNnLnNldChwYXlsb2FkLCAxKVxuICByZXR1cm4gbXNnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVDb21tc01lc3NhZ2U8VCBleHRlbmRzIENvbW1zTWVzc2FnZT4oXG4gIGRhdGE6IFVpbnQ4QXJyYXlcbik6IHsgc2VuZGVyOiBzdHJpbmc7IG1lc3NhZ2VUeXBlOiBUOyBkYXRhOiBVaW50OEFycmF5IH0gfCB1bmRlZmluZWQge1xuICB0cnkge1xuICAgIGxldCBvZmZzZXQgPSAwXG4gICAgY29uc3QgciA9IG5ldyBVaW50OEFycmF5KGRhdGEpXG4gICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhyLmJ1ZmZlcilcbiAgICBjb25zdCBzZW5kZXJMZW5ndGggPSB2aWV3LmdldFVpbnQ4KG9mZnNldClcbiAgICBvZmZzZXQgKz0gMVxuICAgIGNvbnN0IHNlbmRlciA9IGRlY29kZVN0cmluZyhkYXRhLnN1YmFycmF5KDEsIHNlbmRlckxlbmd0aCArIDEpKVxuICAgIG9mZnNldCArPSBzZW5kZXJMZW5ndGhcbiAgICBjb25zdCBtZXNzYWdlVHlwZSA9IHZpZXcuZ2V0VWludDgob2Zmc2V0KSBhcyBUXG4gICAgb2Zmc2V0ICs9IDFcbiAgICBjb25zdCBtZXNzYWdlID0gci5zdWJhcnJheShvZmZzZXQpXG5cbiAgICByZXR1cm4ge1xuICAgICAgc2VuZGVyLFxuICAgICAgbWVzc2FnZVR5cGUsXG4gICAgICBkYXRhOiBtZXNzYWdlXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcignSW52YWxpZCBDb21tcyBtZXNzYWdlJywgZSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlU3RyaW5nKGRhdGE6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBjb25zdCBidWZmZXIgPSBuZXcgUmVhZFdyaXRlQnl0ZUJ1ZmZlcigpXG4gIGJ1ZmZlci53cml0ZUJ1ZmZlcihkYXRhLCB0cnVlKVxuICByZXR1cm4gYnVmZmVyLnJlYWRVdGY4U3RyaW5nKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVN0cmluZyhzOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgYnVmZmVyID0gbmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoKVxuICBidWZmZXIud3JpdGVVdGY4U3RyaW5nKHMpXG4gIHJldHVybiBidWZmZXIucmVhZEJ1ZmZlcigpXG59XG4iLCAiaW1wb3J0IHsgRW5naW5lSW5mbyBhcyBfRW5naW5lSW5mbywgTmV0d29ya0VudGl0eSBhcyBfTmV0d29ya0VudGl0eSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgY29tcG9uZW50TnVtYmVyRnJvbU5hbWUgfSBmcm9tICdAZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMvY29tcG9uZW50LW51bWJlcidcblxuaW1wb3J0IHR5cGUgeyBHZXRVc2VyRGF0YVJlcXVlc3QsIEdldFVzZXJEYXRhUmVzcG9uc2UgfSBmcm9tICd+c3lzdGVtL1VzZXJJZGVudGl0eSdcbmltcG9ydCB7IElQcm9maWxlIH0gZnJvbSAnLi9tZXNzYWdlLWJ1cy1zeW5jJ1xuXG4vLyBSZXRyaWV2ZSB1c2VySWQgdG8gc3RhcnQgc2VuZGluZyB0aGlzIGluZm8gYXMgdGhlIG5ldHdvcmtJZFxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoUHJvZmlsZShcbiAgbXlQcm9maWxlOiBJUHJvZmlsZSxcbiAgZ2V0VXNlckRhdGE6ICh2YWx1ZTogR2V0VXNlckRhdGFSZXF1ZXN0KSA9PiBQcm9taXNlPEdldFVzZXJEYXRhUmVzcG9uc2U+XG4pIHtcbiAgdm9pZCBnZXRVc2VyRGF0YSh7fSkudGhlbigoeyBkYXRhIH0pID0+IHtcbiAgICBpZiAoZGF0YT8udXNlcklkKSB7XG4gICAgICBjb25zdCB1c2VySWQgPSBkYXRhLnVzZXJJZFxuICAgICAgY29uc3QgbmV0d29ya0lkID0gY29tcG9uZW50TnVtYmVyRnJvbU5hbWUoZGF0YS51c2VySWQpXG4gICAgICBteVByb2ZpbGUubmV0d29ya0lkID0gbmV0d29ya0lkXG4gICAgICBteVByb2ZpbGUudXNlcklkID0gdXNlcklkXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGRuJ3QgZmV0Y2ggcHJvZmlsZSBkYXRhYClcbiAgICB9XG4gIH0pXG59XG4iLCAiaW1wb3J0IHtcbiAgRW50aXR5LFxuICBJRW5naW5lLFxuICBOZXR3b3JrRW50aXR5IGFzIF9OZXR3b3JrRW50aXR5LFxuICBJTmV0b3dya0VudGl0eSxcbiAgTmV0d29ya1BhcmVudCBhcyBfTmV0d29ya1BhcmVudCxcbiAgVHJhbnNmb3JtIGFzIF9UcmFuc2Zvcm0sXG4gIFN5bmNDb21wb25lbnRzIGFzIF9TeW5jQ29tcG9uZW50cyxcbiAgSU5ldG93cmtQYXJlbnQsXG4gIFRyYW5zZm9ybUNvbXBvbmVudCxcbiAgSVN5bmNDb21wb25lbnRzXG59IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgSVByb2ZpbGUgfSBmcm9tICcuL21lc3NhZ2UtYnVzLXN5bmMnXG5pbXBvcnQgeyBOT1RfU1lOQ19DT01QT05FTlRTIH0gZnJvbSAnLi9zdGF0ZSdcblxuZXhwb3J0IHR5cGUgU3luY0VudGl0eSA9IChlbnRpdHlJZDogRW50aXR5LCBjb21wb25lbnRJZHM6IG51bWJlcltdLCBlbnRpdHlFbnVtSWQ/OiBudW1iZXIpID0+IHZvaWRcblxuZXhwb3J0IGZ1bmN0aW9uIGVudGl0eVV0aWxzKGVuZ2luZTogSUVuZ2luZSwgcHJvZmlsZTogSVByb2ZpbGUpIHtcbiAgY29uc3QgTmV0d29ya0VudGl0eSA9IGVuZ2luZS5nZXRDb21wb25lbnQoX05ldHdvcmtFbnRpdHkuY29tcG9uZW50SWQpIGFzIElOZXRvd3JrRW50aXR5XG4gIGNvbnN0IE5ldHdvcmtQYXJlbnQgPSBlbmdpbmUuZ2V0Q29tcG9uZW50KF9OZXR3b3JrUGFyZW50LmNvbXBvbmVudElkKSBhcyBJTmV0b3dya1BhcmVudFxuICBjb25zdCBUcmFuc2Zvcm0gPSBlbmdpbmUuZ2V0Q29tcG9uZW50KF9UcmFuc2Zvcm0uY29tcG9uZW50SWQpIGFzIFRyYW5zZm9ybUNvbXBvbmVudFxuICBjb25zdCBTeW5jQ29tcG9uZW50cyA9IGVuZ2luZS5nZXRDb21wb25lbnQoX1N5bmNDb21wb25lbnRzLmNvbXBvbmVudElkKSBhcyBJU3luY0NvbXBvbmVudHNcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV0d29yayBlbnRpdHkgKHN5bmMpIHRocm91Z2ggY29tbXMsIGFuZCBzeW5jIHRoZSByZWNlaXZlZCBjb21wb25lbnRzXG4gICAqL1xuICBmdW5jdGlvbiBzeW5jRW50aXR5KGVudGl0eUlkOiBFbnRpdHksIGNvbXBvbmVudElkczogbnVtYmVyW10sIGVudGl0eUVudW1JZD86IG51bWJlcikge1xuICAgIGxldCBjb21wb25lbnRzSWRzTXV0YWJsZSA9IFsuLi5jb21wb25lbnRJZHNdXG4gICAgLy8gUHJvZmlsZSBub3QgaW5pdGlhbGl6ZWRcbiAgICBpZiAoIXByb2ZpbGU/Lm5ldHdvcmtJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm9maWxlIG5vdCBpbml0aWFsaXplZC4gQ2FsbCBzeW5jRW50aXR5IGluc2lkZSB0aGUgbWFpbigpIGZ1bmN0aW9uLicpXG4gICAgfVxuXG4gICAgLy8gV2UgdXNlIHRoZSBuZXR3b3JrSWQgZ2VuZXJhdGVkIGJ5IHRoZSB1c2VyIGFkZHJlc3MgdG8gaWRlbnRpZnkgdGhpcyBlbnRpdHkgdGhyb3VnaCB0aGUgbmV0d29ya1xuICAgIGNvbnN0IG5ldHdvcmtWYWx1ZSA9IHsgZW50aXR5SWQsIG5ldHdvcmtJZDogcHJvZmlsZS5uZXR3b3JrSWQgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gZW50aXR5RW51bUlkLCBpdCBtZWFucyBpcyB0aGUgc2FtZSBlbnRpdHkgZm9yIGFsbCB0aGUgY2xpZW50cyBjcmVhdGVkIG9uIHRoZSBtYWluIGZ1bmNpdG9uLlxuICAgIC8vIFNvIHRoZSBuZXR3b3JrSWQgc2hvdWxkIGJlIHRoZSBzYW1lIGluIGFsbCB0aGUgY2xpZW50cyB0byBhdm9pZCByZS1jcmVhdGluZyB0aGlzIGVudGl0eS5cbiAgICAvLyBGb3IgdGhpcyBjYXNlIHdlIHVzZSBuZXR3b3JrSWQgPSAwLlxuICAgIGlmIChlbnRpdHlFbnVtSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV0d29ya1ZhbHVlLm5ldHdvcmtJZCA9IDBcbiAgICAgIG5ldHdvcmtWYWx1ZS5lbnRpdHlJZCA9IGVudGl0eUVudW1JZCBhcyBFbnRpdHlcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBlbnVtIGlzIGFscmVhZHkgdXNlZFxuICAgICAgZm9yIChjb25zdCBbXywgbmV0d29ya10gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChOZXR3b3JrRW50aXR5KSkge1xuICAgICAgICBpZiAobmV0d29yay5uZXR3b3JrSWQgPT09IG5ldHdvcmtWYWx1ZS5uZXR3b3JrSWQgJiYgbmV0d29yay5lbnRpdHlJZCA9PT0gbmV0d29ya1ZhbHVlLmVudGl0eUlkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzeW5jRW50aXR5IGZhaWxlZCBiZWNhdXNlIHRoZSBpZCBwcm92aWRlZCBpcyBhbHJlYWR5IGluIHVzZScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBOT1RfU1lOQ19DT01QT05FTlRTKSB7XG4gICAgICBpZiAoY29tcG9uZW50c0lkc011dGFibGUuaW5jbHVkZXMoY29tcG9uZW50LmNvbXBvbmVudElkKSkge1xuICAgICAgICBjb25zb2xlLmxvZyhg4pqg77iPICR7Y29tcG9uZW50LmNvbXBvbmVudE5hbWV9IGNhbid0IGJlIHN5bmMgdGhyb3VnaCB0aGUgbmV0d29yayFgKVxuICAgICAgICBjb21wb25lbnRzSWRzTXV0YWJsZSA9IGNvbXBvbmVudHNJZHNNdXRhYmxlLmZpbHRlcigoJCkgPT4gJCAhPT0gY29tcG9uZW50LmNvbXBvbmVudElkKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIGlzIG5vdCBkZWZpbmVkLCB0aGVuIGlzIGEgZW50aXR5IGNyZWF0ZWQgaW4gcnVudGltZSAod2hhdCB3ZSBjYWxsZWQgZHluYW1pYy9ydW50aW1lIGVudGl0aWVzKS5cbiAgICBOZXR3b3JrRW50aXR5LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHlJZCwgbmV0d29ya1ZhbHVlKVxuICAgIFN5bmNDb21wb25lbnRzLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHlJZCwgeyBjb21wb25lbnRJZHM6IGNvbXBvbmVudHNJZHNNdXRhYmxlIH0pXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBpdGVyYWJsZSBvZiBhbGwgdGhlIGNoaWxkcmVucyBvZiB0aGUgZ2l2ZW4gZW50aXR5LlxuICAgKiBmb3IgKGNvbnN0IGNoaWxkcmVuIG9mIGdldENoaWxkcmVuKHBhcmVudCkpIHsgY29uc29sZS5sb2coY2hpbGRyZW4pIH1cbiAgICogb3IganVzdCA9PiBjb25zdCBjaGlsZHJlbnM6IEVudGl0eVtdID0gQXJyYXkuZnJvbShnZXRDaGlsZHJlbihwYXJlbnQpKVxuICAgKi9cbiAgZnVuY3Rpb24qIGdldENoaWxkcmVuKHBhcmVudDogRW50aXR5KTogSXRlcmFibGU8RW50aXR5PiB7XG4gICAgY29uc3QgbmV0d29yayA9IE5ldHdvcmtFbnRpdHkuZ2V0T3JOdWxsKHBhcmVudClcbiAgICBpZiAobmV0d29yaykge1xuICAgICAgZm9yIChjb25zdCBbZW50aXR5LCBwYXJlbnRdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoTmV0d29ya1BhcmVudCkpIHtcbiAgICAgICAgaWYgKHBhcmVudC5lbnRpdHlJZCA9PT0gbmV0d29yay5lbnRpdHlJZCAmJiBwYXJlbnQubmV0d29ya0lkID09PSBuZXR3b3JrLm5ldHdvcmtJZCkge1xuICAgICAgICAgIHlpZWxkIGVudGl0eVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Rmlyc3RDaGlsZChlbnRpdHk6IEVudGl0eSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGdldENoaWxkcmVuKGVudGl0eSkpWzBdXG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcGFyZW50IGVudGl0eSBvZiB0aGUgZ2l2ZW4gZW50aXR5LlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KGNoaWxkOiBFbnRpdHkpOiBFbnRpdHkgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHBhcmVudCA9IE5ldHdvcmtQYXJlbnQuZ2V0T3JOdWxsKGNoaWxkKVxuICAgIGlmICghcGFyZW50KSByZXR1cm4gdW5kZWZpbmVkXG4gICAgZm9yIChjb25zdCBbZW50aXR5LCBuZXR3b3JrXSBvZiBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKE5ldHdvcmtFbnRpdHkpKSB7XG4gICAgICBpZiAocGFyZW50Lm5ldHdvcmtJZCA9PT0gbmV0d29yay5uZXR3b3JrSWQgJiYgcGFyZW50LmVudGl0eUlkID09PSBuZXR3b3JrLmVudGl0eUlkKSB7XG4gICAgICAgIHJldHVybiBlbnRpdHlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIG5ldHdvcmsgcGFyZW50aW5nIHRvIHN5bmMgZW50aXRpZXMuXG4gICAqIEVxdWl2YWxlbnQgdG8gVHJhbnNmb3JtLnBhcmVudCBmb3IgbG9jYWwgZW50aXRpZXNcbiAgICovXG4gIGZ1bmN0aW9uIHBhcmVudEVudGl0eShlbnRpdHk6IEVudGl0eSwgcGFyZW50OiBFbnRpdHkpIHtcbiAgICBjb25zdCBuZXR3b3JrID0gTmV0d29ya0VudGl0eS5nZXRPck51bGwocGFyZW50KVxuICAgIGlmICghbmV0d29yaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbnRpdHkgaXMgbm90IHN5bmMuIENhbGwgc3luY0VudGl0eSBvbiB0aGUgcGFyZW50LicpXG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIG5ldHdvcmsgcGFyZW50IGNvbXBvbmVudFxuICAgIE5ldHdvcmtQYXJlbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgbmV0d29yaylcblxuICAgIC8vIElmIHdlIGRvbnQgaGF2ZSBhIHRyYW5zZm9ybSBmb3IgdGhpcyBlbnRpdHksIGNyZWF0ZSBhbiBlbXB0eSBvbmUgdG8gc2VuZCBpdCB0byB0aGUgcmVuZGVyZXJcbiAgICBpZiAoIVRyYW5zZm9ybS5nZXRPck51bGwoZW50aXR5KSkge1xuICAgICAgVHJhbnNmb3JtLmNyZWF0ZShlbnRpdHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdlIGZvcmNlIHRvIHNlbmQgYSB0aWNrIHVwZGF0ZSBvZiB0aGUgdHJhbnNmb3JtIHNvIHdlIGNhbiBzZW5kIHRoZSBORVcgcGFyZW50IHRvIHRoZSByZW5kZXJlclxuICAgICAgVHJhbnNmb3JtLmdldE11dGFibGUoZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoZSBuZXR3b3JrIHBhcmVudGluZyBmcm9tIGFuIGVudGl0eVxuICAgKi9cbiAgZnVuY3Rpb24gcmVtb3ZlUGFyZW50KGVudGl0eTogRW50aXR5KSB7XG4gICAgY29uc3QgbmV0d29yayA9IE5ldHdvcmtFbnRpdHkuZ2V0T3JOdWxsKGVudGl0eSlcblxuICAgIGlmICghbmV0d29yaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbnRpdHkgaXMgbm90IHN5bmMnKVxuICAgIH1cblxuICAgIE5ldHdvcmtQYXJlbnQuZGVsZXRlRnJvbShlbnRpdHkpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN5bmNFbnRpdHksXG4gICAgZ2V0Q2hpbGRyZW4sXG4gICAgZ2V0UGFyZW50LFxuICAgIHBhcmVudEVudGl0eSxcbiAgICByZW1vdmVQYXJlbnQsXG4gICAgZ2V0Rmlyc3RDaGlsZFxuICB9XG59XG4iLCAiaW1wb3J0IHsgRW50aXR5LCBJRW5naW5lLCBUcmFuc2Zvcm1UeXBlLCBlbmdpbmUgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7XG4gIFBsYXllcklkZW50aXR5RGF0YSBhcyBkZWZpbmVQbGF5ZXJJZGVuaXR5RGF0YSxcbiAgQXZhdGFyQmFzZSBhcyBkZWZpbmVBdmF0YXJCYXNlLFxuICBBdmF0YXJFcXVpcHBlZERhdGEgYXMgZGVmaW5lQXZhdGFyRXF1aXBwZWREYXRhLFxuICBQQkF2YXRhckJhc2UsXG4gIFBCQXZhdGFyRXF1aXBwZWREYXRhLFxuICBUcmFuc2Zvcm0gYXMgZGVmaW5lVHJhbnNmb3JtXG59IGZyb20gJ0BkY2wvZWNzL2Rpc3QvY29tcG9uZW50cydcblxudHlwZSBHZXRQbGF5ZXJEYXRhUmVxID0ge1xuICB1c2VySWQ6IHN0cmluZ1xufVxudHlwZSBHZXRQbGF5ZXJEYXRhUmVzID0ge1xuICBlbnRpdHk6IEVudGl0eVxuICBuYW1lOiBzdHJpbmdcbiAgaXNHdWVzdDogYm9vbGVhblxuICB1c2VySWQ6IHN0cmluZ1xuICBhdmF0YXI/OiBQQkF2YXRhckJhc2VcbiAgd2VhcmFibGVzOiBQQkF2YXRhckVxdWlwcGVkRGF0YVsnd2VhcmFibGVVcm5zJ11cbiAgZW1vdGVzOiBQQkF2YXRhckVxdWlwcGVkRGF0YVsnZW1vdGVVcm5zJ11cbiAgcG9zaXRpb246IFRyYW5zZm9ybVR5cGVbJ3Bvc2l0aW9uJ10gfCB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmluZVBsYXllckhlbHBlcihlbmdpbmU6IElFbmdpbmUpIHtcbiAgY29uc3QgVHJhbnNmb3JtID0gZGVmaW5lVHJhbnNmb3JtKGVuZ2luZSlcbiAgY29uc3QgUGxheWVySWRlbnRpdHlEYXRhID0gZGVmaW5lUGxheWVySWRlbml0eURhdGEoZW5naW5lKVxuICBjb25zdCBBdmF0YXJFcXVpcHBlZERhdGEgPSBkZWZpbmVBdmF0YXJFcXVpcHBlZERhdGEoZW5naW5lKVxuICBjb25zdCBBdmF0YXJCYXNlID0gZGVmaW5lQXZhdGFyQmFzZShlbmdpbmUpXG4gIGNvbnN0IHBsYXllckVudGl0aWVzID0gbmV3IE1hcDxFbnRpdHksIHN0cmluZz4oKVxuXG4gIGNvbnN0IG9uRW50ZXJTY2VuZUNiOiAoKHBsYXllcjogR2V0UGxheWVyRGF0YVJlcykgPT4gdm9pZClbXSA9IFtdXG4gIGNvbnN0IG9uTGVhdmVTY2VuZUNiOiAoKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKVtdID0gW11cblxuICBlbmdpbmUuYWRkU3lzdGVtKCgpID0+IHtcbiAgICBjb25zdCBwbGF5ZXJzID0gQXJyYXkuZnJvbShlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFBsYXllcklkZW50aXR5RGF0YSwgQXZhdGFyQmFzZSkpXG4gICAgaWYgKHBsYXllcnMubGVuZ3RoID09PSBwbGF5ZXJFbnRpdGllcy5zaXplKSByZXR1cm5cblxuICAgIGZvciAoY29uc3QgW2VudGl0eSwgaWRlbnRpdHldIG9mIHBsYXllcnMpIHtcbiAgICAgIGlmICghcGxheWVyRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgICAgcGxheWVyRW50aXRpZXMuc2V0KGVudGl0eSwgaWRlbnRpdHkuYWRkcmVzcylcblxuICAgICAgICAvLyBDYWxsIG9uRW50ZXIgY2FsbGJhY2tcbiAgICAgICAgaWYgKG9uRW50ZXJTY2VuZUNiLmxlbmd0aCkge1xuICAgICAgICAgIG9uRW50ZXJTY2VuZUNiLmZvckVhY2goKGNiKSA9PiBjYihnZXRQbGF5ZXIoeyB1c2VySWQ6IGlkZW50aXR5LmFkZHJlc3MgfSkhKSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzL3JlbW92ZSBjYWxsYmFja3NcbiAgICAgICAgQXZhdGFyQmFzZS5vbkNoYW5nZShlbnRpdHksICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIGlmICghdmFsdWUgJiYgb25MZWF2ZVNjZW5lQ2IubGVuZ3RoICYmIHBsYXllckVudGl0aWVzLmdldChlbnRpdHkpKSB7XG4gICAgICAgICAgICBvbkxlYXZlU2NlbmVDYi5mb3JFYWNoKChjYikgPT4gY2IocGxheWVyRW50aXRpZXMuZ2V0KGVudGl0eSkhKSlcbiAgICAgICAgICAgIHBsYXllckVudGl0aWVzLmRlbGV0ZShlbnRpdHkpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIG9uRW50ZXJTY2VuZShjYjogKHBsYXllcjogR2V0UGxheWVyRGF0YVJlcykgPT4gdm9pZCkge1xuICAgICAgb25FbnRlclNjZW5lQ2IucHVzaChjYilcbiAgICB9LFxuICAgIG9uTGVhdmVTY2VuZShjYjogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgICBvbkxlYXZlU2NlbmVDYi5wdXNoKGNiKVxuICAgIH0sXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5mbyBvZiB0aGUgcGxheWVyIGlmIGl0J3MgaW4gdGhlIHNjZW5lLlxuICAgICAqL1xuICAgIGdldFBsYXllcih1c2VyPzogR2V0UGxheWVyRGF0YVJlcSk6IEdldFBsYXllckRhdGFSZXMgfCBudWxsIHtcbiAgICAgIGZ1bmN0aW9uIGdldEVudGl0eSgpIHtcbiAgICAgICAgaWYgKCF1c2VyPy51c2VySWQpIHJldHVybiBlbmdpbmUuUGxheWVyRW50aXR5XG4gICAgICAgIGZvciAoY29uc3QgW2VudGl0eSwgZGF0YV0gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChQbGF5ZXJJZGVudGl0eURhdGEpKSB7XG4gICAgICAgICAgaWYgKGRhdGEuYWRkcmVzcyA9PT0gdXNlci51c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHlcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfVxuXG4gICAgICBjb25zdCB1c2VyRW50aXR5ID0gZ2V0RW50aXR5KClcbiAgICAgIGlmICghdXNlckVudGl0eSkgcmV0dXJuIG51bGxcblxuICAgICAgY29uc3QgcGxheWVyRGF0YSA9IFBsYXllcklkZW50aXR5RGF0YS5nZXRPck51bGwodXNlckVudGl0eSlcbiAgICAgIGNvbnN0IGF2YXRhckRhdGEgPSBBdmF0YXJCYXNlLmdldE9yTnVsbCh1c2VyRW50aXR5KVxuICAgICAgY29uc3Qgd2VhcmFibGVzRGF0YSA9IEF2YXRhckVxdWlwcGVkRGF0YS5nZXRPck51bGwodXNlckVudGl0eSlcblxuICAgICAgaWYgKCFwbGF5ZXJEYXRhICYmICFhdmF0YXJEYXRhICYmICF3ZWFyYWJsZXNEYXRhKSByZXR1cm4gbnVsbFxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnRpdHk6IHVzZXJFbnRpdHksXG4gICAgICAgIG5hbWU6IGF2YXRhckRhdGE/Lm5hbWUgPz8gJycsXG4gICAgICAgIGlzR3Vlc3Q6ICEhcGxheWVyRGF0YT8uaXNHdWVzdCxcbiAgICAgICAgdXNlcklkOiBwbGF5ZXJEYXRhPy5hZGRyZXNzID8/ICcnLFxuICAgICAgICBhdmF0YXI6IGF2YXRhckRhdGEgPz8gdW5kZWZpbmVkLFxuICAgICAgICB3ZWFyYWJsZXM6IHdlYXJhYmxlc0RhdGE/LndlYXJhYmxlVXJucyA/PyBbXSxcbiAgICAgICAgZW1vdGVzOiB3ZWFyYWJsZXNEYXRhPy5lbW90ZVVybnMgPz8gW10sXG4gICAgICAgIHBvc2l0aW9uOiBUcmFuc2Zvcm0uZ2V0T3JOdWxsKHVzZXJFbnRpdHkpPy5wb3NpdGlvblxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBwbGF5ZXJzID0gZGVmaW5lUGxheWVySGVscGVyKGVuZ2luZSlcbmNvbnN0IHsgZ2V0UGxheWVyLCBvbkVudGVyU2NlbmUsIG9uTGVhdmVTY2VuZSB9ID0gcGxheWVyc1xuXG5leHBvcnQgeyBnZXRQbGF5ZXIsIG9uRW50ZXJTY2VuZSwgb25MZWF2ZVNjZW5lIH1cbmV4cG9ydCBkZWZhdWx0IHBsYXllcnNcbiIsICJpbXBvcnQgeyBDcmR0TWVzc2FnZVByb3RvY29sIH0gZnJvbSAnLi9jcmR0TWVzc2FnZVByb3RvY29sJztcbmltcG9ydCB7IENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgUHV0Q29tcG9uZW50T3BlcmF0aW9uIH0gZnJvbSAnLi9wdXRDb21wb25lbnQnO1xuaW1wb3J0IHsgRGVsZXRlQ29tcG9uZW50IH0gZnJvbSAnLi9kZWxldGVDb21wb25lbnQnO1xuaW1wb3J0IHsgRGVsZXRlRW50aXR5IH0gZnJvbSAnLi9kZWxldGVFbnRpdHknO1xuaW1wb3J0IHsgQXBwZW5kVmFsdWVPcGVyYXRpb24gfSBmcm9tICcuL2FwcGVuZFZhbHVlJztcbmltcG9ydCB7IFB1dE5ldHdvcmtDb21wb25lbnRPcGVyYXRpb24gfSBmcm9tICcuL25ldHdvcmsvcHV0Q29tcG9uZW50TmV0d29yayc7XG5pbXBvcnQgeyBEZWxldGVDb21wb25lbnROZXR3b3JrIH0gZnJvbSAnLi9uZXR3b3JrL2RlbGV0ZUNvbXBvbmVudE5ldHdvcmsnO1xuaW1wb3J0IHsgRGVsZXRlRW50aXR5TmV0d29yayB9IGZyb20gJy4vbmV0d29yay9kZWxldGVFbnRpdHlOZXR3b3JrJztcbmV4cG9ydCBmdW5jdGlvbiByZWFkTWVzc2FnZShidWYpIHtcbiAgICBjb25zdCBoZWFkZXIgPSBDcmR0TWVzc2FnZVByb3RvY29sLmdldEhlYWRlcihidWYpO1xuICAgIGlmICghaGVhZGVyKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5QVVRfQ09NUE9ORU5UKSB7XG4gICAgICAgIHJldHVybiBQdXRDb21wb25lbnRPcGVyYXRpb24ucmVhZChidWYpO1xuICAgIH1cbiAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSykge1xuICAgICAgICByZXR1cm4gUHV0TmV0d29ya0NvbXBvbmVudE9wZXJhdGlvbi5yZWFkKGJ1Zik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVCkge1xuICAgICAgICByZXR1cm4gRGVsZXRlQ29tcG9uZW50LnJlYWQoYnVmKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaGVhZGVyLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UX05FVFdPUkspIHtcbiAgICAgICAgcmV0dXJuIERlbGV0ZUNvbXBvbmVudE5ldHdvcmsucmVhZChidWYpO1xuICAgIH1cbiAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkFQUEVORF9WQUxVRSkge1xuICAgICAgICByZXR1cm4gQXBwZW5kVmFsdWVPcGVyYXRpb24ucmVhZChidWYpO1xuICAgIH1cbiAgICBlbHNlIGlmIChoZWFkZXIudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLkRFTEVURV9FTlRJVFkpIHtcbiAgICAgICAgcmV0dXJuIERlbGV0ZUVudGl0eS5yZWFkKGJ1Zik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGhlYWRlci50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWV9ORVRXT1JLKSB7XG4gICAgICAgIHJldHVybiBEZWxldGVFbnRpdHlOZXR3b3JrLnJlYWQoYnVmKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG4iLCAiaW1wb3J0IHsgSUVuZ2luZSwgQ3JkdE1lc3NhZ2UsIENyZHRNZXNzYWdlVHlwZSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgUmVhZFdyaXRlQnl0ZUJ1ZmZlciB9IGZyb20gJ0BkY2wvZWNzL2Rpc3Qvc2VyaWFsaXphdGlvbi9CeXRlQnVmZmVyJ1xuaW1wb3J0IHsgcmVhZE1lc3NhZ2UgfSBmcm9tICdAZGNsL2Vjcy9kaXN0L3NlcmlhbGl6YXRpb24vY3JkdC9tZXNzYWdlJ1xuXG5leHBvcnQgZnVuY3Rpb24qIHNlcmlhbGl6ZUNyZHRNZXNzYWdlcyhwcmVmaXg6IHN0cmluZywgZGF0YTogVWludDhBcnJheSwgZW5naW5lOiBJRW5naW5lKSB7XG4gIGNvbnN0IGJ1ZmZlciA9IG5ldyBSZWFkV3JpdGVCeXRlQnVmZmVyKGRhdGEpXG5cbiAgbGV0IG1lc3NhZ2U6IENyZHRNZXNzYWdlIHwgbnVsbFxuXG4gIHdoaWxlICgobWVzc2FnZSA9IHJlYWRNZXNzYWdlKGJ1ZmZlcikpKSB7XG4gICAgY29uc3QgZW50ID0gbWVzc2FnZS5lbnRpdHlJZFxuICAgIGNvbnN0IHByZWZhY2UgPSBgJHtwcmVmaXh9OiAke0NyZHRNZXNzYWdlVHlwZVttZXNzYWdlLnR5cGVdfSBlPSR7ZW50fWBcbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0VOVElUWSB8fCBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUkspIHtcbiAgICAgIHlpZWxkIGAke3ByZWZhY2V9YFxuICAgIH1cblxuICAgIGlmIChcbiAgICAgIG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlQgfHxcbiAgICAgIG1lc3NhZ2UudHlwZSA9PT0gQ3JkdE1lc3NhZ2VUeXBlLlBVVF9DT01QT05FTlRfTkVUV09SSyB8fFxuICAgICAgbWVzc2FnZS50eXBlID09PSBDcmR0TWVzc2FnZVR5cGUuREVMRVRFX0NPTVBPTkVOVF9ORVRXT1JLIHx8XG4gICAgICBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfQ09NUE9ORU5UIHx8XG4gICAgICBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5BUFBFTkRfVkFMVUVcbiAgICApIHtcbiAgICAgIGNvbnN0IHsgY29tcG9uZW50SWQsIHRpbWVzdGFtcCB9ID0gbWVzc2FnZVxuICAgICAgY29uc3QgZGF0YSA9ICdkYXRhJyBpbiBtZXNzYWdlID8gbWVzc2FnZS5kYXRhIDogdW5kZWZpbmVkXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGMgPSBlbmdpbmUuZ2V0Q29tcG9uZW50KGNvbXBvbmVudElkKVxuICAgICAgICB5aWVsZCBgJHtwcmVmYWNlfSBjPSR7Yy5jb21wb25lbnROYW1lfSB0PSR7dGltZXN0YW1wfSBkYXRhPSR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgKGRhdGEgJiYgYy5zY2hlbWEuZGVzZXJpYWxpemUobmV3IFJlYWRXcml0ZUJ5dGVCdWZmZXIoZGF0YSkpKSB8fCBudWxsXG4gICAgICAgICl9YFxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHlpZWxkIGAke3ByZWZhY2V9IGM9JHtjb21wb25lbnRJZH0gdD0ke3RpbWVzdGFtcH0gZGF0YT0/YFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZIHx8XG4gICAgICBtZXNzYWdlLnR5cGUgPT09IENyZHRNZXNzYWdlVHlwZS5ERUxFVEVfRU5USVRZX05FVFdPUktcbiAgICApIHtcbiAgICAgIHlpZWxkIHByZWZhY2VcbiAgICB9IGVsc2Uge1xuICAgICAgeWllbGQgYCR7cHJlZmFjZX0gVW5rbm93biBDcmR0TWVzc2FnZVR5cGVgXG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgSUVuZ2luZSwgVHJhbnNwb3J0LCBSZWFsbUluZm8sIFBsYXllcklkZW50aXR5RGF0YSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgdHlwZSBTZW5kQmluYXJ5UmVxdWVzdCwgdHlwZSBTZW5kQmluYXJ5UmVzcG9uc2UgfSBmcm9tICd+c3lzdGVtL0NvbW11bmljYXRpb25zQ29udHJvbGxlcidcblxuaW1wb3J0IHsgc3luY0ZpbHRlciB9IGZyb20gJy4vZmlsdGVyJ1xuaW1wb3J0IHsgZW5naW5lVG9DcmR0IH0gZnJvbSAnLi9zdGF0ZSdcbmltcG9ydCB7IEJpbmFyeU1lc3NhZ2VCdXMsIENvbW1zTWVzc2FnZSwgZGVjb2RlU3RyaW5nLCBlbmNvZGVTdHJpbmcgfSBmcm9tICcuL2JpbmFyeS1tZXNzYWdlLWJ1cydcbmltcG9ydCB7IGZldGNoUHJvZmlsZSB9IGZyb20gJy4vdXRpbHMnXG5pbXBvcnQgeyBlbnRpdHlVdGlscyB9IGZyb20gJy4vZW50aXRpZXMnXG5pbXBvcnQgeyBHZXRVc2VyRGF0YVJlcXVlc3QsIEdldFVzZXJEYXRhUmVzcG9uc2UgfSBmcm9tICd+c3lzdGVtL1VzZXJJZGVudGl0eSdcbmltcG9ydCB7IGRlZmluZVBsYXllckhlbHBlciB9IGZyb20gJy4uL3BsYXllcnMnXG5pbXBvcnQgeyBzZXJpYWxpemVDcmR0TWVzc2FnZXMgfSBmcm9tICcuLi9pbnRlcm5hbC90cmFuc3BvcnRzL2xvZ2dlcidcblxuZXhwb3J0IHR5cGUgSVByb2ZpbGUgPSB7IG5ldHdvcmtJZDogbnVtYmVyOyB1c2VySWQ6IHN0cmluZyB9XG4vLyB1c2VyIHRoYXQgd2UgYXNrZWQgZm9yIHRoZSBpbml0YWwgY3JkdCBzdGF0ZVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN5bmNUcmFuc3BvcnQoXG4gIGVuZ2luZTogSUVuZ2luZSxcbiAgc2VuZEJpbmFyeTogKG1zZzogU2VuZEJpbmFyeVJlcXVlc3QpID0+IFByb21pc2U8U2VuZEJpbmFyeVJlc3BvbnNlPixcbiAgZ2V0VXNlckRhdGE6ICh2YWx1ZTogR2V0VXNlckRhdGFSZXF1ZXN0KSA9PiBQcm9taXNlPEdldFVzZXJEYXRhUmVzcG9uc2U+XG4pIHtcbiAgY29uc3QgREVCVUdfTkVUV09SS19NRVNTQUdFUyA9ICgpID0+IChnbG9iYWxUaGlzIGFzIGFueSkuREVCVUdfTkVUV09SS19NRVNTQUdFUyA/PyB0cnVlXG4gIC8vIFByb2ZpbGUgSW5mb1xuICBjb25zdCBteVByb2ZpbGU6IElQcm9maWxlID0ge30gYXMgSVByb2ZpbGVcbiAgZmV0Y2hQcm9maWxlKG15UHJvZmlsZSEsIGdldFVzZXJEYXRhKVxuXG4gIC8vIEVudGl0eSB1dGlsc1xuICBjb25zdCBlbnRpdHlEZWZpbml0aW9ucyA9IGVudGl0eVV0aWxzKGVuZ2luZSwgbXlQcm9maWxlKVxuXG4gIC8vIExpc3Qgb2YgTWVzc2FnZUJ1c3MgbWVzc3NhZ2VzIHRvIGJlIHNlbnQgb24gZXZlcnkgZnJhbWUgdG8gY29tbXNcbiAgY29uc3QgcGVuZGluZ01lc3NhZ2VCdXNNZXNzYWdlc1RvU2VuZDogVWludDhBcnJheVtdID0gW11cbiAgY29uc3QgYmluYXJ5TWVzc2FnZUJ1cyA9IEJpbmFyeU1lc3NhZ2VCdXMoKG1lc3NhZ2UpID0+IHBlbmRpbmdNZXNzYWdlQnVzTWVzc2FnZXNUb1NlbmQucHVzaChtZXNzYWdlKSlcblxuICBmdW5jdGlvbiBnZXRNZXNzYWdlc1RvU2VuZCgpIHtcbiAgICBjb25zdCBtZXNzYWdlcyA9IFsuLi5wZW5kaW5nTWVzc2FnZUJ1c01lc3NhZ2VzVG9TZW5kXVxuICAgIHBlbmRpbmdNZXNzYWdlQnVzTWVzc2FnZXNUb1NlbmQubGVuZ3RoID0gMFxuICAgIHJldHVybiBtZXNzYWdlc1xuICB9XG4gIGNvbnN0IHBsYXllcnMgPSBkZWZpbmVQbGF5ZXJIZWxwZXIoZW5naW5lKVxuXG4gIGxldCBzdGF0ZUlzU3luY3Jvbml6ZWQgPSBmYWxzZVxuICBsZXQgdHJhbnNwb3J0SW5pdGlhbHplZCA9IGZhbHNlXG5cbiAgLy8gQWRkIFN5bmMgVHJhbnNwb3J0XG4gIGNvbnN0IHRyYW5zcG9ydDogVHJhbnNwb3J0ID0ge1xuICAgIGZpbHRlcjogc3luY0ZpbHRlcihlbmdpbmUpLFxuICAgIHNlbmQ6IGFzeW5jIChtZXNzYWdlOiBVaW50OEFycmF5KSA9PiB7XG4gICAgICBpZiAobWVzc2FnZS5ieXRlTGVuZ3RoICYmIHRyYW5zcG9ydEluaXRpYWx6ZWQpIHtcbiAgICAgICAgREVCVUdfTkVUV09SS19NRVNTQUdFUygpICYmXG4gICAgICAgICAgY29uc29sZS5sb2coLi4uQXJyYXkuZnJvbShzZXJpYWxpemVDcmR0TWVzc2FnZXMoJ1tOZXR3b3JrTWVzc2FnZSBzZW50XTonLCBtZXNzYWdlLCBlbmdpbmUpKSlcbiAgICAgICAgYmluYXJ5TWVzc2FnZUJ1cy5lbWl0KENvbW1zTWVzc2FnZS5DUkRULCBtZXNzYWdlKVxuICAgICAgfVxuICAgICAgY29uc3QgbWVzc2FnZXMgPSBnZXRNZXNzYWdlc1RvU2VuZCgpXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRCaW5hcnkoeyBkYXRhOiBtZXNzYWdlcyB9KVxuICAgICAgYmluYXJ5TWVzc2FnZUJ1cy5fX3Byb2Nlc3NNZXNzYWdlcyhyZXNwb25zZS5kYXRhKVxuICAgICAgdHJhbnNwb3J0SW5pdGlhbHplZCA9IHRydWVcbiAgICB9LFxuICAgIHR5cGU6ICduZXR3b3JrJ1xuICB9XG4gIGVuZ2luZS5hZGRUcmFuc3BvcnQodHJhbnNwb3J0KVxuICAvLyBFbmQgYWRkIHN5bmMgdHJhbnNwb3J0XG5cbiAgLy8gUmVjZWl2ZSAmIFByb2Nlc3MgQ1JEVF9TVEFURVxuICBiaW5hcnlNZXNzYWdlQnVzLm9uKENvbW1zTWVzc2FnZS5SRVNfQ1JEVF9TVEFURSwgKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgeyBzZW5kZXIsIGRhdGEgfSA9IGRlY29kZUNSRFRTdGF0ZSh2YWx1ZSlcbiAgICBpZiAoc2VuZGVyICE9PSBteVByb2ZpbGUudXNlcklkKSByZXR1cm5cbiAgICBERUJVR19ORVRXT1JLX01FU1NBR0VTKCkgJiYgY29uc29sZS5sb2coJ1tQcm9jZXNzaW5nIENSRFQgU3RhdGVdJywgZGF0YS5ieXRlTGVuZ3RoKVxuICAgIHRyYW5zcG9ydC5vbm1lc3NhZ2UhKGRhdGEpXG4gICAgc3RhdGVJc1N5bmNyb25pemVkID0gdHJ1ZVxuICB9KVxuXG4gIC8vIEFuc3dlciB0byBSRVFfQ1JEVF9TVEFURVxuICBiaW5hcnlNZXNzYWdlQnVzLm9uKENvbW1zTWVzc2FnZS5SRVFfQ1JEVF9TVEFURSwgYXN5bmMgKG1lc3NhZ2UsIHVzZXJJZCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBTZW5kaW5nIENSRFQgU3RhdGUgdG86ICR7dXNlcklkfWApXG4gICAgdHJhbnNwb3J0Lm9ubWVzc2FnZSEobWVzc2FnZSlcbiAgICBiaW5hcnlNZXNzYWdlQnVzLmVtaXQoQ29tbXNNZXNzYWdlLlJFU19DUkRUX1NUQVRFLCBlbmNvZGVDUkRUU3RhdGUodXNlcklkLCBlbmdpbmVUb0NyZHQoZW5naW5lKSkpXG4gIH0pXG5cbiAgLy8gUHJvY2VzcyBDUkRUIG1lc3NhZ2VzIGhlcmVcbiAgYmluYXJ5TWVzc2FnZUJ1cy5vbihDb21tc01lc3NhZ2UuQ1JEVCwgKHZhbHVlKSA9PiB7XG4gICAgREVCVUdfTkVUV09SS19NRVNTQUdFUygpICYmXG4gICAgICBjb25zb2xlLmxvZyhBcnJheS5mcm9tKHNlcmlhbGl6ZUNyZHRNZXNzYWdlcygnW05ldHdvcmtNZXNzYWdlIHJlY2VpdmVkXTonLCB2YWx1ZSwgZW5naW5lKSkpXG4gICAgdHJhbnNwb3J0Lm9ubWVzc2FnZSEodmFsdWUpXG4gIH0pXG5cbiAgYXN5bmMgZnVuY3Rpb24gcmVxdWVzdFN0YXRlKHJldHJ5Q291bnQ6IG51bWJlciA9IDEpIHtcbiAgICBsZXQgcGxheWVycyA9IEFycmF5LmZyb20oZW5naW5lLmdldEVudGl0aWVzV2l0aChQbGF5ZXJJZGVudGl0eURhdGEpKVxuICAgIERFQlVHX05FVFdPUktfTUVTU0FHRVMoKSAmJiBjb25zb2xlLmxvZyhgUmVxdWVzdGluZyBzdGF0ZS4gUGxheWVycyBjb25uZWN0ZWQ6ICR7cGxheWVycy5sZW5ndGggLSAxfWApXG5cbiAgICBpZiAoIVJlYWxtSW5mby5nZXRPck51bGwoZW5naW5lLlJvb3RFbnRpdHkpPy5pc0Nvbm5lY3RlZFNjZW5lUm9vbSkge1xuICAgICAgREVCVUdfTkVUV09SS19NRVNTQUdFUygpICYmIGNvbnNvbGUubG9nKGBBYm9ydGluZyBSZXF1ZXN0aW5nIHN0YXRlPy4gRGlzY29ubmVjdGVkYClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGJpbmFyeU1lc3NhZ2VCdXMuZW1pdChDb21tc01lc3NhZ2UuUkVRX0NSRFRfU1RBVEUsIGVuZ2luZVRvQ3JkdChlbmdpbmUpKVxuXG4gICAgLy8gV2FpdCB+NXMgZm9yIHRoZSByZXNwb25zZS5cbiAgICBhd2FpdCBzbGVlcCg1MDAwKVxuXG4gICAgcGxheWVycyA9IEFycmF5LmZyb20oZW5naW5lLmdldEVudGl0aWVzV2l0aChQbGF5ZXJJZGVudGl0eURhdGEpKVxuXG4gICAgaWYgKCFzdGF0ZUlzU3luY3Jvbml6ZWQpIHtcbiAgICAgIGlmIChwbGF5ZXJzLmxlbmd0aCA+IDEgJiYgcmV0cnlDb3VudCA8PSAyKSB7XG4gICAgICAgIERFQlVHX05FVFdPUktfTUVTU0FHRVMoKSAmJlxuICAgICAgICAgIGNvbnNvbGUubG9nKGBSZXF1ZXN0aW5nIHN0YXRlIGFnYWluICR7cmV0cnlDb3VudH0gKG5vIHJlc3BvbnNlKS4gUGxheWVycyBjb25uZWN0ZWQ6ICR7cGxheWVycy5sZW5ndGggLSAxfWApXG4gICAgICAgIHZvaWQgcmVxdWVzdFN0YXRlKHJldHJ5Q291bnQgKyAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgREVCVUdfTkVUV09SS19NRVNTQUdFUygpICYmIGNvbnNvbGUubG9nKCdObyBhY3RpdmUgcGxheWVycy4gU3RhdGUgc3luY3Jvbml6ZWQnKVxuICAgICAgICBzdGF0ZUlzU3luY3Jvbml6ZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcGxheWVycy5vbkVudGVyU2NlbmUoKHBsYXllcikgPT4ge1xuICAgIERFQlVHX05FVFdPUktfTUVTU0FHRVMoKSAmJiBjb25zb2xlLmxvZygnW29uRW50ZXJTY2VuZV0nLCBwbGF5ZXIudXNlcklkKVxuICB9KVxuXG4gIC8vIEFza3MgZm9yIHRoZSBSRVFfQ1JEVF9TVEFURSB3aGVuIGl0cyBjb25uZWN0ZWQgdG8gY29tbXNcbiAgUmVhbG1JbmZvLm9uQ2hhbmdlKGVuZ2luZS5Sb290RW50aXR5LCAodmFsdWUpID0+IHtcbiAgICBpZiAoIXZhbHVlPy5pc0Nvbm5lY3RlZFNjZW5lUm9vbSkge1xuICAgICAgREVCVUdfTkVUV09SS19NRVNTQUdFUygpICYmIGNvbnNvbGUubG9nKCdEaXNjb25uZWN0ZWQgZnJvbSBjb21tcycpXG4gICAgICBzdGF0ZUlzU3luY3Jvbml6ZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIGlmICh2YWx1ZT8uaXNDb25uZWN0ZWRTY2VuZVJvb20pIHtcbiAgICAgIERFQlVHX05FVFdPUktfTUVTU0FHRVMoKSAmJiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIGNvbW1zJylcbiAgICB9XG5cbiAgICBpZiAodmFsdWU/LmlzQ29ubmVjdGVkU2NlbmVSb29tICYmICFzdGF0ZUlzU3luY3Jvbml6ZWQpIHtcbiAgICAgIHZvaWQgcmVxdWVzdFN0YXRlKClcbiAgICB9XG4gIH0pXG5cbiAgcGxheWVycy5vbkxlYXZlU2NlbmUoKHVzZXJJZCkgPT4ge1xuICAgIERFQlVHX05FVFdPUktfTUVTU0FHRVMoKSAmJiBjb25zb2xlLmxvZygnW29uTGVhdmVTY2VuZV0nLCB1c2VySWQpXG4gIH0pXG5cbiAgZnVuY3Rpb24gaXNTdGF0ZVN5bmNyb25pemVkKCkge1xuICAgIHJldHVybiBzdGF0ZUlzU3luY3Jvbml6ZWRcbiAgfVxuXG4gIGZ1bmN0aW9uIHNsZWVwKG1zOiBudW1iZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgIGxldCB0aW1lciA9IDBcbiAgICAgIGZ1bmN0aW9uIHNsZWVwU3lzdGVtKGR0OiBudW1iZXIpIHtcbiAgICAgICAgdGltZXIgKz0gZHRcbiAgICAgICAgaWYgKHRpbWVyICogMTAwMCA+PSBtcykge1xuICAgICAgICAgIGVuZ2luZS5yZW1vdmVTeXN0ZW0oc2xlZXBTeXN0ZW0pXG4gICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVuZ2luZS5hZGRTeXN0ZW0oc2xlZXBTeXN0ZW0pXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgLi4uZW50aXR5RGVmaW5pdGlvbnMsXG4gICAgbXlQcm9maWxlLFxuICAgIGlzU3RhdGVTeW5jcm9uaXplZFxuICB9XG59XG5cbi8qKlxuICogTWVzc2FnZXMgUHJvdG9jb2wgRW5jb2RpbmdcbiAqXG4gKiBDUkRUOiBQbGFpbiBVaW50OEFycmF5XG4gKlxuICogQ1JEVF9TVEFURV9SRVMgeyBzZW5kZXI6IHN0cmluZywgZGF0YTogVWludDhBcnJheX1cbiAqL1xuZnVuY3Rpb24gZGVjb2RlQ1JEVFN0YXRlKGRhdGE6IFVpbnQ4QXJyYXkpIHtcbiAgbGV0IG9mZnNldCA9IDBcbiAgY29uc3QgciA9IG5ldyBVaW50OEFycmF5KGRhdGEpXG4gIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoci5idWZmZXIpXG4gIGNvbnN0IHNlbmRlckxlbmd0aCA9IHZpZXcuZ2V0VWludDgob2Zmc2V0KVxuICBvZmZzZXQgKz0gMVxuICBjb25zdCBzZW5kZXIgPSBkZWNvZGVTdHJpbmcoZGF0YS5zdWJhcnJheSgxLCBzZW5kZXJMZW5ndGggKyAxKSlcbiAgb2Zmc2V0ICs9IHNlbmRlckxlbmd0aFxuICBjb25zdCBzdGF0ZSA9IHIuc3ViYXJyYXkob2Zmc2V0KVxuXG4gIHJldHVybiB7IHNlbmRlciwgZGF0YTogc3RhdGUgfVxufVxuXG5mdW5jdGlvbiBlbmNvZGVDUkRUU3RhdGUoYWRkcmVzczogc3RyaW5nLCBkYXRhOiBVaW50OEFycmF5KSB7XG4gIC8vIGFkZHJlc3MgdG8gdWludDhhcnJheVxuICBjb25zdCBhZGRyZXNzQnVmZmVyID0gZW5jb2RlU3RyaW5nKGFkZHJlc3MpXG4gIGNvbnN0IGFkZHJlc3NPZmZzZXQgPSAxXG4gIGNvbnN0IG1lc3NhZ2VMZW5ndGggPSBhZGRyZXNzT2Zmc2V0ICsgYWRkcmVzc0J1ZmZlci5ieXRlTGVuZ3RoICsgZGF0YS5ieXRlTGVuZ3RoXG5cbiAgY29uc3Qgc2VyaWFsaXplZE1lc3NhZ2UgPSBuZXcgVWludDhBcnJheShtZXNzYWdlTGVuZ3RoKVxuICBzZXJpYWxpemVkTWVzc2FnZS5zZXQobmV3IFVpbnQ4QXJyYXkoW2FkZHJlc3NCdWZmZXIuYnl0ZUxlbmd0aF0pLCAwKVxuICBzZXJpYWxpemVkTWVzc2FnZS5zZXQoYWRkcmVzc0J1ZmZlciwgMSlcbiAgc2VyaWFsaXplZE1lc3NhZ2Uuc2V0KGRhdGEsIGFkZHJlc3NCdWZmZXIuYnl0ZUxlbmd0aCArIDEpXG4gIHJldHVybiBzZXJpYWxpemVkTWVzc2FnZVxufVxuIiwgImltcG9ydCB7IElFbmdpbmUsIElTY2hlbWEsIEpzb25TY2hlbWFFeHRlbmRlZCwgU2NoZW1hcyB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHtcbiAgQWN0aW9uLFxuICBBY3Rpb25QYXlsb2FkLFxuICBBY3Rpb25UeXBlLFxuICBBY3Rpb25UeXBlcyxcbiAgQ29tcG9uZW50TmFtZSxcbiAgZ2V0Q29tcG9uZW50LFxufSBmcm9tICcuL2RlZmluaXRpb25zJ1xuXG5leHBvcnQgY29uc3QgRU1QVFk6IEpzb25TY2hlbWFFeHRlbmRlZCA9IHtcbiAgdHlwZTogJ29iamVjdCcsXG4gIHByb3BlcnRpZXM6IHt9LFxuICBzZXJpYWxpemF0aW9uVHlwZTogJ21hcCcsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBY3Rpb25UeXBlPFQgZXh0ZW5kcyBJU2NoZW1hPihcbiAgZW5naW5lOiBJRW5naW5lLFxuICB0eXBlOiBzdHJpbmcsXG4gIHNjaGVtYT86IFQsXG4pIHtcbiAgY29uc3QgQWN0aW9uVHlwZXMgPSBnZXRDb21wb25lbnQ8QWN0aW9uVHlwZXM+KFxuICAgIENvbXBvbmVudE5hbWUuQUNUSU9OX1RZUEVTLFxuICAgIGVuZ2luZSxcbiAgKVxuICBjb25zdCBhY3Rpb25UeXBlcyA9IEFjdGlvblR5cGVzLmdldE9yQ3JlYXRlTXV0YWJsZShlbmdpbmUuUm9vdEVudGl0eSlcbiAgY29uc3QgYWN0aW9uVHlwZSA9IHtcbiAgICB0eXBlLFxuICAgIGpzb25TY2hlbWE6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgc2NoZW1hPy5qc29uU2NoZW1hIHx8IFNjaGVtYXMuTWFwKHt9KS5qc29uU2NoZW1hLFxuICAgICksXG4gIH1cbiAgYWN0aW9uVHlwZXMudmFsdWUgPSBbXG4gICAgLi4uYWN0aW9uVHlwZXMudmFsdWUuZmlsdGVyKCgkKSA9PiAkLnR5cGUgIT09IGFjdGlvblR5cGUudHlwZSksXG4gICAgYWN0aW9uVHlwZSxcbiAgXVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aW9uU2NoZW1hPFQgPSB1bmtub3duPihlbmdpbmU6IElFbmdpbmUsIHR5cGU6IHN0cmluZykge1xuICBjb25zdCBBY3Rpb25UeXBlcyA9IGdldENvbXBvbmVudDxBY3Rpb25UeXBlcz4oXG4gICAgQ29tcG9uZW50TmFtZS5BQ1RJT05fVFlQRVMsXG4gICAgZW5naW5lLFxuICApXG4gIGNvbnN0IGFjdGlvblR5cGVzID0gQWN0aW9uVHlwZXMuZ2V0KGVuZ2luZS5Sb290RW50aXR5KVxuICBjb25zdCBhY3Rpb25UeXBlID0gYWN0aW9uVHlwZXMudmFsdWUuZmluZCgoJCkgPT4gJC50eXBlID09PSB0eXBlKVxuICBjb25zdCBqc29uU2NoZW1hOiBKc29uU2NoZW1hRXh0ZW5kZWQgPSBhY3Rpb25UeXBlXG4gICAgPyBKU09OLnBhcnNlKGFjdGlvblR5cGUuanNvblNjaGVtYSlcbiAgICA6IEVNUFRZXG4gIHJldHVybiBTY2hlbWFzLmZyb21Kc29uKGpzb25TY2hlbWEpIGFzIElTY2hlbWE8VD5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGlvblR5cGVzKGVuZ2luZTogSUVuZ2luZSkge1xuICBjb25zdCBBY3Rpb25UeXBlcyA9IGdldENvbXBvbmVudDxBY3Rpb25UeXBlcz4oXG4gICAgQ29tcG9uZW50TmFtZS5BQ1RJT05fVFlQRVMsXG4gICAgZW5naW5lLFxuICApXG4gIGNvbnN0IGFjdGlvblR5cGVzID0gQWN0aW9uVHlwZXMuZ2V0KGVuZ2luZS5Sb290RW50aXR5KVxuICByZXR1cm4gYWN0aW9uVHlwZXMudmFsdWUubWFwKCgkKSA9PiAkLnR5cGUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXlsb2FkPFQgZXh0ZW5kcyBBY3Rpb25UeXBlPihhY3Rpb246IEFjdGlvbikge1xuICByZXR1cm4gSlNPTi5wYXJzZShhY3Rpb24uanNvblBheWxvYWQpIGFzIEFjdGlvblBheWxvYWQ8VD5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEpzb248VCBleHRlbmRzIEFjdGlvblR5cGU+KHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8VD4pIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG59XG4iLCAiaW1wb3J0IHsgWUdBbGlnbiwgWUdKdXN0aWZ5IH0gZnJvbSAnQGRjbC9lY3MnXG5cbmV4cG9ydCBlbnVtIENvbXBvbmVudE5hbWUge1xuICBBQ1RJT05fVFlQRVMgPSAnYXNzZXQtcGFja3M6OkFjdGlvblR5cGVzJyxcbiAgQUNUSU9OUyA9ICdhc3NldC1wYWNrczo6QWN0aW9ucycsXG4gIENPVU5URVIgPSAnYXNzZXQtcGFja3M6OkNvdW50ZXInLFxuICBUUklHR0VSUyA9ICdhc3NldC1wYWNrczo6VHJpZ2dlcnMnLFxuICBTVEFURVMgPSAnYXNzZXQtcGFja3M6OlN0YXRlcycsXG4gIENPVU5URVJfQkFSID0gJ2Fzc2V0LXBhY2tzOjpDb3VudGVyQmFyJyxcbn1cblxuZXhwb3J0IGVudW0gVHdlZW5UeXBlIHtcbiAgTU9WRV9JVEVNID0gJ21vdmVfaXRlbScsXG4gIFJPVEFURV9JVEVNID0gJ3JvdGF0ZV9pdGVtJyxcbiAgU0NBTEVfSVRFTSA9ICdzY2FsZV9pdGVtJyxcbn1cblxuZXhwb3J0IGVudW0gSW50ZXJwb2xhdGlvblR5cGUge1xuICBMSU5FQVIgPSAnbGluZWFyJyxcbiAgRUFTRUlOUVVBRCA9ICdlYXNlaW5xdWFkJyxcbiAgRUFTRU9VVFFVQUQgPSAnZWFzZW91dHF1YWQnLFxuICBFQVNFUVVBRCA9ICdlYXNlcXVhZCcsXG4gIEVBU0VJTlNJTkUgPSAnZWFzZWluc2luZScsXG4gIEVBU0VPVVRTSU5FID0gJ2Vhc2VvdXRzaW5lJyxcbiAgRUFTRVNJTkUgPSAnZWFzZWlub3V0c2luZScsXG4gIEVBU0VJTkVYUE8gPSAnZWFzZWluZXhwbycsXG4gIEVBU0VPVVRFWFBPID0gJ2Vhc2VvdXRleHBvJyxcbiAgRUFTRUVYUE8gPSAnZWFzZWlub3V0ZXhwbycsXG4gIEVBU0VJTkVMQVNUSUMgPSAnZWFzZWluZWxhc3RpYycsXG4gIEVBU0VPVVRFTEFTVElDID0gJ2Vhc2VvdXRlbGFzdGljJyxcbiAgRUFTRUVMQVNUSUMgPSAnZWFzZWlub3V0ZWxhc3RpYycsXG4gIEVBU0VJTkJPVU5DRSA9ICdlYXNlaW5ib3VuY2UnLFxuICBFQVNFT1VURUJPVU5DRSA9ICdlYXNlb3V0Ym91bmNlJyxcbiAgRUFTRUJPVU5DRSA9ICdlYXNlaW5vdXRib3VuY2UnLFxufVxuXG5leHBvcnQgZW51bSBBY3Rpb25UeXBlIHtcbiAgUExBWV9BTklNQVRJT04gPSAncGxheV9hbmltYXRpb24nLFxuICBTVE9QX0FOSU1BVElPTiA9ICdzdG9wX2FuaW1hdGlvbicsXG4gIFNFVF9TVEFURSA9ICdzZXRfc3RhdGUnLFxuICBTVEFSVF9UV0VFTiA9ICdzdGFydF90d2VlbicsXG4gIFNFVF9DT1VOVEVSID0gJ3NldF9jb3VudGVyJyxcbiAgSU5DUkVNRU5UX0NPVU5URVIgPSAnaW5jcmVtZW50X2NvdW50ZXInLFxuICBERUNSRUFTRV9DT1VOVEVSID0gJ2RlY3JlYXNlX2NvdW50ZXInLFxuICBQTEFZX1NPVU5EID0gJ3BsYXlfc291bmQnLFxuICBTVE9QX1NPVU5EID0gJ3N0b3Bfc291bmQnLFxuICBTRVRfVklTSUJJTElUWSA9ICdzZXRfdmlzaWJpbGl0eScsXG4gIEFUVEFDSF9UT19QTEFZRVIgPSAnYXR0YWNoX3RvX3BsYXllcicsXG4gIERFVEFDSF9GUk9NX1BMQVlFUiA9ICdkZXRhY2hfZnJvbV9wbGF5ZXInLFxuICBQTEFZX1ZJREVPX1NUUkVBTSA9ICdwbGF5X3ZpZGVvX3N0cmVhbScsXG4gIFNUT1BfVklERU9fU1RSRUFNID0gJ3N0b3BfdmlkZW9fc3RyZWFtJyxcbiAgUExBWV9BVURJT19TVFJFQU0gPSAncGxheV9hdWRpb19zdHJlYW0nLFxuICBTVE9QX0FVRElPX1NUUkVBTSA9ICdzdG9wX2F1ZGlvX3N0cmVhbScsXG4gIFRFTEVQT1JUX1BMQVlFUiA9ICd0ZWxlcG9ydF9wbGF5ZXInLFxuICBNT1ZFX1BMQVlFUiA9ICdtb3ZlX3BsYXllcicsXG4gIFBMQVlfREVGQVVMVF9FTU9URSA9ICdwbGF5X2RlZmF1bHRfZW1vdGUnLFxuICBQTEFZX0NVU1RPTV9FTU9URSA9ICdwbGF5X2N1c3RvbV9lbW90ZScsXG4gIE9QRU5fTElOSyA9ICdvcGVuX2xpbmsnLFxuICBTSE9XX1RFWFQgPSAnc2hvd190ZXh0JyxcbiAgSElERV9URVhUID0gJ2hpZGVfdGV4dCcsXG4gIFNUQVJUX0RFTEFZID0gJ3N0YXJ0X2RlbGF5JyxcbiAgU1RPUF9ERUxBWSA9ICdzdG9wX2RlbGF5JyxcbiAgU1RBUlRfTE9PUCA9ICdzdGFydF9sb29wJyxcbiAgU1RPUF9MT09QID0gJ3N0b3BfbG9vcCcsXG4gIENMT05FX0VOVElUWSA9ICdjbG9uZV9lbnRpdHknLFxuICBSRU1PVkVfRU5USVRZID0gJ3JlbW92ZV9lbnRpdHknLFxuICBTSE9XX0lNQUdFID0gJ3Nob3dfaW1hZ2UnLFxuICBISURFX0lNQUdFID0gJ2hpZGVfaW1hZ2UnLFxuICBEQU1BR0UgPSAnZGFtYWdlJyxcbiAgTU9WRV9QTEFZRVJfSEVSRSA9ICdtb3ZlX3BsYXllcl9oZXJlJyxcbiAgUExBQ0VfT05fUExBWUVSID0gJ3BsYWNlX29uX3BsYXllcicsXG4gIFJPVEFURV9BU19QTEFZRVIgPSAncm90YXRlX2FzX3BsYXllcicsXG4gIFBMQUNFX09OX0NBTUVSQSA9ICdwbGFjZV9vbl9jYW1lcmEnLFxuICBST1RBVEVfQVNfQ0FNRVJBID0gJ3JvdGF0ZV9hc19jYW1lcmEnLFxuICBTRVRfUE9TSVRJT04gPSAnc2V0X3Bvc2l0aW9uJyxcbiAgU0VUX1JPVEFUSU9OID0gJ3NldF9yb3RhdGlvbicsXG4gIFNFVF9TQ0FMRSA9ICdzZXRfc2NhbGUnLFxuICBGT0xMT1dfUExBWUVSID0gJ2ZvbGxvd19wbGF5ZXInLFxuICBTVE9QX0ZPTExPV0lOR19QTEFZRVIgPSAnc3RvcF9mb2xsb3dpbmdfcGxheWVyJyxcbiAgUkFORE9NID0gJ3JhbmRvbScsXG4gIEJBVENIID0gJ2JhdGNoJyxcbiAgSEVBTF9QTEFZRVIgPSAnaGVhbF9wbGF5ZXInLFxufVxuXG5leHBvcnQgZW51bSBUcmlnZ2VyVHlwZSB7XG4gIC8qKiBAZGVwcmVjYXRlZCB1c2UgT05fSU5QVVRfQUNUSU9OIGluc3RlYWQgKi9cbiAgT05fQ0xJQ0sgPSAnb25fY2xpY2snLFxuICBPTl9JTlBVVF9BQ1RJT04gPSAnb25faW5wdXRfYWN0aW9uJyxcbiAgT05fU1RBVEVfQ0hBTkdFID0gJ29uX3N0YXRlX2NoYW5nZScsXG4gIE9OX1NQQVdOID0gJ29uX3NwYXduJyxcbiAgT05fVFdFRU5fRU5EID0gJ29uX3R3ZWVuX2VuZCcsXG4gIE9OX0NPVU5URVJfQ0hBTkdFID0gJ29uX2NvdW50ZXJfY2hhbmdlJyxcbiAgT05fUExBWUVSX0VOVEVSU19BUkVBID0gJ29uX3BsYXllcl9lbnRlcnNfYXJlYScsXG4gIE9OX1BMQVlFUl9MRUFWRVNfQVJFQSA9ICdvbl9wbGF5ZXJfbGVhdmVzX2FyZWEnLFxuICBPTl9ERUxBWSA9ICdvbl9kZWxheScsXG4gIE9OX0xPT1AgPSAnb25fbG9vcCcsXG4gIE9OX0NMT05FID0gJ29uX2Nsb25lJyxcbiAgT05fQ0xJQ0tfSU1BR0UgPSAnb25fY2xpY2tfaW1hZ2UnLFxuICBPTl9EQU1BR0UgPSAnb25fZGFtYWdlJyxcbiAgT05fR0xPQkFMX0NMSUNLID0gJ29uX2dsb2JhbF9jbGljaycsXG4gIE9OX0dMT0JBTF9QUklNQVJZID0gJ29uX2dsb2JhbF9wcmltYXJ5JyxcbiAgT05fR0xPQkFMX1NFQ09OREFSWSA9ICdvbl9nbG9iYWxfc2Vjb25kYXJ5JyxcbiAgT05fVElDSyA9ICdvbl90aWNrJyxcbiAgT05fSEVBTF9QTEFZRVIgPSAnb25faGVhbF9wbGF5ZXInLFxuICBPTl9QTEFZRVJfU1BBV04gPSAnb25fcGxheWVyX3NwYXduJyxcbn1cblxuZXhwb3J0IGVudW0gVHJpZ2dlckNvbmRpdGlvblR5cGUge1xuICBXSEVOX1NUQVRFX0lTID0gJ3doZW5fc3RhdGVfaXMnLFxuICBXSEVOX1NUQVRFX0lTX05PVCA9ICd3aGVuX3N0YXRlX2lzX25vdCcsXG4gIFdIRU5fQ09VTlRFUl9FUVVBTFMgPSAnd2hlbl9jb3VudGVyX2VxdWFscycsXG4gIFdIRU5fQ09VTlRFUl9JU19HUkVBVEVSX1RIQU4gPSAnd2hlbl9jb3VudGVyX2lzX2dyZWF0ZXJfdGhhbicsXG4gIFdIRU5fQ09VTlRFUl9JU19MRVNTX1RIQU4gPSAnd2hlbl9jb3VudGVyX2lzX2xlc3NfdGhhbicsXG4gIFdIRU5fRElTVEFOQ0VfVE9fUExBWUVSX0xFU1NfVEhBTiA9ICd3aGVuX2Rpc3RhbmNlX3RvX3BsYXllcl9sZXNzX3RoYW4nLFxuICBXSEVOX0RJU1RBTkNFX1RPX1BMQVlFUl9HUkVBVEVSX1RIQU4gPSAnd2hlbl9kaXN0YW5jZV90b19wbGF5ZXJfZ3JlYXRlcl90aGFuJyxcbiAgV0hFTl9QUkVWSU9VU19TVEFURV9JUyA9ICd3aGVuX3ByZXZpb3VzX3N0YXRlX2lzJyxcbiAgV0hFTl9QUkVWSU9VU19TVEFURV9JU19OT1QgPSAnd2hlbl9wcmV2aW91c19zdGF0ZV9pc19ub3QnLFxufVxuXG5leHBvcnQgZW51bSBUcmlnZ2VyQ29uZGl0aW9uT3BlcmF0aW9uIHtcbiAgQU5EID0gJ2FuZCcsXG4gIE9SID0gJ29yJyxcbn1cblxuLy8gRGVmaW5lZCB2YWx1ZXMgaW5zdGVhZCBvZiB1c2luZyBmcm9tIEBkY2wvZWNzIGJlY2F1c2UgU2NoZW1hcyBkb2Vzbid0IHN1cHBvcnQgY29uc3QgZW51bXNcbmV4cG9ydCBlbnVtIEFsaWduTW9kZSB7XG4gIFRBTV9UT1BfTEVGVCA9IDAsXG4gIFRBTV9UT1BfQ0VOVEVSID0gMSxcbiAgVEFNX1RPUF9SSUdIVCA9IDIsXG4gIFRBTV9NSURETEVfTEVGVCA9IDMsXG4gIFRBTV9NSURETEVfQ0VOVEVSID0gNCxcbiAgVEFNX01JRERMRV9SSUdIVCA9IDUsXG4gIFRBTV9CT1RUT01fTEVGVCA9IDYsXG4gIFRBTV9CT1RUT01fQ0VOVEVSID0gNyxcbiAgVEFNX0JPVFRPTV9SSUdIVCA9IDgsXG59XG5cbi8vIERlZmluZWQgdmFsdWVzIGluc3RlYWQgb2YgdXNpbmcgZnJvbSBAZGNsL2VjcyBiZWNhdXNlIFNjaGVtYXMgZG9lc24ndCBzdXBwb3J0IGNvbnN0IGVudW1zXG5leHBvcnQgZW51bSBGb250IHtcbiAgRl9TQU5TX1NFUklGID0gMCxcbiAgRl9TRVJJRiA9IDEsXG4gIEZfTU9OT1NQQUNFID0gMixcbn1cblxuZXhwb3J0IHR5cGUgU2NyZWVuQWxpZ25Nb2RlID0ge1xuICBhbGlnbkl0ZW1zOiBZR0FsaWduXG4gIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnlcbn1cblxuLy8gRGVmaW5lZCB2YWx1ZXMgaW5zdGVhZCBvZiB1c2luZyBmcm9tIEBkY2wvZWNzIGJlY2F1c2UgU2NoZW1hcyBkb2Vzbid0IHN1cHBvcnQgY29uc3QgZW51bXNcbmV4cG9ydCBlbnVtIENvbGxpZGVycyB7XG4gIC8qKiBDTF9OT05FIC0gbm8gY29sbGlzaW9ucyAqL1xuICBDTF9OT05FID0gMCxcbiAgLyoqIENMX1BPSU5URVIgLSBjb2xsaXNpb25zIHdpdGggdGhlIHBsYXllcidzIHBvaW50ZXIgcmF5IChlLmcuIG1vdXNlIGN1cnNvciBob3ZlcmluZykgKi9cbiAgQ0xfUE9JTlRFUiA9IDEsXG4gIC8qKiBDTF9QSFlTSUNTIC0gY29sbGlzaW9uIGFmZmVjdGluZyB5b3VyIHBsYXllcidzIHBoeXNpY3MgaS5lLiB3YWxscywgZmxvb3IsIG1vdmluZyBwbGF0ZnJvbXMgKi9cbiAgQ0xfUEhZU0lDUyA9IDIsXG4gIENMX1JFU0VSVkVEMSA9IDQsXG4gIENMX1JFU0VSVkVEMiA9IDgsXG4gIENMX1JFU0VSVkVEMyA9IDE2LFxuICBDTF9SRVNFUlZFRDQgPSAzMixcbiAgQ0xfUkVTRVJWRUQ1ID0gNjQsXG4gIENMX1JFU0VSVkVENiA9IDEyOCxcbiAgQ0xfQ1VTVE9NMSA9IDI1NixcbiAgQ0xfQ1VTVE9NMiA9IDUxMixcbiAgQ0xfQ1VTVE9NMyA9IDEwMjQsXG4gIENMX0NVU1RPTTQgPSAyMDQ4LFxuICBDTF9DVVNUT001ID0gNDA5NixcbiAgQ0xfQ1VTVE9NNiA9IDgxOTIsXG4gIENMX0NVU1RPTTcgPSAxNjM4NCxcbiAgQ0xfQ1VTVE9NOCA9IDMyNzY4LFxufVxuXG5leHBvcnQgZW51bSBQcm94aW1pdHlMYXllciB7XG4gIEFMTCA9ICdhbGwnLFxuICBQTEFZRVIgPSAncGxheWVyJyxcbiAgTk9OX1BMQVlFUiA9ICdub25fcGxheWVyJyxcbn1cbiIsICJpbXBvcnQge1xuICBBbmltYXRvciBhcyBkZWZpbmVBbmltYXRvcixcbiAgVHJhbnNmb3JtIGFzIGRlZmluZVRyYW5zZm9ybSxcbiAgQXVkaW9Tb3VyY2UgYXMgZGVmaW5lQXVkaW9Tb3VyY2UsXG4gIEF2YXRhckF0dGFjaCBhcyBkZWZpbmVBdmF0YXJBdHRhY2gsXG4gIFZpc2liaWxpdHlDb21wb25lbnQgYXMgZGVmaW5lVmlzaWJpbGl0eUNvbXBvbmVudCxcbiAgR2x0ZkNvbnRhaW5lciBhcyBkZWZpbmVHbHRmQ29udGFpbmVyLFxuICBVaVRyYW5zZm9ybSBhcyBkZWZpbmVVaVRyYW5zZm9ybSxcbiAgVWlUZXh0IGFzIGRlZmluZVVpVGV4dCxcbiAgVWlCYWNrZ3JvdW5kIGFzIGRlZmluZVVpQmFja2dyb3VuZCxcbiAgVmlkZW9QbGF5ZXIgYXMgZGVmaW5lVmlkZW9QbGF5ZXIsXG4gIE1hdGVyaWFsIGFzIGRlZmluZU1hdGVyaWFsLFxuICBNZXNoUmVuZGVyZXIgYXMgZGVmaW5lTWVzaFJlbmRlcmVyLFxuICBCaWxsYm9hcmQgYXMgZGVmaW5lQmlsbGJvYXJkLFxuICBOYW1lIGFzIGRlZmluZU5hbWUsXG4gIFR3ZWVuIGFzIGRlZmluZVR3ZWVuLFxuICBUd2VlblNlcXVlbmNlIGFzIGRlZmluZVR3ZWVuU2VxdWVuY2UsXG4gIFBvaW50ZXJFdmVudHMgYXMgZGVmaW5lUG9pbnRlckV2ZW50cyxcbiAgTmV0d29ya0VudGl0eSBhcyBkZWZpbmVOZXR3b3JrRW50aXR5LFxuICBTeW5jQ29tcG9uZW50cyBhcyBkZWZpbmVTeW5jQ29tcG9uZW50c1xufSBmcm9tICdAZGNsL2Vjcy9kaXN0L2NvbXBvbmVudHMnXG5pbXBvcnQgeyBJRW5naW5lIH0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBFbmdpbmVDb21wb25lbnRzIH0gZnJvbSAnLi9kZWZpbml0aW9ucydcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEV4cGxvcmVyQ29tcG9uZW50cyhlbmdpbmU6IElFbmdpbmUpOiBFbmdpbmVDb21wb25lbnRzIHtcbiAgcmV0dXJuIHtcbiAgICBBbmltYXRvcjogZGVmaW5lQW5pbWF0b3IoZW5naW5lKSxcbiAgICBUcmFuc2Zvcm06IGRlZmluZVRyYW5zZm9ybShlbmdpbmUpLFxuICAgIEF1ZGlvU291cmNlOiBkZWZpbmVBdWRpb1NvdXJjZShlbmdpbmUpLFxuICAgIEF2YXRhckF0dGFjaDogZGVmaW5lQXZhdGFyQXR0YWNoKGVuZ2luZSksXG4gICAgVmlzaWJpbGl0eUNvbXBvbmVudDogZGVmaW5lVmlzaWJpbGl0eUNvbXBvbmVudChlbmdpbmUpLFxuICAgIEdsdGZDb250YWluZXI6IGRlZmluZUdsdGZDb250YWluZXIoZW5naW5lKSxcbiAgICBVaVRyYW5zZm9ybTogZGVmaW5lVWlUcmFuc2Zvcm0oZW5naW5lKSxcbiAgICBVaVRleHQ6IGRlZmluZVVpVGV4dChlbmdpbmUpLFxuICAgIFVpQmFja2dyb3VuZDogZGVmaW5lVWlCYWNrZ3JvdW5kKGVuZ2luZSksXG4gICAgVmlkZW9QbGF5ZXI6IGRlZmluZVZpZGVvUGxheWVyKGVuZ2luZSksXG4gICAgTWF0ZXJpYWw6IGRlZmluZU1hdGVyaWFsKGVuZ2luZSksXG4gICAgTWVzaFJlbmRlcmVyOiBkZWZpbmVNZXNoUmVuZGVyZXIoZW5naW5lKSxcbiAgICBCaWxsYm9hcmQ6IGRlZmluZUJpbGxib2FyZChlbmdpbmUpLFxuICAgIE5hbWU6IGRlZmluZU5hbWUoZW5naW5lKSxcbiAgICBUd2VlbjogZGVmaW5lVHdlZW4oZW5naW5lKSxcbiAgICBUd2VlblNlcXVlbmNlOiBkZWZpbmVUd2VlblNlcXVlbmNlKGVuZ2luZSksXG4gICAgUG9pbnRlckV2ZW50czogZGVmaW5lUG9pbnRlckV2ZW50cyhlbmdpbmUpLFxuICAgIE5ldHdvcmtFbnRpdHk6IGRlZmluZU5ldHdvcmtFbnRpdHkoZW5naW5lKSxcbiAgICBTeW5jQ29tcG9uZW50czogZGVmaW5lU3luY0NvbXBvbmVudHMoZW5naW5lKVxuICB9XG59XG4iLCAiZXhwb3J0IHR5cGUgRXZlbnRUeXBlID0gc3RyaW5nIHwgc3ltYm9sO1xuXG4vLyBBbiBldmVudCBoYW5kbGVyIGNhbiB0YWtlIGFuIG9wdGlvbmFsIGV2ZW50IGFyZ3VtZW50XG4vLyBhbmQgc2hvdWxkIG5vdCByZXR1cm4gYSB2YWx1ZVxuZXhwb3J0IHR5cGUgSGFuZGxlcjxUID0gdW5rbm93bj4gPSAoZXZlbnQ6IFQpID0+IHZvaWQ7XG5leHBvcnQgdHlwZSBXaWxkY2FyZEhhbmRsZXI8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IChcblx0dHlwZToga2V5b2YgVCxcblx0ZXZlbnQ6IFRba2V5b2YgVF1cbikgPT4gdm9pZDtcblxuLy8gQW4gYXJyYXkgb2YgYWxsIGN1cnJlbnRseSByZWdpc3RlcmVkIGV2ZW50IGhhbmRsZXJzIGZvciBhIHR5cGVcbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlckxpc3Q8VCA9IHVua25vd24+ID0gQXJyYXk8SGFuZGxlcjxUPj47XG5leHBvcnQgdHlwZSBXaWxkQ2FyZEV2ZW50SGFuZGxlckxpc3Q8VCA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+PiA9IEFycmF5PFxuXHRXaWxkY2FyZEhhbmRsZXI8VD5cbj47XG5cbi8vIEEgbWFwIG9mIGV2ZW50IHR5cGVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIGV2ZW50IGhhbmRsZXJzLlxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyTWFwPEV2ZW50cyBleHRlbmRzIFJlY29yZDxFdmVudFR5cGUsIHVua25vd24+PiA9IE1hcDxcblx0a2V5b2YgRXZlbnRzIHwgJyonLFxuXHRFdmVudEhhbmRsZXJMaXN0PEV2ZW50c1trZXlvZiBFdmVudHNdPiB8IFdpbGRDYXJkRXZlbnRIYW5kbGVyTGlzdDxFdmVudHM+XG4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIEVtaXR0ZXI8RXZlbnRzIGV4dGVuZHMgUmVjb3JkPEV2ZW50VHlwZSwgdW5rbm93bj4+IHtcblx0YWxsOiBFdmVudEhhbmRsZXJNYXA8RXZlbnRzPjtcblxuXHRvbjxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IEtleSwgaGFuZGxlcjogSGFuZGxlcjxFdmVudHNbS2V5XT4pOiB2b2lkO1xuXHRvbih0eXBlOiAnKicsIGhhbmRsZXI6IFdpbGRjYXJkSGFuZGxlcjxFdmVudHM+KTogdm9pZDtcblxuXHRvZmY8S2V5IGV4dGVuZHMga2V5b2YgRXZlbnRzPihcblx0XHR0eXBlOiBLZXksXG5cdFx0aGFuZGxlcj86IEhhbmRsZXI8RXZlbnRzW0tleV0+XG5cdCk6IHZvaWQ7XG5cdG9mZih0eXBlOiAnKicsIGhhbmRsZXI6IFdpbGRjYXJkSGFuZGxlcjxFdmVudHM+KTogdm9pZDtcblxuXHRlbWl0PEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4odHlwZTogS2V5LCBldmVudDogRXZlbnRzW0tleV0pOiB2b2lkO1xuXHRlbWl0PEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4oXG5cdFx0dHlwZTogdW5kZWZpbmVkIGV4dGVuZHMgRXZlbnRzW0tleV0gPyBLZXkgOiBuZXZlclxuXHQpOiB2b2lkO1xufVxuXG4vKipcbiAqIE1pdHQ6IFRpbnkgKH4yMDBiKSBmdW5jdGlvbmFsIGV2ZW50IGVtaXR0ZXIgLyBwdWJzdWIuXG4gKiBAbmFtZSBtaXR0XG4gKiBAcmV0dXJucyB7TWl0dH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWl0dDxFdmVudHMgZXh0ZW5kcyBSZWNvcmQ8RXZlbnRUeXBlLCB1bmtub3duPj4oXG5cdGFsbD86IEV2ZW50SGFuZGxlck1hcDxFdmVudHM+XG4pOiBFbWl0dGVyPEV2ZW50cz4ge1xuXHR0eXBlIEdlbmVyaWNFdmVudEhhbmRsZXIgPVxuXHRcdHwgSGFuZGxlcjxFdmVudHNba2V5b2YgRXZlbnRzXT5cblx0XHR8IFdpbGRjYXJkSGFuZGxlcjxFdmVudHM+O1xuXHRhbGwgPSBhbGwgfHwgbmV3IE1hcCgpO1xuXG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogQSBNYXAgb2YgZXZlbnQgbmFtZXMgdG8gcmVnaXN0ZXJlZCBoYW5kbGVyIGZ1bmN0aW9ucy5cblx0XHQgKi9cblx0XHRhbGwsXG5cblx0XHQvKipcblx0XHQgKiBSZWdpc3RlciBhbiBldmVudCBoYW5kbGVyIGZvciB0aGUgZ2l2ZW4gdHlwZS5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xzeW1ib2x9IHR5cGUgVHlwZSBvZiBldmVudCB0byBsaXN0ZW4gZm9yLCBvciBgJyonYCBmb3IgYWxsIGV2ZW50c1xuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgRnVuY3Rpb24gdG8gY2FsbCBpbiByZXNwb25zZSB0byBnaXZlbiBldmVudFxuXHRcdCAqIEBtZW1iZXJPZiBtaXR0XG5cdFx0ICovXG5cdFx0b248S2V5IGV4dGVuZHMga2V5b2YgRXZlbnRzPih0eXBlOiBLZXksIGhhbmRsZXI6IEdlbmVyaWNFdmVudEhhbmRsZXIpIHtcblx0XHRcdGNvbnN0IGhhbmRsZXJzOiBBcnJheTxHZW5lcmljRXZlbnRIYW5kbGVyPiB8IHVuZGVmaW5lZCA9IGFsbCEuZ2V0KHR5cGUpO1xuXHRcdFx0aWYgKGhhbmRsZXJzKSB7XG5cdFx0XHRcdGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhbGwhLnNldCh0eXBlLCBbaGFuZGxlcl0gYXMgRXZlbnRIYW5kbGVyTGlzdDxFdmVudHNba2V5b2YgRXZlbnRzXT4pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBSZW1vdmUgYW4gZXZlbnQgaGFuZGxlciBmb3IgdGhlIGdpdmVuIHR5cGUuXG5cdFx0ICogSWYgYGhhbmRsZXJgIGlzIG9taXR0ZWQsIGFsbCBoYW5kbGVycyBvZiB0aGUgZ2l2ZW4gdHlwZSBhcmUgcmVtb3ZlZC5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ3xzeW1ib2x9IHR5cGUgVHlwZSBvZiBldmVudCB0byB1bnJlZ2lzdGVyIGBoYW5kbGVyYCBmcm9tIChgJyonYCB0byByZW1vdmUgYSB3aWxkY2FyZCBoYW5kbGVyKVxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXSBIYW5kbGVyIGZ1bmN0aW9uIHRvIHJlbW92ZVxuXHRcdCAqIEBtZW1iZXJPZiBtaXR0XG5cdFx0ICovXG5cdFx0b2ZmPEtleSBleHRlbmRzIGtleW9mIEV2ZW50cz4odHlwZTogS2V5LCBoYW5kbGVyPzogR2VuZXJpY0V2ZW50SGFuZGxlcikge1xuXHRcdFx0Y29uc3QgaGFuZGxlcnM6IEFycmF5PEdlbmVyaWNFdmVudEhhbmRsZXI+IHwgdW5kZWZpbmVkID0gYWxsIS5nZXQodHlwZSk7XG5cdFx0XHRpZiAoaGFuZGxlcnMpIHtcblx0XHRcdFx0aWYgKGhhbmRsZXIpIHtcblx0XHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKSA+Pj4gMCwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YWxsIS5zZXQodHlwZSwgW10pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIEludm9rZSBhbGwgaGFuZGxlcnMgZm9yIHRoZSBnaXZlbiB0eXBlLlxuXHRcdCAqIElmIHByZXNlbnQsIGAnKidgIGhhbmRsZXJzIGFyZSBpbnZva2VkIGFmdGVyIHR5cGUtbWF0Y2hlZCBoYW5kbGVycy5cblx0XHQgKlxuXHRcdCAqIE5vdGU6IE1hbnVhbGx5IGZpcmluZyAnKicgaGFuZGxlcnMgaXMgbm90IHN1cHBvcnRlZC5cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfHN5bWJvbH0gdHlwZSBUaGUgZXZlbnQgdHlwZSB0byBpbnZva2Vcblx0XHQgKiBAcGFyYW0ge0FueX0gW2V2dF0gQW55IHZhbHVlIChvYmplY3QgaXMgcmVjb21tZW5kZWQgYW5kIHBvd2VyZnVsKSwgcGFzc2VkIHRvIGVhY2ggaGFuZGxlclxuXHRcdCAqIEBtZW1iZXJPZiBtaXR0XG5cdFx0ICovXG5cdFx0ZW1pdDxLZXkgZXh0ZW5kcyBrZXlvZiBFdmVudHM+KHR5cGU6IEtleSwgZXZ0PzogRXZlbnRzW0tleV0pIHtcblx0XHRcdGxldCBoYW5kbGVycyA9IGFsbCEuZ2V0KHR5cGUpO1xuXHRcdFx0aWYgKGhhbmRsZXJzKSB7XG5cdFx0XHRcdChoYW5kbGVycyBhcyBFdmVudEhhbmRsZXJMaXN0PEV2ZW50c1trZXlvZiBFdmVudHNdPilcblx0XHRcdFx0XHQuc2xpY2UoKVxuXHRcdFx0XHRcdC5tYXAoKGhhbmRsZXIpID0+IHtcblx0XHRcdFx0XHRcdGhhbmRsZXIoZXZ0ISk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGhhbmRsZXJzID0gYWxsIS5nZXQoJyonKTtcblx0XHRcdGlmIChoYW5kbGVycykge1xuXHRcdFx0XHQoaGFuZGxlcnMgYXMgV2lsZENhcmRFdmVudEhhbmRsZXJMaXN0PEV2ZW50cz4pXG5cdFx0XHRcdFx0LnNsaWNlKClcblx0XHRcdFx0XHQubWFwKChoYW5kbGVyKSA9PiB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyKHR5cGUsIGV2dCEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cbiIsICJpbXBvcnQgbWl0dCwgeyBFbWl0dGVyIH0gZnJvbSAnbWl0dCdcbmltcG9ydCB7IEVudGl0eSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgQWN0aW9uUGF5bG9hZCwgQWN0aW9uVHlwZSwgVHJpZ2dlclR5cGUgfSBmcm9tICcuL2RlZmluaXRpb25zJ1xuXG5jb25zdCB0cmlnZ2VycyA9IG5ldyBNYXA8RW50aXR5LCBFbWl0dGVyPFJlY29yZDxUcmlnZ2VyVHlwZSwgdm9pZD4+PigpXG5cbmNvbnN0IGFjdGlvbnMgPSBuZXcgTWFwPFxuICBFbnRpdHksXG4gIEVtaXR0ZXI8UmVjb3JkPHN0cmluZywgQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlPj4+XG4+KClcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyaWdnZXJFdmVudHMoZW50aXR5OiBFbnRpdHkpIHtcbiAgaWYgKCF0cmlnZ2Vycy5oYXMoZW50aXR5KSkge1xuICAgIHRyaWdnZXJzLnNldChlbnRpdHksIG1pdHQoKSlcbiAgfVxuICByZXR1cm4gdHJpZ2dlcnMuZ2V0KGVudGl0eSkhXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3Rpb25FdmVudHMoZW50aXR5OiBFbnRpdHkpIHtcbiAgaWYgKCFhY3Rpb25zLmhhcyhlbnRpdHkpKSB7XG4gICAgYWN0aW9ucy5zZXQoZW50aXR5LCBtaXR0KCkpXG4gIH1cbiAgcmV0dXJuIGFjdGlvbnMuZ2V0KGVudGl0eSkhXG59XG4iLCAiaW1wb3J0IHtcbiAgQ29tcG9uZW50RGVmaW5pdGlvbixcbiAgSUVuZ2luZSxcbiAgTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb24sXG59IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgQ29tcG9uZW50TmFtZSwgQ291bnRlciB9IGZyb20gJy4vZGVmaW5pdGlvbnMnXG5cbmV4cG9ydCBjb25zdCBDT01QT05FTlRTX1dJVEhfSUQ6IHN0cmluZ1tdID0gW1xuICBDb21wb25lbnROYW1lLkFDVElPTlMsXG4gIENvbXBvbmVudE5hbWUuU1RBVEVTLFxuICBDb21wb25lbnROYW1lLkNPVU5URVIsXG5dXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb3VudGVyQ29tcG9uZW50KGVuZ2luZTogSUVuZ2luZSkge1xuICByZXR1cm4gZW5naW5lLmdldENvbXBvbmVudChcbiAgICBDb21wb25lbnROYW1lLkNPVU5URVIsXG4gICkgYXMgTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248Q291bnRlcj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5leHRJZChlbmdpbmU6IElFbmdpbmUpIHtcbiAgY29uc3QgQ291bnRlciA9IGdldENvdW50ZXJDb21wb25lbnQoZW5naW5lKVxuICBjb25zdCBjb3VudGVyID0gQ291bnRlci5nZXRPckNyZWF0ZU11dGFibGUoZW5naW5lLlJvb3RFbnRpdHkpXG4gIHJldHVybiArK2NvdW50ZXIudmFsdWVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmVzSWQ8VCBleHRlbmRzIHsgaWQ6IHN0cmluZyB9PihcbiAgY29tcG9uZW50OiBDb21wb25lbnREZWZpbml0aW9uPHVua25vd24+LFxuKTogY29tcG9uZW50IGlzIENvbXBvbmVudERlZmluaXRpb248VD4ge1xuICByZXR1cm4gQ09NUE9ORU5UU19XSVRIX0lELmluY2x1ZGVzKGNvbXBvbmVudC5jb21wb25lbnROYW1lKVxufVxuIiwgImltcG9ydCB7IFN0YXRlcyB9IGZyb20gJy4vZGVmaW5pdGlvbnMnXG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkU3RhdGUoc3RhdGVzOiBTdGF0ZXMsIHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgc3RhdGVzLnZhbHVlLmluY2x1ZGVzKHZhbHVlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFZhbHVlKHN0YXRlczogU3RhdGVzKSB7XG4gIGlmIChpc1ZhbGlkU3RhdGUoc3RhdGVzLCBzdGF0ZXMuY3VycmVudFZhbHVlKSkge1xuICAgIHJldHVybiBzdGF0ZXMuY3VycmVudFZhbHVlIVxuICB9XG4gIHJldHVybiBnZXREZWZhdWx0VmFsdWUoc3RhdGVzKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlKHN0YXRlczogU3RhdGVzKSB7XG4gIGlmIChpc1ZhbGlkU3RhdGUoc3RhdGVzLCBzdGF0ZXMuZGVmYXVsdFZhbHVlKSkge1xuICAgIHJldHVybiBzdGF0ZXMuZGVmYXVsdFZhbHVlIVxuICB9XG4gIGlmIChzdGF0ZXMudmFsdWUubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBzdGF0ZXMudmFsdWVbMF1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJldmlvdXNWYWx1ZShzdGF0ZXM6IFN0YXRlcykge1xuICBpZiAoaXNWYWxpZFN0YXRlKHN0YXRlcywgc3RhdGVzLnByZXZpb3VzVmFsdWUpKSB7XG4gICAgcmV0dXJuIHN0YXRlcy5wcmV2aW91c1ZhbHVlIVxuICB9XG4gIHJldHVybiBudWxsXG59XG4iLCAiaW1wb3J0IHtcbiAgQ29tcG9uZW50RGVmaW5pdGlvbixcbiAgTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb24sXG59IGZyb20gJ0BkY2wvZWNzJ1xuXG5leHBvcnQgZnVuY3Rpb24gaXNMYXN0V3JpdGVXaW5Db21wb25lbnQ8VCA9IHVua25vd24+KFxuICBjb21wb25lbnQ6IENvbXBvbmVudERlZmluaXRpb248VD4sXG4pOiBjb21wb25lbnQgaXMgTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248VD4ge1xuICByZXR1cm4gISEoY29tcG9uZW50IGFzIExhc3RXcml0ZVdpbkVsZW1lbnRTZXRDb21wb25lbnREZWZpbml0aW9uPFQ+KVxuICAgIC5jcmVhdGVPclJlcGxhY2Vcbn1cbiIsICJpbXBvcnQge1xuICBFbnRpdHksXG4gIElFbmdpbmUsXG4gIFRyYW5zZm9ybUNvbXBvbmVudEV4dGVuZGVkLFxuICBnZXRDb21wb25lbnRFbnRpdHlUcmVlXG59IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgZ2V0TmV4dElkLCByZXF1aXJlc0lkIH0gZnJvbSAnLi9pZCdcbmltcG9ydCB7IGlzTGFzdFdyaXRlV2luQ29tcG9uZW50IH0gZnJvbSAnLi9sd3cnXG5pbXBvcnQgeyBJU0RLSGVscGVycywgVHJpZ2dlcnNDb21wb25lbnQgfSBmcm9tICcuL2RlZmluaXRpb25zJ1xuaW1wb3J0IHsgZ2V0RXhwbG9yZXJDb21wb25lbnRzIH0gZnJvbSAnLi9jb21wb25lbnRzJ1xuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoXG4gIGVudGl0eTogRW50aXR5LFxuICBlbmdpbmU6IElFbmdpbmUsXG4gIFRyYW5zZm9ybTogVHJhbnNmb3JtQ29tcG9uZW50RXh0ZW5kZWQsXG4gIFRyaWdnZXJzOiBUcmlnZ2Vyc0NvbXBvbmVudCxcbiAgc2RrSGVscGVycz86IElTREtIZWxwZXJzXG4pIHtcbiAgY29uc3QgaWRzID0gbmV3IE1hcDxudW1iZXIsIG51bWJlcj4oKVxuICBjb25zdCBlbnRpdGllcyA9IG5ldyBNYXA8RW50aXR5LCBFbnRpdHk+KClcbiAgY29uc3QgdHJlZSA9IGdldENvbXBvbmVudEVudGl0eVRyZWUoZW5naW5lLCBlbnRpdHksIFRyYW5zZm9ybSlcbiAgY29uc3QgeyBOZXR3b3JrRW50aXR5LCBTeW5jQ29tcG9uZW50cyB9ID0gZ2V0RXhwbG9yZXJDb21wb25lbnRzKGVuZ2luZSlcbiAgZm9yIChjb25zdCBvcmlnaW5hbCBvZiB0cmVlKSB7XG4gICAgY29uc3QgY2xvbmVkID0gZW5naW5lLmFkZEVudGl0eSgpXG5cbiAgICBmb3IgKGNvbnN0IGNvbXBvbmVudCBvZiBlbmdpbmUuY29tcG9uZW50c0l0ZXIoKSkge1xuICAgICAgaWYgKGNvbXBvbmVudC5oYXMob3JpZ2luYWwpKSB7XG4gICAgICAgIGxldCBuZXdWYWx1ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50LmdldChvcmlnaW5hbCkpKVxuICAgICAgICBpZiAocmVxdWlyZXNJZChjb21wb25lbnQpKSB7XG4gICAgICAgICAgY29uc3Qgb2xkSWQgPSBuZXdWYWx1ZS5pZFxuICAgICAgICAgIGNvbnN0IG5ld0lkID0gZ2V0TmV4dElkKGVuZ2luZSlcbiAgICAgICAgICBpZHMuc2V0KG9sZElkLCBuZXdJZClcbiAgICAgICAgICBuZXdWYWx1ZSA9IHtcbiAgICAgICAgICAgIC4uLm5ld1ZhbHVlLFxuICAgICAgICAgICAgaWQ6IG5ld0lkLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0xhc3RXcml0ZVdpbkNvbXBvbmVudChjb21wb25lbnQpKSB7XG4gICAgICAgICAgY29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShjbG9uZWQsIG5ld1ZhbHVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVudGl0aWVzLnNldChvcmlnaW5hbCwgY2xvbmVkKVxuICB9XG5cbiAgY29uc3QgY2xvbmVzID0gQXJyYXkuZnJvbShlbnRpdGllcy52YWx1ZXMoKSkucmV2ZXJzZSgpXG5cbiAgZm9yIChjb25zdCBjbG9uZWQgb2YgY2xvbmVzKSB7XG4gICAgLy8gaWYgdGhlIGVudGl0eSBoYXMgdHJpZ2dlcnMsIHJlbWFwIHRoZSBvbGQgaWRzIGluIHRoZSBhY3Rpb25zIGFuZCBjb25kaXRpb25zIHRvIHRoZSBuZXcgb25lc1xuXG4gICAgaWYgKFRyaWdnZXJzLmhhcyhjbG9uZWQpKSB7XG4gICAgICBjb25zdCB0cmlnZ2VycyA9IFRyaWdnZXJzLmdldE11dGFibGUoY2xvbmVkKVxuICAgICAgZm9yIChjb25zdCB0cmlnZ2VyIG9mIHRyaWdnZXJzLnZhbHVlKSB7XG4gICAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIHRyaWdnZXIuYWN0aW9ucykge1xuICAgICAgICAgIGlmIChhY3Rpb24uaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0lkID0gaWRzLmdldChhY3Rpb24uaWQpXG4gICAgICAgICAgICBpZiAobmV3SWQpIHtcbiAgICAgICAgICAgICAgYWN0aW9uLmlkID0gbmV3SWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyaWdnZXIuY29uZGl0aW9ucykge1xuICAgICAgICAgIGZvciAoY29uc3QgY29uZGl0aW9uIG9mIHRyaWdnZXIuY29uZGl0aW9ucykge1xuICAgICAgICAgICAgaWYgKGNvbmRpdGlvbi5pZCkge1xuICAgICAgICAgICAgICBjb25zdCBuZXdJZCA9IGlkcy5nZXQoY29uZGl0aW9uLmlkKVxuICAgICAgICAgICAgICBpZiAobmV3SWQpIHtcbiAgICAgICAgICAgICAgICBjb25kaXRpb24uaWQgPSBuZXdJZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRml4IHRoZSBOZXR3b3JrRW50aXR5IGNvbXBvbmVudCBmb3IgdGhlIG5ldyBlbnRpdHkuXG4gICAgaWYgKE5ldHdvcmtFbnRpdHkuaGFzKGNsb25lZCkpIHtcbiAgICAgIGNvbnN0IHN5bmNDb21wb25lbnQgPSBTeW5jQ29tcG9uZW50cy5nZXRPck51bGwoY2xvbmVkKVxuXG4gICAgICBpZiAoc3luY0NvbXBvbmVudCAmJiBzZGtIZWxwZXJzPy5zeW5jRW50aXR5KSB7XG4gICAgICAgIHNka0hlbHBlcnM/LnN5bmNFbnRpdHkoY2xvbmVkLCBzeW5jQ29tcG9uZW50LmNvbXBvbmVudElkcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPOiBzaG91bGQgd2UgZml4IHRoZSBwYXJlbnQgbmV0d29yayBlbnRpdHkgYWxzbyA/XG4gICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGVPck51bGwoY2xvbmVkKVxuICAgIGlmICh0cmFuc2Zvcm0gJiYgdHJhbnNmb3JtLnBhcmVudCkge1xuICAgICAgY29uc3QgbmV3UGFyZW50ID0gZW50aXRpZXMuZ2V0KHRyYW5zZm9ybS5wYXJlbnQpXG4gICAgICBpZiAobmV3UGFyZW50KSB7XG4gICAgICAgIHRyYW5zZm9ybS5wYXJlbnQgPSBuZXdQYXJlbnRcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBjbG9uZWQgPSBjbG9uZXNbMF1cblxuICByZXR1cm4geyBpZHMsIGVudGl0aWVzLCBjbG9uZWQgfVxufVxuIiwgImltcG9ydCB7XG4gIEVudGl0eSxcbiAgSUVuZ2luZSxcbiAgSVNjaGVtYSxcbiAgTWF0ZXJpYWxDb21wb25lbnREZWZpbml0aW9uRXh0ZW5kZWQsXG4gIFBCTWF0ZXJpYWwsXG4gIFBCVmlkZW9QbGF5ZXIsXG4gIFNjaGVtYXMsXG4gIFZpZGVvVGV4dHVyZSxcbiAgQW5pbWF0b3JDb21wb25lbnREZWZpbml0aW9uRXh0ZW5kZWQsXG4gIFRyYW5zZm9ybUNvbXBvbmVudEV4dGVuZGVkLFxuICBMYXN0V3JpdGVXaW5FbGVtZW50U2V0Q29tcG9uZW50RGVmaW5pdGlvbixcbiAgUEJBdmF0YXJBdHRhY2gsXG4gIFBCVmlzaWJpbGl0eUNvbXBvbmVudCxcbiAgUEJHbHRmQ29udGFpbmVyLFxuICBQQlVpVHJhbnNmb3JtLFxuICBQQlVpVGV4dCxcbiAgUEJVaUJhY2tncm91bmQsXG4gIE1lc2hSZW5kZXJlckNvbXBvbmVudERlZmluaXRpb25FeHRlbmRlZCxcbiAgUEJCaWxsYm9hcmQsXG4gIE5hbWVUeXBlLFxuICBQQlR3ZWVuLFxuICBQQlR3ZWVuU2VxdWVuY2UsXG4gIFBCUG9pbnRlckV2ZW50cyxcbiAgTmV0d29ya0VudGl0eSxcbiAgU3luY0NvbXBvbmVudHMsXG4gIEF1ZGlvU291cmNlQ29tcG9uZW50RGVmaW5pdGlvbkV4dGVuZGVkLFxufSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IGFkZEFjdGlvblR5cGUgfSBmcm9tICcuL2FjdGlvbi10eXBlcydcbmltcG9ydCB7XG4gIENvbXBvbmVudE5hbWUsXG4gIFR3ZWVuVHlwZSxcbiAgSW50ZXJwb2xhdGlvblR5cGUsXG4gIEFjdGlvblR5cGUsXG4gIFRyaWdnZXJUeXBlLFxuICBUcmlnZ2VyQ29uZGl0aW9uVHlwZSxcbiAgVHJpZ2dlckNvbmRpdGlvbk9wZXJhdGlvbixcbiAgQWxpZ25Nb2RlLFxuICBGb250LFxuICBDb2xsaWRlcnMsXG4gIFByb3hpbWl0eUxheWVyLFxufSBmcm9tICcuL2VudW1zJ1xuaW1wb3J0IHsgZ2V0RXhwbG9yZXJDb21wb25lbnRzIH0gZnJvbSAnLi9jb21wb25lbnRzJ1xuXG5leHBvcnQgKiBmcm9tICcuL2VudW1zJ1xuZXhwb3J0ICogZnJvbSAnLi9hY3Rpb24tdHlwZXMnXG5leHBvcnQgKiBmcm9tICcuL2V2ZW50cydcbmV4cG9ydCAqIGZyb20gJy4vaWQnXG5leHBvcnQgKiBmcm9tICcuL3N0YXRlcydcbmV4cG9ydCAqIGZyb20gJy4vY2xvbmUnXG5leHBvcnQgKiBmcm9tICcuL2x3dydcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMnXG5cbmV4cG9ydCBjb25zdCBBY3Rpb25TY2hlbWFzID0ge1xuICBbQWN0aW9uVHlwZS5QTEFZX0FOSU1BVElPTl06IFNjaGVtYXMuTWFwKHtcbiAgICBhbmltYXRpb246IFNjaGVtYXMuU3RyaW5nLFxuICAgIGxvb3A6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5Cb29sZWFuKSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLlNUT1BfQU5JTUFUSU9OXTogU2NoZW1hcy5NYXAoe30pLFxuICBbQWN0aW9uVHlwZS5TRVRfU1RBVEVdOiBTY2hlbWFzLk1hcCh7IHN0YXRlOiBTY2hlbWFzLlN0cmluZyB9KSxcbiAgW0FjdGlvblR5cGUuU1RBUlRfVFdFRU5dOiBTY2hlbWFzLk1hcCh7XG4gICAgdHlwZTogU2NoZW1hcy5FbnVtU3RyaW5nPFR3ZWVuVHlwZT4oVHdlZW5UeXBlLCBUd2VlblR5cGUuTU9WRV9JVEVNKSxcbiAgICBlbmQ6IFNjaGVtYXMuVmVjdG9yMyxcbiAgICBpbnRlcnBvbGF0aW9uVHlwZTogU2NoZW1hcy5FbnVtU3RyaW5nKFxuICAgICAgSW50ZXJwb2xhdGlvblR5cGUsXG4gICAgICBJbnRlcnBvbGF0aW9uVHlwZS5MSU5FQVIsXG4gICAgKSxcbiAgICBkdXJhdGlvbjogU2NoZW1hcy5GbG9hdCxcbiAgICByZWxhdGl2ZTogU2NoZW1hcy5Cb29sZWFuLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuU0VUX0NPVU5URVJdOiBTY2hlbWFzLk1hcCh7IGNvdW50ZXI6IFNjaGVtYXMuSW50IH0pLFxuICBbQWN0aW9uVHlwZS5JTkNSRU1FTlRfQ09VTlRFUl06IFNjaGVtYXMuTWFwKHtcbiAgICBhbW91bnQ6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5JbnQpLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuREVDUkVBU0VfQ09VTlRFUl06IFNjaGVtYXMuTWFwKHtcbiAgICBhbW91bnQ6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5JbnQpLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuUExBWV9TT1VORF06IFNjaGVtYXMuTWFwKHtcbiAgICBzcmM6IFNjaGVtYXMuU3RyaW5nLFxuICAgIGxvb3A6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5Cb29sZWFuKSxcbiAgICB2b2x1bWU6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5GbG9hdCksXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TVE9QX1NPVU5EXTogU2NoZW1hcy5NYXAoe30pLFxuICBbQWN0aW9uVHlwZS5TRVRfVklTSUJJTElUWV06IFNjaGVtYXMuTWFwKHtcbiAgICB2aXNpYmxlOiBTY2hlbWFzLkJvb2xlYW4sXG4gICAgLyoqIEBkZXByZWNhdGVkIHVzZSBjb2xsaWRlciBpbnN0ZWFkICovXG4gICAgcGh5c2ljc0NvbGxpZGVyOiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuQm9vbGVhbiksXG4gICAgY29sbGlkZXI6IFNjaGVtYXMuT3B0aW9uYWwoXG4gICAgICBTY2hlbWFzLkVudW1OdW1iZXIoQ29sbGlkZXJzLCBDb2xsaWRlcnMuQ0xfUE9JTlRFUiksXG4gICAgKSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLkFUVEFDSF9UT19QTEFZRVJdOiBTY2hlbWFzLk1hcCh7XG4gICAgYW5jaG9yUG9pbnRJZDogU2NoZW1hcy5JbnQsXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5ERVRBQ0hfRlJPTV9QTEFZRVJdOiBTY2hlbWFzLk1hcCh7fSksXG4gIFtBY3Rpb25UeXBlLlBMQVlfVklERU9fU1RSRUFNXTogU2NoZW1hcy5NYXAoe1xuICAgIHNyYzogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLlN0cmluZyksXG4gICAgbG9vcDogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkJvb2xlYW4pLFxuICAgIHZvbHVtZTogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkZsb2F0KSxcbiAgICBkY2xDYXN0OiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuQm9vbGVhbiksXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TVE9QX1ZJREVPX1NUUkVBTV06IFNjaGVtYXMuTWFwKHt9KSxcbiAgW0FjdGlvblR5cGUuUExBWV9BVURJT19TVFJFQU1dOiBTY2hlbWFzLk1hcCh7XG4gICAgdXJsOiBTY2hlbWFzLlN0cmluZyxcbiAgICB2b2x1bWU6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5GbG9hdCksXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TVE9QX0FVRElPX1NUUkVBTV06IFNjaGVtYXMuTWFwKHt9KSxcbiAgW0FjdGlvblR5cGUuVEVMRVBPUlRfUExBWUVSXTogU2NoZW1hcy5NYXAoe1xuICAgIHg6IFNjaGVtYXMuSW50LFxuICAgIHk6IFNjaGVtYXMuSW50LFxuICB9KSxcbiAgW0FjdGlvblR5cGUuTU9WRV9QTEFZRVJdOiBTY2hlbWFzLk1hcCh7XG4gICAgcG9zaXRpb246IFNjaGVtYXMuVmVjdG9yMyxcbiAgICBjYW1lcmFUYXJnZXQ6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5WZWN0b3IzKSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLlBMQVlfREVGQVVMVF9FTU9URV06IFNjaGVtYXMuTWFwKHtcbiAgICBlbW90ZTogU2NoZW1hcy5TdHJpbmcsXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5QTEFZX0NVU1RPTV9FTU9URV06IFNjaGVtYXMuTWFwKHtcbiAgICBzcmM6IFNjaGVtYXMuU3RyaW5nLFxuICAgIGxvb3A6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5Cb29sZWFuKSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLk9QRU5fTElOS106IFNjaGVtYXMuTWFwKHtcbiAgICB1cmw6IFNjaGVtYXMuU3RyaW5nLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuU0hPV19URVhUXTogU2NoZW1hcy5NYXAoe1xuICAgIHRleHQ6IFNjaGVtYXMuU3RyaW5nLFxuICAgIGhpZGVBZnRlclNlY29uZHM6IFNjaGVtYXMuRmxvYXQsXG4gICAgZm9udDogU2NoZW1hcy5FbnVtTnVtYmVyKEZvbnQsIEZvbnQuRl9TQU5TX1NFUklGKSxcbiAgICBmb250U2l6ZTogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkZsb2F0KSxcbiAgICB0ZXh0QWxpZ246IFNjaGVtYXMuRW51bU51bWJlcihBbGlnbk1vZGUsIEFsaWduTW9kZS5UQU1fTUlERExFX0NFTlRFUiksXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5ISURFX1RFWFRdOiBTY2hlbWFzLk1hcCh7fSksXG4gIFtBY3Rpb25UeXBlLlNUQVJUX0RFTEFZXTogU2NoZW1hcy5NYXAoe1xuICAgIGFjdGlvbnM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5TdHJpbmcpLFxuICAgIHRpbWVvdXQ6IFNjaGVtYXMuRmxvYXQsXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TVE9QX0RFTEFZXTogU2NoZW1hcy5NYXAoe1xuICAgIGFjdGlvbjogU2NoZW1hcy5TdHJpbmcsXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TVEFSVF9MT09QXTogU2NoZW1hcy5NYXAoe1xuICAgIGFjdGlvbnM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5TdHJpbmcpLFxuICAgIGludGVydmFsOiBTY2hlbWFzLkZsb2F0LFxuICB9KSxcbiAgW0FjdGlvblR5cGUuU1RPUF9MT09QXTogU2NoZW1hcy5NYXAoe1xuICAgIGFjdGlvbjogU2NoZW1hcy5TdHJpbmcsXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5DTE9ORV9FTlRJVFldOiBTY2hlbWFzLk1hcCh7XG4gICAgcG9zaXRpb246IFNjaGVtYXMuVmVjdG9yMyxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLlJFTU9WRV9FTlRJVFldOiBTY2hlbWFzLk1hcCh7fSksXG4gIFtBY3Rpb25UeXBlLlNIT1dfSU1BR0VdOiBTY2hlbWFzLk1hcCh7XG4gICAgc3JjOiBTY2hlbWFzLlN0cmluZyxcbiAgICBhbGlnbjogU2NoZW1hcy5FbnVtTnVtYmVyKEFsaWduTW9kZSwgQWxpZ25Nb2RlLlRBTV9NSURETEVfQ0VOVEVSKSxcbiAgICBoZWlnaHQ6IFNjaGVtYXMuRmxvYXQsXG4gICAgd2lkdGg6IFNjaGVtYXMuRmxvYXQsXG4gICAgaGlkZUFmdGVyU2Vjb25kczogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkZsb2F0KSxcbiAgICB0ZXh0OiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuU3RyaW5nKSxcbiAgICBmb250U2l6ZTogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkZsb2F0KSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLkhJREVfSU1BR0VdOiBTY2hlbWFzLk1hcCh7XG4gICAgaW1hZ2VFbnRpdHk6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5JbnQpLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuREFNQUdFXTogU2NoZW1hcy5NYXAoe1xuICAgIHJhZGl1czogU2NoZW1hcy5GbG9hdCxcbiAgICBsYXllcjogU2NoZW1hcy5PcHRpb25hbChcbiAgICAgIFNjaGVtYXMuRW51bVN0cmluZyhQcm94aW1pdHlMYXllciwgUHJveGltaXR5TGF5ZXIuQUxMKSxcbiAgICApLFxuICAgIGhpdHM6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5JbnQpLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuTU9WRV9QTEFZRVJfSEVSRV06IFNjaGVtYXMuTWFwKHt9KSxcbiAgW0FjdGlvblR5cGUuUExBQ0VfT05fUExBWUVSXTogU2NoZW1hcy5NYXAoe30pLFxuICBbQWN0aW9uVHlwZS5ST1RBVEVfQVNfUExBWUVSXTogU2NoZW1hcy5NYXAoe30pLFxuICBbQWN0aW9uVHlwZS5QTEFDRV9PTl9DQU1FUkFdOiBTY2hlbWFzLk1hcCh7fSksXG4gIFtBY3Rpb25UeXBlLlJPVEFURV9BU19DQU1FUkFdOiBTY2hlbWFzLk1hcCh7fSksXG4gIFtBY3Rpb25UeXBlLlNFVF9QT1NJVElPTl06IFNjaGVtYXMuTWFwKHtcbiAgICB4OiBTY2hlbWFzLkZsb2F0LFxuICAgIHk6IFNjaGVtYXMuRmxvYXQsXG4gICAgejogU2NoZW1hcy5GbG9hdCxcbiAgICByZWxhdGl2ZTogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkJvb2xlYW4pLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuU0VUX1JPVEFUSU9OXTogU2NoZW1hcy5NYXAoe1xuICAgIHg6IFNjaGVtYXMuRmxvYXQsXG4gICAgeTogU2NoZW1hcy5GbG9hdCxcbiAgICB6OiBTY2hlbWFzLkZsb2F0LFxuICAgIHJlbGF0aXZlOiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuQm9vbGVhbiksXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TRVRfU0NBTEVdOiBTY2hlbWFzLk1hcCh7XG4gICAgeDogU2NoZW1hcy5GbG9hdCxcbiAgICB5OiBTY2hlbWFzLkZsb2F0LFxuICAgIHo6IFNjaGVtYXMuRmxvYXQsXG4gICAgcmVsYXRpdmU6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5Cb29sZWFuKSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLkZPTExPV19QTEFZRVJdOiBTY2hlbWFzLk1hcCh7XG4gICAgc3BlZWQ6IFNjaGVtYXMuRmxvYXQsXG4gICAgeDogU2NoZW1hcy5Cb29sZWFuLFxuICAgIHk6IFNjaGVtYXMuQm9vbGVhbixcbiAgICB6OiBTY2hlbWFzLkJvb2xlYW4sXG4gICAgbWluRGlzdGFuY2U6IFNjaGVtYXMuRmxvYXQsXG4gIH0pLFxuICBbQWN0aW9uVHlwZS5TVE9QX0ZPTExPV0lOR19QTEFZRVJdOiBTY2hlbWFzLk1hcCh7fSksXG4gIFtBY3Rpb25UeXBlLlJBTkRPTV06IFNjaGVtYXMuTWFwKHtcbiAgICBhY3Rpb25zOiBTY2hlbWFzLkFycmF5KFNjaGVtYXMuU3RyaW5nKSxcbiAgfSksXG4gIFtBY3Rpb25UeXBlLkJBVENIXTogU2NoZW1hcy5NYXAoe1xuICAgIGFjdGlvbnM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5TdHJpbmcpLFxuICB9KSxcbiAgW0FjdGlvblR5cGUuSEVBTF9QTEFZRVJdOiBTY2hlbWFzLk1hcCh7XG4gICAgbXVsdGlwbGllcjogU2NoZW1hcy5JbnQsXG4gIH0pLFxufVxuXG5leHBvcnQgdHlwZSBBY3Rpb25QYXlsb2FkPFQgZXh0ZW5kcyBBY3Rpb25UeXBlID0gYW55PiA9XG4gIFQgZXh0ZW5kcyBrZXlvZiB0eXBlb2YgQWN0aW9uU2NoZW1hc1xuICAgID8gKHR5cGVvZiBBY3Rpb25TY2hlbWFzKVtUXSBleHRlbmRzIElTY2hlbWFcbiAgICAgID8gUmV0dXJuVHlwZTwodHlwZW9mIEFjdGlvblNjaGVtYXMpW1RdWydkZXNlcmlhbGl6ZSddPlxuICAgICAgOiB7fVxuICAgIDoge31cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBvbmVudDxUPihjb21wb25lbnROYW1lOiBzdHJpbmcsIGVuZ2luZTogSUVuZ2luZSkge1xuICB0cnkge1xuICAgIHJldHVybiBlbmdpbmUuZ2V0Q29tcG9uZW50KFxuICAgICAgY29tcG9uZW50TmFtZSxcbiAgICApIGFzIExhc3RXcml0ZVdpbkVsZW1lbnRTZXRDb21wb25lbnREZWZpbml0aW9uPFQ+XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBFcnJvciB1c2luZyBnZXRDb21wb25lbnQgd2l0aCBjb21wb25lbnROYW1lPVwiJHtjb21wb25lbnROYW1lfVwiYCxcbiAgICApXG4gICAgdGhyb3cgZXJyb3JcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29tcG9uZW50cyhlbmdpbmU6IElFbmdpbmUpIHtcbiAgcmV0dXJuIHtcbiAgICBBY3Rpb25zOiBnZXRDb21wb25lbnQ8QWN0aW9ucz4oQ29tcG9uZW50TmFtZS5BQ1RJT05TLCBlbmdpbmUpLFxuICAgIFN0YXRlczogZ2V0Q29tcG9uZW50PFN0YXRlcz4oQ29tcG9uZW50TmFtZS5TVEFURVMsIGVuZ2luZSksXG4gICAgQ291bnRlcjogZ2V0Q29tcG9uZW50PENvdW50ZXI+KENvbXBvbmVudE5hbWUuQ09VTlRFUiwgZW5naW5lKSxcbiAgICBUcmlnZ2VyczogZ2V0Q29tcG9uZW50PFRyaWdnZXJzPihDb21wb25lbnROYW1lLlRSSUdHRVJTLCBlbmdpbmUpLFxuICAgIENvdW50ZXJCYXI6IGdldENvbXBvbmVudDxDb3VudGVyQmFyPihDb21wb25lbnROYW1lLkNPVU5URVJfQkFSLCBlbmdpbmUpLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnRzKGVuZ2luZTogSUVuZ2luZSkge1xuICBjb25zdCBBY3Rpb25UeXBlcyA9IGVuZ2luZS5kZWZpbmVDb21wb25lbnQoQ29tcG9uZW50TmFtZS5BQ1RJT05fVFlQRVMsIHtcbiAgICB2YWx1ZTogU2NoZW1hcy5BcnJheShcbiAgICAgIFNjaGVtYXMuTWFwKHtcbiAgICAgICAgdHlwZTogU2NoZW1hcy5TdHJpbmcsXG4gICAgICAgIGpzb25TY2hlbWE6IFNjaGVtYXMuU3RyaW5nLFxuICAgICAgfSksXG4gICAgKSxcbiAgfSlcblxuICBjb25zdCBBY3Rpb25zID0gZW5naW5lLmRlZmluZUNvbXBvbmVudChDb21wb25lbnROYW1lLkFDVElPTlMsIHtcbiAgICBpZDogU2NoZW1hcy5JbnQsXG4gICAgdmFsdWU6IFNjaGVtYXMuQXJyYXkoXG4gICAgICBTY2hlbWFzLk1hcCh7XG4gICAgICAgIG5hbWU6IFNjaGVtYXMuU3RyaW5nLFxuICAgICAgICB0eXBlOiBTY2hlbWFzLlN0cmluZyxcbiAgICAgICAganNvblBheWxvYWQ6IFNjaGVtYXMuU3RyaW5nLFxuICAgICAgICBhbGxvd2VkSW5CYXNpY1ZpZXc6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5Cb29sZWFuKSxcbiAgICAgICAgYmFzaWNWaWV3SWQ6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5TdHJpbmcpLFxuICAgICAgfSksXG4gICAgKSxcbiAgfSlcblxuICBjb25zdCBDb3VudGVyID0gZW5naW5lLmRlZmluZUNvbXBvbmVudChDb21wb25lbnROYW1lLkNPVU5URVIsIHtcbiAgICBpZDogU2NoZW1hcy5OdW1iZXIsXG4gICAgdmFsdWU6IFNjaGVtYXMuSW50LFxuICB9KVxuXG4gIGNvbnN0IFRyaWdnZXJzID0gZW5naW5lLmRlZmluZUNvbXBvbmVudChDb21wb25lbnROYW1lLlRSSUdHRVJTLCB7XG4gICAgdmFsdWU6IFNjaGVtYXMuQXJyYXkoXG4gICAgICBTY2hlbWFzLk1hcCh7XG4gICAgICAgIHR5cGU6IFNjaGVtYXMuRW51bVN0cmluZzxUcmlnZ2VyVHlwZT4oXG4gICAgICAgICAgVHJpZ2dlclR5cGUsXG4gICAgICAgICAgVHJpZ2dlclR5cGUuT05fSU5QVVRfQUNUSU9OLFxuICAgICAgICApLFxuICAgICAgICBjb25kaXRpb25zOiBTY2hlbWFzLk9wdGlvbmFsKFxuICAgICAgICAgIFNjaGVtYXMuQXJyYXkoXG4gICAgICAgICAgICBTY2hlbWFzLk1hcCh7XG4gICAgICAgICAgICAgIGlkOiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuSW50KSxcbiAgICAgICAgICAgICAgdHlwZTogU2NoZW1hcy5FbnVtU3RyaW5nPFRyaWdnZXJDb25kaXRpb25UeXBlPihcbiAgICAgICAgICAgICAgICBUcmlnZ2VyQ29uZGl0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX1NUQVRFX0lTLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICB2YWx1ZTogU2NoZW1hcy5TdHJpbmcsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApLFxuICAgICAgICApLFxuICAgICAgICBvcGVyYXRpb246IFNjaGVtYXMuT3B0aW9uYWwoXG4gICAgICAgICAgU2NoZW1hcy5FbnVtU3RyaW5nPFRyaWdnZXJDb25kaXRpb25PcGVyYXRpb24+KFxuICAgICAgICAgICAgVHJpZ2dlckNvbmRpdGlvbk9wZXJhdGlvbixcbiAgICAgICAgICAgIFRyaWdnZXJDb25kaXRpb25PcGVyYXRpb24uQU5ELFxuICAgICAgICAgICksXG4gICAgICAgICksXG4gICAgICAgIGFjdGlvbnM6IFNjaGVtYXMuQXJyYXkoXG4gICAgICAgICAgU2NoZW1hcy5NYXAoe1xuICAgICAgICAgICAgaWQ6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5JbnQpLFxuICAgICAgICAgICAgbmFtZTogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLlN0cmluZyksXG4gICAgICAgICAgfSksXG4gICAgICAgICksXG4gICAgICAgIGJhc2ljVmlld0lkOiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuU3RyaW5nKSxcbiAgICAgIH0pLFxuICAgICksXG4gIH0pXG5cbiAgY29uc3QgU3RhdGVzID0gZW5naW5lLmRlZmluZUNvbXBvbmVudChDb21wb25lbnROYW1lLlNUQVRFUywge1xuICAgIGlkOiBTY2hlbWFzLk51bWJlcixcbiAgICB2YWx1ZTogU2NoZW1hcy5BcnJheShTY2hlbWFzLlN0cmluZyksXG4gICAgZGVmYXVsdFZhbHVlOiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuU3RyaW5nKSxcbiAgICBjdXJyZW50VmFsdWU6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5TdHJpbmcpLFxuICAgIHByZXZpb3VzVmFsdWU6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5TdHJpbmcpLFxuICB9KVxuXG4gIGNvbnN0IENvdW50ZXJCYXIgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KENvbXBvbmVudE5hbWUuQ09VTlRFUl9CQVIsIHtcbiAgICBwcmltYXJ5Q29sb3I6IFNjaGVtYXMuT3B0aW9uYWwoU2NoZW1hcy5TdHJpbmcpLFxuICAgIHNlY29uZGFyeUNvbG9yOiBTY2hlbWFzLk9wdGlvbmFsKFNjaGVtYXMuU3RyaW5nKSxcbiAgICBtYXhWYWx1ZTogU2NoZW1hcy5PcHRpb25hbChTY2hlbWFzLkZsb2F0KSxcbiAgfSlcblxuICByZXR1cm4ge1xuICAgIEFjdGlvblR5cGVzLFxuICAgIEFjdGlvbnMsXG4gICAgQ291bnRlcixcbiAgICBUcmlnZ2VycyxcbiAgICBTdGF0ZXMsXG4gICAgQ291bnRlckJhcixcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBFbmdpbmVDb21wb25lbnRzID0ge1xuICBBbmltYXRvcjogQW5pbWF0b3JDb21wb25lbnREZWZpbml0aW9uRXh0ZW5kZWRcbiAgVHJhbnNmb3JtOiBUcmFuc2Zvcm1Db21wb25lbnRFeHRlbmRlZFxuICBBdWRpb1NvdXJjZTogQXVkaW9Tb3VyY2VDb21wb25lbnREZWZpbml0aW9uRXh0ZW5kZWRcbiAgQXZhdGFyQXR0YWNoOiBMYXN0V3JpdGVXaW5FbGVtZW50U2V0Q29tcG9uZW50RGVmaW5pdGlvbjxQQkF2YXRhckF0dGFjaD5cbiAgVmlzaWJpbGl0eUNvbXBvbmVudDogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJWaXNpYmlsaXR5Q29tcG9uZW50PlxuICBHbHRmQ29udGFpbmVyOiBMYXN0V3JpdGVXaW5FbGVtZW50U2V0Q29tcG9uZW50RGVmaW5pdGlvbjxQQkdsdGZDb250YWluZXI+XG4gIE1hdGVyaWFsOiBNYXRlcmlhbENvbXBvbmVudERlZmluaXRpb25FeHRlbmRlZFxuICBNZXNoUmVuZGVyZXI6IE1lc2hSZW5kZXJlckNvbXBvbmVudERlZmluaXRpb25FeHRlbmRlZFxuICBWaWRlb1BsYXllcjogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJWaWRlb1BsYXllcj5cbiAgVWlUcmFuc2Zvcm06IExhc3RXcml0ZVdpbkVsZW1lbnRTZXRDb21wb25lbnREZWZpbml0aW9uPFBCVWlUcmFuc2Zvcm0+XG4gIFVpVGV4dDogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJVaVRleHQ+XG4gIFVpQmFja2dyb3VuZDogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJVaUJhY2tncm91bmQ+XG4gIEJpbGxib2FyZDogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJCaWxsYm9hcmQ+XG4gIE5hbWU6IExhc3RXcml0ZVdpbkVsZW1lbnRTZXRDb21wb25lbnREZWZpbml0aW9uPE5hbWVUeXBlPlxuICBUd2VlbjogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJUd2Vlbj5cbiAgVHdlZW5TZXF1ZW5jZTogTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248UEJUd2VlblNlcXVlbmNlPlxuICBQb2ludGVyRXZlbnRzOiBMYXN0V3JpdGVXaW5FbGVtZW50U2V0Q29tcG9uZW50RGVmaW5pdGlvbjxQQlBvaW50ZXJFdmVudHM+XG4gIE5ldHdvcmtFbnRpdHk6IHR5cGVvZiBOZXR3b3JrRW50aXR5XG4gIFN5bmNDb21wb25lbnRzOiB0eXBlb2YgU3luY0NvbXBvbmVudHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRDb21wb25lbnRzKGVuZ2luZTogSUVuZ2luZSkge1xuICAvLyBBZGQgYWN0aW9ucyBmcm9tIHRoaXMgcGFja2FnZVxuICBjb25zdCBhY3Rpb25UeXBlcyA9IE9iamVjdC52YWx1ZXMoQWN0aW9uVHlwZSlcbiAgZm9yIChjb25zdCB0eXBlIG9mIGFjdGlvblR5cGVzKSB7XG4gICAgY29uc3QgYWN0aW9uVHlwZSA9IHR5cGUgYXMgQWN0aW9uVHlwZVxuICAgIGFkZEFjdGlvblR5cGUoZW5naW5lLCBhY3Rpb25UeXBlLCBBY3Rpb25TY2hlbWFzW2FjdGlvblR5cGVdKVxuICB9XG5cbiAgLy8gQWRkIGNvdW50ZXIgdG8gcm9vdCBlbnRpdHlcbiAgY29uc3QgQ291bnRlciA9IGVuZ2luZS5nZXRDb21wb25lbnQoXG4gICAgQ29tcG9uZW50TmFtZS5DT1VOVEVSLFxuICApIGFzIExhc3RXcml0ZVdpbkVsZW1lbnRTZXRDb21wb25lbnREZWZpbml0aW9uPENvdW50ZXI+XG4gIGNvbnN0IGNvdW50ZXIgPSBDb3VudGVyLmdldE9yQ3JlYXRlTXV0YWJsZShlbmdpbmUuUm9vdEVudGl0eSlcbiAgY291bnRlci52YWx1ZSA9IGNvdW50ZXIudmFsdWUgfHwgMFxuXG4gIGNvbnN0IHsgVmlkZW9QbGF5ZXIsIE1hdGVyaWFsIH0gPSBnZXRFeHBsb3JlckNvbXBvbmVudHMoZW5naW5lKVxuICBpbml0VmlkZW9QbGF5ZXJDb21wb25lbnRzKGVuZ2luZSwgeyBWaWRlb1BsYXllciwgTWF0ZXJpYWwgfSlcbn1cblxuZnVuY3Rpb24gZ2V0VmlkZW9UZXh0dXJlKHsgbWF0ZXJpYWwgfTogUEJNYXRlcmlhbCk6IFZpZGVvVGV4dHVyZSB8IHVuZGVmaW5lZCB7XG4gIGlmIChcbiAgICBtYXRlcmlhbD8uJGNhc2UgPT09ICdwYnInICYmXG4gICAgbWF0ZXJpYWwucGJyLnRleHR1cmU/LnRleD8uJGNhc2UgPT09ICd2aWRlb1RleHR1cmUnXG4gICkge1xuICAgIHJldHVybiBtYXRlcmlhbC5wYnIudGV4dHVyZS50ZXgudmlkZW9UZXh0dXJlXG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0VmlkZW9QbGF5ZXJDb21wb25lbnRNYXRlcmlhbChcbiAgZW50aXR5OiBFbnRpdHksXG4gIHsgTWF0ZXJpYWwgfTogUGljazxFbmdpbmVDb21wb25lbnRzLCAnTWF0ZXJpYWwnPixcbiAgbWF0ZXJpYWw/OiBQQk1hdGVyaWFsIHwgbnVsbCxcbikge1xuICBpZiAoIW1hdGVyaWFsIHx8ICFtYXRlcmlhbC5tYXRlcmlhbCB8fCBtYXRlcmlhbC5tYXRlcmlhbC4kY2FzZSAhPT0gJ3BicicpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgTWF0ZXJpYWwuc2V0UGJyTWF0ZXJpYWwoZW50aXR5LCB7XG4gICAgLi4ubWF0ZXJpYWwubWF0ZXJpYWwucGJyLFxuICAgIHRleHR1cmU6IE1hdGVyaWFsLlRleHR1cmUuVmlkZW8oe1xuICAgICAgdmlkZW9QbGF5ZXJFbnRpdHk6IGVudGl0eSxcbiAgICB9KSxcbiAgfSlcbn1cblxuZnVuY3Rpb24gaW5pdFZpZGVvUGxheWVyQ29tcG9uZW50cyhcbiAgZW5naW5lOiBJRW5naW5lLFxuICBjb21wb25lbnRzOiBQaWNrPEVuZ2luZUNvbXBvbmVudHMsICdNYXRlcmlhbCcgfCAnVmlkZW9QbGF5ZXInPixcbikge1xuICBmdW5jdGlvbiByZXBsYWNlVmlkZW9UZXh0dXJlKCkge1xuICAgIGNvbnN0IHsgTWF0ZXJpYWwsIFZpZGVvUGxheWVyIH0gPSBjb21wb25lbnRzXG4gICAgZW5naW5lLnJlbW92ZVN5c3RlbShyZXBsYWNlVmlkZW9UZXh0dXJlKVxuICAgIGZvciAoY29uc3QgW2VudGl0eSwgbWF0ZXJpYWxdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoXG4gICAgICBNYXRlcmlhbCxcbiAgICAgIFZpZGVvUGxheWVyLFxuICAgICkpIHtcbiAgICAgIGNvbnN0IHZpZGVvVGV4dHVyZSA9IGdldFZpZGVvVGV4dHVyZShtYXRlcmlhbClcbiAgICAgIGlmICh2aWRlb1RleHR1cmU/LnZpZGVvUGxheWVyRW50aXR5ID09PSBlbmdpbmUuUm9vdEVudGl0eSkge1xuICAgICAgICBpbml0VmlkZW9QbGF5ZXJDb21wb25lbnRNYXRlcmlhbChlbnRpdHksIGNvbXBvbmVudHMsIG1hdGVyaWFsKVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbmdpbmUuYWRkU3lzdGVtKHJlcGxhY2VWaWRlb1RleHR1cmUpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb25kaXRpb25UeXBlc0J5Q29tcG9uZW50TmFtZShjb21wb25lbnROYW1lOiBDb21wb25lbnROYW1lKSB7XG4gIHN3aXRjaCAoY29tcG9uZW50TmFtZSkge1xuICAgIGNhc2UgQ29tcG9uZW50TmFtZS5TVEFURVM6IHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fU1RBVEVfSVMsXG4gICAgICAgIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fU1RBVEVfSVNfTk9ULFxuICAgICAgICBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX1BSRVZJT1VTX1NUQVRFX0lTLFxuICAgICAgICBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX1BSRVZJT1VTX1NUQVRFX0lTX05PVCxcbiAgICAgIF1cbiAgICB9XG4gICAgY2FzZSBDb21wb25lbnROYW1lLkNPVU5URVI6IHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fQ09VTlRFUl9FUVVBTFMsXG4gICAgICAgIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fQ09VTlRFUl9JU19HUkVBVEVSX1RIQU4sXG4gICAgICAgIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fQ09VTlRFUl9JU19MRVNTX1RIQU4sXG4gICAgICBdXG4gICAgfVxuICAgIGNhc2UgQ29tcG9uZW50TmFtZS5BQ1RJT05TOiB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX0RJU1RBTkNFX1RPX1BMQVlFUl9MRVNTX1RIQU4sXG4gICAgICAgIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fRElTVEFOQ0VfVE9fUExBWUVSX0dSRUFURVJfVEhBTixcbiAgICAgIF1cbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgcmV0dXJuIFtdXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB0eXBlIENvbXBvbmVudHMgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDb21wb25lbnRzPlxuXG5leHBvcnQgdHlwZSBBY3Rpb25UeXBlc0NvbXBvbmVudCA9IENvbXBvbmVudHNbJ0FjdGlvblR5cGVzJ11cbmV4cG9ydCB0eXBlIEFjdGlvblR5cGVzID0gUmV0dXJuVHlwZTxcbiAgQWN0aW9uVHlwZXNDb21wb25lbnRbJ3NjaGVtYSddWydkZXNlcmlhbGl6ZSddXG4+XG5cbmV4cG9ydCB0eXBlIEFjdGlvbnNDb21wb25lbnQgPSBDb21wb25lbnRzWydBY3Rpb25zJ11cbmV4cG9ydCB0eXBlIEFjdGlvbnMgPSBSZXR1cm5UeXBlPEFjdGlvbnNDb21wb25lbnRbJ3NjaGVtYSddWydkZXNlcmlhbGl6ZSddPlxuZXhwb3J0IHR5cGUgQWN0aW9uID0gQWN0aW9uc1sndmFsdWUnXVswXVxuXG5leHBvcnQgdHlwZSBDb3VudGVyQ29tcG9uZW50ID0gQ29tcG9uZW50c1snQ291bnRlciddXG5leHBvcnQgdHlwZSBDb3VudGVyID0gUmV0dXJuVHlwZTxDb3VudGVyQ29tcG9uZW50WydzY2hlbWEnXVsnZGVzZXJpYWxpemUnXT5cblxuZXhwb3J0IHR5cGUgQ291bnRlckJhckNvbXBvbmVudCA9IENvbXBvbmVudHNbJ0NvdW50ZXJCYXInXVxuZXhwb3J0IHR5cGUgQ291bnRlckJhciA9IFJldHVyblR5cGU8XG4gIENvdW50ZXJCYXJDb21wb25lbnRbJ3NjaGVtYSddWydkZXNlcmlhbGl6ZSddXG4+XG5cbmV4cG9ydCB0eXBlIFRyaWdnZXJzQ29tcG9uZW50ID0gQ29tcG9uZW50c1snVHJpZ2dlcnMnXVxuZXhwb3J0IHR5cGUgVHJpZ2dlcnMgPSBSZXR1cm5UeXBlPFRyaWdnZXJzQ29tcG9uZW50WydzY2hlbWEnXVsnZGVzZXJpYWxpemUnXT5cbmV4cG9ydCB0eXBlIFRyaWdnZXIgPSBUcmlnZ2Vyc1sndmFsdWUnXVswXVxuZXhwb3J0IHR5cGUgVHJpZ2dlckFjdGlvbiA9IFRyaWdnZXJbJ2FjdGlvbnMnXVswXVxuZXhwb3J0IHR5cGUgVHJpZ2dlckNvbmRpdGlvbiA9IEV4Y2x1ZGU8VHJpZ2dlclsnY29uZGl0aW9ucyddLCB1bmRlZmluZWQ+WzBdXG5cbmV4cG9ydCB0eXBlIFN0YXRlc0NvbXBvbmVudCA9IENvbXBvbmVudHNbJ1N0YXRlcyddXG5leHBvcnQgdHlwZSBTdGF0ZXMgPSBSZXR1cm5UeXBlPFN0YXRlc0NvbXBvbmVudFsnc2NoZW1hJ11bJ2Rlc2VyaWFsaXplJ10+XG4iLCAiLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgYSB2YWx1ZSB0byBnYW1tYSBzcGFjZVxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgVG9HYW1tYVNwYWNlID0gMSAvIDIuMjtcbi8qKlxuICogQ29uc3RhbnQgdXNlZCB0byBjb252ZXJ0IGEgdmFsdWUgdG8gbGluZWFyIHNwYWNlXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBUb0xpbmVhclNwYWNlID0gMi4yO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGRlZmluZSB0aGUgbWluaW1hbCBudW1iZXIgdmFsdWUgaW4gQmFieWxvbi5qc1xuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgRXBzaWxvbiA9IDAuMDAwMDAxO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSBFdWxlciBkZWdyZWVzIHRvIHJhZGlhbnNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IERFRzJSQUQgPSBNYXRoLlBJIC8gMTgwO1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGNvbnZlcnQgZnJvbSByYWRpYW5zIHRvIEV1bGVyIGRlZ3JlZXNcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFJBRDJERUcgPSAzNjAgLyAoTWF0aC5QSSAqIDIpO1xuIiwgIi8qKlxuICogU2NhbGFyIGNvbXB1dGF0aW9uIGxpYnJhcnlcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBTY2FsYXI7XG4oZnVuY3Rpb24gKFNjYWxhcikge1xuICAgIC8qKlxuICAgICAqIFR3byBwaSBjb25zdGFudHMgY29udmVuaWVudCBmb3IgY29tcHV0YXRpb24uXG4gICAgICovXG4gICAgU2NhbGFyLlR3b1BpID0gTWF0aC5QSSAqIDI7XG4gICAgLyoqXG4gICAgICogQm9vbGVhbiA6IHRydWUgaWYgdGhlIGFic29sdXRlIGRpZmZlcmVuY2UgYmV0d2VlbiBhIGFuZCBiIGlzIGxvd2VyIHRoYW4gZXBzaWxvbiAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICAgKiBAcGFyYW0gYSAtIG51bWJlclxuICAgICAqIEBwYXJhbSBiIC0gbnVtYmVyXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSAoZGVmYXVsdCA9IDEuNDAxMjk4RS00NSlcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBhYnNvbHV0ZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBhbmQgYiBpcyBsb3dlciB0aGFuIGVwc2lsb24gKGRlZmF1bHQgPSAxLjQwMTI5OEUtNDUpXG4gICAgICovXG4gICAgZnVuY3Rpb24gd2l0aGluRXBzaWxvbihhLCBiLCBlcHNpbG9uID0gMS40MDEyOThlLTQ1KSB7XG4gICAgICAgIGNvbnN0IG51bSA9IGEgLSBiO1xuICAgICAgICByZXR1cm4gLWVwc2lsb24gPD0gbnVtICYmIG51bSA8PSBlcHNpbG9uO1xuICAgIH1cbiAgICBTY2FsYXIud2l0aGluRXBzaWxvbiA9IHdpdGhpbkVwc2lsb247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyA6IHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICAgKiBAcGFyYW0gaSAtIG51bWJlclxuICAgICAqIEByZXR1cm5zIHRoZSB1cHBlciBjYXNlIHRyYW5zbGF0aW9uIG9mIHRoZSBudW1iZXIgaSB0byBoZXhhZGVjaW1hbC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleChpKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IGkudG9TdHJpbmcoMTYpO1xuICAgICAgICBpZiAoaSA8PSAxNSkge1xuICAgICAgICAgICAgcmV0dXJuICgnMCcgKyBzdHIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBTY2FsYXIudG9IZXggPSB0b0hleDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIC0xIGlmIHZhbHVlIGlzIG5lZ2F0aXZlIGFuZCArMSBpcyB2YWx1ZSBpcyBwb3NpdGl2ZS5cbiAgICAgKiBAcGFyYW0gX3ZhbHVlIC0gdGhlIHZhbHVlXG4gICAgICogQHJldHVybnMgdGhlIHZhbHVlIGl0c2VsZiBpZiBpdCdzIGVxdWFsIHRvIHplcm8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2lnbih2YWx1ZSkge1xuICAgICAgICBjb25zdCBfdmFsdWUgPSArdmFsdWU7IC8vIGNvbnZlcnQgdG8gYSBudW1iZXJcbiAgICAgICAgaWYgKF92YWx1ZSA9PT0gMCB8fCBpc05hTihfdmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gX3ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdmFsdWUgPiAwID8gMSA6IC0xO1xuICAgIH1cbiAgICBTY2FsYXIuc2lnbiA9IHNpZ247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgaXRzZWxmIGlmIGl0J3MgYmV0d2VlbiBtaW4gYW5kIG1heC5cbiAgICAgKiBSZXR1cm5zIG1pbiBpZiB0aGUgdmFsdWUgaXMgbG93ZXIgdGhhbiBtaW4uXG4gICAgICogUmV0dXJucyBtYXggaWYgdGhlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBtYXguXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGNsbWFwXG4gICAgICogQHBhcmFtIG1pbiAtIHRoZSBtaW4gdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDApXG4gICAgICogQHBhcmFtIG1heCAtIHRoZSBtYXggdmFsdWUgdG8gY2xhbXAgdG8gKGRlZmF1bHQ6IDEpXG4gICAgICogQHJldHVybnMgdGhlIGNsYW1wZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHZhbHVlKSk7XG4gICAgfVxuICAgIFNjYWxhci5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIHRoZSBsb2cyIG9mIHZhbHVlLlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBjb21wdXRlIGxvZzIgb2ZcbiAgICAgKiBAcmV0dXJucyB0aGUgbG9nMiBvZiB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb2cyKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmxvZyh2YWx1ZSkgKiBNYXRoLkxPRzJFO1xuICAgIH1cbiAgICBTY2FsYXIubG9nMiA9IGxvZzI7XG4gICAgLyoqXG4gICAgICogTG9vcHMgdGhlIHZhbHVlLCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHNpbWlsYXIgdG8gdGhlIG1vZHVsbyBvcGVyYXRvciBidXQgaXQgd29ya3Mgd2l0aCBmbG9hdGluZyBwb2ludCBudW1iZXJzLlxuICAgICAqIEZvciBleGFtcGxlLCB1c2luZyAzLjAgZm9yIHQgYW5kIDIuNSBmb3IgbGVuZ3RoLCB0aGUgcmVzdWx0IHdvdWxkIGJlIDAuNS5cbiAgICAgKiBXaXRoIHQgPSA1IGFuZCBsZW5ndGggPSAyLjUsIHRoZSByZXN1bHQgd291bGQgYmUgMC4wLlxuICAgICAqIE5vdGUsIGhvd2V2ZXIsIHRoYXQgdGhlIGJlaGF2aW91ciBpcyBub3QgZGVmaW5lZCBmb3IgbmVnYXRpdmUgbnVtYmVycyBhcyBpdCBpcyBmb3IgdGhlIG1vZHVsbyBvcGVyYXRvclxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBsZW5ndGggLSB0aGUgbGVuZ3RoXG4gICAgICogQHJldHVybnMgdGhlIGxvb3BlZCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGVhdCh2YWx1ZSwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAtIE1hdGguZmxvb3IodmFsdWUgLyBsZW5ndGgpICogbGVuZ3RoO1xuICAgIH1cbiAgICBTY2FsYXIucmVwZWF0ID0gcmVwZWF0O1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgdmFsdWUgYmV0d2VlbiAwLjAgYW5kIDEuMCB1c2luZyBtaW4gYW5kIG1heCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSB0byBub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIG5vcm1hbGl6ZSBiZXR3ZWVuXG4gICAgICogQHBhcmFtIG1heCAtIG1pbiB0byBub3JtYWxpemUgYmV0d2VlblxuICAgICAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgIH1cbiAgICBTY2FsYXIubm9ybWFsaXplID0gbm9ybWFsaXplO1xuICAgIC8qKlxuICAgICAqIERlbm9ybWFsaXplIHRoZSB2YWx1ZSBmcm9tIDAuMCBhbmQgMS4wIHVzaW5nIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBub3JtYWxpemVkIC0gdmFsdWUgdG8gZGVub3JtYWxpemVcbiAgICAgKiBAcGFyYW0gbWluIC0gbWF4IHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcGFyYW0gbWF4IC0gbWluIHRvIGRlbm9ybWFsaXplIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgZGVub3JtYWxpemVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVub3JtYWxpemUobm9ybWFsaXplZCwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLmRlbm9ybWFsaXplID0gZGVub3JtYWxpemU7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgc2hvcnRlc3QgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBnaXZlbiBhbmdsZXMgZ2l2ZW4gaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEBwYXJhbSB0YXJnZXQgLSB0YXJnZXQgYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBkZWx0YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlbHRhQW5nbGUoY3VycmVudCwgdGFyZ2V0KSB7XG4gICAgICAgIGxldCBudW0gPSByZXBlYXQodGFyZ2V0IC0gY3VycmVudCwgMzYwLjApO1xuICAgICAgICBpZiAobnVtID4gMTgwLjApIHtcbiAgICAgICAgICAgIG51bSAtPSAzNjAuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBTY2FsYXIuZGVsdGFBbmdsZSA9IGRlbHRhQW5nbGU7XG4gICAgLyoqXG4gICAgICogUGluZ1BvbmdzIHRoZSB2YWx1ZSB0LCBzbyB0aGF0IGl0IGlzIG5ldmVyIGxhcmdlciB0aGFuIGxlbmd0aCBhbmQgbmV2ZXIgc21hbGxlciB0aGFuIDAuXG4gICAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICAgKiBAcGFyYW0gbGVuZ3RoIC0gbGVuZ3RoXG4gICAgICogQHJldHVybnMgVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgbW92ZSBiYWNrIGFuZCBmb3J0aCBiZXR3ZWVuIDAgYW5kIGxlbmd0aFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBpbmdQb25nKHR4LCBsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgdCA9IHJlcGVhdCh0eCwgbGVuZ3RoICogMi4wKTtcbiAgICAgICAgcmV0dXJuIGxlbmd0aCAtIE1hdGguYWJzKHQgLSBsZW5ndGgpO1xuICAgIH1cbiAgICBTY2FsYXIucGluZ1BvbmcgPSBwaW5nUG9uZztcbiAgICAvKipcbiAgICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiBtaW4gYW5kIG1heCB3aXRoIHNtb290aGluZyBhdCB0aGUgbGltaXRzLlxuICAgICAqXG4gICAgICogVGhpcyBleHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGVzIGJldHdlZW4gbWluIGFuZCBtYXggaW4gYSBzaW1pbGFyIHdheSB0byBMZXJwLiBIb3dldmVyLCB0aGUgaW50ZXJwb2xhdGlvbiB3aWxsIGdyYWR1YWxseSBzcGVlZCB1cFxuICAgICAqIGZyb20gdGhlIHN0YXJ0IGFuZCBzbG93IGRvd24gdG93YXJkIHRoZSBlbmQuIFRoaXMgaXMgdXNlZnVsIGZvciBjcmVhdGluZyBuYXR1cmFsLWxvb2tpbmcgYW5pbWF0aW9uLCBmYWRpbmcgYW5kIG90aGVyIHRyYW5zaXRpb25zLlxuICAgICAqIEBwYXJhbSBmcm9tIC0gZnJvbVxuICAgICAqIEBwYXJhbSB0byAtIHRvXG4gICAgICogQHBhcmFtIHR4IC0gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB0aGUgc21vb3RoIHN0ZXBwZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbW9vdGhTdGVwKGZyb20sIHRvLCB0eCkge1xuICAgICAgICBsZXQgdCA9IGNsYW1wKHR4KTtcbiAgICAgICAgdCA9IC0yLjAgKiB0ICogdCAqIHQgKyAzLjAgKiB0ICogdDtcbiAgICAgICAgcmV0dXJuIHRvICogdCArIGZyb20gKiAoMS4wIC0gdCk7XG4gICAgfVxuICAgIFNjYWxhci5zbW9vdGhTdGVwID0gc21vb3RoU3RlcDtcbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhIHZhbHVlIGN1cnJlbnQgdG93YXJkcyB0YXJnZXQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIE1hdGhmLkxlcnAgYnV0IGluc3RlYWQgdGhlIGV4cG9ydCBmdW5jdGlvbiB3aWxsIGVuc3VyZSB0aGF0IHRoZSBzcGVlZCBuZXZlciBleGNlZWRzIG1heERlbHRhLlxuICAgICAqIE5lZ2F0aXZlIHZhbHVlcyBvZiBtYXhEZWx0YSBwdXNoZXMgdGhlIHZhbHVlIGF3YXkgZnJvbSB0YXJnZXQuXG4gICAgICogQHBhcmFtIGN1cnJlbnQgLSBjdXJyZW50IHZhbHVlXG4gICAgICogQHBhcmFtIHRhcmdldCAtIHRhcmdldCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXhEZWx0YSAtIG1heCBkaXN0YW5jZSB0byBtb3ZlXG4gICAgICogQHJldHVybnMgcmVzdWx0aW5nIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbW92ZVRvd2FyZHMoY3VycmVudCwgdGFyZ2V0LCBtYXhEZWx0YSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgaWYgKE1hdGguYWJzKHRhcmdldCAtIGN1cnJlbnQpIDw9IG1heERlbHRhKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjdXJyZW50ICsgc2lnbih0YXJnZXQgLSBjdXJyZW50KSAqIG1heERlbHRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5tb3ZlVG93YXJkcyA9IG1vdmVUb3dhcmRzO1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgTW92ZVRvd2FyZHMgYnV0IG1ha2VzIHN1cmUgdGhlIHZhbHVlcyBpbnRlcnBvbGF0ZSBjb3JyZWN0bHkgd2hlbiB0aGV5IHdyYXAgYXJvdW5kIDM2MCBkZWdyZWVzLlxuICAgICAqXG4gICAgICogVmFyaWFibGVzIGN1cnJlbnQgYW5kIHRhcmdldCBhcmUgYXNzdW1lZCB0byBiZSBpbiBkZWdyZWVzLiBGb3Igb3B0aW1pemF0aW9uIHJlYXNvbnMsIG5lZ2F0aXZlIHZhbHVlcyBvZiBtYXhEZWx0YVxuICAgICAqICBhcmUgbm90IHN1cHBvcnRlZCBhbmQgbWF5IGNhdXNlIG9zY2lsbGF0aW9uLiBUbyBwdXNoIGN1cnJlbnQgYXdheSBmcm9tIGEgdGFyZ2V0IGFuZ2xlLCBhZGQgMTgwIHRvIHRoYXQgYW5nbGUgaW5zdGVhZC5cbiAgICAgKiBAcGFyYW0gY3VycmVudCAtIGN1cnJlbnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIG1heERlbHRhIC0gbWF4IGRpc3RhbmNlIHRvIG1vdmVcbiAgICAgKiBAcmV0dXJucyByZXN1bHRpbmcgYW5nbGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtb3ZlVG93YXJkc0FuZ2xlKGN1cnJlbnQsIHRhcmdldCwgbWF4RGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtID0gZGVsdGFBbmdsZShjdXJyZW50LCB0YXJnZXQpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICAgICAgaWYgKC1tYXhEZWx0YSA8IG51bSAmJiBudW0gPCBtYXhEZWx0YSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gbW92ZVRvd2FyZHMoY3VycmVudCwgY3VycmVudCArIG51bSwgbWF4RGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5tb3ZlVG93YXJkc0FuZ2xlID0gbW92ZVRvd2FyZHNBbmdsZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNjYWxhciB3aXRoIHZhbHVlcyBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgb2YgXCJhbW91bnRcIiBiZXR3ZWVuIHRoZSBzdGFydCBzY2FsYXIgYW5kIHRoZSBlbmQgc2NhbGFyXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGFtb3VudCB0byBsZXJwIGJldHdlZW5cbiAgICAgKiBAcmV0dXJucyB0aGUgbGVycGVkIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgKGVuZCAtIHN0YXJ0KSAqIGFtb3VudDtcbiAgICB9XG4gICAgU2NhbGFyLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgTGVycCBidXQgbWFrZXMgc3VyZSB0aGUgdmFsdWVzIGludGVycG9sYXRlIGNvcnJlY3RseSB3aGVuIHRoZXkgd3JhcCBhcm91bmQgMzYwIGRlZ3JlZXMuXG4gICAgICogVGhlIHBhcmFtZXRlciB0IGlzIGNsYW1wZWQgdG8gdGhlIHJhbmdlIFswLCAxXS4gVmFyaWFibGVzIGEgYW5kIGIgYXJlIGFzc3VtZWQgdG8gYmUgaW4gZGVncmVlcy5cbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSB0YXJnZXQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gYW1vdW50IHRvIGxlcnAgYmV0d2VlblxuICAgICAqIEByZXR1cm5zIHRoZSBsZXJwZWQgdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwQW5nbGUoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGxldCBudW0gPSByZXBlYXQoZW5kIC0gc3RhcnQsIDM2MC4wKTtcbiAgICAgICAgaWYgKG51bSA+IDE4MC4wKSB7XG4gICAgICAgICAgICBudW0gLT0gMzYwLjA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0ICsgbnVtICogY2xhbXAoYW1vdW50KTtcbiAgICB9XG4gICAgU2NhbGFyLmxlcnBBbmdsZSA9IGxlcnBBbmdsZTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsaW5lYXIgcGFyYW1ldGVyIHQgdGhhdCBwcm9kdWNlcyB0aGUgaW50ZXJwb2xhbnQgdmFsdWUgd2l0aGluIHRoZSByYW5nZSBbYSwgYl0uXG4gICAgICogQHBhcmFtIGEgLSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBiIC0gdGFyZ2V0IHZhbHVlXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgYmV0d2VlbiBhIGFuZCBiXG4gICAgICogQHJldHVybnMgdGhlIGludmVyc2VMZXJwIHZhbHVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJzZUxlcnAoYSwgYiwgdmFsdWUpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IDA7XG4gICAgICAgIGlmIChhICE9PSBiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBjbGFtcCgodmFsdWUgLSBhKSAvIChiIC0gYSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gMC4wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFNjYWxhci5pbnZlcnNlTGVycCA9IGludmVyc2VMZXJwO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2NhbGFyIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBzcGxpbmUgZGVmaW5lZCBieSB0aGUgc2NhbGFycyBcInZhbHVlMVwiLCBcInZhbHVlM1wiLCBcInRhbmdlbnQxXCIsIFwidGFuZ2VudDJcIi5cbiAgICAgKiB7QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9IZXJtaXRlUG9seW5vbWlhbC5odG1sfVxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBzcGxpbmUgdmFsdWVcbiAgICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBzcGxpbmUgdmFsdWVcbiAgICAgKiBAcGFyYW0gdmFsdWUyIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIHRhbmdlbnQyIC0gc3BsaW5lIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGlucHV0IHZhbHVlXG4gICAgICogQHJldHVybnMgaGVybWl0ZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoZXJtaXRlKHZhbHVlMSwgdGFuZ2VudDEsIHZhbHVlMiwgdGFuZ2VudDIsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQxID0gMi4wICogY3ViZWQgLSAzLjAgKiBzcXVhcmVkICsgMS4wO1xuICAgICAgICBjb25zdCBwYXJ0MiA9IC0yLjAgKiBjdWJlZCArIDMuMCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHBhcnQzID0gY3ViZWQgLSAyLjAgKiBzcXVhcmVkICsgYW1vdW50O1xuICAgICAgICBjb25zdCBwYXJ0NCA9IGN1YmVkIC0gc3F1YXJlZDtcbiAgICAgICAgcmV0dXJuIHZhbHVlMSAqIHBhcnQxICsgdmFsdWUyICogcGFydDIgKyB0YW5nZW50MSAqIHBhcnQzICsgdGFuZ2VudDIgKiBwYXJ0NDtcbiAgICB9XG4gICAgU2NhbGFyLmhlcm1pdGUgPSBoZXJtaXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSByYW5kb20gZmxvYXQgbnVtYmVyIGJldHdlZW4gYW5kIG1pbiBhbmQgbWF4IHZhbHVlc1xuICAgICAqIEBwYXJhbSBtaW4gLSBtaW4gdmFsdWUgb2YgcmFuZG9tXG4gICAgICogQHBhcmFtIG1heCAtIG1heCB2YWx1ZSBvZiByYW5kb21cbiAgICAgKiBAcmV0dXJucyByYW5kb20gdmFsdWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByYW5kb21SYW5nZShtaW4sIG1heCkge1xuICAgICAgICBpZiAobWluID09PSBtYXgpIHtcbiAgICAgICAgICAgIHJldHVybiBtaW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9XG4gICAgU2NhbGFyLnJhbmRvbVJhbmdlID0gcmFuZG9tUmFuZ2U7XG4gICAgLyoqXG4gICAgICogVGhpcyBleHBvcnQgZnVuY3Rpb24gcmV0dXJucyBwZXJjZW50YWdlIG9mIGEgbnVtYmVyIGluIGEgZ2l2ZW4gcmFuZ2UuXG4gICAgICpcbiAgICAgKiBSYW5nZVRvUGVyY2VudCg0MCwyMCw2MCkgd2lsbCByZXR1cm4gMC41ICg1MCUpXG4gICAgICogUmFuZ2VUb1BlcmNlbnQoMzQsMCwxMDApIHdpbGwgcmV0dXJuIDAuMzQgKDM0JSlcbiAgICAgKiBAcGFyYW0gbnVtIC0gdG8gY29udmVydCB0byBwZXJjZW50YWdlXG4gICAgICogQHBhcmFtIG1pbiAtIG1pbiByYW5nZVxuICAgICAqIEBwYXJhbSBtYXggLSBtYXggcmFuZ2VcbiAgICAgKiBAcmV0dXJucyB0aGUgcGVyY2VudGFnZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmdlVG9QZXJjZW50KG51bSwgbWluLCBtYXgpIHtcbiAgICAgICAgcmV0dXJuIChudW0gLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgfVxuICAgIFNjYWxhci5yYW5nZVRvUGVyY2VudCA9IHJhbmdlVG9QZXJjZW50O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZXhwb3J0IGZ1bmN0aW9uIHJldHVybnMgbnVtYmVyIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHBlcmNlbnRhZ2UgaW4gYSBnaXZlbiByYW5nZS5cbiAgICAgKlxuICAgICAqIFBlcmNlbnRUb1JhbmdlKDAuMzQsMCwxMDApIHdpbGwgcmV0dXJuIDM0LlxuICAgICAqIEBwYXJhbSBwZXJjZW50IC0gdG8gY29udmVydCB0byBudW1iZXJcbiAgICAgKiBAcGFyYW0gbWluIC0gbWluIHJhbmdlXG4gICAgICogQHBhcmFtIG1heCAtIG1heCByYW5nZVxuICAgICAqIEByZXR1cm5zIHRoZSBudW1iZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZXJjZW50VG9SYW5nZShwZXJjZW50LCBtaW4sIG1heCkge1xuICAgICAgICByZXR1cm4gKG1heCAtIG1pbikgKiBwZXJjZW50ICsgbWluO1xuICAgIH1cbiAgICBTY2FsYXIucGVyY2VudFRvUmFuZ2UgPSBwZXJjZW50VG9SYW5nZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhbmdsZSBjb252ZXJ0ZWQgdG8gZXF1aXZhbGVudCB2YWx1ZSBiZXR3ZWVuIC1NYXRoLlBJIGFuZCBNYXRoLlBJIHJhZGlhbnMuXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gVGhlIGFuZ2xlIHRvIG5vcm1hbGl6ZSBpbiByYWRpYW4uXG4gICAgICogQHJldHVybnMgVGhlIGNvbnZlcnRlZCBhbmdsZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVSYWRpYW5zKGFuZ2xlKSB7XG4gICAgICAgIC8vIE1vcmUgcHJlY2lzZSBidXQgc2xvd2VyIHZlcnNpb24ga2VwdCBmb3IgcmVmZXJlbmNlLlxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpuby1jb21tZW50ZWQtb3V0LWNvZGVcbiAgICAgICAgLypcbiAgICAgICAgLy8gYW5nbGUgPSBhbmdsZSAlIFRvb2xzLlR3b1BpO1xuICAgICAgICAvLyBhbmdsZSA9IChhbmdsZSArIFRvb2xzLlR3b1BpKSAlIFRvb2xzLlR3b1BpO1xuICAgIFxuICAgICAgICAvL2lmIChhbmdsZSA+IE1hdGguUEkpIHtcbiAgICAgICAgLy9cdGFuZ2xlIC09IFRvb2xzLlR3b1BpO1xuICAgICAgICAvL31cbiAgICAgICAgICAqL1xuICAgICAgICByZXR1cm4gYW5nbGUgLSBTY2FsYXIuVHdvUGkgKiBNYXRoLmZsb29yKChhbmdsZSArIE1hdGguUEkpIC8gU2NhbGFyLlR3b1BpKTtcbiAgICB9XG4gICAgU2NhbGFyLm5vcm1hbGl6ZVJhZGlhbnMgPSBub3JtYWxpemVSYWRpYW5zO1xufSkoU2NhbGFyIHx8IChTY2FsYXIgPSB7fSkpO1xuIiwgImltcG9ydCB7IEVwc2lsb24gfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IFF1YXRlcm5pb24gfSBmcm9tICcuL1F1YXRlcm5pb24nO1xuaW1wb3J0IHsgU2NhbGFyIH0gZnJvbSAnLi9TY2FsYXInO1xuLyoqXG4gKiBAcHVibGljXG4gKiBWZWN0b3IzIGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBWZWN0b3IzXG4gKiBjb25zdCBuZXh0ID0gVmVjdG9yMy5hZGQocG9pbnRBLCB2ZWxvY2l0eUEpXG4gKiAvLyBUaGUgdHlwZSBWZWN0b3IzIGlzIGFuIGFsaWFzIHRvIFZlY3RvcjMuUmVhZG9ubHlWZWN0b3IzXG4gKiBjb25zdCByZWFkb25seVBvc2l0aW9uOiBWZWN0b3IzID0gVmVjdG9yMy5aZXJvKClcbiAqIHJlYWRvbmx5UG9zaXRpb24ueCA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgVmVjdG9yMy5NdXRhYmxlYFxuICogY29uc3QgcG9zaXRpb246IFZlY3RvcjMuTXV0YWJsZSA9IFZlY3RvcjMuT25lKClcbiAqIHBvc2l0aW9uLnggPSAzLjAgLy8gdGhpcyBXT1JLU1xuICogYGBgXG4gKi9cbmV4cG9ydCB2YXIgVmVjdG9yMztcbihmdW5jdGlvbiAoVmVjdG9yMykge1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBib29sZWFuIGluZGljYXRpbmcgdGhhdCB0aGUgdmVjdG9yIGlzIG5vbiB1bmlmb3JtIG1lYW5pbmcgeCwgeSBvciB6IGFyZSBub3QgYWxsIHRoZSBzYW1lXG4gICAgICogQHBhcmFtIHZlY3RvciAtIHZlY3RvciB0byBjaGVja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTm9uVW5pZm9ybSh2ZWN0b3IpIHtcbiAgICAgICAgY29uc3QgYWJzWCA9IE1hdGguYWJzKHZlY3Rvci54KTtcbiAgICAgICAgY29uc3QgYWJzWSA9IE1hdGguYWJzKHZlY3Rvci55KTtcbiAgICAgICAgaWYgKGFic1ggIT09IGFic1kpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFic1ogPSBNYXRoLmFicyh2ZWN0b3Iueik7XG4gICAgICAgIGlmIChhYnNYICE9PSBhYnNaKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFZlY3RvcjMuaXNOb25Vbmlmb3JtID0gaXNOb25Vbmlmb3JtO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgVmVjdG9yMyBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4geCwgeSwgeiAoZmxvYXRzKSBjb29yZGluYXRlcy5cbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29vcmRpbmF0ZXMgKG9uIFkgYXhpcylcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRoaXJkIGNvb3JkaW5hdGVzIChvbiBaIGF4aXMpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGZpcnN0IGNvb3JkaW5hdGVzIChvbiBYIGF4aXMpXG4gICAgICovXG4gICAgeCA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlcyAob24gWSBheGlzKVxuICAgICAqL1xuICAgIHkgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSB0aGlyZCBjb29yZGluYXRlcyAob24gWiBheGlzKVxuICAgICAqL1xuICAgIHogPSAwKSB7XG4gICAgICAgIHJldHVybiB7IHgsIHksIHogfTtcbiAgICB9XG4gICAgVmVjdG9yMy5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGFzIHRoZSByZXN1bHQgb2YgdGhlIGFkZGl0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gdmVjdG9ycy5cbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIHRoZSBmaXJzdCB2ZWN0b3JcbiAgICAgKiBAcGFyYW0gdmVjdG9yMiAtIHRoZSBzZWNvbmQgdmVjdG9yXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyB2ZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdmVjdG9yMS54ICsgdmVjdG9yMi54LFxuICAgICAgICAgICAgeTogdmVjdG9yMS55ICsgdmVjdG9yMi55LFxuICAgICAgICAgICAgejogdmVjdG9yMS56ICsgdmVjdG9yMi56XG4gICAgICAgIH07XG4gICAgfVxuICAgIFZlY3RvcjMuYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFkZGl0aW9uIGJldHdlZW4gdmVjdG9yQSBhbmQgdmVjdG9yQiBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byByZXN1bHRcbiAgICAgKiBAcGFyYW0gdmVjdG9yQSAtIHRoZSBmaXJzdCB2ZWN0b3IgZm9yIHRoZSBhZGRpdGlvbiBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0gdmVjdG9yQiAtIHRoZSBzZWNvbmQgdmVjdG9yIGZvciB0aGUgYWRkaXRpb24gb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIHRoZSB2ZWN0b3Igd2hlcmUgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gaXMgc3RvcmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9SZWYodmVjdG9yQSwgdmVjdG9yQiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yQS54ICsgdmVjdG9yQi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvckEueSArIHZlY3RvckIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3JBLnogKyB2ZWN0b3JCLno7XG4gICAgfVxuICAgIFZlY3RvcjMuYWRkVG9SZWYgPSBhZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgYXMgdGhlIHJlc3VsdCBvZiB0aGUgc3Vic3RyYWN0aW9uIG9mIHRoZSB0d28gZ2l2ZW4gdmVjdG9ycy5cbiAgICAgKiBAcmV0dXJucyB0aGUgcmVzdWx0aW5nIHZlY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHZlY3RvcjEueCAtIHZlY3RvcjIueCxcbiAgICAgICAgICAgIHk6IHZlY3RvcjEueSAtIHZlY3RvcjIueSxcbiAgICAgICAgICAgIHo6IHZlY3RvcjEueiAtIHZlY3RvcjIuelxuICAgICAgICB9O1xuICAgIH1cbiAgICBWZWN0b3IzLnN1YnRyYWN0ID0gc3VidHJhY3Q7XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgc3Vic3RyYWN0aW9uIGJldHdlZW4gdmVjdG9yQSBhbmQgdmVjdG9yQiBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byByZXN1bHRcbiAgICAgKiBAcGFyYW0gdmVjdG9yQSAtIHRoZSBmaXJzdCB2ZWN0b3IgZm9yIHRoZSBzdWJzdHJhY3Rpb24gb3BlcmF0aW9uXG4gICAgICogQHBhcmFtIHZlY3RvckIgLSB0aGUgc2Vjb25kIHZlY3RvciBmb3IgdGhlIHN1YnN0cmFjdGlvbiBvcGVyYXRpb25cbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHZlY3RvciB3aGVyZSB0aGUgcmVzdWx0IG9mIHRoZSBzdWJzdHJhY3Rpb24gaXMgc3RvcmVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RUb1JlZih2ZWN0b3JBLCB2ZWN0b3JCLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3JBLnggLSB2ZWN0b3JCLng7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yQS55IC0gdmVjdG9yQi55O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvckEueiAtIHZlY3RvckIuejtcbiAgICB9XG4gICAgVmVjdG9yMy5zdWJ0cmFjdFRvUmVmID0gc3VidHJhY3RUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIGZsb2F0cyBmcm9tIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYW5kIHNldCB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGlzIHJlc3VsdFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54IC0geDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLSB5O1xuICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEueiAtIHo7XG4gICAgfVxuICAgIFZlY3RvcjMuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYgPSBzdWJ0cmFjdEZyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgd2l0aCB0aGUgb3RoZXIgc2lnblxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmVnYXRlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB7IHg6IC12YWx1ZS54LCB5OiAtdmFsdWUueSwgejogLXZhbHVlLnogfTtcbiAgICB9XG4gICAgVmVjdG9yMy5uZWdhdGUgPSBuZWdhdGU7XG4gICAgLyoqXG4gICAgICogQ29weSBzb3VyY2UgaW50byBkZXN0XG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC54ID0gc291cmNlLng7XG4gICAgICAgIGRlc3QueSA9IHNvdXJjZS55O1xuICAgICAgICBkZXN0LnogPSBzb3VyY2UuejtcbiAgICB9XG4gICAgVmVjdG9yMy5jb3B5RnJvbSA9IGNvcHlGcm9tO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcImRlc3RcIiB3aXRoIHRoZSBnaXZlbiBmbG9hdHMuXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZVxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2VcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlXG4gICAgICogQHBhcmFtIGRlc3QgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbUZsb2F0cyh4LCB5LCB6LCBkZXN0KSB7XG4gICAgICAgIGRlc3QueCA9IHg7XG4gICAgICAgIGRlc3QueSA9IHk7XG4gICAgICAgIGRlc3QueiA9IHo7XG4gICAgfVxuICAgIFZlY3RvcjMuY29weUZyb21GbG9hdHMgPSBjb3B5RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgd2l0aCB0aGUgc2FtZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHRpbmcgdmVjdG9yXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUoc291cmNlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoc291cmNlLngsIHNvdXJjZS55LCBzb3VyY2Uueik7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNsaXAgZmFjdG9yIGJldHdlZW4gdHdvIHZlY3RvcnNcbiAgICAgKiBAcGFyYW0gdmVjdG9yMCAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gdmVjdG9yMSAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBzaXplIC0gZGVmaW5lcyB0aGUgc2l6ZSBhbG9uZyB0aGUgYXhpc1xuICAgICAqIEByZXR1cm5zIHRoZSBjbGlwIGZhY3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldENsaXBGYWN0b3IodmVjdG9yMCwgdmVjdG9yMSwgYXhpcywgc2l6ZSkge1xuICAgICAgICBjb25zdCBkMCA9IGRvdCh2ZWN0b3IwLCBheGlzKSAtIHNpemU7XG4gICAgICAgIGNvbnN0IGQxID0gZG90KHZlY3RvcjEsIGF4aXMpIC0gc2l6ZTtcbiAgICAgICAgY29uc3QgcyA9IGQwIC8gKGQwIC0gZDEpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gICAgVmVjdG9yMy5nZXRDbGlwRmFjdG9yID0gZ2V0Q2xpcEZhY3RvcjtcbiAgICAvKipcbiAgICAgKiBHZXQgYW5nbGUgYmV0d2VlbiB0d28gdmVjdG9yc1xuICAgICAqIEBwYXJhbSB2ZWN0b3IwIC0gYW5nbGUgYmV0d2VlbiB2ZWN0b3IwIGFuZCB2ZWN0b3IxXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBhbmdsZSBiZXR3ZWVuIHZlY3RvcjAgYW5kIHZlY3RvcjFcbiAgICAgKiBAcGFyYW0gbm9ybWFsIC0gZGlyZWN0aW9uIG9mIHRoZSBub3JtYWxcbiAgICAgKiBAcmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB2ZWN0b3IwIGFuZCB2ZWN0b3IxXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyh2ZWN0b3IwLCB2ZWN0b3IxLCBub3JtYWwpIHtcbiAgICAgICAgY29uc3QgdjAgPSBub3JtYWxpemUodmVjdG9yMCk7XG4gICAgICAgIGNvbnN0IHYxID0gbm9ybWFsaXplKHZlY3RvcjEpO1xuICAgICAgICBjb25zdCB2MHYxZG90ID0gZG90KHYwLCB2MSk7XG4gICAgICAgIGNvbnN0IG4gPSBjcmVhdGUoKTtcbiAgICAgICAgY3Jvc3NUb1JlZih2MCwgdjEsIG4pO1xuICAgICAgICBpZiAoZG90KG4sIG5vcm1hbCkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hY29zKHYwdjFkb3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtTWF0aC5hY29zKHYwdjFkb3QpO1xuICAgIH1cbiAgICBWZWN0b3IzLmdldEFuZ2xlQmV0d2VlblZlY3RvcnMgPSBnZXRBbmdsZUJldHdlZW5WZWN0b3JzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0pO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IGZyb20gdGhlIGluZGV4IFwib2Zmc2V0XCIgb2YgdGhlIGdpdmVuIEZsb2F0QXJyYXlcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQuICBVc2UgRnJvbUFycmF5IGluc3RlYWRcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheShhcnJheSwgb2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJvbUZsb2F0QXJyYXkgPSBmcm9tRmxvYXRBcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBlbGVtZW50IHZhbHVlcyBmcm9tIHRoZSBpbmRleCBcIm9mZnNldFwiIG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXlUb1JlZihhcnJheSwgb2Zmc2V0LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBhcnJheVtvZmZzZXRdO1xuICAgICAgICByZXN1bHQueSA9IGFycmF5W29mZnNldCArIDFdO1xuICAgICAgICByZXN1bHQueiA9IGFycmF5W29mZnNldCArIDJdO1xuICAgIH1cbiAgICBWZWN0b3IzLmZyb21BcnJheVRvUmVmID0gZnJvbUFycmF5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgZWxlbWVudCB2YWx1ZXMgZnJvbSB0aGUgaW5kZXggXCJvZmZzZXRcIiBvZiB0aGUgZ2l2ZW4gRmxvYXRBcnJheVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZC4gIFVzZSBGcm9tQXJyYXlUb1JlZiBpbnN0ZWFkLlxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tRmxvYXRBcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5VG9SZWYoYXJyYXksIG9mZnNldCwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5mcm9tRmxvYXRBcnJheVRvUmVmID0gZnJvbUZsb2F0QXJyYXlUb1JlZjtcbiAgICAvLyBQcm9wZXJ0aWVzXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlbmd0aCh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCh2ZWN0b3IueCAqIHZlY3Rvci54ICsgdmVjdG9yLnkgKiB2ZWN0b3IueSArIHZlY3Rvci56ICogdmVjdG9yLnopO1xuICAgIH1cbiAgICBWZWN0b3IzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzcXVhcmVkIGxlbmd0aCBvZiB0aGUgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIHNxdWFyZWQgbGVuZ3RoIG9mIHRoZSBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoU3F1YXJlZCh2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHZlY3Rvci54ICogdmVjdG9yLnggKyB2ZWN0b3IueSAqIHZlY3Rvci55ICsgdmVjdG9yLnogKiB2ZWN0b3IuejtcbiAgICB9XG4gICAgVmVjdG9yMy5sZW5ndGhTcXVhcmVkID0gbGVuZ3RoU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIGN1cnJlbnQgVmVjdG9yMyBjb29yZGluYXRlcyBtdWx0aXBsaWVkIGJ5IHRoZSBmbG9hdCBcInNjYWxlXCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBtdWx0aXBsaWVyIGZhY3RvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZVRvUmVmKHZlY3Rvciwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3Rvci54ICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC55ID0gdmVjdG9yLnkgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IueiAqIHNjYWxlO1xuICAgIH1cbiAgICBWZWN0b3IzLnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgd2l0aCB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIG11bHRpcGxpZWQgYnkgdGhlIGZsb2F0IFwic2NhbGVcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIG11bHRpcGxpZXIgZmFjdG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZlY3Rvciwgc2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2ZWN0b3IueCAqIHNjYWxlLCB2ZWN0b3IueSAqIHNjYWxlLCB2ZWN0b3IueiAqIHNjYWxlKTtcbiAgICB9XG4gICAgVmVjdG9yMy5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBsZW4gLSB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVGcm9tTGVuZ3RoKHZlY3RvciwgbGVuKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgbm9ybWFsaXplRnJvbUxlbmd0aFRvUmVmKHZlY3RvciwgbGVuLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGggPSBub3JtYWxpemVGcm9tTGVuZ3RoO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBWZWN0b3IzIHdpdGggdGhlIGdpdmVuIGlucHV0IGxlbmd0aC5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEBwYXJhbSBsZW4gLSB0aGUgbGVuZ3RoIG9mIHRoZSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYodmVjdG9yLCBsZW4sIHJlc3VsdCkge1xuICAgICAgICBpZiAobGVuID09PSAwIHx8IGxlbiA9PT0gMS4wKSB7XG4gICAgICAgICAgICBjb3B5RnJvbSh2ZWN0b3IsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGVUb1JlZih2ZWN0b3IsIDEuMCAvIGxlbiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5ub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWYgPSBub3JtYWxpemVGcm9tTGVuZ3RoVG9SZWY7XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIHRoZSBjdXJyZW50IFZlY3RvcjMuXG4gICAgICogUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGlzIGFuIGluIHBsYWNlIG9wZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVGcm9tTGVuZ3RoKHZlY3RvciwgbGVuZ3RoKHZlY3RvcikpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemUgdGhlIGN1cnJlbnQgVmVjdG9yMy5cbiAgICAgKiBQbGVhc2Ugbm90ZSB0aGF0IHRoaXMgaXMgYW4gaW4gcGxhY2Ugb3BlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZVRvUmVmKHZlY3RvciwgcmVzdWx0KSB7XG4gICAgICAgIG5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih2ZWN0b3IsIGxlbmd0aCh2ZWN0b3IpLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLm5vcm1hbGl6ZVRvUmVmID0gbm9ybWFsaXplVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG90IHByb2R1Y3QgKGZsb2F0KSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb3QobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIGxlZnQueCAqIHJpZ2h0LnggKyBsZWZ0LnkgKiByaWdodC55ICsgbGVmdC56ICogcmlnaHQuejtcbiAgICB9XG4gICAgVmVjdG9yMy5kb3QgPSBkb3Q7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGlzIHZlY3RvciAod2l0aCBhbiBpbXBsaWNpdCAxIGluIHRoZSA0dGggZGltZW5zaW9uKSBhbmQgbSwgYW5kIGRpdmlkZXMgYnkgcGVyc3BlY3RpdmVcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gVGhlIHRyYW5zZm9ybWF0aW9uIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHJlc3VsdCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXBwbHlNYXRyaXg0KHZlY3RvciwgbWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNsb25lKHZlY3Rvcik7XG4gICAgICAgIGFwcGx5TWF0cml4NFRvUmVmKHZlY3RvciwgbWF0cml4LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmFwcGx5TWF0cml4NCA9IGFwcGx5TWF0cml4NDtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoaXMgdmVjdG9yICh3aXRoIGFuIGltcGxpY2l0IDEgaW4gdGhlIDR0aCBkaW1lbnNpb24pIGFuZCBtLCBhbmQgZGl2aWRlcyBieSBwZXJzcGVjdGl2ZSBhbmQgc2V0IHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoaXMgcmVzdWx0XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIFRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFwcGx5TWF0cml4NFRvUmVmKHZlY3RvciwgbWF0cml4LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB2ZWN0b3I7XG4gICAgICAgIGNvbnN0IG0gPSBtYXRyaXguX207XG4gICAgICAgIGNvbnN0IHcgPSAxIC8gKG1bM10gKiB4ICsgbVs3XSAqIHkgKyBtWzExXSAqIHogKyBtWzE1XSk7XG4gICAgICAgIHJlc3VsdC54ID0gKG1bMF0gKiB4ICsgbVs0XSAqIHkgKyBtWzhdICogeiArIG1bMTJdKSAqIHc7XG4gICAgICAgIHJlc3VsdC55ID0gKG1bMV0gKiB4ICsgbVs1XSAqIHkgKyBtWzldICogeiArIG1bMTNdKSAqIHc7XG4gICAgICAgIHJlc3VsdC56ID0gKG1bMl0gKiB4ICsgbVs2XSAqIHkgKyBtWzEwXSAqIHogKyBtWzE0XSkgKiB3O1xuICAgIH1cbiAgICBWZWN0b3IzLmFwcGx5TWF0cml4NFRvUmVmID0gYXBwbHlNYXRyaXg0VG9SZWY7XG4gICAgLyoqXG4gICAgICogUm90YXRlcyB0aGUgY3VycmVudCBWZWN0b3IzIGJhc2VkIG9uIHRoZSBnaXZlbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHEgLSBkZWZpbmVzIHRoZSBRdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0ZSh2ZWN0b3IsIHEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0ZVRvUmVmKHZlY3RvciwgcSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGUgPSByb3RhdGU7XG4gICAgLyoqXG4gICAgICogUm90YXRlcyBjdXJyZW50IFZlY3RvcjMgYmFzZWQgb24gdGhlIGdpdmVuIHF1YXRlcm5pb24sIGJ1dCBhcHBsaWVzIHRoZSByb3RhdGlvbiB0byB0YXJnZXQgVmVjdG9yMy5cbiAgICAgKiBAcGFyYW0gcSAtIGRlZmluZXMgdGhlIFF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IFZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRlVG9SZWYodmVjdG9yLCBxLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeyB4LCB5LCB6IH0gPSB2ZWN0b3I7XG4gICAgICAgIGNvbnN0IHsgeDogcXgsIHk6IHF5LCB6OiBxeiwgdzogcXcgfSA9IHE7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBxdWF0ICogdmVjdG9yXG4gICAgICAgIGNvbnN0IGl4ID0gcXcgKiB4ICsgcXkgKiB6IC0gcXogKiB5O1xuICAgICAgICBjb25zdCBpeSA9IHF3ICogeSArIHF6ICogeCAtIHF4ICogejtcbiAgICAgICAgY29uc3QgaXogPSBxdyAqIHogKyBxeCAqIHkgLSBxeSAqIHg7XG4gICAgICAgIGNvbnN0IGl3ID0gLXF4ICogeCAtIHF5ICogeSAtIHF6ICogejtcbiAgICAgICAgLy8gY2FsY3VsYXRlIHJlc3VsdCAqIGludmVyc2UgcXVhdFxuICAgICAgICByZXN1bHQueCA9IGl4ICogcXcgKyBpdyAqIC1xeCArIGl5ICogLXF6IC0gaXogKiAtcXk7XG4gICAgICAgIHJlc3VsdC55ID0gaXkgKiBxdyArIGl3ICogLXF5ICsgaXogKiAtcXggLSBpeCAqIC1xejtcbiAgICAgICAgcmVzdWx0LnogPSBpeiAqIHF3ICsgaXcgKiAtcXogKyBpeCAqIC1xeSAtIGl5ICogLXF4O1xuICAgIH1cbiAgICBWZWN0b3IzLnJvdGF0ZVRvUmVmID0gcm90YXRlVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgbGluZWFyIGludGVycG9sYXRpb24gYmV0d2VlbiB0aGUgdmVjdG9ycyBcInN0YXJ0XCIgYW5kIFwiZW5kXCJcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gbWF4IGRlZmluZXMgYW1vdW50IGJldHdlZW4gYm90aCAoYmV0d2VlbiAwIGFuZCAxKVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxlcnAoc3RhcnQsIGVuZCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgbGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGxpbmVhciBpbnRlcnBvbGF0aW9uIGZyb20gdGhlIHZlY3RvciBcInN0YXJ0XCIgZm9yIFwiYW1vdW50XCIgdG8gdGhlIHZlY3RvciBcImVuZFwiXG4gICAgICogQHBhcmFtIHN0YXJ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIG1heCBkZWZpbmVzIGFtb3VudCBiZXR3ZWVuIGJvdGggKGJldHdlZW4gMCBhbmQgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gc3RhcnQueCArIChlbmQueCAtIHN0YXJ0LngpICogYW1vdW50O1xuICAgICAgICByZXN1bHQueSA9IHN0YXJ0LnkgKyAoZW5kLnkgLSBzdGFydC55KSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LnogPSBzdGFydC56ICsgKGVuZC56IC0gc3RhcnQueikgKiBhbW91bnQ7XG4gICAgfVxuICAgIFZlY3RvcjMubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdmVjdG9ycyBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcm9zcyBwcm9kdWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY3Jvc3MobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWmVybygpO1xuICAgICAgICBjcm9zc1RvUmVmKGxlZnQsIHJpZ2h0LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBWZWN0b3IzLmNyb3NzID0gY3Jvc3M7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCIgd2l0aCB0aGUgY3Jvc3MgcHJvZHVjdCBvZiBcImxlZnRcIiBhbmQgXCJyaWdodFwiXG4gICAgICogVGhlIGNyb3NzIHByb2R1Y3QgaXMgdGhlbiBvcnRob2dvbmFsIHRvIGJvdGggXCJsZWZ0XCIgYW5kIFwicmlnaHRcIlxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgbGVmdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgcmlnaHQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcm9zc1RvUmVmKGxlZnQsIHJpZ2h0LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBsZWZ0LnkgKiByaWdodC56IC0gbGVmdC56ICogcmlnaHQueTtcbiAgICAgICAgcmVzdWx0LnkgPSBsZWZ0LnogKiByaWdodC54IC0gbGVmdC54ICogcmlnaHQuejtcbiAgICAgICAgcmVzdWx0LnogPSBsZWZ0LnggKiByaWdodC55IC0gbGVmdC55ICogcmlnaHQueDtcbiAgICB9XG4gICAgVmVjdG9yMy5jcm9zc1RvUmVmID0gY3Jvc3NUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gdmVjdG9yLlxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzIChpZS4gaXQgdGFrZXMgdHJhbnNsYXRpb24gaW4gYWNjb3VudClcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgdHJhbnNmb3JtZWQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvb3JkaW5hdGVzKHZlY3RvciwgdHJhbnNmb3JtYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWmVybygpO1xuICAgICAgICB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXMgPSB0cmFuc2Zvcm1Db29yZGluYXRlcztcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiBjb29yZGluYXRlcyB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzIChpZS4gaXQgdGFrZXMgdHJhbnNsYXRpb24gaW4gYWNjb3VudClcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih2ZWN0b3IsIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHZlY3Rvci54LCB2ZWN0b3IueSwgdmVjdG9yLnosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBWZWN0b3IzLnRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYgPSB0cmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIGNvb3JkaW5hdGVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gYnkgdGhlIGdpdmVuIG1hdHJpeCBvZiB0aGUgZ2l2ZW4gZmxvYXRzICh4LCB5LCB6KVxuICAgICAqIFRoaXMgbWV0aG9kIGNvbXB1dGVzIHRyYW5mb3JtZWQgY29vcmRpbmF0ZXMgb25seSwgbm90IHRyYW5zZm9ybWVkIGRpcmVjdGlvbiB2ZWN0b3JzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmUgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZSB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHgsIHksIHosIHRyYW5zZm9ybWF0aW9uLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgbSA9IHRyYW5zZm9ybWF0aW9uLl9tO1xuICAgICAgICBjb25zdCByeCA9IHggKiBtWzBdICsgeSAqIG1bNF0gKyB6ICogbVs4XSArIG1bMTJdO1xuICAgICAgICBjb25zdCByeSA9IHggKiBtWzFdICsgeSAqIG1bNV0gKyB6ICogbVs5XSArIG1bMTNdO1xuICAgICAgICBjb25zdCByeiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF0gKyBtWzE0XTtcbiAgICAgICAgY29uc3QgcncgPSAxIC8gKHggKiBtWzNdICsgeSAqIG1bN10gKyB6ICogbVsxMV0gKyBtWzE1XSk7XG4gICAgICAgIHJlc3VsdC54ID0gcnggKiBydztcbiAgICAgICAgcmVzdWx0LnkgPSByeSAqIHJ3O1xuICAgICAgICByZXN1bHQueiA9IHJ6ICogcnc7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYgPSB0cmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1Ob3JtYWwodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBaZXJvKCk7XG4gICAgICAgIHRyYW5zZm9ybU5vcm1hbFRvUmVmKHZlY3RvciwgdHJhbnNmb3JtYXRpb24sIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtTm9ybWFsID0gdHJhbnNmb3JtTm9ybWFsO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIHZlY3RvclxuICAgICAqIFRoaXMgbWV0aG9kcyBjb21wdXRlcyB0cmFuc2Zvcm1lZCBub3JtYWxpemVkIGRpcmVjdGlvbiB2ZWN0b3JzIG9ubHkgKGllLiBpdCBkb2VzIG5vdCBhcHBseSB0cmFuc2xhdGlvbilcbiAgICAgKiBAcGFyYW0gdmVjdG9yIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB0byB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSBkZWZpbmVzIHRoZSB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNmb3JtTm9ybWFsVG9SZWYodmVjdG9yLCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIHRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih2ZWN0b3IueCwgdmVjdG9yLnksIHZlY3Rvci56LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy50cmFuc2Zvcm1Ob3JtYWxUb1JlZiA9IHRyYW5zZm9ybU5vcm1hbFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIHZlY3RvciBcInJlc3VsdFwiIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgbm9ybWFsIHRyYW5zZm9ybWF0aW9uIGJ5IHRoZSBnaXZlbiBtYXRyaXggb2YgdGhlIGdpdmVuIGZsb2F0cyAoeCwgeSwgeilcbiAgICAgKiBUaGlzIG1ldGhvZHMgY29tcHV0ZXMgdHJhbnNmb3JtZWQgbm9ybWFsaXplZCBkaXJlY3Rpb24gdmVjdG9ycyBvbmx5IChpZS4gaXQgZG9lcyBub3QgYXBwbHkgdHJhbnNsYXRpb24pXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmUgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgc291cmNlIHZlY3RvclxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHNvdXJjZSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZSB0aGUgeiBjb29yZGluYXRlIG9mIHRoZSBzb3VyY2UgdmVjdG9yXG4gICAgICogQHBhcmFtIHRyYW5zZm9ybWF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZih4LCB5LCB6LCB0cmFuc2Zvcm1hdGlvbiwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG0gPSB0cmFuc2Zvcm1hdGlvbi5fbTtcbiAgICAgICAgcmVzdWx0LnggPSB4ICogbVswXSArIHkgKiBtWzRdICsgeiAqIG1bOF07XG4gICAgICAgIHJlc3VsdC55ID0geCAqIG1bMV0gKyB5ICogbVs1XSArIHogKiBtWzldO1xuICAgICAgICByZXN1bHQueiA9IHggKiBtWzJdICsgeSAqIG1bNl0gKyB6ICogbVsxMF07XG4gICAgfVxuICAgIFZlY3RvcjMudHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmID0gdHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBsb2NhdGVkIGZvciBcImFtb3VudFwiIG9uIHRoZSBDYXRtdWxsUm9tIGludGVycG9sYXRpb24gc3BsaW5lIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiwgXCJ2YWx1ZTJcIiwgXCJ2YWx1ZTNcIiwgXCJ2YWx1ZTRcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHZhbHVlMyAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdmFsdWU0IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgYW1vdW50IG9uIHRoZSBzcGxpbmUgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2F0bXVsbFJvbSh2YWx1ZTEsIHZhbHVlMiwgdmFsdWUzLCB2YWx1ZTQsIGFtb3VudCkge1xuICAgICAgICBjb25zdCBzcXVhcmVkID0gYW1vdW50ICogYW1vdW50O1xuICAgICAgICBjb25zdCBjdWJlZCA9IGFtb3VudCAqIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHggPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi54ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS54ICsgdmFsdWUzLngpICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnggLSA1LjAgKiB2YWx1ZTIueCArIDQuMCAqIHZhbHVlMy54IC0gdmFsdWU0LngpICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueCArIDMuMCAqIHZhbHVlMi54IC0gMy4wICogdmFsdWUzLnggKyB2YWx1ZTQueCkgKiBjdWJlZCk7XG4gICAgICAgIGNvbnN0IHkgPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi55ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS55ICsgdmFsdWUzLnkpICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnkgLSA1LjAgKiB2YWx1ZTIueSArIDQuMCAqIHZhbHVlMy55IC0gdmFsdWU0LnkpICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueSArIDMuMCAqIHZhbHVlMi55IC0gMy4wICogdmFsdWUzLnkgKyB2YWx1ZTQueSkgKiBjdWJlZCk7XG4gICAgICAgIGNvbnN0IHogPSAwLjUgKlxuICAgICAgICAgICAgKDIuMCAqIHZhbHVlMi56ICtcbiAgICAgICAgICAgICAgICAoLXZhbHVlMS56ICsgdmFsdWUzLnopICogYW1vdW50ICtcbiAgICAgICAgICAgICAgICAoMi4wICogdmFsdWUxLnogLSA1LjAgKiB2YWx1ZTIueiArIDQuMCAqIHZhbHVlMy56IC0gdmFsdWU0LnopICpcbiAgICAgICAgICAgICAgICAgICAgc3F1YXJlZCArXG4gICAgICAgICAgICAgICAgKC12YWx1ZTEueiArIDMuMCAqIHZhbHVlMi56IC0gMy4wICogdmFsdWUzLnogKyB2YWx1ZTQueikgKiBjdWJlZCk7XG4gICAgICAgIHJldHVybiBjcmVhdGUoeCwgeSwgeik7XG4gICAgfVxuICAgIFZlY3RvcjMuY2F0bXVsbFJvbSA9IGNhdG11bGxSb207XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgZ3JlYXRlciB0aGFuIG9uZSBvZiB0aGUgXCJtYXhcIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWF4XCIgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciByYW5nZSB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsYW1wKHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICBjb25zdCB2ID0gY3JlYXRlKCk7XG4gICAgICAgIGNsYW1wVG9SZWYodmFsdWUsIG1pbiwgbWF4LCB2KTtcbiAgICAgICAgcmV0dXJuIHY7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xhbXAgPSBjbGFtcDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2ZWN0b3IgXCJyZXN1bHRcIiB3aXRoIHRoZSBjb29yZGluYXRlcyBvZiBcInZhbHVlXCIsIGlmIHRoZSB2ZWN0b3IgXCJ2YWx1ZVwiIGlzIGluIHRoZSBjdWJlIGRlZmluZWQgYnkgdGhlIHZlY3RvcnMgXCJtaW5cIiBhbmQgXCJtYXhcIlxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgbG93ZXIgdGhhbiBvbmUgb2YgdGhlIFwibWluXCIgY29vcmRpbmF0ZSwgdGhlbiB0aGlzIFwidmFsdWVcIiBjb29yZGluYXRlIGlzIHNldCB3aXRoIHRoZSBcIm1pblwiIG9uZVxuICAgICAqIElmIGEgY29vcmRpbmF0ZSB2YWx1ZSBvZiBcInZhbHVlXCIgaXMgZ3JlYXRlciB0aGFuIG9uZSBvZiB0aGUgXCJtYXhcIiBjb29yZGluYXRlLCB0aGVuIHRoaXMgXCJ2YWx1ZVwiIGNvb3JkaW5hdGUgaXMgc2V0IHdpdGggdGhlIFwibWF4XCIgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgY3VycmVudCB2YWx1ZVxuICAgICAqIEBwYXJhbSBtaW4gLSBkZWZpbmVzIHRoZSBsb3dlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIHRoZSB1cHBlciByYW5nZSB2YWx1ZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcFRvUmVmKHZhbHVlLCBtaW4sIG1heCwgcmVzdWx0KSB7XG4gICAgICAgIGxldCB4ID0gdmFsdWUueDtcbiAgICAgICAgeCA9IHggPiBtYXgueCA/IG1heC54IDogeDtcbiAgICAgICAgeCA9IHggPCBtaW4ueCA/IG1pbi54IDogeDtcbiAgICAgICAgbGV0IHkgPSB2YWx1ZS55O1xuICAgICAgICB5ID0geSA+IG1heC55ID8gbWF4LnkgOiB5O1xuICAgICAgICB5ID0geSA8IG1pbi55ID8gbWluLnkgOiB5O1xuICAgICAgICBsZXQgeiA9IHZhbHVlLno7XG4gICAgICAgIHogPSB6ID4gbWF4LnogPyBtYXgueiA6IHo7XG4gICAgICAgIHogPSB6IDwgbWluLnogPyBtaW4ueiA6IHo7XG4gICAgICAgIGNvcHlGcm9tRmxvYXRzKHgsIHksIHosIHJlc3VsdCk7XG4gICAgfVxuICAgIFZlY3RvcjMuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgZm9yIFwiYW1vdW50XCIgKGZsb2F0KSBvbiB0aGUgSGVybWl0ZSBpbnRlcnBvbGF0aW9uIHNwbGluZSBkZWZpbmVkIGJ5IHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIsIFwidGFuZ2VudDFcIiwgXCJ2YWx1ZTJcIiwgXCJ0YW5nZW50MlwiXG4gICAgICogQHBhcmFtIHZhbHVlMSAtIGRlZmluZXMgdGhlIGZpcnN0IGNvbnRyb2wgcG9pbnRcbiAgICAgKiBAcGFyYW0gdGFuZ2VudDEgLSBkZWZpbmVzIHRoZSBmaXJzdCB0YW5nZW50IHZlY3RvclxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludFxuICAgICAqIEBwYXJhbSB0YW5nZW50MiAtIGRlZmluZXMgdGhlIHNlY29uZCB0YW5nZW50IHZlY3RvclxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBhbW91bnQgb24gdGhlIGludGVycG9sYXRpb24gc3BsaW5lIChiZXR3ZWVuIDAgYW5kIDEpXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGVybWl0ZSh2YWx1ZTEsIHRhbmdlbnQxLCB2YWx1ZTIsIHRhbmdlbnQyLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3Qgc3F1YXJlZCA9IGFtb3VudCAqIGFtb3VudDtcbiAgICAgICAgY29uc3QgY3ViZWQgPSBhbW91bnQgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MSA9IDIuMCAqIGN1YmVkIC0gMy4wICogc3F1YXJlZCArIDEuMDtcbiAgICAgICAgY29uc3QgcGFydDIgPSAtMi4wICogY3ViZWQgKyAzLjAgKiBzcXVhcmVkO1xuICAgICAgICBjb25zdCBwYXJ0MyA9IGN1YmVkIC0gMi4wICogc3F1YXJlZCArIGFtb3VudDtcbiAgICAgICAgY29uc3QgcGFydDQgPSBjdWJlZCAtIHNxdWFyZWQ7XG4gICAgICAgIGNvbnN0IHggPSB2YWx1ZTEueCAqIHBhcnQxICtcbiAgICAgICAgICAgIHZhbHVlMi54ICogcGFydDIgK1xuICAgICAgICAgICAgdGFuZ2VudDEueCAqIHBhcnQzICtcbiAgICAgICAgICAgIHRhbmdlbnQyLnggKiBwYXJ0NDtcbiAgICAgICAgY29uc3QgeSA9IHZhbHVlMS55ICogcGFydDEgK1xuICAgICAgICAgICAgdmFsdWUyLnkgKiBwYXJ0MiArXG4gICAgICAgICAgICB0YW5nZW50MS55ICogcGFydDMgK1xuICAgICAgICAgICAgdGFuZ2VudDIueSAqIHBhcnQ0O1xuICAgICAgICBjb25zdCB6ID0gdmFsdWUxLnogKiBwYXJ0MSArXG4gICAgICAgICAgICB2YWx1ZTIueiAqIHBhcnQyICtcbiAgICAgICAgICAgIHRhbmdlbnQxLnogKiBwYXJ0MyArXG4gICAgICAgICAgICB0YW5nZW50Mi56ICogcGFydDQ7XG4gICAgICAgIHJldHVybiBjcmVhdGUoeCwgeSwgeik7XG4gICAgfVxuICAgIFZlY3RvcjMuaGVybWl0ZSA9IGhlcm1pdGU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5pbWl6ZShsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBtaW4gPSBjcmVhdGUoKTtcbiAgICAgICAgbWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKHJpZ2h0LCBsZWZ0LngsIGxlZnQueSwgbGVmdC56LCBtaW4pO1xuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBWZWN0b3IzLm1pbmltaXplID0gbWluaW1pemU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF4aW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHR3byBWZWN0b3IzXG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhpbWl6ZShsZWZ0LCByaWdodCkge1xuICAgICAgICBjb25zdCBtYXggPSBjcmVhdGUoKTtcbiAgICAgICAgbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKGxlZnQsIHJpZ2h0LngsIHJpZ2h0LnksIHJpZ2h0LnosIG1heCk7XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuICAgIFZlY3RvcjMubWF4aW1pemUgPSBtYXhpbWl6ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSB2ZWN0b3JzIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBkaXN0YW5jZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpc3RhbmNlKHZhbHVlMSwgdmFsdWUyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoZGlzdGFuY2VTcXVhcmVkKHZhbHVlMSwgdmFsdWUyKSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gdGhlIHZlY3RvcnMgXCJ2YWx1ZTFcIiBhbmQgXCJ2YWx1ZTJcIlxuICAgICAqIEBwYXJhbSB2YWx1ZTEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZhbHVlMiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIHNxdWFyZWQgZGlzdGFuY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkaXN0YW5jZVNxdWFyZWQodmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgICAgY29uc3QgeCA9IHZhbHVlMS54IC0gdmFsdWUyLng7XG4gICAgICAgIGNvbnN0IHkgPSB2YWx1ZTEueSAtIHZhbHVlMi55O1xuICAgICAgICBjb25zdCB6ID0gdmFsdWUxLnogLSB2YWx1ZTIuejtcbiAgICAgICAgcmV0dXJuIHggKiB4ICsgeSAqIHkgKyB6ICogejtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXN0YW5jZVNxdWFyZWQgPSBkaXN0YW5jZVNxdWFyZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIGxvY2F0ZWQgYXQgdGhlIGNlbnRlciBiZXR3ZWVuIFwidmFsdWUxXCIgYW5kIFwidmFsdWUyXCJcbiAgICAgKiBAcGFyYW0gdmFsdWUxIC0gZGVmaW5lcyB0aGUgZmlyc3Qgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB2YWx1ZTIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNlbnRlcih2YWx1ZTEsIHZhbHVlMikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBhZGQodmFsdWUxLCB2YWx1ZTIpO1xuICAgICAgICBzY2FsZVRvUmVmKGNlbnRlciwgMC41LCBjZW50ZXIpO1xuICAgICAgICByZXR1cm4gY2VudGVyO1xuICAgIH1cbiAgICBWZWN0b3IzLmNlbnRlciA9IGNlbnRlcjtcbiAgICAvKipcbiAgICAgKiBHaXZlbiB0aHJlZSBvcnRob2dvbmFsIG5vcm1hbGl6ZWQgbGVmdC1oYW5kZWQgb3JpZW50ZWQgVmVjdG9yMyBheGlzIGluIHNwYWNlICh0YXJnZXQgc3lzdGVtKSxcbiAgICAgKiBSb3RhdGlvbkZyb21BeGlzKCkgcmV0dXJucyB0aGUgcm90YXRpb24gRXVsZXIgYW5nbGVzIChleCA6IHJvdGF0aW9uLngsIHJvdGF0aW9uLnksIHJvdGF0aW9uLnopIHRvIGFwcGx5XG4gICAgICogdG8gc29tZXRoaW5nIGluIG9yZGVyIHRvIHJvdGF0ZSBpdCBmcm9tIGl0cyBsb2NhbCBzeXN0ZW0gdG8gdGhlIGdpdmVuIHRhcmdldCBzeXN0ZW1cbiAgICAgKiBOb3RlOiBheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvblxuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25Gcm9tQXhpcyhheGlzMSwgYXhpczIsIGF4aXMzKSB7XG4gICAgICAgIGNvbnN0IHJvdGF0aW9uID0gWmVybygpO1xuICAgICAgICByb3RhdGlvbkZyb21BeGlzVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcm90YXRpb24pO1xuICAgICAgICByZXR1cm4gcm90YXRpb247XG4gICAgfVxuICAgIFZlY3RvcjMucm90YXRpb25Gcm9tQXhpcyA9IHJvdGF0aW9uRnJvbUF4aXM7XG4gICAgLyoqXG4gICAgICogVGhlIHNhbWUgdGhhbiBSb3RhdGlvbkZyb21BeGlzIGJ1dCB1cGRhdGVzIHRoZSBnaXZlbiByZWYgVmVjdG9yMyBwYXJhbWV0ZXIgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBuZXcgVmVjdG9yM1xuICAgICAqIEBwYXJhbSBheGlzMSAtIGRlZmluZXMgdGhlIGZpcnN0IGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMyAtIGRlZmluZXMgdGhlIHRoaXJkIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVmIC0gZGVmaW5lcyB0aGUgVmVjdG9yMyB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25Gcm9tQXhpc1RvUmVmKGF4aXMxLCBheGlzMiwgYXhpczMsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBxdWF0ID0gUXVhdGVybmlvbi5jcmVhdGUoKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdCk7XG4gICAgICAgIGNvcHlGcm9tKFF1YXRlcm5pb24udG9FdWxlckFuZ2xlcyhxdWF0KSwgcmVzdWx0KTtcbiAgICB9XG4gICAgVmVjdG9yMy5yb3RhdGlvbkZyb21BeGlzVG9SZWYgPSByb3RhdGlvbkZyb21BeGlzVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgVmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgc3RyaW5nIHdpdGggdGhlIFZlY3RvcjMgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBgKCR7dmVjdG9yLnh9LCAke3ZlY3Rvci55fSwgJHt2ZWN0b3Iuen0pYDtcbiAgICB9XG4gICAgVmVjdG9yMy50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIFZlY3RvcjMgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYSBudW1iZXIgd2hpY2ggdGVuZHMgdG8gYmUgdW5pcXVlIGJldHdlZW4gVmVjdG9yMyBpbnN0YW5jZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2ZWN0b3IpIHtcbiAgICAgICAgbGV0IGhhc2ggPSB2ZWN0b3IueCB8fCAwO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZlY3Rvci55IHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZlY3Rvci56IHx8IDApO1xuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gICAgVmVjdG9yMy5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdmVjdG9yMSBhbmQgdGhlIHZlY3RvcjIgY29vcmRpbmF0ZXMgYXJlIHN0cmljdGx5IGVxdWFsXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgYm90aCB2ZWN0b3JzIGFyZSBlcXVhbHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHModmVjdG9yMSwgdmVjdG9yMikge1xuICAgICAgICByZXR1cm4gKHZlY3RvcjEueCA9PT0gdmVjdG9yMi54ICYmXG4gICAgICAgICAgICB2ZWN0b3IxLnkgPT09IHZlY3RvcjIueSAmJlxuICAgICAgICAgICAgdmVjdG9yMS56ID09PSB2ZWN0b3IyLnopO1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgVmVjdG9yMyBhbmQgdGhlIGdpdmVuIHZlY3RvciBjb29yZGluYXRlcyBhcmUgZGlzdGFudCBsZXNzIHRoYW4gZXBzaWxvblxuICAgICAqIEBwYXJhbSBvdGhlclZlY3RvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIGVwc2lsb24gLSBkZWZpbmVzIHRoZSBtaW5pbWFsIGRpc3RhbmNlIHRvIGRlZmluZSB2YWx1ZXMgYXMgZXF1YWxzXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiBib3RoIHZlY3RvcnMgYXJlIGRpc3RhbnQgbGVzcyB0aGFuIGVwc2lsb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNXaXRoRXBzaWxvbih2ZWN0b3IxLCB2ZWN0b3IyLCBlcHNpbG9uID0gRXBzaWxvbikge1xuICAgICAgICByZXR1cm4gKFNjYWxhci53aXRoaW5FcHNpbG9uKHZlY3RvcjEueCwgdmVjdG9yMi54LCBlcHNpbG9uKSAmJlxuICAgICAgICAgICAgU2NhbGFyLndpdGhpbkVwc2lsb24odmVjdG9yMS55LCB2ZWN0b3IyLnksIGVwc2lsb24pICYmXG4gICAgICAgICAgICBTY2FsYXIud2l0aGluRXBzaWxvbih2ZWN0b3IxLnosIHZlY3RvcjIueiwgZXBzaWxvbikpO1xuICAgIH1cbiAgICBWZWN0b3IzLmVxdWFsc1dpdGhFcHNpbG9uID0gZXF1YWxzV2l0aEVwc2lsb247XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgZXF1YWxzIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGJvdGggdmVjdG9ycyBhcmUgZXF1YWxzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxzVG9GbG9hdHModmVjdG9yLCB4LCB5LCB6KSB7XG4gICAgICAgIHJldHVybiB2ZWN0b3IueCA9PT0geCAmJiB2ZWN0b3IueSA9PT0geSAmJiB2ZWN0b3IueiA9PT0gejtcbiAgICB9XG4gICAgVmVjdG9yMy5lcXVhbHNUb0Zsb2F0cyA9IGVxdWFsc1RvRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMywgcmVzdWx0IG9mIHRoZSBtdWx0aXBsaWNhdGlvbiBvZiB2ZWN0b3IxIGJ5IHRoZSB2ZWN0b3IyXG4gICAgICogQHBhcmFtIHZlY3RvcjEgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHZlY3RvcjIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZlY3RvcjEsIHZlY3RvcjIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgVmVjdG9yMyBieSB0aGUgZ2l2ZW4gb25lIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYodmVjdG9yMSwgdmVjdG9yMiwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gdmVjdG9yMS54ICogdmVjdG9yMi54O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAqIHZlY3RvcjIueTtcbiAgICAgICAgcmVzdWx0LnogPSB2ZWN0b3IxLnogKiB2ZWN0b3IyLno7XG4gICAgfVxuICAgIFZlY3RvcjMubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG11bGxpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5QnlGbG9hdHNUb1JlZih2ZWN0b3IxLCB4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLnggKiB4O1xuICAgICAgICByZXN1bHQueSA9IHZlY3RvcjEueSAqIHk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56ICogejtcbiAgICB9XG4gICAgVmVjdG9yMy5tdWx0aXBseUJ5RmxvYXRzVG9SZWYgPSBtdWx0aXBseUJ5RmxvYXRzVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIG11bGxpcGxpY2F0aW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIGZsb2F0c1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5QnlGbG9hdHModmVjdG9yMSwgeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbXVsdGlwbHlCeUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFZlY3RvcjMubXVsdGlwbHlCeUZsb2F0cyA9IG11bHRpcGx5QnlGbG9hdHM7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIGRpdmlzaW9uIG9mIHRoZSBjdXJyZW50IFZlY3RvcjMgY29vcmRpbmF0ZXMgYnkgdGhlIGdpdmVuIG9uZXNcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpdmlkZSh2ZWN0b3IxLCB2ZWN0b3IyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB2ZWN0b3IxLnggLyB2ZWN0b3IyLngsXG4gICAgICAgICAgICB5OiB2ZWN0b3IxLnkgLyB2ZWN0b3IyLnksXG4gICAgICAgICAgICB6OiB2ZWN0b3IxLnogLyB2ZWN0b3IyLnpcbiAgICAgICAgfTtcbiAgICB9XG4gICAgVmVjdG9yMy5kaXZpZGUgPSBkaXZpZGU7XG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0aGUgY3VycmVudCBWZWN0b3IzIGNvb3JkaW5hdGVzIGJ5IHRoZSBnaXZlbiBvbmVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiB0aGUgZ2l2ZW4gdmVjdG9yIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJWZWN0b3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBWZWN0b3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRpdmlkZVRvUmVmKHZlY3RvcjEsIHZlY3RvcjIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueCAvIHZlY3RvcjIueDtcbiAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnkgLyB2ZWN0b3IyLnk7XG4gICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56IC8gdmVjdG9yMi56O1xuICAgIH1cbiAgICBWZWN0b3IzLmRpdmlkZVRvUmVmID0gZGl2aWRlVG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0IHJlc3VsdCBWZWN0b3IzIHdpdGggdGhlIG1heGltYWwgY29vcmRpbmF0ZSB2YWx1ZXMgYmV0d2VlbiB2ZWN0b3IxIGFuZCB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gdGhlIHNldCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWF4aW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmKHZlY3RvcjEsIHgsIHksIHosIHJlc3VsdCkge1xuICAgICAgICBpZiAoeCA+IHZlY3RvcjEueCkge1xuICAgICAgICAgICAgcmVzdWx0LnggPSB4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnggPSB2ZWN0b3IxLng7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgPiB2ZWN0b3IxLnkpIHtcbiAgICAgICAgICAgIHJlc3VsdC55ID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC55ID0gdmVjdG9yMS55O1xuICAgICAgICB9XG4gICAgICAgIGlmICh6ID4gdmVjdG9yMS56KSB7XG4gICAgICAgICAgICByZXN1bHQueiA9IHo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueiA9IHZlY3RvcjEuejtcbiAgICAgICAgfVxuICAgIH1cbiAgICBWZWN0b3IzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZiA9IG1heGltaXplSW5QbGFjZUZyb21GbG9hdHNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTZXQgcmVzdWx0IFZlY3RvcjMgd2l0aCB0aGUgbWluaW1hbCBjb29yZGluYXRlIHZhbHVlcyBiZXR3ZWVuIHZlY3RvcjEgYW5kIHRoZSBnaXZlbiBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBvcGVyYW5kXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHogY29vcmRpbmF0ZSBvZiB0aGUgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByZXN1bHQgLSB0aGUgc2V0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzVG9SZWYodmVjdG9yMSwgeCwgeSwgeiwgcmVzdWx0KSB7XG4gICAgICAgIGlmICh4IDwgdmVjdG9yMS54KSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQueCA9IHZlY3RvcjEueDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA8IHZlY3RvcjEueSkge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnkgPSB2ZWN0b3IxLnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHogPCB2ZWN0b3IxLnopIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gejtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC56ID0gdmVjdG9yMS56O1xuICAgICAgICB9XG4gICAgfVxuICAgIFZlY3RvcjMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmID0gbWluaW1pemVJblBsYWNlRnJvbUZsb2F0c1RvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgVmVjdG9yMyBmcm9tIHZlY3RvcjEgZmxvb3JlZCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxvb3IodmVjdG9yMSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGguZmxvb3IodmVjdG9yMS54KSwgTWF0aC5mbG9vcih2ZWN0b3IxLnkpLCBNYXRoLmZsb29yKHZlY3RvcjEueikpO1xuICAgIH1cbiAgICBWZWN0b3IzLmZsb29yID0gZmxvb3I7XG4gICAgLyoqXG4gICAgICogR2V0cyBhIG5ldyBWZWN0b3IzIGZyb20gdmVjdG9yMSBmbG9vcmVkIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcmFjdCh2ZWN0b3IxKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmVjdG9yMS54IC0gTWF0aC5mbG9vcih2ZWN0b3IxLngpLCB2ZWN0b3IxLnkgLSBNYXRoLmZsb29yKHZlY3RvcjEueSksIHZlY3RvcjEueiAtIE1hdGguZmxvb3IodmVjdG9yMS56KSk7XG4gICAgfVxuICAgIFZlY3RvcjMuZnJhY3QgPSBmcmFjdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGVtcHR5IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLlplcm8gPSBaZXJvO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMyBzZXQgdG8gKDEuMCwgMS4wLCAxLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgdW5pdCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gT25lKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEuMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLk9uZSA9IE9uZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvbGVuZ3RoU3F1YXJlZCAoMC4wLCAxLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB1cCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVXAoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAxLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuVXAgPSBVcDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIC0xLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBkb3duIFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBEb3duKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgLTEuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5Eb3duID0gRG93bjtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgwLjAsIDAuMCwgMS4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGZvcndhcmQgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEZvcndhcmQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDEuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuRm9yd2FyZCA9IEZvcndhcmQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMC4wLCAwLjAsIC0xLjApXG4gICAgICogQHJldHVybnMgYSBuZXcgZm9yd2FyZCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmFja3dhcmQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIC0xLjApO1xuICAgIH1cbiAgICBWZWN0b3IzLkJhY2t3YXJkID0gQmFja3dhcmQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBWZWN0b3IzIHNldCB0byAoMS4wLCAwLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyByaWdodCBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFZlY3RvcjMuUmlnaHQgPSBSaWdodDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjMgc2V0IHRvICgtMS4wLCAwLjAsIDAuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBsZWZ0IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMZWZ0KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKC0xLjAsIDAuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMy5MZWZ0ID0gTGVmdDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHJhbmRvbSBWZWN0b3IzXG4gICAgICogQHJldHVybnMgYSByYW5kb20gVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJhbmRvbSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpLCBNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG4gICAgVmVjdG9yMy5SYW5kb20gPSBSYW5kb207XG59KShWZWN0b3IzIHx8IChWZWN0b3IzID0ge30pKTtcbiIsICJpbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnLi9WZWN0b3IzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4vTWF0cml4Jztcbi8qKlxuICogUmVwcmVzZW5zIGEgcGxhbmUgYnkgdGhlIGVxdWF0aW9uIGF4ICsgYnkgKyBjeiArIGQgPSAwXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB2YXIgUGxhbmU7XG4oZnVuY3Rpb24gKFBsYW5lKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBsYW5lIG9iamVjdCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIGZsb2F0cyBhLCBiLCBjLCBkIGFuZCB0aGUgcGxhbmUgZXF1YXRpb24gOiBheCArIGJ5ICsgY3ogKyBkID0gMFxuICAgICAqIEBwYXJhbSBhIC0gYSBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIGIgLSBiIGNvbXBvbmVudCBvZiB0aGUgcGxhbmVcbiAgICAgKiBAcGFyYW0gYyAtIGMgY29tcG9uZW50IG9mIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBkIC0gZCBjb21wb25lbnQgb2YgdGhlIHBsYW5lXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKGEsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vcm1hbDogVmVjdG9yMy5jcmVhdGUoYSwgYiwgYyksXG4gICAgICAgICAgICBkOiBkXG4gICAgICAgIH07XG4gICAgfVxuICAgIFBsYW5lLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgICAvLyBTdGF0aWNzXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBsYW5lIGZyb20gYW4gIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gdGhlIGFycmF5IHRvIGNyZWF0ZSBhIHBsYW5lIGZyb21cbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBmcm9tIHRoZSBnaXZlbiBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdLCBhcnJheVszXSk7XG4gICAgfVxuICAgIFBsYW5lLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSB0aHJlZSBwb2ludHNcbiAgICAgKiBAcGFyYW0gcG9pbnQxIC0gcG9pbnQgdXNlZCB0byBjcmVhdGUgdGhlIHBsYW5lXG4gICAgICogQHBhcmFtIHBvaW50MiAtIHBvaW50IHVzZWQgdG8gY3JlYXRlIHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDMgLSBwb2ludCB1c2VkIHRvIGNyZWF0ZSB0aGUgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBQbGFuZSBkZWZpbmVkIGJ5IHRoZSB0aHJlZSBnaXZlbiBwb2ludHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBvaW50cyhfcG9pbnQxLCBfcG9pbnQyLCBfcG9pbnQzKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIHJlc3VsdC5jb3B5RnJvbVBvaW50cyhwb2ludDEsIHBvaW50MiwgcG9pbnQzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBQbGFuZS5mcm9tUG9pbnRzID0gZnJvbVBvaW50cztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcGxhbmUgZnJvbSBhbiBvcmlnaW4gcG9pbnQgYW5kIGEgbm9ybWFsXG4gICAgICogQHBhcmFtIG9yaWdpbiAtIG9yaWdpbiBvZiB0aGUgcGxhbmUgdG8gYmUgY29uc3RydWN0ZWRcbiAgICAgKiBAcGFyYW0gbm9ybWFsIC0gbm9ybWFsIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IFBsYW5lIHRoZSBub3JtYWwgdmVjdG9yIHRvIHRoaXMgcGxhbmUgYXQgdGhlIGdpdmVuIG9yaWdpbiBwb2ludC5cbiAgICAgKiBOb3RlIDogdGhlIHZlY3RvciBcIm5vcm1hbFwiIGlzIHVwZGF0ZWQgYmVjYXVzZSBub3JtYWxpemVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvbVBvc2l0aW9uQW5kTm9ybWFsKG9yaWdpbiwgbm9ybWFsKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICByZXN1bHQubm9ybWFsID0gVmVjdG9yMy5ub3JtYWxpemUobm9ybWFsKTtcbiAgICAgICAgcmVzdWx0LmQgPSAtKG5vcm1hbC54ICogb3JpZ2luLnggK1xuICAgICAgICAgICAgbm9ybWFsLnkgKiBvcmlnaW4ueSArXG4gICAgICAgICAgICBub3JtYWwueiAqIG9yaWdpbi56KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUGxhbmUucm9tUG9zaXRpb25BbmROb3JtYWwgPSByb21Qb3NpdGlvbkFuZE5vcm1hbDtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSBmcm9tIGEgcGxhbmUgYW5kIGEgcG9pbnRcbiAgICAgKiBAcGFyYW0gb3JpZ2luIC0gb3JpZ2luIG9mIHRoZSBwbGFuZSB0byBiZSBjb25zdHJ1Y3RlZFxuICAgICAqIEBwYXJhbSBub3JtYWwgLSBub3JtYWwgb2YgdGhlIHBsYW5lIHRvIGJlIGNvbnN0cnVjdGVkXG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvXG4gICAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBwbGFuZSBkZWZpbmVkIGJ5IHRoZSBub3JtYWwgdmVjdG9yIGF0IHRoZSBcIm9yaWdpblwiXCIgcG9pbnQgYW5kIHRoZSBnaXZlbiBvdGhlciBwb2ludC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduZWREaXN0YW5jZVRvUGxhbmVGcm9tUG9zaXRpb25BbmROb3JtYWwob3JpZ2luLCBub3JtYWwsIHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGQgPSAtKG5vcm1hbC54ICogb3JpZ2luLnggKyBub3JtYWwueSAqIG9yaWdpbi55ICsgbm9ybWFsLnogKiBvcmlnaW4ueik7XG4gICAgICAgIHJldHVybiBWZWN0b3IzLmRvdChwb2ludCwgbm9ybWFsKSArIGQ7XG4gICAgfVxuICAgIFBsYW5lLnNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbCA9IHNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgcGxhbmUgY29vcmRpbmF0ZXMgYXMgYSBuZXcgYXJyYXkgb2YgNCBlbGVtZW50cyBbYSwgYiwgYywgZF0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheShwbGFuZSkge1xuICAgICAgICByZXR1cm4gW3BsYW5lLm5vcm1hbC54LCBwbGFuZS5ub3JtYWwueSwgcGxhbmUubm9ybWFsLnosIHBsYW5lLmRdO1xuICAgIH1cbiAgICBQbGFuZS5hc0FycmF5ID0gYXNBcnJheTtcbiAgICAvLyBNZXRob2RzXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBuZXcgcGxhbmUgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgUGxhbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUocGxhbmUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShwbGFuZS5ub3JtYWwueCwgcGxhbmUubm9ybWFsLnksIHBsYW5lLm5vcm1hbC56LCBwbGFuZS5kKTtcbiAgICB9XG4gICAgUGxhbmUuY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB0aGUgUGxhbmUgaGFzaCBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKF9wbGFuZSkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIGxldCBoYXNoID0gcGxhbmUubm9ybWFsLmdldEhhc2hDb2RlKClcbiAgICAgICAgLy8gaGFzaCA9IChoYXNoICogMzk3KSBeIChwbGFuZS5kIHx8IDApXG4gICAgICAgIC8vIHJldHVybiBoYXNoXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBQbGFuZS5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIE5vcm1hbGl6ZSB0aGUgY3VycmVudCBQbGFuZSBpbiBwbGFjZS5cbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUocGxhbmUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDAsIDApO1xuICAgICAgICBjb25zdCBub3JtID0gTWF0aC5zcXJ0KHBsYW5lLm5vcm1hbC54ICogcGxhbmUubm9ybWFsLnggK1xuICAgICAgICAgICAgcGxhbmUubm9ybWFsLnkgKiBwbGFuZS5ub3JtYWwueSArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueiAqIHBsYW5lLm5vcm1hbC56KTtcbiAgICAgICAgbGV0IG1hZ25pdHVkZSA9IDAuMDtcbiAgICAgICAgaWYgKG5vcm0gIT09IDApIHtcbiAgICAgICAgICAgIG1hZ25pdHVkZSA9IDEuMCAvIG5vcm07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Lm5vcm1hbC54ID0gcGxhbmUubm9ybWFsLnggKiBtYWduaXR1ZGU7XG4gICAgICAgIHJlc3VsdC5ub3JtYWwueSA9IHBsYW5lLm5vcm1hbC55ICogbWFnbml0dWRlO1xuICAgICAgICByZXN1bHQubm9ybWFsLnogPSBwbGFuZS5ub3JtYWwueiAqIG1hZ25pdHVkZTtcbiAgICAgICAgcmVzdWx0LmQgKj0gbWFnbml0dWRlO1xuICAgICAgICByZXR1cm4gcGxhbmU7XG4gICAgfVxuICAgIFBsYW5lLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgdHJhbnNmb3JtYXRpb24gdGhlIHBsYW5lIGFuZCByZXR1cm5zIHRoZSByZXN1bHRcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtYXRpb24gLSB0aGUgdHJhbnNmb3JtYXRpb24gbWF0cml4IHRvIGJlIGFwcGxpZWQgdG8gdGhlIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgUGxhbmUgYXMgdGhlIHJlc3VsdCBvZiB0aGUgdHJhbnNmb3JtYXRpb24gb2YgdGhlIGN1cnJlbnQgUGxhbmUgYnkgdGhlIGdpdmVuIG1hdHJpeC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2Zvcm0ocGxhbmUsIHRyYW5zZm9ybWF0aW9uKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zcG9zZWRNYXRyaXggPSBNYXRyaXguY3JlYXRlKCk7XG4gICAgICAgIE1hdHJpeC50cmFuc3Bvc2VUb1JlZih0cmFuc2Zvcm1hdGlvbiwgdHJhbnNwb3NlZE1hdHJpeCk7XG4gICAgICAgIGNvbnN0IG0gPSB0cmFuc3Bvc2VkTWF0cml4Ll9tO1xuICAgICAgICBjb25zdCB4ID0gcGxhbmUubm9ybWFsLng7XG4gICAgICAgIGNvbnN0IHkgPSBwbGFuZS5ub3JtYWwueTtcbiAgICAgICAgY29uc3QgeiA9IHBsYW5lLm5vcm1hbC56O1xuICAgICAgICBjb25zdCBkID0gcGxhbmUuZDtcbiAgICAgICAgY29uc3Qgbm9ybWFsWCA9IHggKiBtWzBdICsgeSAqIG1bMV0gKyB6ICogbVsyXSArIGQgKiBtWzNdO1xuICAgICAgICBjb25zdCBub3JtYWxZID0geCAqIG1bNF0gKyB5ICogbVs1XSArIHogKiBtWzZdICsgZCAqIG1bN107XG4gICAgICAgIGNvbnN0IG5vcm1hbFogPSB4ICogbVs4XSArIHkgKiBtWzldICsgeiAqIG1bMTBdICsgZCAqIG1bMTFdO1xuICAgICAgICBjb25zdCBmaW5hbEQgPSB4ICogbVsxMl0gKyB5ICogbVsxM10gKyB6ICogbVsxNF0gKyBkICogbVsxNV07XG4gICAgICAgIHJldHVybiBjcmVhdGUobm9ybWFsWCwgbm9ybWFsWSwgbm9ybWFsWiwgZmluYWxEKTtcbiAgICB9XG4gICAgUGxhbmUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgIC8qKlxuICAgICAqIENhbGN1YWx0dGUgdGhlIGRvdCBwcm9kdWN0IGJldHdlZW4gdGhlIHBvaW50IGFuZCB0aGUgcGxhbmUgbm9ybWFsXG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIHRoZSBkb3QgcHJvZHVjdCB3aXRoXG4gICAgICogQHJldHVybnMgdGhlIGRvdCBwcm9kdWN0IChmbG9hdCkgb2YgdGhlIHBvaW50IGNvb3JkaW5hdGVzIGFuZCB0aGUgcGxhbmUgbm9ybWFsLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRvdENvb3JkaW5hdGUocGxhbmUsIHBvaW50KSB7XG4gICAgICAgIHJldHVybiAocGxhbmUubm9ybWFsLnggKiBwb2ludC54ICtcbiAgICAgICAgICAgIHBsYW5lLm5vcm1hbC55ICogcG9pbnQueSArXG4gICAgICAgICAgICBwbGFuZS5ub3JtYWwueiAqIHBvaW50LnogK1xuICAgICAgICAgICAgcGxhbmUuZCk7XG4gICAgfVxuICAgIFBsYW5lLmRvdENvb3JkaW5hdGUgPSBkb3RDb29yZGluYXRlO1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgUGxhbmUgZnJvbSB0aGUgcGxhbmUgZGVmaW5lZCBieSB0aGUgdGhyZWUgZ2l2ZW4gcG9pbnRzLlxuICAgICAqIEBwYXJhbSBwb2ludDEgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDIgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEBwYXJhbSBwb2ludDMgLSBvbmUgb2YgdGhlIHBvaW50cyB1c2VkIHRvIGNvbnRydWN0IHRoZSBwbGFuZVxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIFBsYW5lLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tUG9pbnRzKHBvaW50MSwgcG9pbnQyLCBwb2ludDMpIHtcbiAgICAgICAgY29uc3QgeDEgPSBwb2ludDIueCAtIHBvaW50MS54O1xuICAgICAgICBjb25zdCB5MSA9IHBvaW50Mi55IC0gcG9pbnQxLnk7XG4gICAgICAgIGNvbnN0IHoxID0gcG9pbnQyLnogLSBwb2ludDEuejtcbiAgICAgICAgY29uc3QgeDIgPSBwb2ludDMueCAtIHBvaW50MS54O1xuICAgICAgICBjb25zdCB5MiA9IHBvaW50My55IC0gcG9pbnQxLnk7XG4gICAgICAgIGNvbnN0IHoyID0gcG9pbnQzLnogLSBwb2ludDEuejtcbiAgICAgICAgY29uc3QgeXogPSB5MSAqIHoyIC0gejEgKiB5MjtcbiAgICAgICAgY29uc3QgeHogPSB6MSAqIHgyIC0geDEgKiB6MjtcbiAgICAgICAgY29uc3QgeHkgPSB4MSAqIHkyIC0geTEgKiB4MjtcbiAgICAgICAgY29uc3QgcHl0aCA9IE1hdGguc3FydCh5eiAqIHl6ICsgeHogKiB4eiArIHh5ICogeHkpO1xuICAgICAgICBsZXQgaW52UHl0aDtcbiAgICAgICAgaWYgKHB5dGggIT09IDApIHtcbiAgICAgICAgICAgIGludlB5dGggPSAxLjAgLyBweXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW52UHl0aCA9IDAuMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3JtYWwgPSBWZWN0b3IzLmNyZWF0ZSh5eiAqIGludlB5dGgsIHh6ICogaW52UHl0aCwgeHkgKiBpbnZQeXRoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vcm1hbCxcbiAgICAgICAgICAgIGQ6IC0obm9ybWFsLnggKiBwb2ludDEueCArIG5vcm1hbC55ICogcG9pbnQxLnkgKyBub3JtYWwueiAqIHBvaW50MS56KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBQbGFuZS5jb3B5RnJvbVBvaW50cyA9IGNvcHlGcm9tUG9pbnRzO1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgcGxhbmUgaXMgZmFjaW5nIGEgZ2l2ZW4gZGlyZWN0aW9uXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiAtIHRoZSBkaXJlY3Rpb24gdG8gY2hlY2sgaWYgdGhlIHBsYW5lIGlzIGZhY2luZ1xuICAgICAqIEBwYXJhbSBlcHNpbG9uIC0gdmFsdWUgdGhlIGRvdCBwcm9kdWN0IGlzIGNvbXBhcmVkIGFnYWluc3QgKHJldHVybnMgdHJ1ZSBpZiBkb3QgJmx0Oz0gZXBzaWxvbilcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlzIHRoZSB2ZWN0b3IgXCJkaXJlY3Rpb25cIiAgaXMgdGhlIHNhbWUgc2lkZSB0aGFuIHRoZSBwbGFuZSBub3JtYWwuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNGcm9udEZhY2luZ1RvKHBsYW5lLCBkaXJlY3Rpb24sIGVwc2lsb24pIHtcbiAgICAgICAgY29uc3QgZG90ID0gVmVjdG9yMy5kb3QocGxhbmUubm9ybWFsLCBkaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gZG90IDw9IGVwc2lsb247XG4gICAgfVxuICAgIFBsYW5lLmlzRnJvbnRGYWNpbmdUbyA9IGlzRnJvbnRGYWNpbmdUbztcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBkaXN0YW5jZSB0byBhIHBvaW50XG4gICAgICogQHBhcmFtIHBvaW50IC0gcG9pbnQgdG8gY2FsY3VsYXRlIGRpc3RhbmNlIHRvXG4gICAgICogQHJldHVybnMgdGhlIHNpZ25lZCBkaXN0YW5jZSAoZmxvYXQpIGZyb20gdGhlIGdpdmVuIHBvaW50IHRvIHRoZSBQbGFuZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaWduZWREaXN0YW5jZVRvKHBsYW5lLCBwb2ludCkge1xuICAgICAgICByZXR1cm4gVmVjdG9yMy5kb3QocG9pbnQsIHBsYW5lLm5vcm1hbCkgKyBwbGFuZS5kO1xuICAgIH1cbiAgICBQbGFuZS5zaWduZWREaXN0YW5jZVRvID0gc2lnbmVkRGlzdGFuY2VUbztcbn0pKFBsYW5lIHx8IChQbGFuZSA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMyc7XG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnLi9RdWF0ZXJuaW9uJztcbmltcG9ydCB7IFBsYW5lIH0gZnJvbSAnLi9QbGFuZSc7XG4vKipcbiAqIENsYXNzIHVzZWQgdG8gc3RvcmUgbWF0cml4IGRhdGEgKDR4NClcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHZhciBNYXRyaXg7XG4oZnVuY3Rpb24gKE1hdHJpeCkge1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIGRhdGEgb2YgdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG0oc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fbTtcbiAgICB9XG4gICAgTWF0cml4Lm0gPSBtO1xuICAgIGxldCBfdXBkYXRlRmxhZ1NlZWQgPSAwO1xuICAgIGNvbnN0IF9pZGVudGl0eVJlYWRvbmx5ID0ge307XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBpZGVudGl0eSBtYXRyaXggdGhhdCBtdXN0IG5vdCBiZSB1cGRhdGVkXG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHlSZWFkb25seSgpIHtcbiAgICAgICAgcmV0dXJuIF9pZGVudGl0eVJlYWRvbmx5O1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHlSZWFkb25seSA9IElkZW50aXR5UmVhZG9ubHk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBlbXB0eSBtYXRyaXggKGZpbGxlZCB3aXRoIHplcm9zKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgbmV3TWF0cml4ID0ge1xuICAgICAgICAgICAgdXBkYXRlRmxhZzogMCxcbiAgICAgICAgICAgIGlzSWRlbnRpdHk6IGZhbHNlLFxuICAgICAgICAgICAgaXNJZGVudGl0eTN4MjogdHJ1ZSxcbiAgICAgICAgICAgIF9pc0lkZW50aXR5RGlydHk6IHRydWUsXG4gICAgICAgICAgICBfaXNJZGVudGl0eTN4MkRpcnR5OiB0cnVlLFxuICAgICAgICAgICAgX206IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXVxuICAgICAgICB9O1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMobmV3TWF0cml4LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBuZXdNYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLy8gU3RhdGljc1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBtYXRyaXggZnJvbSBhbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheVxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBkZWZpbmVzIGFuIG9mZnNldCBpbiB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHJldHVybnMgYSBuZXcgTWF0cml4IHNldCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBvZiB0aGUgZ2l2ZW4gYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tQXJyYXkgPSBmcm9tQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgY29udGVudCBvZiBhbiBhcnJheSBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BcnJheVRvUmVmKGFycmF5LCBvZmZzZXQsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSBhcnJheVtpbmRleCArIG9mZnNldF07XG4gICAgICAgIH1cbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21BcnJheVRvUmVmID0gZnJvbUFycmF5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGFuIGFycmF5IGludG8gYSBtYXRyaXggYWZ0ZXIgaGF2aW5nIG11bHRpcGxpZWQgZWFjaCBjb21wb25lbnQgYnkgYSBnaXZlbiBmYWN0b3JcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZChhcnJheSwgb2Zmc2V0LCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IGFycmF5W2luZGV4ICsgb2Zmc2V0XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tRmxvYXRBcnJheVRvUmVmU2NhbGVkID0gZnJvbUZsb2F0QXJyYXlUb1JlZlNjYWxlZDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSBsaXN0IG9mIHZhbHVlcyAoMTYpIGluc2lkZSBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBpbml0aWFsTTExIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTEzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTE0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMXN0IHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTIzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTI0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgMm5kIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTMzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTM0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgM3JkIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQxIC0gZGVmaW5lcyAxc3QgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQyIC0gZGVmaW5lcyAybmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQzIC0gZGVmaW5lcyAzcmQgdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSBpbml0aWFsTTQ0IC0gZGVmaW5lcyA0dGggdmFsdWUgb2YgNHRoIHJvd1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVZhbHVlc1RvUmVmKGluaXRpYWxNMTEsIGluaXRpYWxNMTIsIGluaXRpYWxNMTMsIGluaXRpYWxNMTQsIGluaXRpYWxNMjEsIGluaXRpYWxNMjIsIGluaXRpYWxNMjMsIGluaXRpYWxNMjQsIGluaXRpYWxNMzEsIGluaXRpYWxNMzIsIGluaXRpYWxNMzMsIGluaXRpYWxNMzQsIGluaXRpYWxNNDEsIGluaXRpYWxNNDIsIGluaXRpYWxNNDMsIGluaXRpYWxNNDQsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gcmVzdWx0Ll9tO1xuICAgICAgICBtWzBdID0gaW5pdGlhbE0xMTtcbiAgICAgICAgbVsxXSA9IGluaXRpYWxNMTI7XG4gICAgICAgIG1bMl0gPSBpbml0aWFsTTEzO1xuICAgICAgICBtWzNdID0gaW5pdGlhbE0xNDtcbiAgICAgICAgbVs0XSA9IGluaXRpYWxNMjE7XG4gICAgICAgIG1bNV0gPSBpbml0aWFsTTIyO1xuICAgICAgICBtWzZdID0gaW5pdGlhbE0yMztcbiAgICAgICAgbVs3XSA9IGluaXRpYWxNMjQ7XG4gICAgICAgIG1bOF0gPSBpbml0aWFsTTMxO1xuICAgICAgICBtWzldID0gaW5pdGlhbE0zMjtcbiAgICAgICAgbVsxMF0gPSBpbml0aWFsTTMzO1xuICAgICAgICBtWzExXSA9IGluaXRpYWxNMzQ7XG4gICAgICAgIG1bMTJdID0gaW5pdGlhbE00MTtcbiAgICAgICAgbVsxM10gPSBpbml0aWFsTTQyO1xuICAgICAgICBtWzE0XSA9IGluaXRpYWxNNDM7XG4gICAgICAgIG1bMTVdID0gaW5pdGlhbE00NDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LmZyb21WYWx1ZXNUb1JlZiA9IGZyb21WYWx1ZXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG5ldyBtYXRyaXggZnJvbSBhIGxpc3Qgb2YgdmFsdWVzICgxNilcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0xNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDFzdCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0yNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDJuZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zMyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE0zNCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDNyZCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MSAtIGRlZmluZXMgMXN0IHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MiAtIGRlZmluZXMgMm5kIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00MyAtIGRlZmluZXMgM3JkIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcGFyYW0gaW5pdGlhbE00NCAtIGRlZmluZXMgNHRoIHZhbHVlIG9mIDR0aCByb3dcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21WYWx1ZXMoaW5pdGlhbE0xMSwgaW5pdGlhbE0xMiwgaW5pdGlhbE0xMywgaW5pdGlhbE0xNCwgaW5pdGlhbE0yMSwgaW5pdGlhbE0yMiwgaW5pdGlhbE0yMywgaW5pdGlhbE0yNCwgaW5pdGlhbE0zMSwgaW5pdGlhbE0zMiwgaW5pdGlhbE0zMywgaW5pdGlhbE0zNCwgaW5pdGlhbE00MSwgaW5pdGlhbE00MiwgaW5pdGlhbE00MywgaW5pdGlhbE00NCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IGluaXRpYWxNMTE7XG4gICAgICAgIG1bMV0gPSBpbml0aWFsTTEyO1xuICAgICAgICBtWzJdID0gaW5pdGlhbE0xMztcbiAgICAgICAgbVszXSA9IGluaXRpYWxNMTQ7XG4gICAgICAgIG1bNF0gPSBpbml0aWFsTTIxO1xuICAgICAgICBtWzVdID0gaW5pdGlhbE0yMjtcbiAgICAgICAgbVs2XSA9IGluaXRpYWxNMjM7XG4gICAgICAgIG1bN10gPSBpbml0aWFsTTI0O1xuICAgICAgICBtWzhdID0gaW5pdGlhbE0zMTtcbiAgICAgICAgbVs5XSA9IGluaXRpYWxNMzI7XG4gICAgICAgIG1bMTBdID0gaW5pdGlhbE0zMztcbiAgICAgICAgbVsxMV0gPSBpbml0aWFsTTM0O1xuICAgICAgICBtWzEyXSA9IGluaXRpYWxNNDE7XG4gICAgICAgIG1bMTNdID0gaW5pdGlhbE00MjtcbiAgICAgICAgbVsxNF0gPSBpbml0aWFsTTQzO1xuICAgICAgICBtWzE1XSA9IGluaXRpYWxNNDQ7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tVmFsdWVzID0gZnJvbVZhbHVlcztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG1hdHJpeCBjb21wb3NlZCBieSBtZXJnaW5nIHNjYWxlICh2ZWN0b3IzKSwgcm90YXRpb24gKHF1YXRlcm5pb24pIGFuZCB0cmFuc2xhdGlvbiAodmVjdG9yMylcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzXG4gICAgICogQHBhcmFtIHJvdGF0aW9uIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbiAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvcjNcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wb3NlKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGNvbXBvc2VUb1JlZihzY2FsZSwgcm90YXRpb24sIHRyYW5zbGF0aW9uLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguY29tcG9zZSA9IGNvbXBvc2U7XG4gICAgLyoqXG4gICAgICogU2V0cyBhIG1hdHJpeCB0byBhIHZhbHVlIGNvbXBvc2VkIGJ5IG1lcmdpbmcgc2NhbGUgKHZlY3RvcjMpLCByb3RhdGlvbiAocXVhdGVybmlvbikgYW5kIHRyYW5zbGF0aW9uICh2ZWN0b3IzKVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIHZlY3RvcjNcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yM1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZVRvUmVmKHNjYWxlLCByb3RhdGlvbiwgdHJhbnNsYXRpb24sIHJlc3VsdCkge1xuICAgICAgICBjb25zdCB0bXBNYXRyaXggPSBbY3JlYXRlKCksIGNyZWF0ZSgpLCBjcmVhdGUoKV07XG4gICAgICAgIHNjYWxpbmdUb1JlZihzY2FsZS54LCBzY2FsZS55LCBzY2FsZS56LCB0bXBNYXRyaXhbMV0pO1xuICAgICAgICBmcm9tUXVhdGVybmlvblRvUmVmKHJvdGF0aW9uLCB0bXBNYXRyaXhbMF0pO1xuICAgICAgICBtdWx0aXBseVRvUmVmKHRtcE1hdHJpeFsxXSwgdG1wTWF0cml4WzBdLCByZXN1bHQpO1xuICAgICAgICBzZXRUcmFuc2xhdGlvbihyZXN1bHQsIHRyYW5zbGF0aW9uKTtcbiAgICB9XG4gICAgTWF0cml4LmNvbXBvc2VUb1JlZiA9IGNvbXBvc2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IGlkZW50aXR5IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIElkZW50aXR5KCkge1xuICAgICAgICBjb25zdCBpZGVudGl0eSA9IGZyb21WYWx1ZXMoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGlkZW50aXR5LCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHkgPSBJZGVudGl0eTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGlkZW50aXR5IG1hdHJpeCBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIElkZW50aXR5VG9SZWYocmVzdWx0KSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZigxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIHRydWUpO1xuICAgIH1cbiAgICBNYXRyaXguSWRlbnRpdHlUb1JlZiA9IElkZW50aXR5VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB6ZXJvIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIGEgbmV3IHplcm8gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gWmVybygpIHtcbiAgICAgICAgY29uc3QgemVybyA9IGZyb21WYWx1ZXMoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHplcm8sIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIHplcm87XG4gICAgfVxuICAgIE1hdHJpeC5aZXJvID0gWmVybztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBYIGF4aXNcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBSb3RhdGlvblgoYW5nbGUpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHJvdGF0aW9uWFRvUmVmKGFuZ2xlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguUm90YXRpb25YID0gUm90YXRpb25YO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFggYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25YVG9SZWYoYW5nbGUsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGMgPT09IDEgJiYgcyA9PT0gMCk7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblhUb1JlZiA9IHJvdGF0aW9uWFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gbWF0cml4IGZvciBcImFuZ2xlXCIgcmFkaWFucyBhcm91bmQgdGhlIFkgYXhpc1xuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWShhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25ZVG9SZWYoYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvblkgPSByb3RhdGlvblk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWSBheGlzIGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gYW5nbGUgLSBkZWZpbmVzIHRoZSBhbmdsZSAoaW4gcmFkaWFucykgdG8gdXNlXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGlvbllUb1JlZihhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihhbmdsZSk7XG4gICAgICAgIGNvbnN0IGMgPSBNYXRoLmNvcyhhbmdsZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihjLCAwLjAsIC1zLCAwLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgcywgMC4wLCBjLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgYyA9PT0gMSAmJiBzID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWVRvUmVmID0gcm90YXRpb25ZVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgWiBheGlzXG4gICAgICogQHBhcmFtIGFuZ2xlIC0gZGVmaW5lcyB0aGUgYW5nbGUgKGluIHJhZGlhbnMpIHRvIHVzZVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25aKGFuZ2xlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICByb3RhdGlvblpUb1JlZihhbmdsZSwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uWiA9IHJvdGF0aW9uWjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBaIGF4aXMgYW5kIHN0b3JlcyBpdCBpbiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWlRvUmVmKGFuZ2xlLCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgcyA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgYyA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGMsIHMsIDAuMCwgMC4wLCAtcywgYywgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBjID09PSAxICYmIHMgPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25aVG9SZWYgPSByb3RhdGlvblpUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCBmb3IgXCJhbmdsZVwiIHJhZGlhbnMgYXJvdW5kIHRoZSBnaXZlbiBheGlzXG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcmV0dXJucyB0aGUgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uQXhpcyhheGlzLCBhbmdsZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25BeGlzVG9SZWYoYXhpcywgYW5nbGUsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5yb3RhdGlvbkF4aXMgPSByb3RhdGlvbkF4aXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByb3RhdGlvbiBtYXRyaXggZm9yIFwiYW5nbGVcIiByYWRpYW5zIGFyb3VuZCB0aGUgZ2l2ZW4gYXhpcyBhbmQgc3RvcmVzIGl0IGluIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGF4aXMgLSBkZWZpbmVzIHRoZSBheGlzIHRvIHVzZVxuICAgICAqIEBwYXJhbSBhbmdsZSAtIGRlZmluZXMgdGhlIGFuZ2xlIChpbiByYWRpYW5zKSB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uQXhpc1RvUmVmKF9heGlzLCBhbmdsZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbigtYW5nbGUpO1xuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MoLWFuZ2xlKTtcbiAgICAgICAgY29uc3QgYzEgPSAxIC0gYztcbiAgICAgICAgY29uc3QgYXhpcyA9IFZlY3RvcjMubm9ybWFsaXplKF9heGlzKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IGF4aXMueCAqIGF4aXMueCAqIGMxICsgYztcbiAgICAgICAgbVsxXSA9IGF4aXMueCAqIGF4aXMueSAqIGMxIC0gYXhpcy56ICogcztcbiAgICAgICAgbVsyXSA9IGF4aXMueCAqIGF4aXMueiAqIGMxICsgYXhpcy55ICogcztcbiAgICAgICAgbVszXSA9IDAuMDtcbiAgICAgICAgbVs0XSA9IGF4aXMueSAqIGF4aXMueCAqIGMxICsgYXhpcy56ICogcztcbiAgICAgICAgbVs1XSA9IGF4aXMueSAqIGF4aXMueSAqIGMxICsgYztcbiAgICAgICAgbVs2XSA9IGF4aXMueSAqIGF4aXMueiAqIGMxIC0gYXhpcy54ICogcztcbiAgICAgICAgbVs3XSA9IDAuMDtcbiAgICAgICAgbVs4XSA9IGF4aXMueiAqIGF4aXMueCAqIGMxIC0gYXhpcy55ICogcztcbiAgICAgICAgbVs5XSA9IGF4aXMueiAqIGF4aXMueSAqIGMxICsgYXhpcy54ICogcztcbiAgICAgICAgbVsxMF0gPSBheGlzLnogKiBheGlzLnogKiBjMSArIGM7XG4gICAgICAgIG1bMTFdID0gMC4wO1xuICAgICAgICBtWzEyXSA9IDAuMDtcbiAgICAgICAgbVsxM10gPSAwLjA7XG4gICAgICAgIG1bMTRdID0gMC4wO1xuICAgICAgICBtWzE1XSA9IDEuMDtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnJvdGF0aW9uQXhpc1RvUmVmID0gcm90YXRpb25BeGlzVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSB5YXcgYW5nbGUgaW4gcmFkaWFucyAoWSBheGlzKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHBpdGNoIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcm9sbCAtIGRlZmluZXMgdGhlIHJvbGwgYW5nbGUgaW4gcmFkaWFucyAoWCBheGlzKVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgcm90YXRpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcm90YXRpb25ZYXdQaXRjaFJvbGwoeWF3LCBwaXRjaCwgcm9sbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgcm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZYXdQaXRjaFJvbGwgPSByb3RhdGlvbllhd1BpdGNoUm9sbDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgeWF3IGFuZ2xlIGluIHJhZGlhbnMgKFkgYXhpcylcbiAgICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSBwaXRjaCBhbmdsZSBpbiByYWRpYW5zIChYIGF4aXMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb2xsIGFuZ2xlIGluIHJhZGlhbnMgKFggYXhpcylcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoeWF3LCBwaXRjaCwgcm9sbCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHF1YXRlcm5pb25SZXN1bHQgPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgUXVhdGVybmlvbi5mcm9tUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih5YXcsIHBpdGNoLCByb2xsLCBxdWF0ZXJuaW9uUmVzdWx0KTtcbiAgICAgICAgZnJvbVF1YXRlcm5pb25Ub1JlZihxdWF0ZXJuaW9uUmVzdWx0LCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZiA9IHJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4XG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWCBheGlzXG4gICAgICogQHBhcmFtIHkgLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSBzY2FsZSBmYWN0b3Igb24gWiBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsaW5nKHgsIHksIHopIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIHNjYWxpbmdUb1JlZih4LCB5LCB6LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGluZyA9IHNjYWxpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNjYWxpbmcgbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBYIGF4aXNcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBZIGF4aXNcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvciBvbiBaIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxpbmdUb1JlZih4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHgsIDAuMCwgMC4wLCAwLjAsIDAuMCwgeSwgMC4wLCAwLjAsIDAuMCwgMC4wLCB6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgeCA9PT0gMSAmJiB5ID09PSAxICYmIHogPT09IDEpO1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGluZ1RvUmVmID0gc2NhbGluZ1RvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0cmFuc2xhdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbm9uIFogYXhpc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRpb24oeCwgeSwgeikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgdHJhbnNsYXRpb25Ub1JlZih4LCB5LCB6LCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgudHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdHJhbnNsYXRpb24gbWF0cml4IGFuZCBzdG9yZXMgaXQgaW4gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHRyYW5zbGF0aW9uIG9uIFggYXhpc1xuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gb24gWSBheGlzXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB0cmFuc2xhdGlvbm9uIFogYXhpc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRpb25Ub1JlZih4LCB5LCB6LCByZXN1bHQpIHtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCAwLjAsIHgsIHksIHosIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgeCA9PT0gMCAmJiB5ID09PSAwICYmIHogPT09IDApO1xuICAgIH1cbiAgICBNYXRyaXgudHJhbnNsYXRpb25Ub1JlZiA9IHRyYW5zbGF0aW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBNYXRyaXggd2hvc2UgdmFsdWVzIGFyZSB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlcyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgYmV0d2VlbiB0aGUgb25lcyBvZiB0aGUgbWF0cmljZXMgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIi5cbiAgICAgKiBAcGFyYW0gc3RhcnRWYWx1ZSAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGdyYWRpZW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgbGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZ2l2ZW4gbWF0cml4IFwicmVzdWx0XCIgYXMgdGhlIGludGVycG9sYXRlZCB2YWx1ZXMgZm9yIFwiZ3JhZGllbnRcIiAoZmxvYXQpIGJldHdlZW4gdGhlIG9uZXMgb2YgdGhlIG1hdHJpY2VzIFwic3RhcnRWYWx1ZVwiIGFuZCBcImVuZFZhbHVlXCIuXG4gICAgICogQHBhcmFtIHN0YXJ0VmFsdWUgLSBkZWZpbmVzIHRoZSBzdGFydCB2YWx1ZVxuICAgICAqIEBwYXJhbSBlbmRWYWx1ZSAtIGRlZmluZXMgdGhlIGVuZCB2YWx1ZVxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBNYXRyaXggb2JqZWN0IHdoZXJlIHRvIHN0b3JlIGRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYoc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGdyYWRpZW50LCByZXN1bHQpIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IDE2OyBpbmRleCsrKSB7XG4gICAgICAgICAgICByZXN1bHQuX21baW5kZXhdID1cbiAgICAgICAgICAgICAgICBzdGFydFZhbHVlLl9tW2luZGV4XSAqICgxLjAgLSBncmFkaWVudCkgKyBlbmRWYWx1ZS5fbVtpbmRleF0gKiBncmFkaWVudDtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEJ1aWxkcyBhIG5ldyBtYXRyaXggd2hvc2UgdmFsdWVzIGFyZSBjb21wdXRlZCBieTpcbiAgICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgICAqICogcmVjb21wb3NpbmcgYSBuZXcgbWF0cml4IGZyb20gdGhlc2UgMyBpbnRlcnBvbGF0ZWQgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBtYXRyaWNlc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlTGVycChzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGRlY29tcG9zZUxlcnBUb1JlZihzdGFydFZhbHVlLCBlbmRWYWx1ZSwgZ3JhZGllbnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2VMZXJwID0gZGVjb21wb3NlTGVycDtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSBtYXRyaXggdG8gdmFsdWVzIHdoaWNoIGFyZSBjb21wdXRlZCBieTpcbiAgICAgKiAqIGRlY29tcG9zaW5nIHRoZSB0aGUgXCJzdGFydFZhbHVlXCIgYW5kIFwiZW5kVmFsdWVcIiBtYXRyaWNlcyBpbnRvIHRoZWlyIHJlc3BlY3RpdmUgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqICogaW50ZXJwb2xhdGluZyBmb3IgXCJncmFkaWVudFwiIChmbG9hdCkgdGhlIHZhbHVlcyBiZXR3ZWVuIGVhY2ggb2YgdGhlc2UgZGVjb21wb3NlZCBtYXRyaWNlcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgdGhlIGVuZFxuICAgICAqICogcmVjb21wb3NpbmcgYSBuZXcgbWF0cml4IGZyb20gdGhlc2UgMyBpbnRlcnBvbGF0ZWQgc2NhbGUsIHJvdGF0aW9uIGFuZCB0cmFuc2xhdGlvbiBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSBzdGFydFZhbHVlIC0gZGVmaW5lcyB0aGUgZmlyc3QgbWF0cml4XG4gICAgICogQHBhcmFtIGVuZFZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeFxuICAgICAqIEBwYXJhbSBncmFkaWVudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGJldHdlZW4gdGhlIHR3byBtYXRyaWNlc1xuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVjb21wb3NlTGVycFRvUmVmKHN0YXJ0VmFsdWUsIGVuZFZhbHVlLCBncmFkaWVudCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0U2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3Qgc3RhcnRSb3RhdGlvbiA9IFF1YXRlcm5pb24uWmVybygpO1xuICAgICAgICBjb25zdCBzdGFydFRyYW5zbGF0aW9uID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGRlY29tcG9zZShzdGFydFZhbHVlLCBzdGFydFNjYWxlLCBzdGFydFJvdGF0aW9uLCBzdGFydFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29uc3QgZW5kU2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgY29uc3QgZW5kUm90YXRpb24gPSBRdWF0ZXJuaW9uLlplcm8oKTtcbiAgICAgICAgY29uc3QgZW5kVHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgZGVjb21wb3NlKGVuZFZhbHVlLCBlbmRTY2FsZSwgZW5kUm90YXRpb24sIGVuZFRyYW5zbGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0U2NhbGUgPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgVmVjdG9yMy5sZXJwVG9SZWYoc3RhcnRTY2FsZSwgZW5kU2NhbGUsIGdyYWRpZW50LCByZXN1bHRTY2FsZSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdFJvdGF0aW9uID0gUXVhdGVybmlvbi5aZXJvKCk7XG4gICAgICAgIFF1YXRlcm5pb24uc2xlcnBUb1JlZihzdGFydFJvdGF0aW9uLCBlbmRSb3RhdGlvbiwgZ3JhZGllbnQsIHJlc3VsdFJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmVzdWx0VHJhbnNsYXRpb24gPSBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgVmVjdG9yMy5sZXJwVG9SZWYoc3RhcnRUcmFuc2xhdGlvbiwgZW5kVHJhbnNsYXRpb24sIGdyYWRpZW50LCByZXN1bHRUcmFuc2xhdGlvbik7XG4gICAgICAgIGNvbXBvc2VUb1JlZihyZXN1bHRTY2FsZSwgcmVzdWx0Um90YXRpb24sIHJlc3VsdFRyYW5zbGF0aW9uLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZGVjb21wb3NlTGVycFRvUmVmID0gZGVjb21wb3NlTGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEdldHMgYSBuZXcgcm90YXRpb24gbWF0cml4IHVzZWQgdG8gcm90YXRlIGFuIGVudGl0eSBzbyBhcyBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIlxuICAgICAqIHNlbGYgZnVuY3Rpb24gd29ya3MgaW4gbGVmdCBoYW5kZWQgbW9kZVxuICAgICAqIEBwYXJhbSBleWUgLSBkZWZpbmVzIHRoZSBmaW5hbCBwb3NpdGlvbiBvZiB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgd2hlcmUgdGhlIGVudGl0eSBzaG91bGQgbG9vayBhdFxuICAgICAqIEBwYXJhbSB1cCAtIGRlZmluZXMgdGhlIHVwIHZlY3RvciBmb3IgdGhlIGVudGl0eVxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9va0F0TEgoZXllLCB0YXJnZXQsIHVwKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBsb29rQXRMSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4Lkxvb2tBdExIID0gTG9va0F0TEg7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIiBNYXRyaXggdG8gYSByb3RhdGlvbiBtYXRyaXggdXNlZCB0byByb3RhdGUgYW4gZW50aXR5IHNvIHRoYXQgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCIuXG4gICAgICogc2VsZiBmdW5jdGlvbiB3b3JrcyBpbiBsZWZ0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRMSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHpBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIC8vIFogYXhpc1xuICAgICAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYodGFyZ2V0LCBleWUsIHpBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih6QXhpcywgekF4aXMpO1xuICAgICAgICAvLyBYIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHVwLCB6QXhpcywgeEF4aXMpO1xuICAgICAgICBjb25zdCB4U3F1YXJlTGVuZ3RoID0gVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHhBeGlzKTtcbiAgICAgICAgaWYgKHhTcXVhcmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHhBeGlzLnggPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih4QXhpcywgTWF0aC5zcXJ0KHhTcXVhcmVMZW5ndGgpLCB4QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gWSBheGlzXG4gICAgICAgIFZlY3RvcjMuY3Jvc3NUb1JlZih6QXhpcywgeEF4aXMsIHlBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih5QXhpcywgeUF4aXMpO1xuICAgICAgICAvLyBFeWUgYW5nbGVzXG4gICAgICAgIGNvbnN0IGV4ID0gLVZlY3RvcjMuZG90KHhBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleSA9IC1WZWN0b3IzLmRvdCh5QXhpcywgZXllKTtcbiAgICAgICAgY29uc3QgZXogPSAtVmVjdG9yMy5kb3QoekF4aXMsIGV5ZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLjAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAuMCwgeEF4aXMueiwgeUF4aXMueiwgekF4aXMueiwgMC4wLCBleCwgZXksIGV6LCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRMSFRvUmVmID0gbG9va0F0TEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbmV3IHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gYXMgaXQgbG9va3MgYXQgdGhlIHRhcmdldCB2ZWN0b3IzLCBmcm9tIHRoZSBleWUgdmVjdG9yMyBwb3NpdGlvbiwgdGhlIHVwIHZlY3RvcjMgYmVpbmcgb3JpZW50ZWQgbGlrZSBcInVwXCJcbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIHJpZ2h0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRSSChleWUsIHRhcmdldCwgdXApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGxvb2tBdFJIVG9SZWYoZXllLCB0YXJnZXQsIHVwLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubG9va0F0UkggPSBsb29rQXRSSDtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIE1hdHJpeCB0byBhIHJvdGF0aW9uIG1hdHJpeCB1c2VkIHRvIHJvdGF0ZSBhbiBlbnRpdHkgc28gdGhhdCBpdCBsb29rcyBhdCB0aGUgdGFyZ2V0IHZlY3RvcjMsIGZyb20gdGhlIGV5ZSB2ZWN0b3IzIHBvc2l0aW9uLCB0aGUgdXAgdmVjdG9yMyBiZWluZyBvcmllbnRlZCBsaWtlIFwidXBcIi5cbiAgICAgKiBzZWxmIGZ1bmN0aW9uIHdvcmtzIGluIHJpZ2h0IGhhbmRlZCBtb2RlXG4gICAgICogQHBhcmFtIGV5ZSAtIGRlZmluZXMgdGhlIGZpbmFsIHBvc2l0aW9uIG9mIHRoZSBlbnRpdHlcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB3aGVyZSB0aGUgZW50aXR5IHNob3VsZCBsb29rIGF0XG4gICAgICogQHBhcmFtIHVwIC0gZGVmaW5lcyB0aGUgdXAgdmVjdG9yIGZvciB0aGUgZW50aXR5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rQXRSSFRvUmVmKGV5ZSwgdGFyZ2V0LCB1cCwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHhBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHlBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIGNvbnN0IHpBeGlzID0gVmVjdG9yMy5aZXJvKCk7XG4gICAgICAgIC8vIFogYXhpc1xuICAgICAgICBWZWN0b3IzLnN1YnRyYWN0VG9SZWYoZXllLCB0YXJnZXQsIHpBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih6QXhpcywgekF4aXMpO1xuICAgICAgICAvLyBYIGF4aXNcbiAgICAgICAgVmVjdG9yMy5jcm9zc1RvUmVmKHVwLCB6QXhpcywgeEF4aXMpO1xuICAgICAgICBjb25zdCB4U3F1YXJlTGVuZ3RoID0gVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHhBeGlzKTtcbiAgICAgICAgaWYgKHhTcXVhcmVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHhBeGlzLnggPSAxLjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBWZWN0b3IzLm5vcm1hbGl6ZUZyb21MZW5ndGhUb1JlZih4QXhpcywgTWF0aC5zcXJ0KHhTcXVhcmVMZW5ndGgpLCB4QXhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gWSBheGlzXG4gICAgICAgIFZlY3RvcjMuY3Jvc3NUb1JlZih6QXhpcywgeEF4aXMsIHlBeGlzKTtcbiAgICAgICAgVmVjdG9yMy5ub3JtYWxpemVUb1JlZih5QXhpcywgeUF4aXMpO1xuICAgICAgICAvLyBFeWUgYW5nbGVzXG4gICAgICAgIGNvbnN0IGV4ID0gLVZlY3RvcjMuZG90KHhBeGlzLCBleWUpO1xuICAgICAgICBjb25zdCBleSA9IC1WZWN0b3IzLmRvdCh5QXhpcywgZXllKTtcbiAgICAgICAgY29uc3QgZXogPSAtVmVjdG9yMy5kb3QoekF4aXMsIGV5ZSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4QXhpcy54LCB5QXhpcy54LCB6QXhpcy54LCAwLjAsIHhBeGlzLnksIHlBeGlzLnksIHpBeGlzLnksIDAuMCwgeEF4aXMueiwgeUF4aXMueiwgekF4aXMueiwgMC4wLCBleCwgZXksIGV6LCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5sb29rQXRSSFRvUmVmID0gbG9va0F0UkhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gd2lkdGggLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB3aWR0aFxuICAgICAqIEBwYXJhbSBoZWlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBoZWlnaHRcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9MSCh3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgb3J0aG9MSFRvUmVmKHdpZHRoLCBoZWlnaHQsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgub3J0aG9MSCA9IG9ydGhvTEg7XG4gICAgLyoqXG4gICAgICogU3RvcmUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiB0byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSB3aWR0aCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHdpZHRoXG4gICAgICogQHBhcmFtIGhlaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGhlaWdodFxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9ydGhvTEhUb1JlZih3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IGEgPSAyLjAgLyB3aWR0aDtcbiAgICAgICAgY29uc3QgYiA9IDIuMCAvIGhlaWdodDtcbiAgICAgICAgY29uc3QgYyA9IDIuMCAvIChmIC0gbik7XG4gICAgICAgIGNvbnN0IGQgPSAtKGYgKyBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMC4wLCAwLjAsIDAuMCwgZCwgMS4wLCByZXN1bHQpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMocmVzdWx0LCBhID09PSAxICYmIGIgPT09IDEgJiYgYyA9PT0gMSAmJiBkID09PSAwKTtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvTEhUb1JlZiA9IG9ydGhvTEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBsZWZ0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgbGVmdC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gT3J0aG9PZmZDZW50ZXJMSChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4Lk9ydGhvT2ZmQ2VudGVyTEggPSBPcnRob09mZkNlbnRlckxIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIGxlZnQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIGludG8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGxlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHJpZ2h0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gYm90dG9tIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgYm90dG9tIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gdG9wIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgdG9wIGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IGEgPSAyLjAgLyAocmlnaHQgLSBsZWZ0KTtcbiAgICAgICAgY29uc3QgYiA9IDIuMCAvICh0b3AgLSBib3R0b20pO1xuICAgICAgICBjb25zdCBjID0gMi4wIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgaTAgPSAobGVmdCArIHJpZ2h0KSAvIChsZWZ0IC0gcmlnaHQpO1xuICAgICAgICBjb25zdCBpMSA9ICh0b3AgKyBib3R0b20pIC8gKGJvdHRvbSAtIHRvcCk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMC4wLCBpMCwgaTEsIGQsIDEuMCwgcmVzdWx0KTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyTEhUb1JlZiA9IG9ydGhvT2ZmQ2VudGVyTEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmlnaHQtaGFuZGVkIG9ydGhvZ3JhcGhpYyBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgbGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgcmlnaHQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSBib3R0b20gLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBib3R0b20gY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB0b3AgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCB0b3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSByaWdodC1oYW5kZWQgb3J0aG9ncmFwaGljIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9PZmZDZW50ZXJSSChsZWZ0LCByaWdodCwgYm90dG9tLCB0b3AsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBvcnRob09mZkNlbnRlclJIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4Lm9ydGhvT2ZmQ2VudGVyUkggPSBvcnRob09mZkNlbnRlclJIO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHJpZ2h0LWhhbmRlZCBvcnRob2dyYXBoaWMgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGxlZnQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCBsZWZ0IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSB2aWV3cG9ydCByaWdodCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIGJvdHRvbSAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IGJvdHRvbSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHRvcCAtIGRlZmluZXMgdGhlIHZpZXdwb3J0IHRvcCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gb3J0aG9PZmZDZW50ZXJSSFRvUmVmKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgem5lYXIsIHpmYXIsIHJlc3VsdCkge1xuICAgICAgICBvcnRob09mZkNlbnRlckxIVG9SZWYobGVmdCwgcmlnaHQsIGJvdHRvbSwgdG9wLCB6bmVhciwgemZhciwgcmVzdWx0KTtcbiAgICAgICAgcmVzdWx0Ll9tWzEwXSAqPSAtMTsgLy8gTm8gbmVlZCB0byBjYWxsIF9tYXJrQXNVcGRhdGVkIGFzIHByZXZpb3VzIGZ1bmN0aW9uIGFscmVhZHkgY2FsbGVkIGl0IGFuZCBsZXQgX2lzSWRlbnRpdHlEaXJ0eSB0byB0cnVlXG4gICAgfVxuICAgIE1hdHJpeC5vcnRob09mZkNlbnRlclJIVG9SZWYgPSBvcnRob09mZkNlbnRlclJIVG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIHdpZHRoIC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0IC0gZGVmaW5lcyB0aGUgdmlld3BvcnQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHpuZWFyIC0gZGVmaW5lcyB0aGUgbmVhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHpmYXIgLSBkZWZpbmVzIHRoZSBmYXIgY2xpcCBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBhcyBhIGxlZnQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcGVyc3BlY3RpdmVMSCh3aWR0aCwgaGVpZ2h0LCB6bmVhciwgemZhcikge1xuICAgICAgICBjb25zdCBtYXRyaXggPSBjcmVhdGUoKTtcbiAgICAgICAgY29uc3QgbiA9IHpuZWFyO1xuICAgICAgICBjb25zdCBmID0gemZhcjtcbiAgICAgICAgY29uc3QgYSA9ICgyLjAgKiBuKSAvIHdpZHRoO1xuICAgICAgICBjb25zdCBiID0gKDIuMCAqIG4pIC8gaGVpZ2h0O1xuICAgICAgICBjb25zdCBjID0gKGYgKyBuKSAvIChmIC0gbik7XG4gICAgICAgIGNvbnN0IGQgPSAoLTIuMCAqIGYgKiBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgMS4wLCAwLjAsIDAuMCwgZCwgMC4wLCBtYXRyaXgpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMobWF0cml4LCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5wZXJzcGVjdGl2ZUxIID0gcGVyc3BlY3RpdmVMSDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgaG9yaXpvbnRhbCBmaWVsZCBvZiB2aWV3XG4gICAgICogQHBhcmFtIGFzcGVjdCAtIGRlZmluZXMgdGhlIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggYXMgYSBsZWZ0LWhhbmRlZCBwZXJzcGVjdGl2ZSBwcm9qZWN0aW9uIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92TEgoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyKSB7XG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGNyZWF0ZSgpO1xuICAgICAgICBwZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZm92LCBhc3BlY3QsIHpuZWFyLCB6ZmFyLCBtYXRyaXgpO1xuICAgICAgICByZXR1cm4gbWF0cml4O1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZMSCA9IHBlcnNwZWN0aXZlRm92TEg7XG4gICAgLyoqXG4gICAgICogU3RvcmVzIGEgbGVmdC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92TEhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIHJlc3VsdCwgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBuID0gem5lYXI7XG4gICAgICAgIGNvbnN0IGYgPSB6ZmFyO1xuICAgICAgICBjb25zdCB0ID0gMS4wIC8gTWF0aC50YW4oZm92ICogMC41KTtcbiAgICAgICAgY29uc3QgYSA9IGlzVmVydGljYWxGb3ZGaXhlZCA/IHQgLyBhc3BlY3QgOiB0O1xuICAgICAgICBjb25zdCBiID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCA6IHQgKiBhc3BlY3Q7XG4gICAgICAgIGNvbnN0IGMgPSAoZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMi4wICogZiAqIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKGEsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYiwgMC4wLCAwLjAsIDAuMCwgMC4wLCBjLCAxLjAsIDAuMCwgMC4wLCBkLCAwLjAsIHJlc3VsdCk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIGZhbHNlKTtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlRm92TEhUb1JlZiA9IHBlcnNwZWN0aXZlRm92TEhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIGEgcmlnaHQtaGFuZGVkIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVGb3ZSSChmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHBlcnNwZWN0aXZlRm92UkhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIG1hdHJpeCk7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfVxuICAgIE1hdHJpeC5QZXJzcGVjdGl2ZUZvdlJIID0gUGVyc3BlY3RpdmVGb3ZSSDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYSByaWdodC1oYW5kZWQgcGVyc3BlY3RpdmUgcHJvamVjdGlvbiBpbnRvIGEgZ2l2ZW4gbWF0cml4XG4gICAgICogQHBhcmFtIGZvdiAtIGRlZmluZXMgdGhlIGhvcml6b250YWwgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSBhc3BlY3QgLSBkZWZpbmVzIHRoZSBhc3BlY3QgcmF0aW9cbiAgICAgKiBAcGFyYW0gem5lYXIgLSBkZWZpbmVzIHRoZSBuZWFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gemZhciAtIGRlZmluZXMgdGhlIGZhciBjbGlwIHBsYW5lXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gaXNWZXJ0aWNhbEZvdkZpeGVkIC0gZGVmaW5lcyBpdCB0aGUgZm92IGlzIHZlcnRpY2FsbHkgZml4ZWQgKGRlZmF1bHQpIG9yIGhvcml6b250YWxseVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92UkhUb1JlZihmb3YsIGFzcGVjdCwgem5lYXIsIHpmYXIsIHJlc3VsdCwgaXNWZXJ0aWNhbEZvdkZpeGVkID0gdHJ1ZSkge1xuICAgICAgICAvKiBhbHRlcm5hdGl2ZWx5IHNlbGYgY291bGQgYmUgZXhwcmVzc2VkIGFzOlxuICAgICAgICAvLyAgICBtID0gUGVyc3BlY3RpdmVGb3ZMSFRvUmVmXG4gICAgICAgIC8vICAgIG1bMTBdICo9IC0xLjA7XG4gICAgICAgIC8vICAgIG1bMTFdICo9IC0xLjA7XG4gICAgICAgICovXG4gICAgICAgIGNvbnN0IG4gPSB6bmVhcjtcbiAgICAgICAgY29uc3QgZiA9IHpmYXI7XG4gICAgICAgIGNvbnN0IHQgPSAxLjAgLyBNYXRoLnRhbihmb3YgKiAwLjUpO1xuICAgICAgICBjb25zdCBhID0gaXNWZXJ0aWNhbEZvdkZpeGVkID8gdCAvIGFzcGVjdCA6IHQ7XG4gICAgICAgIGNvbnN0IGIgPSBpc1ZlcnRpY2FsRm92Rml4ZWQgPyB0IDogdCAqIGFzcGVjdDtcbiAgICAgICAgY29uc3QgYyA9IC0oZiArIG4pIC8gKGYgLSBuKTtcbiAgICAgICAgY29uc3QgZCA9ICgtMiAqIGYgKiBuKSAvIChmIC0gbik7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihhLCAwLjAsIDAuMCwgMC4wLCAwLjAsIGIsIDAuMCwgMC4wLCAwLjAsIDAuMCwgYywgLTEuMCwgMC4wLCAwLjAsIGQsIDAuMCwgcmVzdWx0KTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHJlc3VsdCwgZmFsc2UpO1xuICAgIH1cbiAgICBNYXRyaXgucGVyc3BlY3RpdmVGb3ZSSFRvUmVmID0gcGVyc3BlY3RpdmVGb3ZSSFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyBhIHBlcnNwZWN0aXZlIHByb2plY3Rpb24gZm9yIFdlYlZSIGluZm8gYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gZm92IC0gZGVmaW5lcyB0aGUgZmllbGQgb2Ygdmlld1xuICAgICAqIEBwYXJhbSB6bmVhciAtIGRlZmluZXMgdGhlIG5lYXIgY2xpcCBwbGFuZVxuICAgICAqIEBwYXJhbSB6ZmFyIC0gZGVmaW5lcyB0aGUgZmFyIGNsaXAgcGxhbmVcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqIEBwYXJhbSByaWdodEhhbmRlZCAtIGRlZmluZXMgaWYgdGhlIG1hdHJpeCBtdXN0IGJlIGluIHJpZ2h0LWhhbmRlZCBtb2RlIChmYWxzZSBieSBkZWZhdWx0KVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZihmb3YsIHpuZWFyLCB6ZmFyLCByZXN1bHQsIHJpZ2h0SGFuZGVkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcmlnaHRIYW5kZWRGYWN0b3IgPSByaWdodEhhbmRlZCA/IC0xIDogMTtcbiAgICAgICAgY29uc3QgdXBUYW4gPSBNYXRoLnRhbigoZm92LnVwRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCBkb3duVGFuID0gTWF0aC50YW4oKGZvdi5kb3duRGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCBsZWZ0VGFuID0gTWF0aC50YW4oKGZvdi5sZWZ0RGVncmVlcyAqIE1hdGguUEkpIC8gMTgwLjApO1xuICAgICAgICBjb25zdCByaWdodFRhbiA9IE1hdGgudGFuKChmb3YucmlnaHREZWdyZWVzICogTWF0aC5QSSkgLyAxODAuMCk7XG4gICAgICAgIGNvbnN0IHhTY2FsZSA9IDIuMCAvIChsZWZ0VGFuICsgcmlnaHRUYW4pO1xuICAgICAgICBjb25zdCB5U2NhbGUgPSAyLjAgLyAodXBUYW4gKyBkb3duVGFuKTtcbiAgICAgICAgY29uc3QgbSA9IHJlc3VsdC5fbTtcbiAgICAgICAgbVswXSA9IHhTY2FsZTtcbiAgICAgICAgbVsxXSA9IG1bMl0gPSBtWzNdID0gbVs0XSA9IDAuMDtcbiAgICAgICAgbVs1XSA9IHlTY2FsZTtcbiAgICAgICAgbVs2XSA9IG1bN10gPSAwLjA7XG4gICAgICAgIG1bOF0gPSAobGVmdFRhbiAtIHJpZ2h0VGFuKSAqIHhTY2FsZSAqIDAuNTtcbiAgICAgICAgbVs5XSA9IC0oKHVwVGFuIC0gZG93blRhbikgKiB5U2NhbGUgKiAwLjUpO1xuICAgICAgICBtWzEwXSA9IC16ZmFyIC8gKHpuZWFyIC0gemZhcik7XG4gICAgICAgIG1bMTFdID0gMS4wICogcmlnaHRIYW5kZWRGYWN0b3I7XG4gICAgICAgIG1bMTJdID0gbVsxM10gPSBtWzE1XSA9IDAuMDtcbiAgICAgICAgbVsxNF0gPSAtKDIuMCAqIHpmYXIgKiB6bmVhcikgLyAoemZhciAtIHpuZWFyKTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQocmVzdWx0KTtcbiAgICB9XG4gICAgTWF0cml4LnBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZiA9IHBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZjtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0cyBhIDJ4MiBtYXRyaXggZnJvbSBhIGdpdmVuIG1hdHJpeCBhbmQgc3RvcmUgdGhlIHJlc3VsdCBpbiBhIEZsb2F0QXJyYXlcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHVzZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IEZsb2F0QXJyYXkgYXJyYXkgd2l0aCA0IGVsZW1lbnRzIDogdGhlIDJ4MiBtYXRyaXggZXh0cmFjdGVkIGZyb20gdGhlIGdpdmVuIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdldEFzTWF0cml4MngyKG1hdHJpeCkge1xuICAgICAgICByZXR1cm4gW21hdHJpeC5fbVswXSwgbWF0cml4Ll9tWzFdLCBtYXRyaXguX21bNF0sIG1hdHJpeC5fbVs1XV07XG4gICAgfVxuICAgIE1hdHJpeC5HZXRBc01hdHJpeDJ4MiA9IEdldEFzTWF0cml4MngyO1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIGEgM3gzIG1hdHJpeCBmcm9tIGEgZ2l2ZW4gbWF0cml4IGFuZCBzdG9yZSB0aGUgcmVzdWx0IGluIGEgRmxvYXRBcnJheVxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdXNlXG4gICAgICogQHJldHVybnMgYSBuZXcgRmxvYXRBcnJheSBhcnJheSB3aXRoIDkgZWxlbWVudHMgOiB0aGUgM3gzIG1hdHJpeCBleHRyYWN0ZWQgZnJvbSB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gR2V0QXNNYXRyaXgzeDMobWF0cml4KSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBtYXRyaXguX21bMF0sXG4gICAgICAgICAgICBtYXRyaXguX21bMV0sXG4gICAgICAgICAgICBtYXRyaXguX21bMl0sXG4gICAgICAgICAgICBtYXRyaXguX21bNF0sXG4gICAgICAgICAgICBtYXRyaXguX21bNV0sXG4gICAgICAgICAgICBtYXRyaXguX21bNl0sXG4gICAgICAgICAgICBtYXRyaXguX21bOF0sXG4gICAgICAgICAgICBtYXRyaXguX21bOV0sXG4gICAgICAgICAgICBtYXRyaXguX21bMTBdXG4gICAgICAgIF07XG4gICAgfVxuICAgIE1hdHJpeC5HZXRBc01hdHJpeDN4MyA9IEdldEFzTWF0cml4M3gzO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIHRyYW5zcG9zZSBvZiBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBtYXRyaXggLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gdHJhbnNwb3NlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc3Bvc2UobWF0cml4KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICB0cmFuc3Bvc2VUb1JlZihtYXRyaXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc3Bvc2UgPSB0cmFuc3Bvc2U7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgdHJhbnNwb3NlIG9mIGEgbWF0cml4IGFuZCBzdG9yZSBpdCBpbiBhIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gZGVmaW5lcyB0aGUgbWF0cml4IHRvIHRyYW5zcG9zZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNwb3NlVG9SZWYobWF0cml4LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3Qgcm0gPSByZXN1bHQuX207XG4gICAgICAgIGNvbnN0IG1tID0gbWF0cml4Ll9tO1xuICAgICAgICBybVswXSA9IG1tWzBdO1xuICAgICAgICBybVsxXSA9IG1tWzRdO1xuICAgICAgICBybVsyXSA9IG1tWzhdO1xuICAgICAgICBybVszXSA9IG1tWzEyXTtcbiAgICAgICAgcm1bNF0gPSBtbVsxXTtcbiAgICAgICAgcm1bNV0gPSBtbVs1XTtcbiAgICAgICAgcm1bNl0gPSBtbVs5XTtcbiAgICAgICAgcm1bN10gPSBtbVsxM107XG4gICAgICAgIHJtWzhdID0gbW1bMl07XG4gICAgICAgIHJtWzldID0gbW1bNl07XG4gICAgICAgIHJtWzEwXSA9IG1tWzEwXTtcbiAgICAgICAgcm1bMTFdID0gbW1bMTRdO1xuICAgICAgICBybVsxMl0gPSBtbVszXTtcbiAgICAgICAgcm1bMTNdID0gbW1bN107XG4gICAgICAgIHJtWzE0XSA9IG1tWzExXTtcbiAgICAgICAgcm1bMTVdID0gbW1bMTVdO1xuICAgICAgICAvLyBpZGVudGl0eS1uZXNzIGRvZXMgbm90IGNoYW5nZSB3aGVuIHRyYW5zcG9zaW5nXG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhyZXN1bHQsIG1hdHJpeC5pc0lkZW50aXR5LCBtYXRyaXguX2lzSWRlbnRpdHlEaXJ0eSk7XG4gICAgfVxuICAgIE1hdHJpeC50cmFuc3Bvc2VUb1JlZiA9IHRyYW5zcG9zZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZmxlY3Rpb24ocGxhbmUpIHtcbiAgICAgICAgY29uc3QgbWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgIHJlZmxlY3Rpb25Ub1JlZihwbGFuZSwgbWF0cml4KTtcbiAgICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9XG4gICAgTWF0cml4LnJlZmxlY3Rpb24gPSByZWZsZWN0aW9uO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgcmVmbGVjdGlvbiBtYXRyaXggZnJvbSBhIHBsYW5lXG4gICAgICogQHBhcmFtIHBsYW5lIC0gZGVmaW5lcyB0aGUgcmVmbGVjdGlvbiBwbGFuZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVmbGVjdGlvblRvUmVmKF9wbGFuZSwgcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IHBsYW5lID0gUGxhbmUubm9ybWFsaXplKF9wbGFuZSk7XG4gICAgICAgIGNvbnN0IHggPSBwbGFuZS5ub3JtYWwueDtcbiAgICAgICAgY29uc3QgeSA9IHBsYW5lLm5vcm1hbC55O1xuICAgICAgICBjb25zdCB6ID0gcGxhbmUubm9ybWFsLno7XG4gICAgICAgIGNvbnN0IHRlbXAgPSAtMiAqIHg7XG4gICAgICAgIGNvbnN0IHRlbXAyID0gLTIgKiB5O1xuICAgICAgICBjb25zdCB0ZW1wMyA9IC0yICogejtcbiAgICAgICAgZnJvbVZhbHVlc1RvUmVmKHRlbXAgKiB4ICsgMSwgdGVtcDIgKiB4LCB0ZW1wMyAqIHgsIDAuMCwgdGVtcCAqIHksIHRlbXAyICogeSArIDEsIHRlbXAzICogeSwgMC4wLCB0ZW1wICogeiwgdGVtcDIgKiB6LCB0ZW1wMyAqIHogKyAxLCAwLjAsIHRlbXAgKiBwbGFuZS5kLCB0ZW1wMiAqIHBsYW5lLmQsIHRlbXAzICogcGxhbmUuZCwgMS4wLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgucmVmbGVjdGlvblRvUmVmID0gcmVmbGVjdGlvblRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBhcyBhIHJvdGF0aW9uIG1hdHJpeCBjb21wb3NlZCBmcm9tIHRoZSAzIGxlZnQgaGFuZGVkIGF4ZXNcbiAgICAgKiBAcGFyYW0geGF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgMXN0IGF4aXNcbiAgICAgKiBAcGFyYW0geWF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgMm5kIGF4aXNcbiAgICAgKiBAcGFyYW0gemF4aXMgLSBkZWZpbmVzIHRoZSB2YWx1ZSBvZiB0aGUgM3JkIGF4aXNcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21YWVpBeGVzVG9SZWYoeGF4aXMsIHlheGlzLCB6YXhpcywgcmVzdWx0KSB7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZih4YXhpcy54LCB4YXhpcy55LCB4YXhpcy56LCAwLjAsIHlheGlzLngsIHlheGlzLnksIHlheGlzLnosIDAuMCwgemF4aXMueCwgemF4aXMueSwgemF4aXMueiwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5mcm9tWFlaQXhlc1RvUmVmID0gZnJvbVhZWkF4ZXNUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gbWF0cml4IGZyb20gYSBxdWF0ZXJuaW9uIGFuZCBzdG9yZXMgaXQgaW4gYSB0YXJnZXQgbWF0cml4XG4gICAgICogQHBhcmFtIHF1YXQgLSBkZWZpbmVzIHRoZSBxdWF0ZXJuaW9uIHRvIHVzZVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVF1YXRlcm5pb25Ub1JlZihxdWF0LCByZXN1bHQpIHtcbiAgICAgICAgY29uc3QgeHggPSBxdWF0LnggKiBxdWF0Lng7XG4gICAgICAgIGNvbnN0IHl5ID0gcXVhdC55ICogcXVhdC55O1xuICAgICAgICBjb25zdCB6eiA9IHF1YXQueiAqIHF1YXQuejtcbiAgICAgICAgY29uc3QgeHkgPSBxdWF0LnggKiBxdWF0Lnk7XG4gICAgICAgIGNvbnN0IHp3ID0gcXVhdC56ICogcXVhdC53O1xuICAgICAgICBjb25zdCB6eCA9IHF1YXQueiAqIHF1YXQueDtcbiAgICAgICAgY29uc3QgeXcgPSBxdWF0LnkgKiBxdWF0Lnc7XG4gICAgICAgIGNvbnN0IHl6ID0gcXVhdC55ICogcXVhdC56O1xuICAgICAgICBjb25zdCB4dyA9IHF1YXQueCAqIHF1YXQudztcbiAgICAgICAgcmVzdWx0Ll9tWzBdID0gMS4wIC0gMi4wICogKHl5ICsgenopO1xuICAgICAgICByZXN1bHQuX21bMV0gPSAyLjAgKiAoeHkgKyB6dyk7XG4gICAgICAgIHJlc3VsdC5fbVsyXSA9IDIuMCAqICh6eCAtIHl3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzNdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bNF0gPSAyLjAgKiAoeHkgLSB6dyk7XG4gICAgICAgIHJlc3VsdC5fbVs1XSA9IDEuMCAtIDIuMCAqICh6eiArIHh4KTtcbiAgICAgICAgcmVzdWx0Ll9tWzZdID0gMi4wICogKHl6ICsgeHcpO1xuICAgICAgICByZXN1bHQuX21bN10gPSAwLjA7XG4gICAgICAgIHJlc3VsdC5fbVs4XSA9IDIuMCAqICh6eCArIHl3KTtcbiAgICAgICAgcmVzdWx0Ll9tWzldID0gMi4wICogKHl6IC0geHcpO1xuICAgICAgICByZXN1bHQuX21bMTBdID0gMS4wIC0gMi4wICogKHl5ICsgeHgpO1xuICAgICAgICByZXN1bHQuX21bMTFdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTJdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTNdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTRdID0gMC4wO1xuICAgICAgICByZXN1bHQuX21bMTVdID0gMS4wO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZnJvbVF1YXRlcm5pb25Ub1JlZiA9IGZyb21RdWF0ZXJuaW9uVG9SZWY7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIF9tYXJrQXNVcGRhdGVkKHNlbGYpIHtcbiAgICAgICAgc2VsZi51cGRhdGVGbGFnID0gX3VwZGF0ZUZsYWdTZWVkKys7XG4gICAgICAgIHNlbGYuaXNJZGVudGl0eSA9IGZhbHNlO1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eURpcnR5ID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5faXNJZGVudGl0eTN4MkRpcnR5ID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gUHJvcGVydGllc1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IG1hdHJpeCBpcyBpZGVudGl0eVxuICAgICAqIEByZXR1cm5zIHRydWUgaXMgdGhlIG1hdHJpeCBpcyB0aGUgaWRlbnRpdHkgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNJZGVudGl0eVVwZGF0ZShzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLl9pc0lkZW50aXR5RGlydHkpIHtcbiAgICAgICAgICAgIHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkgPVxuICAgICAgICAgICAgICAgIG1bMF0gPT09IDEuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzFdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsyXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bM10gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzRdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs1XSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bNl0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzddID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVs4XSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bOV0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEwXSA9PT0gMS4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTFdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxMl0gPT09IDAuMCAmJlxuICAgICAgICAgICAgICAgICAgICBtWzEzXSA9PT0gMC4wICYmXG4gICAgICAgICAgICAgICAgICAgIG1bMTRdID09PSAwLjAgJiZcbiAgICAgICAgICAgICAgICAgICAgbVsxNV0gPT09IDEuMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5pc0lkZW50aXR5O1xuICAgIH1cbiAgICBNYXRyaXguaXNJZGVudGl0eVVwZGF0ZSA9IGlzSWRlbnRpdHlVcGRhdGU7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIGN1cnJlbnQgbWF0cml4IGlzIGlkZW50aXR5IGFzIGEgdGV4dHVyZSBtYXRyaXggKDN4MiBzdG9yZSBpbiA0eDQpXG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgbWF0cml4IGlzIHRoZSBpZGVudGl0eSBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0lkZW50aXR5QXMzeDJVcGRhdGUoc2VsZikge1xuICAgICAgICBpZiAoc2VsZi5faXNJZGVudGl0eTN4MkRpcnR5KSB7XG4gICAgICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZWxmLl9tWzBdICE9PSAxLjAgfHwgc2VsZi5fbVs1XSAhPT0gMS4wIHx8IHNlbGYuX21bMTVdICE9PSAxLjApIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNlbGYuX21bMV0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bM10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bNF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bNl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bN10gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bOF0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bOV0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTBdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzExXSAhPT0gMC4wIHx8XG4gICAgICAgICAgICAgICAgc2VsZi5fbVsxMl0gIT09IDAuMCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuX21bMTNdICE9PSAwLjAgfHxcbiAgICAgICAgICAgICAgICBzZWxmLl9tWzE0XSAhPT0gMC4wKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5pc0lkZW50aXR5M3gyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHkzeDI7XG4gICAgfVxuICAgIE1hdHJpeC5pc0lkZW50aXR5QXMzeDJVcGRhdGUgPSBpc0lkZW50aXR5QXMzeDJVcGRhdGU7XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGV0ZXJtaW5hbnQgb2YgdGhlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggZGV0ZXJtaW5hbnRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZXRlcm1pbmFudChzZWxmKSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMDAgPSBtWzBdLCBtMDEgPSBtWzFdLCBtMDIgPSBtWzJdLCBtMDMgPSBtWzNdO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMTAgPSBtWzRdLCBtMTEgPSBtWzVdLCBtMTIgPSBtWzZdLCBtMTMgPSBtWzddO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6b25lLXZhcmlhYmxlLXBlci1kZWNsYXJhdGlvblxuICAgICAgICBjb25zdCBtMjAgPSBtWzhdLCBtMjEgPSBtWzldLCBtMjIgPSBtWzEwXSwgbTIzID0gbVsxMV07XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0zMCA9IG1bMTJdLCBtMzEgPSBtWzEzXSwgbTMyID0gbVsxNF0sIG0zMyA9IG1bMTVdO1xuICAgICAgICAvKlxuICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXBsYWNlX2V4cGFuc2lvblxuICAgICAgICAvLyB0byBjb21wdXRlIHRoZSBkZXRlcnJtaW5hbnQgb2YgYSA0eDQgTWF0cml4IHdlIGNvbXB1dGUgdGhlIGNvZmFjdG9ycyBvZiBhbnkgcm93IG9yIGNvbHVtbixcbiAgICAgICAgLy8gdGhlbiB3ZSBtdWx0aXBseSBlYWNoIENvZmFjdG9yIGJ5IGl0cyBjb3JyZXNwb25kaW5nIG1hdHJpeCB2YWx1ZSBhbmQgc3VtIHRoZW0gYWxsIHRvIGdldCB0aGUgZGV0ZXJtaW5hbnRcbiAgICAgICAgLy8gQ29mYWN0b3IoaSwgaikgPSBzaWduKGksaikgKiBkZXQoTWlub3IoaSwgaikpXG4gICAgICAgIC8vIHdoZXJlXG4gICAgICAgIC8vICAtIHNpZ24oaSxqKSA9IChpK2opICUgMiA9PT0gMCA/IDEgOiAtMVxuICAgICAgICAvLyAgLSBNaW5vcihpLCBqKSBpcyB0aGUgM3gzIG1hdHJpeCB3ZSBnZXQgYnkgcmVtb3Zpbmcgcm93IGkgYW5kIGNvbHVtbiBqIGZyb20gY3VycmVudCBNYXRyaXhcbiAgICAgICAgLy9cbiAgICAgICAgLy8gSGVyZSB3ZSBkbyB0aGF0IGZvciB0aGUgMXN0IHJvdy5cbiAgICAgICAgKi9cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICBjb25zdCBkZXRfMjJfMzMgPSBtMjIgKiBtMzMgLSBtMzIgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMyA9IG0yMSAqIG0zMyAtIG0zMSAqIG0yMztcbiAgICAgICAgY29uc3QgZGV0XzIxXzMyID0gbTIxICogbTMyIC0gbTMxICogbTIyO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzMgPSBtMjAgKiBtMzMgLSBtMzAgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMiA9IG0yMCAqIG0zMiAtIG0yMiAqIG0zMDtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMxID0gbTIwICogbTMxIC0gbTMwICogbTIxO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDAgPSArKG0xMSAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMV8zMyArIG0xMyAqIGRldF8yMV8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMSA9IC0obTEwICogZGV0XzIyXzMzIC0gbTEyICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAyID0gKyhtMTAgKiBkZXRfMjFfMzMgLSBtMTEgKiBkZXRfMjBfMzMgKyBtMTMgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDMgPSAtKG0xMCAqIGRldF8yMV8zMiAtIG0xMSAqIGRldF8yMF8zMiArIG0xMiAqIGRldF8yMF8zMSk7XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgICAgICByZXR1cm4gbTAwICogY29mYWN0XzAwICsgbTAxICogY29mYWN0XzAxICsgbTAyICogY29mYWN0XzAyICsgbTAzICogY29mYWN0XzAzO1xuICAgIH1cbiAgICBNYXRyaXguZGV0ZXJtaW5hbnQgPSBkZXRlcm1pbmFudDtcbiAgICAvLyBNZXRob2RzXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWF0cml4IGFzIGEgRmxvYXRBcnJheVxuICAgICAqIEByZXR1cm5zIHRoZSBtYXRyaXggdW5kZXJseWluZyBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkoc2VsZikge1xuICAgICAgICByZXR1cm4gc2VsZi5fbTtcbiAgICB9XG4gICAgTWF0cml4LnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hdHJpeCBhcyBhIEZsb2F0QXJyYXlcbiAgICAgKiBAcmV0dXJucyB0aGUgbWF0cml4IHVuZGVybHlpbmcgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNBcnJheShzZWxmKSB7XG4gICAgICAgIHJldHVybiBzZWxmLl9tO1xuICAgIH1cbiAgICBNYXRyaXguYXNBcnJheSA9IGFzQXJyYXk7XG4gICAgLyoqXG4gICAgICogU2V0cyBhbGwgdGhlIG1hdHJpeCBlbGVtZW50cyB0byB6ZXJvXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzZXQoc2VsZikge1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCBzZWxmKTtcbiAgICAgICAgX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHNlbGYsIGZhbHNlKTtcbiAgICB9XG4gICAgTWF0cml4LnJlc2V0ID0gcmVzZXQ7XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBhIHNlY29uZCBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGFzIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQoc2VsZiwgb3RoZXIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGFkZFRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguYWRkID0gYWRkO1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCBcInJlc3VsdFwiIHRvIHRoZSBhZGRpdGlvbiBvZiB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gYWRkXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIHRhcmdldCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRUb1JlZihzZWxmLCBvdGhlciwgcmVzdWx0KSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgcmVzdWx0Ll9tW2luZGV4XSA9IHNlbGYuX21baW5kZXhdICsgb3RoZXIuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRUb1JlZiA9IGFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIEFkZHMgaW4gcGxhY2UgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9TZWxmKHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgc2VsZi5fbVtpbmRleF0gKz0gb3RoZXIuX21baW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHNlbGYpO1xuICAgIH1cbiAgICBNYXRyaXguYWRkVG9TZWxmID0gYWRkVG9TZWxmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbWF0cml4IGFzIHRoZSBpbnZlcnQgb2YgYSBnaXZlbiBtYXRyaXhcbiAgICAgKiBAcGFyYW0gc291cmNlIC0gZGVmaW5lcyB0aGUgc291cmNlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gaW52ZXJ0KHNvdXJjZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgaW52ZXJ0VG9SZWYoc291cmNlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguaW52ZXJ0ID0gaW52ZXJ0O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdpdmVuIG1hdHJpeCB0byB0aGUgY3VycmVudCBpbnZlcnRlZCBNYXRyaXhcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbnZlcnRUb1JlZihzb3VyY2UsIHJlc3VsdCkge1xuICAgICAgICBpZiAoc291cmNlLmlzSWRlbnRpdHkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvcHkoc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBpbnZlcnNlIG9mIGEgTWF0cml4IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgY29mYWN0b3IgbWF0cml4IGRpdmlkZWQgYnkgdGhlIGRldGVybWluYW50XG4gICAgICAgIGNvbnN0IG0gPSBzb3VyY2UuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgbTAwID0gbVswXSwgbTAxID0gbVsxXSwgbTAyID0gbVsyXSwgbTAzID0gbVszXTtcbiAgICAgICAgY29uc3QgbTEwID0gbVs0XSwgbTExID0gbVs1XSwgbTEyID0gbVs2XSwgbTEzID0gbVs3XTtcbiAgICAgICAgY29uc3QgbTIwID0gbVs4XSwgbTIxID0gbVs5XSwgbTIyID0gbVsxMF0sIG0yMyA9IG1bMTFdO1xuICAgICAgICBjb25zdCBtMzAgPSBtWzEyXSwgbTMxID0gbVsxM10sIG0zMiA9IG1bMTRdLCBtMzMgPSBtWzE1XTtcbiAgICAgICAgLy8gdHNsaW50OmVuYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOnZhcmlhYmxlLW5hbWVcbiAgICAgICAgY29uc3QgZGV0XzIyXzMzID0gbTIyICogbTMzIC0gbTMyICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjFfMzMgPSBtMjEgKiBtMzMgLSBtMzEgKiBtMjM7XG4gICAgICAgIGNvbnN0IGRldF8yMV8zMiA9IG0yMSAqIG0zMiAtIG0zMSAqIG0yMjtcbiAgICAgICAgY29uc3QgZGV0XzIwXzMzID0gbTIwICogbTMzIC0gbTMwICogbTIzO1xuICAgICAgICBjb25zdCBkZXRfMjBfMzIgPSBtMjAgKiBtMzIgLSBtMjIgKiBtMzA7XG4gICAgICAgIGNvbnN0IGRldF8yMF8zMSA9IG0yMCAqIG0zMSAtIG0zMCAqIG0yMTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAwID0gKyhtMTEgKiBkZXRfMjJfMzMgLSBtMTIgKiBkZXRfMjFfMzMgKyBtMTMgKiBkZXRfMjFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMDEgPSAtKG0xMCAqIGRldF8yMl8zMyAtIG0xMiAqIGRldF8yMF8zMyArIG0xMyAqIGRldF8yMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8wMiA9ICsobTEwICogZGV0XzIxXzMzIC0gbTExICogZGV0XzIwXzMzICsgbTEzICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzAzID0gLShtMTAgKiBkZXRfMjFfMzIgLSBtMTEgKiBkZXRfMjBfMzIgKyBtMTIgKiBkZXRfMjBfMzEpO1xuICAgICAgICBjb25zdCBkZXQgPSBtMDAgKiBjb2ZhY3RfMDAgKyBtMDEgKiBjb2ZhY3RfMDEgKyBtMDIgKiBjb2ZhY3RfMDIgKyBtMDMgKiBjb2ZhY3RfMDM7XG4gICAgICAgIGlmIChkZXQgPT09IDApIHtcbiAgICAgICAgICAgIGNvcHkoc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRldEludiA9IDEgLyBkZXQ7XG4gICAgICAgIGNvbnN0IGRldF8xMl8zMyA9IG0xMiAqIG0zMyAtIG0zMiAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzExXzMzID0gbTExICogbTMzIC0gbTMxICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMzIgPSBtMTEgKiBtMzIgLSBtMzEgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8zMyA9IG0xMCAqIG0zMyAtIG0zMCAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzEwXzMyID0gbTEwICogbTMyIC0gbTMwICogbTEyO1xuICAgICAgICBjb25zdCBkZXRfMTBfMzEgPSBtMTAgKiBtMzEgLSBtMzAgKiBtMTE7XG4gICAgICAgIGNvbnN0IGRldF8xMl8yMyA9IG0xMiAqIG0yMyAtIG0yMiAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzExXzIzID0gbTExICogbTIzIC0gbTIxICogbTEzO1xuICAgICAgICBjb25zdCBkZXRfMTFfMjIgPSBtMTEgKiBtMjIgLSBtMjEgKiBtMTI7XG4gICAgICAgIGNvbnN0IGRldF8xMF8yMyA9IG0xMCAqIG0yMyAtIG0yMCAqIG0xMztcbiAgICAgICAgY29uc3QgZGV0XzEwXzIyID0gbTEwICogbTIyIC0gbTIwICogbTEyO1xuICAgICAgICBjb25zdCBkZXRfMTBfMjEgPSBtMTAgKiBtMjEgLSBtMjAgKiBtMTE7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMCA9IC0obTAxICogZGV0XzIyXzMzIC0gbTAyICogZGV0XzIxXzMzICsgbTAzICogZGV0XzIxXzMyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzExID0gKyhtMDAgKiBkZXRfMjJfMzMgLSBtMDIgKiBkZXRfMjBfMzMgKyBtMDMgKiBkZXRfMjBfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMTIgPSAtKG0wMCAqIGRldF8yMV8zMyAtIG0wMSAqIGRldF8yMF8zMyArIG0wMyAqIGRldF8yMF8zMSk7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8xMyA9ICsobTAwICogZGV0XzIxXzMyIC0gbTAxICogZGV0XzIwXzMyICsgbTAyICogZGV0XzIwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIwID0gKyhtMDEgKiBkZXRfMTJfMzMgLSBtMDIgKiBkZXRfMTFfMzMgKyBtMDMgKiBkZXRfMTFfMzIpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMjEgPSAtKG0wMCAqIGRldF8xMl8zMyAtIG0wMiAqIGRldF8xMF8zMyArIG0wMyAqIGRldF8xMF8zMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8yMiA9ICsobTAwICogZGV0XzExXzMzIC0gbTAxICogZGV0XzEwXzMzICsgbTAzICogZGV0XzEwXzMxKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzIzID0gLShtMDAgKiBkZXRfMTFfMzIgLSBtMDEgKiBkZXRfMTBfMzIgKyBtMDIgKiBkZXRfMTBfMzEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzAgPSAtKG0wMSAqIGRldF8xMl8yMyAtIG0wMiAqIGRldF8xMV8yMyArIG0wMyAqIGRldF8xMV8yMik7XG4gICAgICAgIGNvbnN0IGNvZmFjdF8zMSA9ICsobTAwICogZGV0XzEyXzIzIC0gbTAyICogZGV0XzEwXzIzICsgbTAzICogZGV0XzEwXzIyKTtcbiAgICAgICAgY29uc3QgY29mYWN0XzMyID0gLShtMDAgKiBkZXRfMTFfMjMgLSBtMDEgKiBkZXRfMTBfMjMgKyBtMDMgKiBkZXRfMTBfMjEpO1xuICAgICAgICBjb25zdCBjb2ZhY3RfMzMgPSArKG0wMCAqIGRldF8xMV8yMiAtIG0wMSAqIGRldF8xMF8yMiArIG0wMiAqIGRldF8xMF8yMSk7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihjb2ZhY3RfMDAgKiBkZXRJbnYsIGNvZmFjdF8xMCAqIGRldEludiwgY29mYWN0XzIwICogZGV0SW52LCBjb2ZhY3RfMzAgKiBkZXRJbnYsIGNvZmFjdF8wMSAqIGRldEludiwgY29mYWN0XzExICogZGV0SW52LCBjb2ZhY3RfMjEgKiBkZXRJbnYsIGNvZmFjdF8zMSAqIGRldEludiwgY29mYWN0XzAyICogZGV0SW52LCBjb2ZhY3RfMTIgKiBkZXRJbnYsIGNvZmFjdF8yMiAqIGRldEludiwgY29mYWN0XzMyICogZGV0SW52LCBjb2ZhY3RfMDMgKiBkZXRJbnYsIGNvZmFjdF8xMyAqIGRldEludiwgY29mYWN0XzIzICogZGV0SW52LCBjb2ZhY3RfMzMgKiBkZXRJbnYsIHJlc3VsdCk7XG4gICAgICAgIC8vIHRzbGludDplbmFibGU6dmFyaWFibGUtbmFtZVxuICAgIH1cbiAgICBNYXRyaXguaW52ZXJ0VG9SZWYgPSBpbnZlcnRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBhZGQgYSB2YWx1ZSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIHRoZSBjdXJyZW50IE1hdHJpeFxuICAgICAqIEBwYXJhbSBpbmRleCAtIHRoZSBpbmRleCBvZiB0aGUgdmFsdWUgd2l0aGluIHRoZSBtYXRyaXguIGJldHdlZW4gMCBhbmQgMTUuXG4gICAgICogQHBhcmFtIHZhbHVlIC0gdGhlIHZhbHVlIHRvIGJlIGFkZGVkXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRBdEluZGV4KHNlbGYsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBzZWxmLl9tW2luZGV4XSArPSB2YWx1ZTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5hZGRBdEluZGV4ID0gYWRkQXRJbmRleDtcbiAgICAvKipcbiAgICAgKiBtdXRpcGx5IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gdGhlIGN1cnJlbnQgTWF0cml4IGJ5IGEgdmFsdWVcbiAgICAgKiBAcGFyYW0gaW5kZXggLSB0aGUgaW5kZXggb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgbWF0cml4LiBiZXR3ZWVuIDAgYW5kIDE1LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIHRoZSB2YWx1ZSB0byBiZSBhZGRlZFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlBdEluZGV4KHNlbGYsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBzZWxmLl9tW2luZGV4XSAqPSB2YWx1ZTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHlBdEluZGV4ID0gbXVsdGlwbHlBdEluZGV4O1xuICAgIC8qKlxuICAgICAqIEluc2VydHMgdGhlIHRyYW5zbGF0aW9uIHZlY3RvciAodXNpbmcgMyBmbG9hdHMpIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgMXN0IGNvbXBvbmVudCBvZiB0aGUgdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIDJuZCBjb21wb25lbnQgb2YgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSAzcmQgY29tcG9uZW50IG9mIHRoZSB0cmFuc2xhdGlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKHNlbGYsIHgsIHksIHopIHtcbiAgICAgICAgc2VsZi5fbVsxMl0gPSB4O1xuICAgICAgICBzZWxmLl9tWzEzXSA9IHk7XG4gICAgICAgIHNlbGYuX21bMTRdID0gejtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMgPSBzZXRUcmFuc2xhdGlvbkZyb21GbG9hdHM7XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yIGluIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqIEBwYXJhbSB2ZWN0b3IzIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdG8gaW5zZXJ0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRUcmFuc2xhdGlvbihzZWxmLCB2ZWN0b3IzKSB7XG4gICAgICAgIHNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhzZWxmLCB2ZWN0b3IzLngsIHZlY3RvcjMueSwgdmVjdG9yMy56KTtcbiAgICB9XG4gICAgTWF0cml4LnNldFRyYW5zbGF0aW9uID0gc2V0VHJhbnNsYXRpb247XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdHJhbnNsYXRpb24gdmFsdWUgb2YgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMyBhcyB0aGUgZXh0cmFjdGVkIHRyYW5zbGF0aW9uIGZyb20gdGhlIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uKHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIFZlY3RvcjMuY3JlYXRlKHNlbGYuX21bMTJdLCBzZWxmLl9tWzEzXSwgc2VsZi5fbVsxNF0pO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0VHJhbnNsYXRpb24gPSBnZXRUcmFuc2xhdGlvbjtcbiAgICAvKipcbiAgICAgKiBGaWxsIGEgVmVjdG9yMyB3aXRoIHRoZSBleHRyYWN0ZWQgdHJhbnNsYXRpb24gZnJvbSB0aGUgbWF0cml4XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIFZlY3RvcjMgd2hlcmUgdG8gc3RvcmUgdGhlIHRyYW5zbGF0aW9uXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0VHJhbnNsYXRpb25Ub1JlZihzZWxmLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnggPSBzZWxmLl9tWzEyXTtcbiAgICAgICAgcmVzdWx0LnkgPSBzZWxmLl9tWzEzXTtcbiAgICAgICAgcmVzdWx0LnogPSBzZWxmLl9tWzE0XTtcbiAgICB9XG4gICAgTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYgPSBnZXRUcmFuc2xhdGlvblRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSByb3RhdGlvbiBhbmQgc2NhbGluZyBwYXJ0IGZyb20gdGhlIG1hdHJpeFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZyhzZWxmKSB7XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBmcm9tVmFsdWVzVG9SZWYoMS4wLCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgMC4wLCAwLjAsIDAuMCwgMC4wLCAxLjAsIDAuMCwgbVsxMl0sIG1bMTNdLCBtWzE0XSwgbVsxNV0sIHNlbGYpO1xuICAgICAgICBfdXBkYXRlSWRlbnRpdHlTdGF0dXMoc2VsZiwgbVsxMl0gPT09IDAgJiYgbVsxM10gPT09IDAgJiYgbVsxNF0gPT09IDAgJiYgbVsxNV0gPT09IDEpO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG4gICAgTWF0cml4LnJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZyA9IHJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZztcbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSB0d28gbWF0cmljZXNcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBjdXJyZW50IE1hdHJpeCBhbmQgdGhlIGdpdmVuIG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHNlbGYsIG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBtdWx0aXBseVRvUmVmKHNlbGYsIG90aGVyLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBjdXJyZW50IG1hdHJpeCBmcm9tIHRoZSBnaXZlbiBvbmVcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBkZWZpbmVzIHRoZSBzb3VyY2UgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5KGZyb20sIGRlc3QpIHtcbiAgICAgICAgY29weVRvQXJyYXkoZnJvbSwgZGVzdC5fbSk7XG4gICAgICAgIF91cGRhdGVJZGVudGl0eVN0YXR1cyhkZXN0LCBmcm9tLmlzSWRlbnRpdHksIGZyb20uX2lzSWRlbnRpdHlEaXJ0eSwgZnJvbS5pc0lkZW50aXR5M3gyLCBmcm9tLl9pc0lkZW50aXR5M3gyRGlydHkpO1xuICAgIH1cbiAgICBNYXRyaXguY29weSA9IGNvcHk7XG4gICAgLyoqXG4gICAgICogUG9wdWxhdGVzIHRoZSBnaXZlbiBhcnJheSBmcm9tIHRoZSBzdGFydGluZyBpbmRleCB3aXRoIHRoZSBjdXJyZW50IG1hdHJpeCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSB0YXJnZXQgYXJyYXlcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSB0YXJnZXQgYXJyYXkgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5VG9BcnJheShzZWxmLCBhcnJheURlc3QsIG9mZnNldERlc3QgPSAwKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCAxNjsgaW5kZXgrKykge1xuICAgICAgICAgICAgYXJyYXlEZXN0W29mZnNldERlc3QgKyBpbmRleF0gPSBzZWxmLl9tW2luZGV4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNYXRyaXguY29weVRvQXJyYXkgPSBjb3B5VG9BcnJheTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBtYXRyaXggXCJyZXN1bHRcIiB3aXRoIHRoZSBtdWx0aXBsaWNhdGlvbiByZXN1bHQgb2YgdGhlIGN1cnJlbnQgTWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgbWF0cml4IHdoZXJlIHRvIHN0b3JlIHRoZSBtdWx0aXBsaWNhdGlvblxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5VG9SZWYoc2VsZiwgb3RoZXIsIHJlc3VsdCkge1xuICAgICAgICBpZiAoc2VsZi5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBjb3B5KG90aGVyLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBjb3B5KHNlbGYsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbXVsdGlwbHlUb0FycmF5KHNlbGYsIG90aGVyLCByZXN1bHQuX20sIDApO1xuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXgubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgRmxvYXRBcnJheSBcInJlc3VsdFwiIGZyb20gdGhlIGdpdmVuIGluZGV4IFwib2Zmc2V0XCIgd2l0aCB0aGUgbXVsdGlwbGljYXRpb24gb2YgdGhlIGN1cnJlbnQgbWF0cml4IGFuZCB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIG11bHRpcGxpY2F0aW9uXG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgdGFyZ2V0IGFycmF5IHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb0FycmF5KHNlbGYsIG90aGVyLCByZXN1bHQsIG9mZnNldCkge1xuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgY29uc3Qgb3RoZXJNID0gb3RoZXIuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgdG0wID0gbVswXSwgdG0xID0gbVsxXSwgdG0yID0gbVsyXSwgdG0zID0gbVszXTtcbiAgICAgICAgY29uc3QgdG00ID0gbVs0XSwgdG01ID0gbVs1XSwgdG02ID0gbVs2XSwgdG03ID0gbVs3XTtcbiAgICAgICAgY29uc3QgdG04ID0gbVs4XSwgdG05ID0gbVs5XSwgdG0xMCA9IG1bMTBdLCB0bTExID0gbVsxMV07XG4gICAgICAgIGNvbnN0IHRtMTIgPSBtWzEyXSwgdG0xMyA9IG1bMTNdLCB0bTE0ID0gbVsxNF0sIHRtMTUgPSBtWzE1XTtcbiAgICAgICAgY29uc3Qgb20wID0gb3RoZXJNWzBdLCBvbTEgPSBvdGhlck1bMV0sIG9tMiA9IG90aGVyTVsyXSwgb20zID0gb3RoZXJNWzNdO1xuICAgICAgICBjb25zdCBvbTQgPSBvdGhlck1bNF0sIG9tNSA9IG90aGVyTVs1XSwgb202ID0gb3RoZXJNWzZdLCBvbTcgPSBvdGhlck1bN107XG4gICAgICAgIGNvbnN0IG9tOCA9IG90aGVyTVs4XSwgb205ID0gb3RoZXJNWzldLCBvbTEwID0gb3RoZXJNWzEwXSwgb20xMSA9IG90aGVyTVsxMV07XG4gICAgICAgIGNvbnN0IG9tMTIgPSBvdGhlck1bMTJdLCBvbTEzID0gb3RoZXJNWzEzXSwgb20xNCA9IG90aGVyTVsxNF0sIG9tMTUgPSBvdGhlck1bMTVdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgcmVzdWx0W29mZnNldF0gPSB0bTAgKiBvbTAgKyB0bTEgKiBvbTQgKyB0bTIgKiBvbTggKyB0bTMgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMV0gPSB0bTAgKiBvbTEgKyB0bTEgKiBvbTUgKyB0bTIgKiBvbTkgKyB0bTMgKiBvbTEzO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMl0gPSB0bTAgKiBvbTIgKyB0bTEgKiBvbTYgKyB0bTIgKiBvbTEwICsgdG0zICogb20xNDtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDNdID0gdG0wICogb20zICsgdG0xICogb203ICsgdG0yICogb20xMSArIHRtMyAqIG9tMTU7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA0XSA9IHRtNCAqIG9tMCArIHRtNSAqIG9tNCArIHRtNiAqIG9tOCArIHRtNyAqIG9tMTI7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA1XSA9IHRtNCAqIG9tMSArIHRtNSAqIG9tNSArIHRtNiAqIG9tOSArIHRtNyAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyA2XSA9IHRtNCAqIG9tMiArIHRtNSAqIG9tNiArIHRtNiAqIG9tMTAgKyB0bTcgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgN10gPSB0bTQgKiBvbTMgKyB0bTUgKiBvbTcgKyB0bTYgKiBvbTExICsgdG03ICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDhdID0gdG04ICogb20wICsgdG05ICogb200ICsgdG0xMCAqIG9tOCArIHRtMTEgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgOV0gPSB0bTggKiBvbTEgKyB0bTkgKiBvbTUgKyB0bTEwICogb205ICsgdG0xMSAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxMF0gPSB0bTggKiBvbTIgKyB0bTkgKiBvbTYgKyB0bTEwICogb20xMCArIHRtMTEgKiBvbTE0O1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTFdID0gdG04ICogb20zICsgdG05ICogb203ICsgdG0xMCAqIG9tMTEgKyB0bTExICogb20xNTtcbiAgICAgICAgcmVzdWx0W29mZnNldCArIDEyXSA9IHRtMTIgKiBvbTAgKyB0bTEzICogb200ICsgdG0xNCAqIG9tOCArIHRtMTUgKiBvbTEyO1xuICAgICAgICByZXN1bHRbb2Zmc2V0ICsgMTNdID0gdG0xMiAqIG9tMSArIHRtMTMgKiBvbTUgKyB0bTE0ICogb205ICsgdG0xNSAqIG9tMTM7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxNF0gPSB0bTEyICogb20yICsgdG0xMyAqIG9tNiArIHRtMTQgKiBvbTEwICsgdG0xNSAqIG9tMTQ7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyAxNV0gPSB0bTEyICogb20zICsgdG0xMyAqIG9tNyArIHRtMTQgKiBvbTExICsgdG0xNSAqIG9tMTU7XG4gICAgfVxuICAgIE1hdHJpeC5tdWx0aXBseVRvQXJyYXkgPSBtdWx0aXBseVRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ2hlY2sgZXF1YWxpdHkgYmV0d2VlbiBzZWxmIG1hdHJpeCBhbmQgYSBzZWNvbmQgb25lXG4gICAgICogQHBhcmFtIHZhbHVlIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG1hdHJpeCB0byBjb21wYXJlXG4gICAgICogQHJldHVybnMgdHJ1ZSBpcyB0aGUgY3VycmVudCBtYXRyaXggYW5kIHRoZSBnaXZlbiBvbmUgdmFsdWVzIGFyZSBzdHJpY3RseSBlcXVhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFscyhzZWxmLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBvdGhlciA9IHZhbHVlO1xuICAgICAgICBpZiAoIW90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuaXNJZGVudGl0eSB8fCBvdGhlci5pc0lkZW50aXR5KSB7XG4gICAgICAgICAgICBpZiAoIXNlbGYuX2lzSWRlbnRpdHlEaXJ0eSAmJiAhb3RoZXIuX2lzSWRlbnRpdHlEaXJ0eSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLmlzSWRlbnRpdHkgJiYgb3RoZXIuaXNJZGVudGl0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtID0gc2VsZi5fbTtcbiAgICAgICAgY29uc3Qgb20gPSBvdGhlci5fbTtcbiAgICAgICAgcmV0dXJuIChtWzBdID09PSBvbVswXSAmJlxuICAgICAgICAgICAgbVsxXSA9PT0gb21bMV0gJiZcbiAgICAgICAgICAgIG1bMl0gPT09IG9tWzJdICYmXG4gICAgICAgICAgICBtWzNdID09PSBvbVszXSAmJlxuICAgICAgICAgICAgbVs0XSA9PT0gb21bNF0gJiZcbiAgICAgICAgICAgIG1bNV0gPT09IG9tWzVdICYmXG4gICAgICAgICAgICBtWzZdID09PSBvbVs2XSAmJlxuICAgICAgICAgICAgbVs3XSA9PT0gb21bN10gJiZcbiAgICAgICAgICAgIG1bOF0gPT09IG9tWzhdICYmXG4gICAgICAgICAgICBtWzldID09PSBvbVs5XSAmJlxuICAgICAgICAgICAgbVsxMF0gPT09IG9tWzEwXSAmJlxuICAgICAgICAgICAgbVsxMV0gPT09IG9tWzExXSAmJlxuICAgICAgICAgICAgbVsxMl0gPT09IG9tWzEyXSAmJlxuICAgICAgICAgICAgbVsxM10gPT09IG9tWzEzXSAmJlxuICAgICAgICAgICAgbVsxNF0gPT09IG9tWzE0XSAmJlxuICAgICAgICAgICAgbVsxNV0gPT09IG9tWzE1XSk7XG4gICAgfVxuICAgIE1hdHJpeC5lcXVhbHMgPSBlcXVhbHM7XG4gICAgLyoqXG4gICAgICogQ2xvbmUgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgYSBuZXcgbWF0cml4IGZyb20gdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUoc2VsZikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBjcmVhdGUoKTtcbiAgICAgICAgY29weShzZWxmLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguY2xvbmUgPSBjbG9uZTtcbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIGNvZGUgb2YgdGhlIGN1cnJlbnQgbWF0cml4XG4gICAgICogQHJldHVybnMgdGhlIGhhc2ggY29kZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEhhc2hDb2RlKHNlbGYpIHtcbiAgICAgICAgbGV0IGhhc2ggPSBzZWxmLl9tWzBdIHx8IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeIChzZWxmLl9tW2ldIHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvKipcbiAgICAgKiBEZWNvbXBvc2VzIHRoZSBjdXJyZW50IE1hdHJpeCBpbnRvIGEgdHJhbnNsYXRpb24sIHJvdGF0aW9uIGFuZCBzY2FsaW5nIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsZSB2ZWN0b3IzIGdpdmVuIGFzIGEgcmVmZXJlbmNlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSByb3RhdGlvbiAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIHF1YXRlcm5pb24gZ2l2ZW4gYXMgYSByZWZlcmVuY2UgdG8gdXBkYXRlXG4gICAgICogQHBhcmFtIHRyYW5zbGF0aW9uIC0gZGVmaW5lcyB0aGUgdHJhbnNsYXRpb24gdmVjdG9yMyBnaXZlbiBhcyBhIHJlZmVyZW5jZSB0byB1cGRhdGVcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRlY29tcG9zZShzZWxmLCBzY2FsZSwgcm90YXRpb24sIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgIGlmIChzZWxmLmlzSWRlbnRpdHkpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnkgPSAwO1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnogPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjYWxlKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUueCA9IDE7XG4gICAgICAgICAgICAgICAgc2NhbGUueSA9IDE7XG4gICAgICAgICAgICAgICAgc2NhbGUueiA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi53ID0gMTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi56ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG0gPSBzZWxmLl9tO1xuICAgICAgICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnggPSBtWzEyXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnkgPSBtWzEzXTtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uLnogPSBtWzE0XTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VkU2NhbGUgPSBzY2FsZSB8fCBWZWN0b3IzLlplcm8oKTtcbiAgICAgICAgdXNlZFNjYWxlLnggPSBNYXRoLnNxcnQobVswXSAqIG1bMF0gKyBtWzFdICogbVsxXSArIG1bMl0gKiBtWzJdKTtcbiAgICAgICAgdXNlZFNjYWxlLnkgPSBNYXRoLnNxcnQobVs0XSAqIG1bNF0gKyBtWzVdICogbVs1XSArIG1bNl0gKiBtWzZdKTtcbiAgICAgICAgdXNlZFNjYWxlLnogPSBNYXRoLnNxcnQobVs4XSAqIG1bOF0gKyBtWzldICogbVs5XSArIG1bMTBdICogbVsxMF0pO1xuICAgICAgICBpZiAoZGV0ZXJtaW5hbnQoc2VsZikgPD0gMCkge1xuICAgICAgICAgICAgdXNlZFNjYWxlLnkgKj0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZWRTY2FsZS54ID09PSAwIHx8IHVzZWRTY2FsZS55ID09PSAwIHx8IHVzZWRTY2FsZS56ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi53ID0gMTtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi54ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICByb3RhdGlvbi56ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocm90YXRpb24pIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgICAgICBjb25zdCBzeCA9IDEgLyB1c2VkU2NhbGUueCwgc3kgPSAxIC8gdXNlZFNjYWxlLnksIHN6ID0gMSAvIHVzZWRTY2FsZS56O1xuICAgICAgICAgICAgY29uc3QgdG1wTWF0cml4ID0gY3JlYXRlKCk7XG4gICAgICAgICAgICBmcm9tVmFsdWVzVG9SZWYobVswXSAqIHN4LCBtWzFdICogc3gsIG1bMl0gKiBzeCwgMC4wLCBtWzRdICogc3ksIG1bNV0gKiBzeSwgbVs2XSAqIHN5LCAwLjAsIG1bOF0gKiBzeiwgbVs5XSAqIHN6LCBtWzEwXSAqIHN6LCAwLjAsIDAuMCwgMC4wLCAwLjAsIDEuMCwgdG1wTWF0cml4KTtcbiAgICAgICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYodG1wTWF0cml4LCByb3RhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIE1hdHJpeC5kZWNvbXBvc2UgPSBkZWNvbXBvc2U7XG4gICAgLyoqXG4gICAgICogR2V0cyBzcGVjaWZpYyByb3cgb2YgdGhlIG1hdHJpeFxuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgdGhlIG51bWJlciBvZiB0aGUgcm93IHRvIGdldFxuICAgICAqIEByZXR1cm5zIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IGFzIGEgbmV3IFZlY3RvcjRcbiAgICAgKi9cbiAgICAvLyBUT0RPXG4gICAgLy8gZXhwb3J0IGZ1bmN0aW9uIGdldFJvdyhpbmRleDogbnVtYmVyKTogTnVsbGFibGU8VmVjdG9yND4ge1xuICAgIC8vICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IDMpIHtcbiAgICAvLyAgICAgcmV0dXJuIG51bGxcbiAgICAvLyAgIH1cbiAgICAvLyAgIGNvbnN0IGkgPSBpbmRleCAqIDRcbiAgICAvLyAgIHJldHVybiBuZXcgVmVjdG9yNChcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgMF0sXG4gICAgLy8gICAgIHNlbGYuX21baSArIDFdLFxuICAgIC8vICAgICBzZWxmLl9tW2kgKyAyXSxcbiAgICAvLyAgICAgc2VsZi5fbVtpICsgM11cbiAgICAvLyAgIClcbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgaW5kZXgtdGggcm93IG9mIHRoZSBjdXJyZW50IG1hdHJpeCB0byB0aGUgdmVjdG9yNCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgdGhlIHJvdyB0byBzZXRcbiAgICAgKiBAcGFyYW0gcm93IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHZlY3RvcjRcbiAgICAgKiBAcmV0dXJucyB0aGUgdXBkYXRlZCBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIC8vIFRPRE9cbiAgICAvLyBleHBvcnQgZnVuY3Rpb24gc2V0Um93KGluZGV4OiBudW1iZXIsIHJvdzogVmVjdG9yNCk6IE11dGFibGVNYXRyaXgge1xuICAgIC8vICAgcmV0dXJuIHNldFJvd0Zyb21GbG9hdHMoaW5kZXgsIHJvdy54LCByb3cueSwgcm93LnosIHJvdy53KVxuICAgIC8vIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbmRleC10aCByb3cgb2YgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggdGhlIGdpdmVuIDQgeCBmbG9hdCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIHRoZSByb3cgaW5kZXhcbiAgICAgKiBAcGFyYW0geCAtIGRlZmluZXMgdGhlIHggY29tcG9uZW50IHRvIHNldFxuICAgICAqIEBwYXJhbSB5IC0gZGVmaW5lcyB0aGUgeSBjb21wb25lbnQgdG8gc2V0XG4gICAgICogQHBhcmFtIHogLSBkZWZpbmVzIHRoZSB6IGNvbXBvbmVudCB0byBzZXRcbiAgICAgKiBAcGFyYW0gdyAtIGRlZmluZXMgdGhlIHcgY29tcG9uZW50IHRvIHNldFxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIGN1cnJlbnQgbWF0cml4XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0Um93RnJvbUZsb2F0cyhzZWxmLCBpbmRleCwgeCwgeSwgeiwgdykge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSBpbmRleCAqIDQ7XG4gICAgICAgIHNlbGYuX21baSArIDBdID0geDtcbiAgICAgICAgc2VsZi5fbVtpICsgMV0gPSB5O1xuICAgICAgICBzZWxmLl9tW2kgKyAyXSA9IHo7XG4gICAgICAgIHNlbGYuX21baSArIDNdID0gdztcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzID0gc2V0Um93RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIGEgbmV3IG1hdHJpeCBzZXQgd2l0aCB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIG11bHRpcGxpZWQgYnkgc2NhbGUgKGZsb2F0KVxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHNlbGYsIHNjYWxlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgpO1xuICAgICAgICBzY2FsZVRvUmVmKHNlbGYsIHNjYWxlLCByZXN1bHQpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIHRvIGEgZ2l2ZW4gcmVzdWx0IG1hdHJpeFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBtYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gPSBzZWxmLl9tW2luZGV4XSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHJlc3VsdCk7XG4gICAgfVxuICAgIE1hdHJpeC5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBtYXRyaXggdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIG1hdHJpeFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBNYXRyaXggdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlQW5kQWRkVG9SZWYoc2VsZiwgc2NhbGUsIHJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgMTY7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5fbVtpbmRleF0gKz0gc2VsZi5fbVtpbmRleF0gKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBfbWFya0FzVXBkYXRlZChyZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguc2NhbGVBbmRBZGRUb1JlZiA9IHNjYWxlQW5kQWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRvIHRoZSBnaXZlbiBtYXRyaXggYSBub3JtYWwgbWF0cml4LCBjb21wdXRlZCBmcm9tIHNlbGYgb25lICh1c2luZyB2YWx1ZXMgZnJvbSBpZGVudGl0eSBtYXRyaXggZm9yIGZvdXJ0aCByb3cgYW5kIGNvbHVtbikuXG4gICAgICogQHBhcmFtIHJlZiAtIG1hdHJpeCB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbm9ybWFsTWF0cml4VG9SZWYoc2VsZiwgcmVmKSB7XG4gICAgICAgIGNvbnN0IHRtcCA9IGNyZWF0ZSgpO1xuICAgICAgICBpbnZlcnRUb1JlZihzZWxmLCB0bXApO1xuICAgICAgICB0cmFuc3Bvc2VUb1JlZih0bXAsIHJlZik7XG4gICAgICAgIGNvbnN0IG0gPSByZWYuX207XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdLCBtWzFdLCBtWzJdLCAwLjAsIG1bNF0sIG1bNV0sIG1bNl0sIDAuMCwgbVs4XSwgbVs5XSwgbVsxMF0sIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZWYpO1xuICAgIH1cbiAgICBNYXRyaXgubm9ybWFsTWF0cml4VG9SZWYgPSBub3JtYWxNYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBHZXRzIG9ubHkgcm90YXRpb24gcGFydCBvZiB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBtYXRyaXggc2V0cyB0byB0aGUgZXh0cmFjdGVkIHJvdGF0aW9uIG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFJvdGF0aW9uTWF0cml4KHNlbGYpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKCk7XG4gICAgICAgIGdldFJvdGF0aW9uTWF0cml4VG9SZWYoc2VsZiwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgTWF0cml4LmdldFJvdGF0aW9uTWF0cml4ID0gZ2V0Um90YXRpb25NYXRyaXg7XG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHJvdGF0aW9uIG1hdHJpeCBmcm9tIHRoZSBjdXJyZW50IG9uZSBhbmQgc2V0cyBpdCBhcyB0aGUgZ2l2ZW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgbWF0cml4IHRvIHN0b3JlIGRhdGEgdG9cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBtYXRyaXhcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRSb3RhdGlvbk1hdHJpeFRvUmVmKHNlbGYsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IFZlY3RvcjMuWmVybygpO1xuICAgICAgICBpZiAoIWRlY29tcG9zZShzZWxmLCBzY2FsZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IElkZW50aXR5KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbSA9IHNlbGYuX207XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IHN4ID0gMSAvIHNjYWxlLngsIHN5ID0gMSAvIHNjYWxlLnksIHN6ID0gMSAvIHNjYWxlLno7XG4gICAgICAgIGZyb21WYWx1ZXNUb1JlZihtWzBdICogc3gsIG1bMV0gKiBzeCwgbVsyXSAqIHN4LCAwLjAsIG1bNF0gKiBzeSwgbVs1XSAqIHN5LCBtWzZdICogc3ksIDAuMCwgbVs4XSAqIHN6LCBtWzldICogc3osIG1bMTBdICogc3osIDAuMCwgMC4wLCAwLjAsIDAuMCwgMS4wLCByZXN1bHQpO1xuICAgIH1cbiAgICBNYXRyaXguZ2V0Um90YXRpb25NYXRyaXhUb1JlZiA9IGdldFJvdGF0aW9uTWF0cml4VG9SZWY7XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBtb2RlbCBtYXRyaXggZnJvbSBiZWluZyByaWdodCBoYW5kZWQgdG8gbGVmdCBoYW5kZWQgaW4gcGxhY2UgYW5kIHZpY2UgdmVyc2FcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKHNlbGYpIHtcbiAgICAgICAgc2VsZi5fbVsyXSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs2XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs4XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVs5XSAqPSAtMTtcbiAgICAgICAgc2VsZi5fbVsxNF0gKj0gLTE7XG4gICAgICAgIF9tYXJrQXNVcGRhdGVkKHNlbGYpO1xuICAgIH1cbiAgICBNYXRyaXgudG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZSA9IHRvZ2dsZU1vZGVsTWF0cml4SGFuZEluUGxhY2U7XG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBwcm9qZWN0aW9uIG1hdHJpeCBmcm9tIGJlaW5nIHJpZ2h0IGhhbmRlZCB0byBsZWZ0IGhhbmRlZCBpbiBwbGFjZSBhbmQgdmljZSB2ZXJzYVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvZ2dsZVByb2plY3Rpb25NYXRyaXhIYW5kSW5QbGFjZShzZWxmKSB7XG4gICAgICAgIHNlbGYuX21bOF0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bOV0gKj0gLTE7XG4gICAgICAgIHNlbGYuX21bMTBdICo9IC0xO1xuICAgICAgICBzZWxmLl9tWzExXSAqPSAtMTtcbiAgICAgICAgX21hcmtBc1VwZGF0ZWQoc2VsZik7XG4gICAgfVxuICAgIE1hdHJpeC50b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UgPSB0b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGZ1bmN0aW9uIF91cGRhdGVJZGVudGl0eVN0YXR1cyhzZWxmLCBpc0lkZW50aXR5LCBpc0lkZW50aXR5RGlydHkgPSBmYWxzZSwgaXNJZGVudGl0eTN4MiA9IGZhbHNlLCBpc0lkZW50aXR5M3gyRGlydHkgPSB0cnVlKSB7XG4gICAgICAgIHNlbGYudXBkYXRlRmxhZyA9IF91cGRhdGVGbGFnU2VlZCsrO1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkgPSBpc0lkZW50aXR5O1xuICAgICAgICBzZWxmLmlzSWRlbnRpdHkzeDIgPSBpc0lkZW50aXR5IHx8IGlzSWRlbnRpdHkzeDI7XG4gICAgICAgIHNlbGYuX2lzSWRlbnRpdHlEaXJ0eSA9IHNlbGYuaXNJZGVudGl0eSA/IGZhbHNlIDogaXNJZGVudGl0eURpcnR5O1xuICAgICAgICBzZWxmLl9pc0lkZW50aXR5M3gyRGlydHkgPSBzZWxmLmlzSWRlbnRpdHkzeDIgPyBmYWxzZSA6IGlzSWRlbnRpdHkzeDJEaXJ0eTtcbiAgICB9XG59KShNYXRyaXggfHwgKE1hdHJpeCA9IHt9KSk7XG4iLCAiaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4vVmVjdG9yMyc7XG5pbXBvcnQgeyBTY2FsYXIgfSBmcm9tICcuL1NjYWxhcic7XG5pbXBvcnQgeyBERUcyUkFELCBSQUQyREVHIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuL01hdHJpeCc7XG4vKipcbiAqIEBwdWJsaWNcbiAqIFF1YXRlcm5pb24gaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIFF1YXRlcm5pb25cbiAqIGNvbnN0IG5leHQgPSBRdWF0ZXJuaW9uLmFkZChwb2ludEEsIHZlbG9jaXR5QSlcbiAqIC8vIFRoZSB0eXBlIFF1YXRlcm5pb24gaXMgYW4gYWxpYXMgdG8gUXVhdGVybmlvbi5SZWFkb25seVF1YXRlcm5pb25cbiAqIGNvbnN0IHJlYWRvbmx5Um90YXRpb246IFF1YXRlcm5pb24gPSBRdWF0ZXJuaW9uLlplcm8oKVxuICogcmVhZG9ubHlSb3RhdGlvbi54ID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBRdWF0ZXJuaW9uLk11dGFibGVgXG4gKiBjb25zdCByb3RhdGlvbjogUXVhdGVybmlvbi5NdXRhYmxlID0gUXVhdGVybmlvbi5JZGVudGl0eSgpXG4gKiByb3RhdGlvbi54ID0gMy4wIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIFF1YXRlcm5pb247XG4oZnVuY3Rpb24gKFF1YXRlcm5pb24pIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFF1YXRlcm5pb24gZnJvbSB0aGUgZ2l2ZW4gZmxvYXRzXG4gICAgICogQHBhcmFtIHggLSBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdClcbiAgICAgKiBAcGFyYW0geiAtIGRlZmluZXMgdGhlIHRoaXJkIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KVxuICAgICAqIEBwYXJhbSB3IC0gZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKiBkZWZpbmVzIHRoZSBmaXJzdCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdCkgKi9cbiAgICB4ID0gMC4wLCBcbiAgICAvKiogZGVmaW5lcyB0aGUgc2Vjb25kIGNvbXBvbmVudCAoMCBieSBkZWZhdWx0KSAqL1xuICAgIHkgPSAwLjAsIFxuICAgIC8qKiBkZWZpbmVzIHRoZSB0aGlyZCBjb21wb25lbnQgKDAgYnkgZGVmYXVsdCkgKi9cbiAgICB6ID0gMC4wLCBcbiAgICAvKiogZGVmaW5lcyB0aGUgZm91cnRoIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpICovXG4gICAgdyA9IDEuMCkge1xuICAgICAgICByZXR1cm4geyB4LCB5LCB6LCB3IH07XG4gICAgfVxuICAgIFF1YXRlcm5pb24uY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgUXVhdGVybmlvbiBhcyB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvbiBvZiB0aGUgdHdvIGdpdmVuIHF1YXRlcm5pb25zLlxuICAgICAqIEBwYXJhbSBxMSAtIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHEyIC0gdGhlIHNlY29uZCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHJlc3VsdGluZyBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHExLCBxMikge1xuICAgICAgICByZXR1cm4geyB4OiBxMS54ICsgcTIueCwgeTogcTEueSArIHEyLnksIHo6IHExLnogKyBxMi56LCB3OiBxMS53ICsgcTIudyB9O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJvdGF0aW9uIGZyb20gdGhlIGdpdmVuIEV1bGVyIGZsb2F0IGFuZ2xlcyAoeSwgeCwgeikgYW5kIHN0b3JlcyBpdCBpbiB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0geWF3IC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFkgYXhpcyAocmFkaWFucylcbiAgICAgKiBAcGFyYW0gcGl0Y2ggLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWCBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSByb2xsIC0gZGVmaW5lcyB0aGUgcm90YXRpb24gYXJvdW5kIFogYXhpcyAocmFkaWFucylcbiAgICAgKiBAcmV0dXJucyByZXN1bHQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbCh5YXcsIHBpdGNoLCByb2xsKSB7XG4gICAgICAgIC8vIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgICAgY29uc3QgaGFsZlBpdGNoID0gcGl0Y2ggKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZZYXcgPSB5YXcgKiAwLjU7XG4gICAgICAgIGNvbnN0IGhhbGZSb2xsID0gcm9sbCAqIDAuNTtcbiAgICAgICAgY29uc3QgYzEgPSBNYXRoLmNvcyhoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBjMiA9IE1hdGguY29zKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBjMyA9IE1hdGguY29zKGhhbGZSb2xsKTtcbiAgICAgICAgY29uc3QgczEgPSBNYXRoLnNpbihoYWxmUGl0Y2gpO1xuICAgICAgICBjb25zdCBzMiA9IE1hdGguc2luKGhhbGZZYXcpO1xuICAgICAgICBjb25zdCBzMyA9IE1hdGguc2luKGhhbGZSb2xsKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShjMiAqIHMxICogYzMgKyBzMiAqIGMxICogczMsIHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzMywgYzIgKiBjMSAqIHMzIC0gczIgKiBzMSAqIGMzLCBjMiAqIGMxICogYzMgKyBzMiAqIHMxICogczMpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbCA9IGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcm90YXRpb24gdGhhdCByb3RhdGVzIHogZGVncmVlcyBhcm91bmQgdGhlIHogYXhpcywgeCBkZWdyZWVzIGFyb3VuZCB0aGUgeCBheGlzLCBhbmQgeSBkZWdyZWVzIGFyb3VuZCB0aGUgeSBheGlzLlxuICAgICAqIEBwYXJhbSB4IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB4IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqIEBwYXJhbSB5IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB5IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqIEBwYXJhbSB6IC0gdGhlIHJvdGF0aW9uIG9uIHRoZSB6IGF4aXMgaW4gZXVsZXIgZGVncmVlc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21FdWxlckRlZ3JlZXMoeCwgeSwgeikge1xuICAgICAgICByZXR1cm4gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsKHkgKiBERUcyUkFELCB4ICogREVHMlJBRCwgeiAqIERFRzJSQUQpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMgPSBmcm9tRXVsZXJEZWdyZWVzO1xuICAgIC8qKlxuICAgICAqIEdldHMgbGVuZ3RoIG9mIGN1cnJlbnQgcXVhdGVybmlvblxuICAgICAqIEByZXR1cm5zIHRoZSBxdWF0ZXJuaW9uIGxlbmd0aCAoZmxvYXQpXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVuZ3RoKHEpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChsZW5ndGhTcXVhcmVkKHEpKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sZW5ndGggPSBsZW5ndGg7XG4gICAgLyoqXG4gICAgICogR2V0cyBsZW5ndGggb2YgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICogQHJldHVybnMgdGhlIHF1YXRlcm5pb24gbGVuZ3RoIChmbG9hdClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZW5ndGhTcXVhcmVkKHEpIHtcbiAgICAgICAgcmV0dXJuIHEueCAqIHEueCArIHEueSAqIHEueSArIHEueiAqIHEueiArIHEudyAqIHEudztcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sZW5ndGhTcXVhcmVkID0gbGVuZ3RoU3F1YXJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkb3QgcHJvZHVjdCAoZmxvYXQpIGJldHdlZW4gdGhlIHF1YXRlcm5pb25zIFwibGVmdFwiIGFuZCBcInJpZ2h0XCJcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIGxlZnQgb3BlcmFuZFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHJpZ2h0IG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgZG90IHByb2R1Y3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkb3QobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIChsZWZ0LnggKiByaWdodC54ICsgbGVmdC55ICogcmlnaHQueSArIGxlZnQueiAqIHJpZ2h0LnogKyBsZWZ0LncgKiByaWdodC53KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5kb3QgPSBkb3Q7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgaW4gZGVncmVlcyBiZXR3ZWVuIHR3byByb3RhdGlvbnMgYSBhbmQgYi5cbiAgICAgKiBAcGFyYW0gcXVhdDEgLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHF1YXQyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgZGVncmVlcyBhbmdsZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFuZ2xlKHF1YXQxLCBxdWF0Mikge1xuICAgICAgICBjb25zdCBkb3RWYWwgPSBkb3QocXVhdDEsIHF1YXQyKTtcbiAgICAgICAgcmV0dXJuIE1hdGguYWNvcyhNYXRoLm1pbihNYXRoLmFicyhkb3RWYWwpLCAxKSkgKiAyICogUkFEMkRFRztcbiAgICB9XG4gICAgUXVhdGVybmlvbi5hbmdsZSA9IGFuZ2xlO1xuICAgIC8qKlxuICAgICAqIFRoZSBmcm9tIHF1YXRlcm5pb24gaXMgcm90YXRlZCB0b3dhcmRzIHRvIGJ5IGFuIGFuZ3VsYXIgc3RlcCBvZiBtYXhEZWdyZWVzRGVsdGEuXG4gICAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gbWF4RGVncmVlc0RlbHRhIC0gdGhlIGludGVydmFsIHN0ZXBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByb3RhdGVUb3dhcmRzKGZyb20sIHRvLCBtYXhEZWdyZWVzRGVsdGEpIHtcbiAgICAgICAgY29uc3QgbnVtID0gYW5nbGUoZnJvbSwgdG8pO1xuICAgICAgICBpZiAobnVtID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIG1heERlZ3JlZXNEZWx0YSAvIG51bSk7XG4gICAgICAgIHJldHVybiBzbGVycChmcm9tLCB0bywgdCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ucm90YXRlVG93YXJkcyA9IHJvdGF0ZVRvd2FyZHM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJvdGF0aW9uIHdpdGggdGhlIHNwZWNpZmllZCBmb3J3YXJkIGFuZCB1cHdhcmRzIGRpcmVjdGlvbnMuXG4gICAgICogQHBhcmFtIGZvcndhcmQgLSB0aGUgZGlyZWN0aW9uIHRvIGxvb2sgaW5cbiAgICAgKiBAcGFyYW0gdXAgLSB0aGUgdmVjdG9yIHRoYXQgZGVmaW5lcyBpbiB3aGljaCBkaXJlY3Rpb24gdXAgaXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsb29rUm90YXRpb24oZm9yd2FyZCwgdXAgPSB7IHg6IDAuMCwgeTogMS4wLCB6OiAwLjAgfSkge1xuICAgICAgICBjb25zdCBmb3J3YXJkTmV3ID0gVmVjdG9yMy5ub3JtYWxpemUoZm9yd2FyZCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gVmVjdG9yMy5ub3JtYWxpemUoVmVjdG9yMy5jcm9zcyh1cCwgZm9yd2FyZE5ldykpO1xuICAgICAgICBjb25zdCB1cE5ldyA9IFZlY3RvcjMuY3Jvc3MoZm9yd2FyZE5ldywgcmlnaHQpO1xuICAgICAgICBjb25zdCBtMDAgPSByaWdodC54O1xuICAgICAgICBjb25zdCBtMDEgPSByaWdodC55O1xuICAgICAgICBjb25zdCBtMDIgPSByaWdodC56O1xuICAgICAgICBjb25zdCBtMTAgPSB1cE5ldy54O1xuICAgICAgICBjb25zdCBtMTEgPSB1cE5ldy55O1xuICAgICAgICBjb25zdCBtMTIgPSB1cE5ldy56O1xuICAgICAgICBjb25zdCBtMjAgPSBmb3J3YXJkTmV3Lng7XG4gICAgICAgIGNvbnN0IG0yMSA9IGZvcndhcmROZXcueTtcbiAgICAgICAgY29uc3QgbTIyID0gZm9yd2FyZE5ldy56O1xuICAgICAgICBjb25zdCBudW04ID0gbTAwICsgbTExICsgbTIyO1xuICAgICAgICBjb25zdCBxdWF0ZXJuaW9uID0gY3JlYXRlKCk7XG4gICAgICAgIGlmIChudW04ID4gMCkge1xuICAgICAgICAgICAgbGV0IG51bSA9IE1hdGguc3FydChudW04ICsgMSk7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLncgPSBudW0gKiAwLjU7XG4gICAgICAgICAgICBudW0gPSAwLjUgLyBudW07XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTEyIC0gbTIxKSAqIG51bTtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueSA9IChtMjAgLSBtMDIpICogbnVtO1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0wMSAtIG0xMCkgKiBudW07XG4gICAgICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobTAwID49IG0xMSAmJiBtMDAgPj0gbTIyKSB7XG4gICAgICAgICAgICBjb25zdCBudW03ID0gTWF0aC5zcXJ0KDEgKyBtMDAgLSBtMTEgLSBtMjIpO1xuICAgICAgICAgICAgY29uc3QgbnVtNCA9IDAuNSAvIG51bTc7XG4gICAgICAgICAgICBxdWF0ZXJuaW9uLnggPSAwLjUgKiBudW03O1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gKG0wMSArIG0xMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvbi56ID0gKG0wMiArIG0yMCkgKiBudW00O1xuICAgICAgICAgICAgcXVhdGVybmlvbi53ID0gKG0xMiAtIG0yMSkgKiBudW00O1xuICAgICAgICAgICAgcmV0dXJuIHF1YXRlcm5pb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG0xMSA+IG0yMikge1xuICAgICAgICAgICAgY29uc3QgbnVtNiA9IE1hdGguc3FydCgxICsgbTExIC0gbTAwIC0gbTIyKTtcbiAgICAgICAgICAgIGNvbnN0IG51bTMgPSAwLjUgLyBudW02O1xuICAgICAgICAgICAgcXVhdGVybmlvbi54ID0gKG0xMCArIG0wMSkgKiBudW0zO1xuICAgICAgICAgICAgcXVhdGVybmlvbi55ID0gMC41ICogbnVtNjtcbiAgICAgICAgICAgIHF1YXRlcm5pb24ueiA9IChtMjEgKyBtMTIpICogbnVtMztcbiAgICAgICAgICAgIHF1YXRlcm5pb24udyA9IChtMjAgLSBtMDIpICogbnVtMztcbiAgICAgICAgICAgIHJldHVybiBxdWF0ZXJuaW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG51bTUgPSBNYXRoLnNxcnQoMSArIG0yMiAtIG0wMCAtIG0xMSk7XG4gICAgICAgIGNvbnN0IG51bTIgPSAwLjUgLyBudW01O1xuICAgICAgICBxdWF0ZXJuaW9uLnggPSAobTIwICsgbTAyKSAqIG51bTI7XG4gICAgICAgIHF1YXRlcm5pb24ueSA9IChtMjEgKyBtMTIpICogbnVtMjtcbiAgICAgICAgcXVhdGVybmlvbi56ID0gMC41ICogbnVtNTtcbiAgICAgICAgcXVhdGVybmlvbi53ID0gKG0wMSAtIG0xMCkgKiBudW0yO1xuICAgICAgICByZXR1cm4gcXVhdGVybmlvbjtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5sb29rUm90YXRpb24gPSBsb29rUm90YXRpb247XG4gICAgLyoqXG4gICAgICogTm9ybWFsaXplIGluIHBsYWNlIHRoZSBjdXJyZW50IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCB1cGRhdGVkIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub3JtYWxpemUocSkge1xuICAgICAgICBjb25zdCBxTGVuZ3RoID0gMS4wIC8gbGVuZ3RoKHEpO1xuICAgICAgICByZXR1cm4gY3JlYXRlKHEueCAqIHFMZW5ndGgsIHEueSAqIHFMZW5ndGgsIHEueiAqIHFMZW5ndGgsIHEudyAqIHFMZW5ndGgpO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcm90YXRpb24gd2hpY2ggcm90YXRlcyBmcm9tIGZyb21EaXJlY3Rpb24gdG8gdG9EaXJlY3Rpb24uXG4gICAgICogQHBhcmFtIGZyb20gLSBkZWZpbmVzIHRoZSBmaXJzdCBkaXJlY3Rpb24gVmVjdG9yXG4gICAgICogQHBhcmFtIHRvIC0gZGVmaW5lcyB0aGUgdGFyZ2V0IGRpcmVjdGlvbiBWZWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tVG9Sb3RhdGlvbihmcm9tLCB0bywgdXAgPSBWZWN0b3IzLlVwKCkpIHtcbiAgICAgICAgLy8gVW5pdHktYmFzZWQgY2FsY3VsYXRpb25zIGltcGxlbWVudGVkIGZyb20gaHR0cHM6Ly9mb3J1bS51bml0eS5jb20vdGhyZWFkcy9xdWF0ZXJuaW9uLWxvb2tyb3RhdGlvbi1hcm91bmQtYW4tYXhpcy42MDg0NzAvI3Bvc3QtNDA2OTg4OFxuICAgICAgICBjb25zdCB2MCA9IFZlY3RvcjMubm9ybWFsaXplKGZyb20pO1xuICAgICAgICBjb25zdCB2MSA9IFZlY3RvcjMubm9ybWFsaXplKHRvKTtcbiAgICAgICAgY29uc3QgYSA9IFZlY3RvcjMuY3Jvc3ModjAsIHYxKTtcbiAgICAgICAgY29uc3QgdyA9IE1hdGguc3FydChWZWN0b3IzLmxlbmd0aFNxdWFyZWQodjApICogVmVjdG9yMy5sZW5ndGhTcXVhcmVkKHYxKSkgK1xuICAgICAgICAgICAgVmVjdG9yMy5kb3QodjAsIHYxKTtcbiAgICAgICAgaWYgKFZlY3RvcjMubGVuZ3RoU3F1YXJlZChhKSA8IDAuMDAwMSkge1xuICAgICAgICAgICAgLy8gdGhlIHZlY3RvcnMgYXJlIHBhcmFsbGVsLCBjaGVjayB3IHRvIGZpbmQgZGlyZWN0aW9uXG4gICAgICAgICAgICAvLyBpZiB3IGlzIDAgdGhlbiB2YWx1ZXMgYXJlIG9wcG9zaXRlLCBhbmQgd2Ugc291bGQgcm90YXRlIDE4MCBkZWdyZWVzIGFyb3VuZCB0aGUgc3VwcGxpZWQgYXhpc1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSB2ZWN0b3JzIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhbmQgbm8gcm90YXRpb24gc2hvdWxkIG9jY3VyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnModykgPCAwLjAwMDFcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZShjcmVhdGUodXAueCwgdXAueSwgdXAueiwgMCkpXG4gICAgICAgICAgICAgICAgOiBJZGVudGl0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZShjcmVhdGUoYS54LCBhLnksIGEueiwgdykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVRvUm90YXRpb24gPSBmcm9tVG9Sb3RhdGlvbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGlkZW50aXR5IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyAtIHRoZSBpZGVudGl0eSBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gSWRlbnRpdHkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC4wLCAwLjAsIDAuMCwgMS4wKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5JZGVudGl0eSA9IElkZW50aXR5O1xuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZXVsZXIgYW5nbGUgcmVwcmVzZW50YXRpb24gb2YgdGhlIHJvdGF0aW9uLlxuICAgICAqIEltcGxlbWVudGVkIHVuaXR5LWJhc2VkIGNhbGN1bGF0aW9ucyBmcm9tOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTYwNTU4MTNcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yMyB3aXRoIGV1bGVyIGFuZ2xlcyBkZWdyZWVzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9FdWxlckFuZ2xlcyhxKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IFZlY3RvcjMuY3JlYXRlKCk7XG4gICAgICAgIC8vIGlmIHRoZSBpbnB1dCBxdWF0ZXJuaW9uIGlzIG5vcm1hbGl6ZWQsIHRoaXMgaXMgZXhhY3RseSBvbmUuIE90aGVyd2lzZSwgdGhpcyBhY3RzIGFzIGEgY29ycmVjdGlvbiBmYWN0b3IgZm9yIHRoZSBxdWF0ZXJuaW9uJ3Mgbm90LW5vcm1hbGl6ZWRuZXNzXG4gICAgICAgIGNvbnN0IHVuaXQgPSBxLnggKiBxLnggKyBxLnkgKiBxLnkgKyBxLnogKiBxLnogKyBxLncgKiBxLnc7XG4gICAgICAgIC8vIHEgd2lsbCBoYXZlIGEgbWFnbml0dWRlIG9mIDAuNSBvciBncmVhdGVyIGlmIGFuZCBvbmx5IGlmIHEgaXMgYSBzaW5ndWxhcml0eSBjYXNlXG4gICAgICAgIGNvbnN0IHRlc3QgPSBxLnggKiBxLncgLSBxLnkgKiBxLno7XG4gICAgICAgIGlmICh0ZXN0ID4gMC40OTk1ICogdW5pdCkge1xuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgbm9ydGggcG9sZVxuICAgICAgICAgICAgb3V0LnggPSBNYXRoLlBJIC8gMjtcbiAgICAgICAgICAgIG91dC55ID0gMiAqIE1hdGguYXRhbjIocS55LCBxLngpO1xuICAgICAgICAgICAgb3V0LnogPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRlc3QgPCAtMC40OTk1ICogdW5pdCkge1xuICAgICAgICAgICAgLy8gc2luZ3VsYXJpdHkgYXQgc291dGggcG9sZVxuICAgICAgICAgICAgb3V0LnggPSAtTWF0aC5QSSAvIDI7XG4gICAgICAgICAgICBvdXQueSA9IC0yICogTWF0aC5hdGFuMihxLnksIHEueCk7XG4gICAgICAgICAgICBvdXQueiA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBubyBzaW5ndWxhcml0eSAtIHEgaXMgdGhlIG1ham9yaXR5IG9mIGNhc2VzXG4gICAgICAgICAgICBvdXQueCA9IE1hdGguYXNpbigyICogKHEudyAqIHEueCAtIHEueSAqIHEueikpO1xuICAgICAgICAgICAgb3V0LnkgPSBNYXRoLmF0YW4yKDIgKiBxLncgKiBxLnkgKyAyICogcS56ICogcS54LCAxIC0gMiAqIChxLnggKiBxLnggKyBxLnkgKiBxLnkpKTtcbiAgICAgICAgICAgIG91dC56ID0gTWF0aC5hdGFuMigyICogcS53ICogcS56ICsgMiAqIHEueCAqIHEueSwgMSAtIDIgKiAocS56ICogcS56ICsgcS54ICogcS54KSk7XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnggKj0gUkFEMkRFRztcbiAgICAgICAgb3V0LnkgKj0gUkFEMkRFRztcbiAgICAgICAgb3V0LnogKj0gUkFEMkRFRztcbiAgICAgICAgLy8gZW5zdXJlIHRoZSBkZWdyZWUgdmFsdWVzIGFyZSBiZXR3ZWVuIDAgYW5kIDM2MFxuICAgICAgICBvdXQueCA9IFNjYWxhci5yZXBlYXQob3V0LngsIDM2MCk7XG4gICAgICAgIG91dC55ID0gU2NhbGFyLnJlcGVhdChvdXQueSwgMzYwKTtcbiAgICAgICAgb3V0LnogPSBTY2FsYXIucmVwZWF0KG91dC56LCAzNjApO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXMgPSB0b0V1bGVyQW5nbGVzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcm90YXRpb24gZnJvbSB0aGUgZ2l2ZW4gRXVsZXIgZmxvYXQgYW5nbGVzICh5LCB4LCB6KSBhbmQgc3RvcmVzIGl0IGluIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSB5YXcgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWSBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSBwaXRjaCAtIGRlZmluZXMgdGhlIHJvdGF0aW9uIGFyb3VuZCBYIGF4aXMgKHJhZGlhbnMpXG4gICAgICogQHBhcmFtIHJvbGwgLSBkZWZpbmVzIHRoZSByb3RhdGlvbiBhcm91bmQgWiBheGlzIChyYWRpYW5zKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHlhdywgcGl0Y2gsIHJvbGwsIHJlc3VsdCkge1xuICAgICAgICAvLyBJbXBsZW1lbnRlZCB1bml0eS1iYXNlZCBjYWxjdWxhdGlvbnMgZnJvbTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU2MDU1ODEzXG4gICAgICAgIGNvbnN0IGhhbGZQaXRjaCA9IHBpdGNoICogMC41O1xuICAgICAgICBjb25zdCBoYWxmWWF3ID0geWF3ICogMC41O1xuICAgICAgICBjb25zdCBoYWxmUm9sbCA9IHJvbGwgKiAwLjU7XG4gICAgICAgIGNvbnN0IGMxID0gTWF0aC5jb3MoaGFsZlBpdGNoKTtcbiAgICAgICAgY29uc3QgYzIgPSBNYXRoLmNvcyhoYWxmWWF3KTtcbiAgICAgICAgY29uc3QgYzMgPSBNYXRoLmNvcyhoYWxmUm9sbCk7XG4gICAgICAgIGNvbnN0IHMxID0gTWF0aC5zaW4oaGFsZlBpdGNoKTtcbiAgICAgICAgY29uc3QgczIgPSBNYXRoLnNpbihoYWxmWWF3KTtcbiAgICAgICAgY29uc3QgczMgPSBNYXRoLnNpbihoYWxmUm9sbCk7XG4gICAgICAgIHJlc3VsdC54ID0gYzIgKiBzMSAqIGMzICsgczIgKiBjMSAqIHMzO1xuICAgICAgICByZXN1bHQueSA9IHMyICogYzEgKiBjMyAtIGMyICogczEgKiBzMztcbiAgICAgICAgcmVzdWx0LnogPSBjMiAqIGMxICogczMgLSBzMiAqIHMxICogYzM7XG4gICAgICAgIHJlc3VsdC53ID0gYzIgKiBjMSAqIGMzICsgczIgKiBzMSAqIHMzO1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmID0gZnJvbVJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY7XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gcXVhdGVybmlvbiB3aXRoIHRoZSBnaXZlbiByb3RhdGlvbiBtYXRyaXggdmFsdWVzXG4gICAgICogQHBhcmFtIG1hdHJpeCAtIGRlZmluZXMgdGhlIHNvdXJjZSBtYXRyaXhcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tUm90YXRpb25NYXRyaXhUb1JlZihtYXRyaXgsIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBkYXRhID0gbWF0cml4Ll9tO1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZTpvbmUtdmFyaWFibGUtcGVyLWRlY2xhcmF0aW9uXG4gICAgICAgIGNvbnN0IG0xMSA9IGRhdGFbMF0sIG0xMiA9IGRhdGFbNF0sIG0xMyA9IGRhdGFbOF07XG4gICAgICAgIGNvbnN0IG0yMSA9IGRhdGFbMV0sIG0yMiA9IGRhdGFbNV0sIG0yMyA9IGRhdGFbOV07XG4gICAgICAgIGNvbnN0IG0zMSA9IGRhdGFbMl0sIG0zMiA9IGRhdGFbNl0sIG0zMyA9IGRhdGFbMTBdO1xuICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9uZS12YXJpYWJsZS1wZXItZGVjbGFyYXRpb25cbiAgICAgICAgY29uc3QgdHJhY2UgPSBtMTEgKyBtMjIgKyBtMzM7XG4gICAgICAgIGxldCBzO1xuICAgICAgICBpZiAodHJhY2UgPiAwKSB7XG4gICAgICAgICAgICBzID0gMC41IC8gTWF0aC5zcXJ0KHRyYWNlICsgMS4wKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gMC4yNSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IChtMzIgLSBtMjMpICogcztcbiAgICAgICAgICAgIHJlc3VsdC55ID0gKG0xMyAtIG0zMSkgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnogPSAobTIxIC0gbTEyKSAqIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobTExID4gbTIyICYmIG0xMSA+IG0zMykge1xuICAgICAgICAgICAgcyA9IDIuMCAqIE1hdGguc3FydCgxLjAgKyBtMTEgLSBtMjIgLSBtMzMpO1xuICAgICAgICAgICAgcmVzdWx0LncgPSAobTMyIC0gbTIzKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueCA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTEyICsgbTIxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IChtMTMgKyBtMzEpIC8gcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtMjIgPiBtMzMpIHtcbiAgICAgICAgICAgIHMgPSAyLjAgKiBNYXRoLnNxcnQoMS4wICsgbTIyIC0gbTExIC0gbTMzKTtcbiAgICAgICAgICAgIHJlc3VsdC53ID0gKG0xMyAtIG0zMSkgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnggPSAobTEyICsgbTIxKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueSA9IDAuMjUgKiBzO1xuICAgICAgICAgICAgcmVzdWx0LnogPSAobTIzICsgbTMyKSAvIHM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzID0gMi4wICogTWF0aC5zcXJ0KDEuMCArIG0zMyAtIG0xMSAtIG0yMik7XG4gICAgICAgICAgICByZXN1bHQudyA9IChtMjEgLSBtMTIpIC8gcztcbiAgICAgICAgICAgIHJlc3VsdC54ID0gKG0xMyArIG0zMSkgLyBzO1xuICAgICAgICAgICAgcmVzdWx0LnkgPSAobTIzICsgbTMyKSAvIHM7XG4gICAgICAgICAgICByZXN1bHQueiA9IDAuMjUgKiBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYgPSBmcm9tUm90YXRpb25NYXRyaXhUb1JlZjtcbiAgICAvKipcbiAgICAgKiBJbnRlcnBvbGF0ZXMgYmV0d2VlbiB0d28gcXVhdGVybmlvbnNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgZmlyc3QgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgc2Vjb25kIHF1YXRlcm5pb25cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgdG8gdXNlXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBpbnRlcnBvbGF0ZWQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNsZXJwKGxlZnQsIHJpZ2h0LCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gUXVhdGVybmlvbi5JZGVudGl0eSgpO1xuICAgICAgICBRdWF0ZXJuaW9uLnNsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5zbGVycCA9IHNsZXJwO1xuICAgIC8qKlxuICAgICAqIEludGVycG9sYXRlcyBiZXR3ZWVuIHR3byBxdWF0ZXJuaW9ucyBhbmQgc3RvcmVzIGl0IGludG8gYSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyBmaXJzdCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyBzZWNvbmQgcXVhdGVybmlvblxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB0byB1c2VcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCkge1xuICAgICAgICBsZXQgbnVtMjtcbiAgICAgICAgbGV0IG51bTM7XG4gICAgICAgIGxldCBudW00ID0gbGVmdC54ICogcmlnaHQueCArIGxlZnQueSAqIHJpZ2h0LnkgKyBsZWZ0LnogKiByaWdodC56ICsgbGVmdC53ICogcmlnaHQudztcbiAgICAgICAgbGV0IGZsYWcgPSBmYWxzZTtcbiAgICAgICAgaWYgKG51bTQgPCAwKSB7XG4gICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgIG51bTQgPSAtbnVtNDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtNCA+IDAuOTk5OTk5KSB7XG4gICAgICAgICAgICBudW0zID0gMSAtIGFtb3VudDtcbiAgICAgICAgICAgIG51bTIgPSBmbGFnID8gLWFtb3VudCA6IGFtb3VudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG51bTUgPSBNYXRoLmFjb3MobnVtNCk7XG4gICAgICAgICAgICBjb25zdCBudW02ID0gMS4wIC8gTWF0aC5zaW4obnVtNSk7XG4gICAgICAgICAgICBudW0zID0gTWF0aC5zaW4oKDEuMCAtIGFtb3VudCkgKiBudW01KSAqIG51bTY7XG4gICAgICAgICAgICBudW0yID0gZmxhZ1xuICAgICAgICAgICAgICAgID8gLU1hdGguc2luKGFtb3VudCAqIG51bTUpICogbnVtNlxuICAgICAgICAgICAgICAgIDogTWF0aC5zaW4oYW1vdW50ICogbnVtNSkgKiBudW02O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC54ID0gbnVtMyAqIGxlZnQueCArIG51bTIgKiByaWdodC54O1xuICAgICAgICByZXN1bHQueSA9IG51bTMgKiBsZWZ0LnkgKyBudW0yICogcmlnaHQueTtcbiAgICAgICAgcmVzdWx0LnogPSBudW0zICogbGVmdC56ICsgbnVtMiAqIHJpZ2h0Lno7XG4gICAgICAgIHJlc3VsdC53ID0gbnVtMyAqIGxlZnQudyArIG51bTIgKiByaWdodC53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLnNsZXJwVG9SZWYgPSBzbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdHdvIHF1YXRlcm5pb25zXG4gICAgICogQHBhcmFtIHNlbGYgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHExIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBxdWF0ZXJuaW9uIHNldCBhcyB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBzZWxmIG9uZSB3aXRoIHRoZSBnaXZlbiBvbmUgXCJxMVwiXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHkoc2VsZiwgcTEpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAsIDAsIDAsIDEuMCk7XG4gICAgICAgIG11bHRpcGx5VG9SZWYoc2VsZiwgcTEsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24ubXVsdGlwbHkgPSBtdWx0aXBseTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiBcInJlc3VsdFwiIGFzIHRoZSB0aGUgbXVsdGlwbGljYXRpb24gcmVzdWx0IG9mIHRoZSBzZWxmIG9uZSB3aXRoIHRoZSBnaXZlbiBvbmUgXCJxMVwiXG4gICAgICogQHBhcmFtIHNlbGYgLSBkZWZpbmVzIHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHExIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgdGFyZ2V0IHF1YXRlcm5pb25cbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZihzZWxmLCBxMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC54ID0gc2VsZi54ICogcTEudyArIHNlbGYueSAqIHExLnogLSBzZWxmLnogKiBxMS55ICsgc2VsZi53ICogcTEueDtcbiAgICAgICAgcmVzdWx0LnkgPSAtc2VsZi54ICogcTEueiArIHNlbGYueSAqIHExLncgKyBzZWxmLnogKiBxMS54ICsgc2VsZi53ICogcTEueTtcbiAgICAgICAgcmVzdWx0LnogPSBzZWxmLnggKiBxMS55IC0gc2VsZi55ICogcTEueCArIHNlbGYueiAqIHExLncgKyBzZWxmLncgKiBxMS56O1xuICAgICAgICByZXN1bHQudyA9IC1zZWxmLnggKiBxMS54IC0gc2VsZi55ICogcTEueSAtIHNlbGYueiAqIHExLnogKyBzZWxmLncgKiBxMS53O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLm11bHRpcGx5VG9SZWYgPSBtdWx0aXBseVRvUmVmO1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlZ3JlZXMgLSB0aGUgYW5nbGUgZGVncmVlc1xuICAgICAqIEBwYXJhbSBheGlzIC0gdmVjdG9yM1xuICAgICAqIEByZXR1cm5zIGEgbmV3IFF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQW5nbGVBeGlzKGRlZ3JlZXMsIGF4aXMpIHtcbiAgICAgICAgaWYgKFZlY3RvcjMubGVuZ3RoU3F1YXJlZChheGlzKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFF1YXRlcm5pb24uSWRlbnRpdHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBJZGVudGl0eSgpO1xuICAgICAgICBsZXQgcmFkaWFucyA9IGRlZ3JlZXMgKiBERUcyUkFEO1xuICAgICAgICByYWRpYW5zICo9IDAuNTtcbiAgICAgICAgY29uc3QgYTIgPSBWZWN0b3IzLm5vcm1hbGl6ZShheGlzKTtcbiAgICAgICAgVmVjdG9yMy5zY2FsZVRvUmVmKGEyLCBNYXRoLnNpbihyYWRpYW5zKSwgYTIpO1xuICAgICAgICByZXN1bHQueCA9IGEyLng7XG4gICAgICAgIHJlc3VsdC55ID0gYTIueTtcbiAgICAgICAgcmVzdWx0LnogPSBhMi56O1xuICAgICAgICByZXN1bHQudyA9IE1hdGguY29zKHJhZGlhbnMpO1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplKHJlc3VsdCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUFuZ2xlQXhpcyA9IGZyb21BbmdsZUF4aXM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBxdWF0ZXJuaW9uIGNvbnRhaW5pbmcgdGhlIHJvdGF0aW9uIHZhbHVlIHRvIHJlYWNoIHRoZSB0YXJnZXQgKGF4aXMxLCBheGlzMiwgYXhpczMpIG9yaWVudGF0aW9uIGFzIGEgcm90YXRlZCBYWVogc3lzdGVtIChheGlzMSwgYXhpczIgYW5kIGF4aXMzIGFyZSBub3JtYWxpemVkIGR1cmluZyB0aGlzIG9wZXJhdGlvbilcbiAgICAgKiBAcGFyYW0gYXhpczEgLSBkZWZpbmVzIHRoZSBmaXJzdCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMyIC0gZGVmaW5lcyB0aGUgc2Vjb25kIGF4aXNcbiAgICAgKiBAcGFyYW0gYXhpczMgLSBkZWZpbmVzIHRoZSB0aGlyZCBheGlzXG4gICAgICogQHJldHVybnMgdGhlIG5ldyBxdWF0ZXJuaW9uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUF4aXNUb1JvdGF0aW9uUXVhdGVybmlvbihheGlzMSwgYXhpczIsIGF4aXMzKSB7XG4gICAgICAgIGNvbnN0IHF1YXQgPSBRdWF0ZXJuaW9uLmNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYoYXhpczEsIGF4aXMyLCBheGlzMywgcXVhdCk7XG4gICAgICAgIHJldHVybiBxdWF0O1xuICAgIH1cbiAgICBRdWF0ZXJuaW9uLmZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb24gPSBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByb3RhdGlvbiB2YWx1ZSB0byByZWFjaCB0aGUgdGFyZ2V0IChheGlzMSwgYXhpczIsIGF4aXMzKSBvcmllbnRhdGlvbiBhcyBhIHJvdGF0ZWQgWFlaIHN5c3RlbSAoYXhpczEsIGF4aXMyIGFuZCBheGlzMyBhcmUgbm9ybWFsaXplZCBkdXJpbmcgdGhpcyBvcGVyYXRpb24pIGFuZCBzdG9yZXMgaXQgaW4gdGhlIHRhcmdldCBxdWF0ZXJuaW9uXG4gICAgICogQHBhcmFtIGF4aXMxIC0gZGVmaW5lcyB0aGUgZmlyc3QgYXhpc1xuICAgICAqIEBwYXJhbSBheGlzMiAtIGRlZmluZXMgdGhlIHNlY29uZCBheGlzXG4gICAgICogQHBhcmFtIGF4aXMzIC0gZGVmaW5lcyB0aGUgdGhpcmQgYXhpc1xuICAgICAqIEBwYXJhbSByZWYgLSBkZWZpbmVzIHRoZSB0YXJnZXQgcXVhdGVybmlvblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21BeGlzVG9Sb3RhdGlvblF1YXRlcm5pb25Ub1JlZihheGlzMSwgYXhpczIsIGF4aXMzLCByZWYpIHtcbiAgICAgICAgY29uc3Qgcm90TWF0ID0gTWF0cml4LmNyZWF0ZSgpO1xuICAgICAgICBNYXRyaXguZnJvbVhZWkF4ZXNUb1JlZihWZWN0b3IzLm5vcm1hbGl6ZShheGlzMSksIFZlY3RvcjMubm9ybWFsaXplKGF4aXMyKSwgVmVjdG9yMy5ub3JtYWxpemUoYXhpczMpLCByb3RNYXQpO1xuICAgICAgICBRdWF0ZXJuaW9uLmZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHJvdE1hdCwgcmVmKTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWYgPSBmcm9tQXhpc1RvUm90YXRpb25RdWF0ZXJuaW9uVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHplcm8gZmlsbGVkIHF1YXRlcm5pb25cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uWmVybyA9IFplcm87XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUxvb2tBdChwb3NpdGlvbiwgdGFyZ2V0LCB3b3JsZFVwID0gVmVjdG9yMy5VcCgpKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFF1YXRlcm5pb24uSWRlbnRpdHkoKTtcbiAgICAgICAgZnJvbUxvb2tBdFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIFF1YXRlcm5pb24uZnJvbUxvb2tBdCA9IGZyb21Mb29rQXQ7XG4gICAgLyoqXG4gICAgICogQHB1YmxpY1xuICAgICAqIFJvdGF0ZXMgdGhlIHRyYW5zZm9ybSBzbyB0aGUgZm9yd2FyZCB2ZWN0b3IgcG9pbnRzIGF0IHRhcmdldCdzIGN1cnJlbnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUxvb2tBdFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAgPSBWZWN0b3IzLlVwKCksIHJlc3VsdCkge1xuICAgICAgICBjb25zdCBtID0gTWF0cml4LklkZW50aXR5KCk7XG4gICAgICAgIE1hdHJpeC5sb29rQXRMSFRvUmVmKHBvc2l0aW9uLCB0YXJnZXQsIHdvcmxkVXAsIG0pO1xuICAgICAgICBNYXRyaXguaW52ZXJ0VG9SZWYobSwgbSk7XG4gICAgICAgIFF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobSwgcmVzdWx0KTtcbiAgICB9XG4gICAgUXVhdGVybmlvbi5mcm9tTG9va0F0VG9SZWYgPSBmcm9tTG9va0F0VG9SZWY7XG59KShRdWF0ZXJuaW9uIHx8IChRdWF0ZXJuaW9uID0ge30pKTtcbiIsICIvKipcbiAqIEBwdWJsaWNcbiAqIFZlY3RvcjIgaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIFZlY3RvcjJcbiAqIGNvbnN0IG5leHQgPSBWZWN0b3IyLmFkZChwb2ludEEsIHZlbG9jaXR5QSkgLy8gYWRkIGZ1bmN0aW9uIG5vdCBpbXBsZW1lbnRlZCB5ZXRcbiAqIC8vIFRoZSB0eXBlIFZlY3RvcjIgaXMgYW4gYWxpYXMgdG8gVmVjdG9yMi5SZWFkb25seVZlY3RvcjJcbiAqIGNvbnN0IHJlYWRvbmx5UG9zaXRpb246IFZlY3RvcjIgPSBWZWN0b3IyLlplcm8oKVxuICogcmVhZG9ubHlQb3NpdGlvbi54ID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBWZWN0b3IyLk11dGFibGVgXG4gKiBjb25zdCBwb3NpdGlvbjogVmVjdG9yMi5NdXRhYmxlID0gVmVjdG9yMi5PbmUoKVxuICogcG9zaXRpb24ueCA9IDMuMCAvLyB0aGlzIFdPUktTXG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBWZWN0b3IyO1xuKGZ1bmN0aW9uIChWZWN0b3IyKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBWZWN0b3IyIG9iamVjdCBmcm9tIHRoZSBnaXZlbiB4LCB5IChmbG9hdHMpIGNvb3JkaW5hdGVzLlxuICAgICAqIEBwYXJhbSB4IC0gZGVmaW5lcyB0aGUgZmlyc3QgY29vcmRpbmF0ZXMgKG9uIFggYXhpcylcbiAgICAgKiBAcGFyYW0geSAtIGRlZmluZXMgdGhlIHNlY29uZCBjb29yZGluYXRlcyAob24gWSBheGlzKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBmaXJzdCBjb29yZGluYXRlcyAob24gWCBheGlzKVxuICAgICAqL1xuICAgIHggPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBzZWNvbmQgY29vcmRpbmF0ZXMgKG9uIFkgYXhpcylcbiAgICAgKi9cbiAgICB5ID0gMCkge1xuICAgICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIFZlY3RvcjIuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgVmVjdG9yMiBzZXQgdG8gKDAuMCwgMC4wKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IGVtcHR5IFZlY3RvcjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBaZXJvKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wKTtcbiAgICB9XG4gICAgVmVjdG9yMi5aZXJvID0gWmVybztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IFZlY3RvcjIgc2V0IHRvICgxLjAsIDEuMClcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB1bml0IFZlY3RvcjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBPbmUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMS4wLCAxLjApO1xuICAgIH1cbiAgICBWZWN0b3IyLk9uZSA9IE9uZTtcbn0pKFZlY3RvcjIgfHwgKFZlY3RvcjIgPSB7fSkpO1xuIiwgImltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbmltcG9ydCB7IFRvTGluZWFyU3BhY2UsIFRvR2FtbWFTcGFjZSB9IGZyb20gJy4vdHlwZXMnO1xuLyoqXG4gKiBAcHVibGljXG4gKiBDb2xvcjQgaXMgYSB0eXBlIGFuZCBhIG5hbWVzcGFjZS5cbiAqIGBgYFxuICogLy8gVGhlIG5hbWVzcGFjZSBjb250YWlucyBhbGwgdHlwZXMgYW5kIGZ1bmN0aW9ucyB0byBvcGVyYXRlcyB3aXRoIENvbG9yNFxuICogQ29sb3I0LmFkZChibHVlLCByZWQpIC8vIHN1bSBjb21wb25lbnQgYnkgY29tcG9uZW50IHJlc3VsdGluZyBwaW5rXG4gKiAvLyBUaGUgdHlwZSBDb2xvcjQgaXMgYW4gYWxpYXMgdG8gQ29sb3I0LlJlYWRvbmx5Q29sb3I0XG4gKiBjb25zdCByZWFkb25seUJsdWU6IENvbG9yNCA9IENvbG9yNC5CbHVlKClcbiAqIHJlYWRvbmx5Qmx1ZS5hID0gMC4xIC8vIHRoaXMgRkFJTFNcbiAqXG4gKiAvLyBGb3IgbXV0YWJsZSB1c2FnZSwgdXNlIGBDb2xvcjQuTXV0YWJsZWBcbiAqIGNvbnN0IGJsdWU6IENvbG9yNC5NdXRhYmxlID0gQ29sb3I0LkJsdWUoKVxuICogYmx1ZS5hID0gMC4xIC8vIHRoaXMgV09SS1NcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIENvbG9yNDtcbihmdW5jdGlvbiAoQ29sb3I0KSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjcmVhdGUgbXV0YWJsZSBDb2xvcjQgZnJvbSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcywgYWxsIGJldHdlZW4gMCBhbmQgMVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGUoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgciA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgZyA9IDAsIFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKi9cbiAgICBiID0gMCwgXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMSlcbiAgICAgKi9cbiAgICBhID0gMSkge1xuICAgICAgICByZXR1cm4geyByLCBnLCBiLCBhIH07XG4gICAgfVxuICAgIENvbG9yNC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgLy8gU3RhdGljc1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgZnJvbSB0aGUgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHBhcmFtIGhleCAtIGRlZmluZXMgYSBzdHJpbmcgY29udGFpbmluZyB2YWxpZCBoZXhhZGVjaW1hbCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSGV4U3RyaW5nKGhleCkge1xuICAgICAgICBpZiAoaGV4LnN1YnN0cmluZygwLCAxKSAhPT0gJyMnIHx8IChoZXgubGVuZ3RoICE9PSA3ICYmIGhleC5sZW5ndGggIT09IDkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlKDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgciA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMSwgMyksIDE2KTtcbiAgICAgICAgY29uc3QgZyA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgICAgY29uc3QgYiA9IHBhcnNlSW50KGhleC5zdWJzdHJpbmcoNSwgNyksIDE2KTtcbiAgICAgICAgY29uc3QgYVN0ciA9IGhleC5zdWJzdHJpbmcoNywgOSk7XG4gICAgICAgIGNvbnN0IGEgPSBhU3RyID8gcGFyc2VJbnQoYVN0ciwgMTYpIDogMjU1O1xuICAgICAgICByZXR1cm4gQ29sb3I0LmZyb21JbnRzKHIsIGcsIGIsIGEpO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUhleFN0cmluZyA9IGZyb21IZXhTdHJpbmc7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjcmVhdGUgbXV0YWJsZSBDb2xvcjQgIHNldCB3aXRoIHRoZSBsaW5lYXJseSBpbnRlcnBvbGF0ZWQgdmFsdWVzIG9mIFwiYW1vdW50XCIgYmV0d2VlbiB0aGUgbGVmdCBDb2xvcjQgb2JqZWN0IGFuZCB0aGUgcmlnaHQgQ29sb3I0IG9iamVjdFxuICAgICAqIEBwYXJhbSBsZWZ0IC0gZGVmaW5lcyB0aGUgc3RhcnQgdmFsdWVcbiAgICAgKiBAcGFyYW0gcmlnaHQgLSBkZWZpbmVzIHRoZSBlbmQgdmFsdWVcbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gZGVmaW5lcyB0aGUgZ3JhZGllbnQgZmFjdG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChsZWZ0LCByaWdodCwgYW1vdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZSgwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBDb2xvcjQubGVycFRvUmVmKGxlZnQsIHJpZ2h0LCBhbW91bnQsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yNC5sZXJwID0gbGVycDtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGdpdmVuIFwicmVzdWx0XCIgd2l0aCB0aGUgbGluZWFybHkgaW50ZXJwb2xhdGVkIHZhbHVlcyBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIGxlZnQgQ29sb3I0IG9iamVjdCBhbmQgdGhlIHJpZ2h0IENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIGRhdGFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmIgPSBsZWZ0LmIgKyAocmlnaHQuYiAtIGxlZnQuYikgKiBhbW91bnQ7XG4gICAgICAgIHJlc3VsdC5hID0gbGVmdC5hICsgKHJpZ2h0LmEgLSBsZWZ0LmEpICogYW1vdW50O1xuICAgIH1cbiAgICBDb2xvcjQubGVycFRvUmVmID0gbGVycFRvUmVmO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHJlZCBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLjAsIDAsIDAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5SZWQgPSBSZWQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgZ3JlZW4gY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yNC5HcmVlbiA9IEdyZWVuO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGJsdWUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDEuMCwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LkJsdWUgPSBCbHVlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIGJsYWNrIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gQmxhY2soKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5CbGFjayA9IEJsYWNrO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gV2hpdGUoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMSwgMSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5XaGl0ZSA9IFdoaXRlO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHB1cnBsZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFB1cnBsZSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAsIDAuNSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5QdXJwbGUgPSBQdXJwbGU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgbWFnZW50YSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hZ2VudGEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMSwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5NYWdlbnRhID0gTWFnZW50YTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3I0IHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBZZWxsb3coKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMSwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yNC5ZZWxsb3cgPSBZZWxsb3c7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgZ3JheSBjb2xvclxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEdyYXkoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMC41LCAwLjUsIDAuNSwgMS4wKTtcbiAgICB9XG4gICAgQ29sb3I0LkdyYXkgPSBHcmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjQgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUZWFsKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDEuMCwgMS4wLCAxLjApO1xuICAgIH1cbiAgICBDb2xvcjQuVGVhbCA9IFRlYWw7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yNCB2YWx1ZSBjb250YWluaW5nIGEgdHJhbnNwYXJlbnQgY29sb3JcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBDbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAwLCAwKTtcbiAgICB9XG4gICAgQ29sb3I0LkNsZWFyID0gQ2xlYXI7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBmcm9tIGEgQ29sb3IzIGFuZCBhbiBhbHBoYSB2YWx1ZVxuICAgICAqIEBwYXJhbSBjb2xvcjMgLSBkZWZpbmVzIHRoZSBzb3VyY2UgQ29sb3IzIHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhbHBoYSAtIGRlZmluZXMgdGhlIGFscGhhIGNvbXBvbmVudCAoMS4wIGJ5IGRlZmF1bHQpXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUNvbG9yMyhjb2xvcjMsIGFscGhhID0gMS4wKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoY29sb3IzLnIsIGNvbG9yMy5nLCBjb2xvcjMuYiwgYWxwaGEpO1xuICAgIH1cbiAgICBDb2xvcjQuZnJvbUNvbG9yMyA9IGZyb21Db2xvcjM7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBmcm9tIHRoZSBzdGFydGluZyBpbmRleCBlbGVtZW50IG9mIHRoZSBnaXZlbiBhcnJheVxuICAgICAqIEBwYXJhbSBhcnJheSAtIGRlZmluZXMgdGhlIHNvdXJjZSBhcnJheSB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gZGVmaW5lcyB0aGUgb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tQXJyYXkoYXJyYXksIG9mZnNldCA9IDApIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZShhcnJheVtvZmZzZXRdLCBhcnJheVtvZmZzZXQgKyAxXSwgYXJyYXlbb2Zmc2V0ICsgMl0sIGFycmF5W29mZnNldCArIDNdKTtcbiAgICB9XG4gICAgQ29sb3I0LmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENvbG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHJldHVybnMgYSBuZXcgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUludHMociwgZywgYiwgYSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHIgLyAyNTUuMCwgZyAvIDI1NS4wLCBiIC8gMjU1LjAsIGEgLyAyNTUuMCk7XG4gICAgfVxuICAgIENvbG9yNC5mcm9tSW50cyA9IGZyb21JbnRzO1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRoZSBjb250ZW50IG9mIGEgZ2l2ZW4gYXJyYXkgYW5kIGNvbnZlcnQgaXQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBSR0JBIGRhdGFcbiAgICAgKiBJZiB0aGUgb3JpZ2luYWwgYXJyYXkgd2FzIGFscmVhZHkgY29udGFpbmluZyBjb3VudCAqIDQgdmFsdWVzIHRoZW4gaXQgaXMgcmV0dXJuZWQgZGlyZWN0bHlcbiAgICAgKiBAcGFyYW0gY29sb3JzIC0gZGVmaW5lcyB0aGUgYXJyYXkgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gY291bnQgLSBkZWZpbmVzIHRoZSBudW1iZXIgb2YgUkdCQSBkYXRhIHRvIGV4cGVjdFxuICAgICAqIEByZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgY291bnQgKiA0IHZhbHVlcyAoUkdCQSlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjaGVja0NvbG9yczQoY29sb3JzLCBjb3VudCkge1xuICAgICAgICAvLyBDaGVjayBpZiBjb2xvcjMgd2FzIHVzZWRcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IGNvdW50ICogMykge1xuICAgICAgICAgICAgY29uc3QgY29sb3JzNCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbG9ycy5sZW5ndGg7IGluZGV4ICs9IDMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IChpbmRleCAvIDMpICogNDtcbiAgICAgICAgICAgICAgICBjb2xvcnM0W25ld0luZGV4XSA9IGNvbG9yc1tpbmRleF07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDFdID0gY29sb3JzW2luZGV4ICsgMV07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDJdID0gY29sb3JzW2luZGV4ICsgMl07XG4gICAgICAgICAgICAgICAgY29sb3JzNFtuZXdJbmRleCArIDNdID0gMS4wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yczQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbG9ycztcbiAgICB9XG4gICAgQ29sb3I0LmNoZWNrQ29sb3JzNCA9IGNoZWNrQ29sb3JzNDtcbiAgICAvLyBPcGVyYXRvcnNcbiAgICAvKipcbiAgICAgKiBBZGRzICB0aGUgZ2l2ZW4gQ29sb3I0IHZhbHVlcyB0byB0aGUgcmVmIENvbG9yNCBvYmplY3RcbiAgICAgKiBAcGFyYW0gYSAtIGRlZmluZXMgdGhlIGZpcnN0IG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlZiAtIGRlZmluZXMgdGhlIHJlc3VsdCByZmVyZW5jZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkVG9SZWYoYSwgYiwgcmVmKSB7XG4gICAgICAgIHJlZi5yID0gYS5yICsgYi5yO1xuICAgICAgICByZWYuZyA9IGEuZyArIGIuZztcbiAgICAgICAgcmVmLmIgPSBhLmIgKyBiLmI7XG4gICAgICAgIHJlZi5hID0gYS5hICsgYi5hO1xuICAgIH1cbiAgICBDb2xvcjQuYWRkVG9SZWYgPSBhZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggaW4gdGhlIGdpdmVuIGFycmF5IHRoZSBDb2xvcjQgc3VjY2Vzc2l2ZSB2YWx1ZXNcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBkZWZpbmVzIHRoZSBhcnJheSB3aGVyZSB0byBzdG9yZSB0aGUgcixnLGIgY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBpbmRleCAtIGRlZmluZXMgYW4gb3B0aW9uYWwgaW5kZXggaW4gdGhlIHRhcmdldCBhcnJheSB0byBkZWZpbmUgd2hlcmUgdG8gc3RhcnQgc3RvcmluZyB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgY3VycmVudCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9BcnJheSh2YWx1ZSwgYXJyYXksIGluZGV4ID0gMCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZS5yO1xuICAgICAgICBhcnJheVtpbmRleCArIDFdID0gdmFsdWUuZztcbiAgICAgICAgYXJyYXlbaW5kZXggKyAyXSA9IHZhbHVlLmI7XG4gICAgICAgIGFycmF5W2luZGV4ICsgM10gPSB2YWx1ZS5hO1xuICAgIH1cbiAgICBDb2xvcjQudG9BcnJheSA9IHRvQXJyYXk7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBzZXQgd2l0aCB0aGUgYWRkZWQgdmFsdWVzIG9mIHRoZSBjdXJyZW50IENvbG9yNCBhbmQgb2YgdGhlIGdpdmVuIG9uZVxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkKHZhbHVlLCByaWdodCkge1xuICAgICAgICBjb25zdCByZXQgPSBDbGVhcigpO1xuICAgICAgICBhZGRUb1JlZih2YWx1ZSwgcmlnaHQsIHJldCk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIENvbG9yNC5hZGQgPSBhZGQ7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIENvbG9yNCBzZXQgd2l0aCB0aGUgc3VidHJhY3RlZCB2YWx1ZXMgb2YgdGhlIGdpdmVuIG9uZSBmcm9tIHRoZSBjdXJyZW50IENvbG9yNFxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VidHJhY3QodmFsdWUsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IHJldCA9IENsZWFyKCk7XG4gICAgICAgIHN1YnRyYWN0VG9SZWYodmFsdWUsIHJpZ2h0LCByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgICBDb2xvcjQuc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgdGhlIGdpdmVuIG9uZXMgZnJvbSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdHMgaW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSByaWdodCAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdWJ0cmFjdFRvUmVmKGEsIGIsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IGEuciAtIGIucjtcbiAgICAgICAgcmVzdWx0LmcgPSBhLmcgLSBiLmc7XG4gICAgICAgIHJlc3VsdC5iID0gYS5iIC0gYi5iO1xuICAgICAgICByZXN1bHQuYSA9IGEuYSAtIGIuYTtcbiAgICB9XG4gICAgQ29sb3I0LnN1YnRyYWN0VG9SZWYgPSBzdWJ0cmFjdFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgd2l0aCB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIG11bHRpcGxpZWQgYnkgc2NhbGVcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvciB0byBhcHBseVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBzY2FsZSwgdmFsdWUuZyAqIHNjYWxlLCB2YWx1ZS5iICogc2NhbGUsIHZhbHVlLmEgKiBzY2FsZSk7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZSA9IHNjYWxlO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhlIGN1cnJlbnQgQ29sb3I0IHZhbHVlcyBieSBzY2FsZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxpbmcgZmFjdG9yIHRvIGFwcGx5XG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgdGhlIENvbG9yNCBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmFsdWUsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmEgPSB2YWx1ZS5hICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yNC5zY2FsZVRvUmVmID0gc2NhbGVUb1JlZjtcbiAgICAvKipcbiAgICAgKiBTY2FsZSB0aGUgY3VycmVudCBDb2xvcjQgdmFsdWVzIGJ5IGEgZmFjdG9yIGFuZCBhZGQgdGhlIHJlc3VsdCB0byBhIGdpdmVuIENvbG9yNFxuICAgICAqIEBwYXJhbSBzY2FsZSAtIGRlZmluZXMgdGhlIHNjYWxlIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZUFuZEFkZFRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yICs9IHZhbHVlLnIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmcgKz0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiArPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5hICs9IHZhbHVlLmEgKiBzY2FsZTtcbiAgICB9XG4gICAgQ29sb3I0LnNjYWxlQW5kQWRkVG9SZWYgPSBzY2FsZUFuZEFkZFRvUmVmO1xuICAgIC8qKlxuICAgICAqIENsYW1wcyB0aGUgcmdiIHZhbHVlcyBieSB0aGUgbWluIGFuZCBtYXggdmFsdWVzIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gbWluIC0gZGVmaW5lcyBtaW5pbXVtIGNsYW1waW5nIHZhbHVlIChkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIG1heCAtIGRlZmluZXMgbWF4aW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAxKVxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIGNvbG9yIHRvIHN0b3JlIHRoZSByZXN1bHQgaW50by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcFRvUmVmKHZhbHVlLCBtaW4gPSAwLCBtYXggPSAxLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSBTY2FsYXIuY2xhbXAodmFsdWUuciwgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuZyA9IFNjYWxhci5jbGFtcCh2YWx1ZS5nLCBtaW4sIG1heCk7XG4gICAgICAgIHJlc3VsdC5iID0gU2NhbGFyLmNsYW1wKHZhbHVlLmIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmEgPSBTY2FsYXIuY2xhbXAodmFsdWUuYSwgbWluLCBtYXgpO1xuICAgIH1cbiAgICBDb2xvcjQuY2xhbXBUb1JlZiA9IGNsYW1wVG9SZWY7XG4gICAgLyoqXG4gICAgICogTXVsdGlweSBhbiBDb2xvcjQgdmFsdWUgYnkgYW5vdGhlciBhbmQgcmV0dXJuIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqIEBwYXJhbSBjb2xvciAtIGRlZmluZXMgdGhlIENvbG9yNCB2YWx1ZSB0byBtdWx0aXBseSBieVxuICAgICAqIEByZXR1cm5zIGNyZWF0ZSBtdXRhYmxlIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZhbHVlLCBjb2xvcikge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBjb2xvci5yLCB2YWx1ZS5nICogY29sb3IuZywgdmFsdWUuYiAqIGNvbG9yLmIsIHZhbHVlLmEgKiBjb2xvci5hKTtcbiAgICB9XG4gICAgQ29sb3I0Lm11bHRpcGx5ID0gbXVsdGlwbHk7XG4gICAgLyoqXG4gICAgICogTXVsdGlweSBhIENvbG9yNCB2YWx1ZSBieSBhbm90aGVyIGFuZCBwdXNoIHRoZSByZXN1bHQgaW4gYSByZWZlcmVuY2UgdmFsdWVcbiAgICAgKiBAcGFyYW0gY29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgdmFsdWUgdG8gbXVsdGlwbHkgYnlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3I0IHRvIGZpbGwgdGhlIHJlc3VsdCBpblxuICAgICAqIEByZXR1cm5zIHRoZSByZXN1bHQgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2YWx1ZSwgY29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgKiBjb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKiBjb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBjb2xvci5iO1xuICAgICAgICByZXN1bHQuYSA9IHZhbHVlLmEgKiBjb2xvci5hO1xuICAgIH1cbiAgICBDb2xvcjQubXVsdGlwbHlUb1JlZiA9IG11bHRpcGx5VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHN0cmluZyB3aXRoIHRoZSBDb2xvcjQgY3VycmVudCB2YWx1ZXNcbiAgICAgKiBAcmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICgne1I6ICcgK1xuICAgICAgICAgICAgdmFsdWUuciArXG4gICAgICAgICAgICAnIEc6JyArXG4gICAgICAgICAgICB2YWx1ZS5nICtcbiAgICAgICAgICAgICcgQjonICtcbiAgICAgICAgICAgIHZhbHVlLmIgK1xuICAgICAgICAgICAgJyBBOicgK1xuICAgICAgICAgICAgdmFsdWUuYSArXG4gICAgICAgICAgICAnfScpO1xuICAgIH1cbiAgICBDb2xvcjQudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjQgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYW4gdW5pcXVlIG51bWJlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGhhc2ggQ29sb3I0IG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2YWx1ZSkge1xuICAgICAgICBsZXQgaGFzaCA9IHZhbHVlLnIgfHwgMDtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5nIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmIgfHwgMCk7XG4gICAgICAgIGhhc2ggPSAoaGFzaCAqIDM5NykgXiAodmFsdWUuYSB8fCAwKTtcbiAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuICAgIENvbG9yNC5nZXRIYXNoQ29kZSA9IGdldEhhc2hDb2RlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBDb2xvcjQgY29waWVkIGZyb20gdGhlIGN1cnJlbnQgb25lXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yLCB2YWx1ZS5nLCB2YWx1ZS5iLCB2YWx1ZS5hKTtcbiAgICB9XG4gICAgQ29sb3I0LmNsb25lID0gY2xvbmU7XG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSBnaXZlbiBDb2xvcjQgdmFsdWVzIGludG8gdGhlIGRlc3RpbmF0aW9uXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjQgb2JqZWN0XG4gICAgICogQHBhcmFtIGRlc3QgLSBkZWZpbmVzIHRoZSBkZXN0aW5hdGlvbiBDb2xvcjQgb2JqZWN0XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5RnJvbShzb3VyY2UsIGRlc3QpIHtcbiAgICAgICAgZGVzdC5yID0gc291cmNlLnI7XG4gICAgICAgIGRlc3QuZyA9IHNvdXJjZS5nO1xuICAgICAgICBkZXN0LmIgPSBzb3VyY2UuYjtcbiAgICAgICAgZGVzdC5hID0gc291cmNlLmE7XG4gICAgfVxuICAgIENvbG9yNC5jb3B5RnJvbSA9IGNvcHlGcm9tO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgZ2l2ZW4gZmxvYXQgdmFsdWVzIGludG8gdGhlIGN1cnJlbnQgb25lXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHBhcmFtIGEgLSBkZWZpbmVzIHRoZSBhbHBoYSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdXBkYXRlZCBDb2xvcjQgb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gY29weUZyb21GbG9hdHMociwgZywgYiwgYSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgICAgICBkZXN0LmEgPSBhO1xuICAgIH1cbiAgICBDb2xvcjQuY29weUZyb21GbG9hdHMgPSBjb3B5RnJvbUZsb2F0cztcbiAgICAvKipcbiAgICAgKiBDb3BpZXMgdGhlIGdpdmVuIGZsb2F0IHZhbHVlcyBpbnRvIHRoZSBjdXJyZW50IG9uZVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCB0byByZWFkIGZyb21cbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEByZXR1cm5zIHRoZSBjdXJyZW50IHVwZGF0ZWQgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldChyLCBnLCBiLCBhLCBkZXN0KSB7XG4gICAgICAgIGRlc3QuciA9IHI7XG4gICAgICAgIGRlc3QuZyA9IGc7XG4gICAgICAgIGRlc3QuYiA9IGI7XG4gICAgICAgIGRlc3QuYSA9IGE7XG4gICAgfVxuICAgIENvbG9yNC5zZXQgPSBzZXQ7XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZSB0aGUgQ29sb3I0IGhleGFkZWNpbWFsIGNvZGUgYXMgYSBzdHJpbmdcbiAgICAgKiBAcmV0dXJucyBhIHN0cmluZyBjb250YWluaW5nIHRoZSBoZXhhZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3I0IG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSGV4U3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGludFIgPSAodmFsdWUuciAqIDI1NSkgfCAwO1xuICAgICAgICBjb25zdCBpbnRHID0gKHZhbHVlLmcgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50QiA9ICh2YWx1ZS5iICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEEgPSAodmFsdWUuYSAqIDI1NSkgfCAwO1xuICAgICAgICByZXR1cm4gKCcjJyArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50UikgK1xuICAgICAgICAgICAgU2NhbGFyLnRvSGV4KGludEcpICtcbiAgICAgICAgICAgIFNjYWxhci50b0hleChpbnRCKSArXG4gICAgICAgICAgICBTY2FsYXIudG9IZXgoaW50QSkpO1xuICAgIH1cbiAgICBDb2xvcjQudG9IZXhTdHJpbmcgPSB0b0hleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gbGluZWFyIHNwYWNlXG4gICAgICogQHJldHVybnMgY3JlYXRlIG11dGFibGUgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb252ZXJ0ZWRDb2xvciA9IGNyZWF0ZSgpO1xuICAgICAgICB0b0xpbmVhclNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjQudG9MaW5lYXJTcGFjZSA9IHRvTGluZWFyU3BhY2U7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIENvbG9yNCB2YWx1ZXMgdG8gbGluZWFyIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBsaW5lYXIgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgcmVmKSB7XG4gICAgICAgIHJlZi5yID0gTWF0aC5wb3codmFsdWUuciwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5nID0gTWF0aC5wb3codmFsdWUuZywgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5iID0gTWF0aC5wb3codmFsdWUuYiwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIHJlZi5hID0gdmFsdWUuYTtcbiAgICB9XG4gICAgQ29sb3I0LnRvTGluZWFyU3BhY2VUb1JlZiA9IHRvTGluZWFyU3BhY2VUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBhIENvbG9yNCBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBjcmVhdGUgbXV0YWJsZSBDb2xvcjRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0dhbW1hU3BhY2UodmFsdWUpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkQ29sb3IgPSBjcmVhdGUoKTtcbiAgICAgICAgdG9HYW1tYVNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKTtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRlZENvbG9yO1xuICAgIH1cbiAgICBDb2xvcjQudG9HYW1tYVNwYWNlID0gdG9HYW1tYVNwYWNlO1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBDb2xvcjQgdmFsdWVzIHRvIGdhbW1hIHNwYWNlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbiBcImNvbnZlcnRlZENvbG9yXCJcbiAgICAgKiBAcGFyYW0gY29udmVydGVkQ29sb3IgLSBkZWZpbmVzIHRoZSBDb2xvcjQgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSBnYW1tYSBzcGFjZSB2ZXJzaW9uXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3I0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlVG9SZWYodmFsdWUsIGNvbnZlcnRlZENvbG9yKSB7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLnIgPSBNYXRoLnBvdyh2YWx1ZS5yLCBUb0dhbW1hU3BhY2UpO1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5nID0gTWF0aC5wb3codmFsdWUuZywgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmEgPSB2YWx1ZS5hO1xuICAgIH1cbiAgICBDb2xvcjQudG9HYW1tYVNwYWNlVG9SZWYgPSB0b0dhbW1hU3BhY2VUb1JlZjtcbn0pKENvbG9yNCB8fCAoQ29sb3I0ID0ge30pKTtcbiIsICJpbXBvcnQgeyBUb0xpbmVhclNwYWNlLCBUb0dhbW1hU3BhY2UgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENvbG9yNCB9IGZyb20gJy4vQ29sb3I0JztcbmltcG9ydCB7IFNjYWxhciB9IGZyb20gJy4vU2NhbGFyJztcbi8qKlxuICogQHB1YmxpY1xuICogQ29sb3IzIGlzIGEgdHlwZSBhbmQgYSBuYW1lc3BhY2UuXG4gKiBgYGBcbiAqIC8vIFRoZSBuYW1lc3BhY2UgY29udGFpbnMgYWxsIHR5cGVzIGFuZCBmdW5jdGlvbnMgdG8gb3BlcmF0ZXMgd2l0aCBDb2xvcjNcbiAqIENvbG9yMy5hZGQoYmx1ZSwgcmVkKSAvLyBzdW0gY29tcG9uZW50IGJ5IGNvbXBvbmVudCByZXN1bHRpbmcgcGlua1xuICogLy8gVGhlIHR5cGUgQ29sb3IzIGlzIGFuIGFsaWFzIHRvIENvbG9yMy5SZWFkb25seUNvbG9yM1xuICogY29uc3QgcmVhZG9ubHlCbHVlOiBDb2xvcjMgPSBDb2xvcjMuQmx1ZSgpXG4gKiByZWFkb25seUJsdWUuciA9IDAuMSAvLyB0aGlzIEZBSUxTXG4gKlxuICogLy8gRm9yIG11dGFibGUgdXNhZ2UsIHVzZSBgQ29sb3IzLk11dGFibGVgXG4gKiBjb25zdCBibHVlOiBDb2xvcjMuTXV0YWJsZSA9IENvbG9yMy5CbHVlKClcbiAqIGJsdWUuciA9IDAuMSAvLyB0aGlzIFdPUktTXG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBDb2xvcjM7XG4oZnVuY3Rpb24gKENvbG9yMykge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgQ29sb3IzIG9iamVjdCBmcm9tIHJlZCwgZ3JlZW4sIGJsdWUgdmFsdWVzLCBhbGwgYmV0d2VlbiAwIGFuZCAxXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IChiZXR3ZWVuIDAgYW5kIDEsIGRlZmF1bHQgaXMgMClcbiAgICAgKiBAcGFyYW0gZyAtIGRlZmluZXMgdGhlIGdyZWVuIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIHJlZCBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIHIgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgKGJldHdlZW4gMCBhbmQgMSwgZGVmYXVsdCBpcyAwKVxuICAgICAqL1xuICAgIGcgPSAwLCBcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCAoYmV0d2VlbiAwIGFuZCAxLCBkZWZhdWx0IGlzIDApXG4gICAgICovXG4gICAgYiA9IDApIHtcbiAgICAgICAgcmV0dXJuIHsgciwgZywgYiB9O1xuICAgIH1cbiAgICBDb2xvcjMuY3JlYXRlID0gY3JlYXRlO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIGZyb20gdGhlIHN0cmluZyBjb250YWluaW5nIHZhbGlkIGhleGFkZWNpbWFsIHZhbHVlc1xuICAgICAqIEBwYXJhbSBoZXggLSBkZWZpbmVzIGEgc3RyaW5nIGNvbnRhaW5pbmcgdmFsaWQgaGV4YWRlY2ltYWwgdmFsdWVzXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21IZXhTdHJpbmcoaGV4KSB7XG4gICAgICAgIGlmIChoZXguc3Vic3RyaW5nKDAsIDEpICE9PSAnIycgfHwgaGV4Lmxlbmd0aCAhPT0gNykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygxLCAzKSwgMTYpO1xuICAgICAgICBjb25zdCBnID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZygzLCA1KSwgMTYpO1xuICAgICAgICBjb25zdCBiID0gcGFyc2VJbnQoaGV4LnN1YnN0cmluZyg1LCA3KSwgMTYpO1xuICAgICAgICByZXR1cm4gZnJvbUludHMociwgZywgYik7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tSGV4U3RyaW5nID0gZnJvbUhleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IFZlY3RvcjMgZnJvbSB0aGUgc3RhcnRpbmcgaW5kZXggb2YgdGhlIGdpdmVuIGFycmF5XG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgc291cmNlIGFycmF5XG4gICAgICogQHBhcmFtIG9mZnNldCAtIGRlZmluZXMgYW4gb2Zmc2V0IGluIHRoZSBzb3VyY2UgYXJyYXlcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUFycmF5KGFycmF5LCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoYXJyYXlbb2Zmc2V0XSwgYXJyYXlbb2Zmc2V0ICsgMV0sIGFycmF5W29mZnNldCArIDJdKTtcbiAgICB9XG4gICAgQ29sb3IzLmZyb21BcnJheSA9IGZyb21BcnJheTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgVmVjdG9yMyBmcm9tIGludGVnZXIgdmFsdWVzIChsZXNzIHRoYW4gMjU2KVxuICAgICAqIEBwYXJhbSByIC0gZGVmaW5lcyB0aGUgcmVkIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbSAodmFsdWUgYmV0d2VlbiAwIGFuZCAyNTUpXG4gICAgICogQHBhcmFtIGIgLSBkZWZpbmVzIHRoZSBibHVlIGNvbXBvbmVudCB0byByZWFkIGZyb20gKHZhbHVlIGJldHdlZW4gMCBhbmQgMjU1KVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSW50cyhyLCBnLCBiKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUociAvIDI1NS4wLCBnIC8gMjU1LjAsIGIgLyAyNTUuMCk7XG4gICAgfVxuICAgIENvbG9yMy5mcm9tSW50cyA9IGZyb21JbnRzO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIHdpdGggdmFsdWVzIGxpbmVhcmx5IGludGVycG9sYXRlZCBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIHN0YXJ0IENvbG9yMyBhbmQgdGhlIGVuZCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gc3RhcnQgLSBkZWZpbmVzIHRoZSBzdGFydCBDb2xvcjMgdmFsdWVcbiAgICAgKiBAcGFyYW0gZW5kIC0gZGVmaW5lcyB0aGUgZW5kIENvbG9yMyB2YWx1ZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSBkZWZpbmVzIHRoZSBncmFkaWVudCB2YWx1ZSBiZXR3ZWVuIHN0YXJ0IGFuZCBlbmRcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGVycChzdGFydCwgZW5kLCBhbW91bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY3JlYXRlKDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBDb2xvcjMubGVycFRvUmVmKHN0YXJ0LCBlbmQsIGFtb3VudCwgcmVzdWx0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgQ29sb3IzLmxlcnAgPSBsZXJwO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWZWN0b3IzIHdpdGggdmFsdWVzIGxpbmVhcmx5IGludGVycG9sYXRlZCBvZiBcImFtb3VudFwiIGJldHdlZW4gdGhlIHN0YXJ0IENvbG9yMyBhbmQgdGhlIGVuZCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gbGVmdCAtIGRlZmluZXMgdGhlIHN0YXJ0IHZhbHVlXG4gICAgICogQHBhcmFtIHJpZ2h0IC0gZGVmaW5lcyB0aGUgZW5kIHZhbHVlXG4gICAgICogQHBhcmFtIGFtb3VudCAtIGRlZmluZXMgdGhlIGdyYWRpZW50IGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsZXJwVG9SZWYobGVmdCwgcmlnaHQsIGFtb3VudCwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gbGVmdC5yICsgKHJpZ2h0LnIgLSBsZWZ0LnIpICogYW1vdW50O1xuICAgICAgICByZXN1bHQuZyA9IGxlZnQuZyArIChyaWdodC5nIC0gbGVmdC5nKSAqIGFtb3VudDtcbiAgICAgICAgcmVzdWx0LmIgPSBsZWZ0LmIgKyAocmlnaHQuYiAtIGxlZnQuYikgKiBhbW91bnQ7XG4gICAgfVxuICAgIENvbG9yMy5sZXJwVG9SZWYgPSBsZXJwVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgcmVkIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFJlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgxLCAwLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLlJlZCA9IFJlZDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBncmVlbiBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBHcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLCAwKTtcbiAgICB9XG4gICAgQ29sb3IzLkdyZWVuID0gR3JlZW47XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmx1ZSBjb2xvclxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCbHVlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAsIDAsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuQmx1ZSA9IEJsdWU7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIENvbG9yMyB2YWx1ZSBjb250YWluaW5nIGEgYmxhY2sgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gQmxhY2soKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMCwgMCwgMCk7XG4gICAgfVxuICAgIENvbG9yMy5CbGFjayA9IEJsYWNrO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHdoaXRlIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFdoaXRlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDEpO1xuICAgIH1cbiAgICBDb2xvcjMuV2hpdGUgPSBXaGl0ZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBwdXJwbGUgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUHVycGxlKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDAuNSwgMCwgMC41KTtcbiAgICB9XG4gICAgQ29sb3IzLlB1cnBsZSA9IFB1cnBsZTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSBtYWdlbnRhIGNvbG9yXG4gICAgICogQHJldHVybnMgYSBuZXcgVmVjdG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIE1hZ2VudGEoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUoMSwgMCwgMSk7XG4gICAgfVxuICAgIENvbG9yMy5NYWdlbnRhID0gTWFnZW50YTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSB5ZWxsb3cgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gWWVsbG93KCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKDEsIDEsIDApO1xuICAgIH1cbiAgICBDb2xvcjMuWWVsbG93ID0gWWVsbG93O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIGdyYXkgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gR3JheSgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLjUsIDAuNSwgMC41KTtcbiAgICB9XG4gICAgQ29sb3IzLkdyYXkgPSBHcmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBDb2xvcjMgdmFsdWUgY29udGFpbmluZyBhIHRlYWwgY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gVGVhbCgpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSgwLCAxLjAsIDEuMCk7XG4gICAgfVxuICAgIENvbG9yMy5UZWFsID0gVGVhbDtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgQ29sb3IzIHZhbHVlIGNvbnRhaW5pbmcgYSByYW5kb20gY29sb3JcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmFuZG9tKCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCkpO1xuICAgIH1cbiAgICBDb2xvcjMuUmFuZG9tID0gUmFuZG9tO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdHJpbmcgd2l0aCB0aGUgQ29sb3IzIGN1cnJlbnQgdmFsdWVzXG4gICAgICogQHJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgQ29sb3IzIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAne1I6ICcgKyB2YWx1ZS5yICsgJyBHOicgKyB2YWx1ZS5nICsgJyBCOicgKyB2YWx1ZS5iICsgJ30nO1xuICAgIH1cbiAgICBDb2xvcjMudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlIHRoZSBDb2xvcjMgaGFzaCBjb2RlXG4gICAgICogQHJldHVybnMgYW4gdW5pcXVlIG51bWJlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGhhc2ggQ29sb3IzIG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRIYXNoQ29kZSh2YWx1ZSkge1xuICAgICAgICBsZXQgaGFzaCA9IHZhbHVlLnIgfHwgMDtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzk3KSBeICh2YWx1ZS5nIHx8IDApO1xuICAgICAgICBoYXNoID0gKGhhc2ggKiAzOTcpIF4gKHZhbHVlLmIgfHwgMCk7XG4gICAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgICBDb2xvcjMuZ2V0SGFzaENvZGUgPSBnZXRIYXNoQ29kZTtcbiAgICAvLyBPcGVyYXRvcnNcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgaW4gdGhlIGdpdmVuIGFycmF5IGZyb20gdGhlIGdpdmVuIHN0YXJ0aW5nIGluZGV4IHRoZSByZWQsIGdyZWVuLCBibHVlIHZhbHVlcyBhcyBzdWNjZXNzaXZlIGVsZW1lbnRzXG4gICAgICogQHBhcmFtIGFycmF5IC0gZGVmaW5lcyB0aGUgYXJyYXkgd2hlcmUgdG8gc3RvcmUgdGhlIHIsZyxiIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBkZWZpbmVzIGFuIG9wdGlvbmFsIGluZGV4IGluIHRoZSB0YXJnZXQgYXJyYXkgdG8gZGVmaW5lIHdoZXJlIHRvIHN0YXJ0IHN0b3JpbmcgdmFsdWVzXG4gICAgICpcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0FycmF5KHZhbHVlLCBhcnJheSwgaW5kZXggPSAwKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHZhbHVlLnI7XG4gICAgICAgIGFycmF5W2luZGV4ICsgMV0gPSB2YWx1ZS5nO1xuICAgICAgICBhcnJheVtpbmRleCArIDJdID0gdmFsdWUuYjtcbiAgICB9XG4gICAgQ29sb3IzLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgQ29sb3I0IG9iamVjdCBmcm9tIHRoZSBjdXJyZW50IENvbG9yMyBhbmQgdGhlIGdpdmVuIGFscGhhXG4gICAgICogQHBhcmFtIGFscGhhIC0gZGVmaW5lcyB0aGUgYWxwaGEgY29tcG9uZW50IG9uIHRoZSBuZXcgQ29sb3I0IG9iamVjdCAoZGVmYXVsdCBpcyAxKVxuICAgICAqIEByZXR1cm5zIGEgbmV3IENvbG9yNCBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0NvbG9yNCh2YWx1ZSwgYWxwaGEgPSAxKSB7XG4gICAgICAgIHJldHVybiBDb2xvcjQuY3JlYXRlKHZhbHVlLnIsIHZhbHVlLmcsIHZhbHVlLmIsIGFscGhhKTtcbiAgICB9XG4gICAgQ29sb3IzLnRvQ29sb3I0ID0gdG9Db2xvcjQ7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBhcnJheSBwb3B1bGF0ZWQgd2l0aCAzIG51bWVyaWMgZWxlbWVudHMgOiByZWQsIGdyZWVuIGFuZCBibHVlIHZhbHVlc1xuICAgICAqIEByZXR1cm5zIHRoZSBuZXcgYXJyYXlcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhc0FycmF5KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b0FycmF5KHZhbHVlLCByZXN1bHQsIDApO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBDb2xvcjMuYXNBcnJheSA9IGFzQXJyYXk7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbHVtaW5hbmNlIHZhbHVlXG4gICAgICogQHJldHVybnMgYSBmbG9hdCB2YWx1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTHVtaW5hbmNlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5yICogMC4zICsgdmFsdWUuZyAqIDAuNTkgKyB2YWx1ZS5iICogMC4xMTtcbiAgICB9XG4gICAgQ29sb3IzLnRvTHVtaW5hbmNlID0gdG9MdW1pbmFuY2U7XG4gICAgLyoqXG4gICAgICogTXVsdGlwbHkgZWFjaCBDb2xvcjMgcmdiIHZhbHVlcyBieSB0aGUgZ2l2ZW4gQ29sb3IzIHJnYiB2YWx1ZXMgaW4gQ29sb3IzIG9iamVjdFxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcmV0dXJucyB0aGUgY3JlYXRlIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG11bHRpcGx5KHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciAqIG90aGVyQ29sb3IuciwgdmFsdWUuZyAqIG90aGVyQ29sb3IuZywgdmFsdWUuYiAqIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHRoZSByZ2IgdmFsdWVzIG9mIHRoZSBDb2xvcjMgYW5kIHRoZSBnaXZlbiBDb2xvcjMgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIHRoZSBvYmplY3QgXCJyZXN1bHRcIlxuICAgICAqIEBwYXJhbSBvdGhlckNvbG9yIC0gZGVmaW5lcyB0aGUgc2Vjb25kIG9wZXJhbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgcmVzdWx0XG4gICAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbXVsdGlwbHlUb1JlZih2YWx1ZSwgb3RoZXJDb2xvciwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gdmFsdWUuciAqIG90aGVyQ29sb3IucjtcbiAgICAgICAgcmVzdWx0LmcgPSB2YWx1ZS5nICogb3RoZXJDb2xvci5nO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBvdGhlckNvbG9yLmI7XG4gICAgfVxuICAgIENvbG9yMy5tdWx0aXBseVRvUmVmID0gbXVsdGlwbHlUb1JlZjtcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGVxdWFsaXR5IGJldHdlZW4gQ29sb3IzIG9iamVjdHNcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmdiIHZhbHVlcyBhcmUgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHModmFsdWUsIG90aGVyQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIChvdGhlckNvbG9yICYmXG4gICAgICAgICAgICB2YWx1ZS5yID09PSBvdGhlckNvbG9yLnIgJiZcbiAgICAgICAgICAgIHZhbHVlLmcgPT09IG90aGVyQ29sb3IuZyAmJlxuICAgICAgICAgICAgdmFsdWUuYiA9PT0gb3RoZXJDb2xvci5iKTtcbiAgICB9XG4gICAgQ29sb3IzLmVxdWFscyA9IGVxdWFscztcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGVxdWFsaXR5IGJldHdlZW4gdGhlIGN1cnJlbnQgQ29sb3IzIG9iamVjdCBhbmQgYSBzZXQgb2YgcixiLGcgdmFsdWVzXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHBhcmFtIGcgLSBkZWZpbmVzIHRoZSBncmVlbiBjb21wb25lbnQgdG8gY2hlY2tcbiAgICAgKiBAcGFyYW0gYiAtIGRlZmluZXMgdGhlIGJsdWUgY29tcG9uZW50IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmdiIHZhbHVlcyBhcmUgZXF1YWwgdG8gdGhlIGdpdmVuIG9uZXNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcXVhbHNGbG9hdHModmFsdWUsIHIsIGcsIGIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnIgPT09IHIgJiYgdmFsdWUuZyA9PT0gZyAmJiB2YWx1ZS5iID09PSBiO1xuICAgIH1cbiAgICBDb2xvcjMuZXF1YWxzRmxvYXRzID0gZXF1YWxzRmxvYXRzO1xuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgaW4gcGxhY2UgZWFjaCByZ2IgdmFsdWUgYnkgc2NhbGVcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlKHZhbHVlLCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlKHZhbHVlLnIgKiBzY2FsZSwgdmFsdWUuZyAqIHNjYWxlLCB2YWx1ZS5iICogc2NhbGUpO1xuICAgIH1cbiAgICBDb2xvcjMuc2NhbGUgPSBzY2FsZTtcbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHRoZSByZ2IgdmFsdWVzIGJ5IHNjYWxlIGFuZCBzdG9yZXMgdGhlIHJlc3VsdCBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gc2NhbGUgLSBkZWZpbmVzIHRoZSBzY2FsaW5nIGZhY3RvclxuICAgICAqIEBwYXJhbSByZXN1bHQgLSBkZWZpbmVzIHRoZSBDb2xvcjMgb2JqZWN0IHdoZXJlIHRvIHN0b3JlIHRoZSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNjYWxlVG9SZWYodmFsdWUsIHNjYWxlLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICogc2NhbGU7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiA9IHZhbHVlLmIgKiBzY2FsZTtcbiAgICB9XG4gICAgQ29sb3IzLnNjYWxlVG9SZWYgPSBzY2FsZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIFNjYWxlIHRoZSBjdXJyZW50IENvbG9yMyB2YWx1ZXMgYnkgYSBmYWN0b3IgYW5kIGFkZCB0aGUgcmVzdWx0IHRvIGEgZ2l2ZW4gQ29sb3IzXG4gICAgICogQHBhcmFtIHNjYWxlIC0gZGVmaW5lcyB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgY29sb3IgdG8gc3RvcmUgdGhlIHJlc3VsdCBpbnRvXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgY3VycmVudCBDb2xvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzY2FsZUFuZEFkZFRvUmVmKHZhbHVlLCBzY2FsZSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yICs9IHZhbHVlLnIgKiBzY2FsZTtcbiAgICAgICAgcmVzdWx0LmcgKz0gdmFsdWUuZyAqIHNjYWxlO1xuICAgICAgICByZXN1bHQuYiArPSB2YWx1ZS5iICogc2NhbGU7XG4gICAgfVxuICAgIENvbG9yMy5zY2FsZUFuZEFkZFRvUmVmID0gc2NhbGVBbmRBZGRUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW50byBcInJlc3VsdFwiXG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcGFyYW0gcmVzdWx0IC0gZGVmaW5lcyBjb2xvciB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgb3JpZ2luYWwgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXBUb1JlZih2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSwgcmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5yID0gU2NhbGFyLmNsYW1wKHZhbHVlLnIsIG1pbiwgbWF4KTtcbiAgICAgICAgcmVzdWx0LmcgPSBTY2FsYXIuY2xhbXAodmFsdWUuZywgbWluLCBtYXgpO1xuICAgICAgICByZXN1bHQuYiA9IFNjYWxhci5jbGFtcCh2YWx1ZS5iLCBtaW4sIG1heCk7XG4gICAgfVxuICAgIENvbG9yMy5jbGFtcFRvUmVmID0gY2xhbXBUb1JlZjtcbiAgICAvKipcbiAgICAgKiBDbGFtcHMgdGhlIHJnYiB2YWx1ZXMgYnkgdGhlIG1pbiBhbmQgbWF4IHZhbHVlcyBhbmQgcmV0dXJucyB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIG1pbiAtIGRlZmluZXMgbWluaW11bSBjbGFtcGluZyB2YWx1ZSAoZGVmYXVsdCBpcyAwKVxuICAgICAqIEBwYXJhbSBtYXggLSBkZWZpbmVzIG1heGltdW0gY2xhbXBpbmcgdmFsdWUgKGRlZmF1bHQgaXMgMSlcbiAgICAgKiBAcmV0dXJucyByZXN1bHRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluID0gMCwgbWF4ID0gMSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBDb2xvcjMuQmxhY2soKTtcbiAgICAgICAgY2xhbXBUb1JlZih2YWx1ZSwgbWluLCBtYXgsIHJlc3VsdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIENvbG9yMy5jbGFtcCA9IGNsYW1wO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgQ29sb3IzIHNldCB3aXRoIHRoZSBhZGRlZCB2YWx1ZXMgb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBvZiB0aGUgZ2l2ZW4gb25lXG4gICAgICogQHBhcmFtIG90aGVyQ29sb3IgLSBkZWZpbmVzIHRoZSBzZWNvbmQgb3BlcmFuZFxuICAgICAqIEByZXR1cm5zIHRoZSBjcmVhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmFsdWUsIG90aGVyQ29sb3IpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZSh2YWx1ZS5yICsgb3RoZXJDb2xvci5yLCB2YWx1ZS5nICsgb3RoZXJDb2xvci5nLCB2YWx1ZS5iICsgb3RoZXJDb2xvci5iKTtcbiAgICB9XG4gICAgQ29sb3IzLmFkZCA9IGFkZDtcbiAgICAvKipcbiAgICAgKiBTdG9yZXMgdGhlIHJlc3VsdCBvZiB0aGUgYWRkaXRpb24gb2YgdGhlIGN1cnJlbnQgQ29sb3IzIGFuZCBnaXZlbiBvbmUgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgQ29sb3IzIG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFRvUmVmKHZhbHVlLCBvdGhlckNvbG9yLCByZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LnIgPSB2YWx1ZS5yICsgb3RoZXJDb2xvci5yO1xuICAgICAgICByZXN1bHQuZyA9IHZhbHVlLmcgKyBvdGhlckNvbG9yLmc7XG4gICAgICAgIHJlc3VsdC5iID0gdmFsdWUuYiArIG90aGVyQ29sb3IuYjtcbiAgICB9XG4gICAgQ29sb3IzLmFkZFRvUmVmID0gYWRkVG9SZWY7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBDb2xvcjMgc2V0IHdpdGggdGhlIHN1YnRyYWN0ZWQgdmFsdWVzIG9mIHRoZSBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjNcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMgdGhlIGNyZWF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0KHZhbHVlLCBvdGhlckNvbG9yKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciAtIG90aGVyQ29sb3IuciwgdmFsdWUuZyAtIG90aGVyQ29sb3IuZywgdmFsdWUuYiAtIG90aGVyQ29sb3IuYik7XG4gICAgfVxuICAgIENvbG9yMy5zdWJ0cmFjdCA9IHN1YnRyYWN0O1xuICAgIC8qKlxuICAgICAqIFN0b3JlcyB0aGUgcmVzdWx0IG9mIHRoZSBzdWJ0cmFjdGlvbiBvZiBnaXZlbiBvbmUgZnJvbSB0aGUgY3VycmVudCBDb2xvcjMgcmdiIHZhbHVlcyBpbnRvIFwicmVzdWx0XCJcbiAgICAgKiBAcGFyYW0gb3RoZXJDb2xvciAtIGRlZmluZXMgdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHJlc3VsdCAtIGRlZmluZXMgQ29sb3IzIG9iamVjdCB0byBzdG9yZSB0aGUgcmVzdWx0IGludG9cbiAgICAgKiBAcmV0dXJucyB0aGUgdW5tb2RpZmllZCBjdXJyZW50IENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1YnRyYWN0VG9SZWYodmFsdWUsIG90aGVyQ29sb3IsIHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuciA9IHZhbHVlLnIgLSBvdGhlckNvbG9yLnI7XG4gICAgICAgIHJlc3VsdC5nID0gdmFsdWUuZyAtIG90aGVyQ29sb3IuZztcbiAgICAgICAgcmVzdWx0LmIgPSB2YWx1ZS5iIC0gb3RoZXJDb2xvci5iO1xuICAgIH1cbiAgICBDb2xvcjMuc3VidHJhY3RUb1JlZiA9IHN1YnRyYWN0VG9SZWY7XG4gICAgLyoqXG4gICAgICogQ29weSB0aGUgY3VycmVudCBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBDb2xvcjMgY29waWVkIHRoZSBjdXJyZW50IG9uZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGUodmFsdWUuciwgdmFsdWUuZywgdmFsdWUuYik7XG4gICAgfVxuICAgIENvbG9yMy5jbG9uZSA9IGNsb25lO1xuICAgIC8qKlxuICAgICAqIENvcGllcyB0aGUgcmdiIHZhbHVlcyBmcm9tIHRoZSBzb3VyY2UgaW4gdGhlIGN1cnJlbnQgQ29sb3IzXG4gICAgICogQHBhcmFtIHNvdXJjZSAtIGRlZmluZXMgdGhlIHNvdXJjZSBDb2xvcjMgb2JqZWN0XG4gICAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgQ29sb3IzIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlGcm9tKHNvdXJjZSwgZGVzdCkge1xuICAgICAgICBkZXN0LnIgPSBzb3VyY2UucjtcbiAgICAgICAgZGVzdC5nID0gc291cmNlLmc7XG4gICAgICAgIGRlc3QuYiA9IHNvdXJjZS5iO1xuICAgIH1cbiAgICBDb2xvcjMuY29weUZyb20gPSBjb3B5RnJvbTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBDb2xvcjMgcmdiIHZhbHVlcyBmcm9tIHRoZSBnaXZlbiBmbG9hdHNcbiAgICAgKiBAcGFyYW0gZGVzdCAtXG4gICAgICogQHBhcmFtIHIgLSBkZWZpbmVzIHRoZSByZWQgY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBnIC0gZGVmaW5lcyB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHJlYWQgZnJvbVxuICAgICAqIEBwYXJhbSBiIC0gZGVmaW5lcyB0aGUgYmx1ZSBjb21wb25lbnQgdG8gcmVhZCBmcm9tXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXQoZGVzdCwgciwgZywgYikge1xuICAgICAgICBkZXN0LnIgPSByO1xuICAgICAgICBkZXN0LmcgPSBnO1xuICAgICAgICBkZXN0LmIgPSBiO1xuICAgIH1cbiAgICBDb2xvcjMuc2V0ID0gc2V0O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgdGhlIENvbG9yMyBoZXhhZGVjaW1hbCBjb2RlIGFzIGEgc3RyaW5nXG4gICAgICogQHJldHVybnMgYSBzdHJpbmcgY29udGFpbmluZyB0aGUgaGV4YWRlY2ltYWwgcmVwcmVzZW50YXRpb24gb2YgdGhlIENvbG9yMyBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0hleFN0cmluZyh2YWx1ZSkge1xuICAgICAgICBjb25zdCBpbnRSID0gKHZhbHVlLnIgKiAyNTUpIHwgMDtcbiAgICAgICAgY29uc3QgaW50RyA9ICh2YWx1ZS5nICogMjU1KSB8IDA7XG4gICAgICAgIGNvbnN0IGludEIgPSAodmFsdWUuYiAqIDI1NSkgfCAwO1xuICAgICAgICByZXR1cm4gJyMnICsgU2NhbGFyLnRvSGV4KGludFIpICsgU2NhbGFyLnRvSGV4KGludEcpICsgU2NhbGFyLnRvSGV4KGludEIpO1xuICAgIH1cbiAgICBDb2xvcjMudG9IZXhTdHJpbmcgPSB0b0hleFN0cmluZztcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBDb2xvcjMgY29udmVydGVkIGZyb20gdGhlIGN1cnJlbnQgb25lIHRvIGxpbmVhciBzcGFjZVxuICAgICAqIEByZXR1cm5zIGEgbmV3IFZlY3RvcjNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0xpbmVhclNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvTGluZWFyU3BhY2VUb1JlZih2YWx1ZSwgY29udmVydGVkQ29sb3IpO1xuICAgICAgICByZXR1cm4gY29udmVydGVkQ29sb3I7XG4gICAgfVxuICAgIENvbG9yMy50b0xpbmVhclNwYWNlID0gdG9MaW5lYXJTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBsaW5lYXIgc3BhY2UgYW5kIHN0b3JlcyB0aGUgcmVzdWx0IGluIFwiY29udmVydGVkQ29sb3JcIlxuICAgICAqIEBwYXJhbSBjb252ZXJ0ZWRDb2xvciAtIGRlZmluZXMgdGhlIENvbG9yMyBvYmplY3Qgd2hlcmUgdG8gc3RvcmUgdGhlIGxpbmVhciBzcGFjZSB2ZXJzaW9uXG4gICAgICogQHJldHVybnMgdGhlIHVubW9kaWZpZWQgQ29sb3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9MaW5lYXJTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9MaW5lYXJTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmcgPSBNYXRoLnBvdyh2YWx1ZS5nLCBUb0xpbmVhclNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuYiA9IE1hdGgucG93KHZhbHVlLmIsIFRvTGluZWFyU3BhY2UpO1xuICAgIH1cbiAgICBDb2xvcjMudG9MaW5lYXJTcGFjZVRvUmVmID0gdG9MaW5lYXJTcGFjZVRvUmVmO1xuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIENvbG9yMyBjb252ZXJ0ZWQgZnJvbSB0aGUgY3VycmVudCBvbmUgdG8gZ2FtbWEgc3BhY2VcbiAgICAgKiBAcmV0dXJucyBhIG5ldyBWZWN0b3IzXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9HYW1tYVNwYWNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlZENvbG9yID0gY3JlYXRlKCk7XG4gICAgICAgIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcik7XG4gICAgICAgIHJldHVybiBjb252ZXJ0ZWRDb2xvcjtcbiAgICB9XG4gICAgQ29sb3IzLnRvR2FtbWFTcGFjZSA9IHRvR2FtbWFTcGFjZTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgQ29sb3IzIHZhbHVlcyB0byBnYW1tYSBzcGFjZSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gXCJjb252ZXJ0ZWRDb2xvclwiXG4gICAgICogQHBhcmFtIGNvbnZlcnRlZENvbG9yIC0gZGVmaW5lcyB0aGUgQ29sb3IzIG9iamVjdCB3aGVyZSB0byBzdG9yZSB0aGUgZ2FtbWEgc3BhY2UgdmVyc2lvblxuICAgICAqIEByZXR1cm5zIHRoZSB1bm1vZGlmaWVkIENvbG9yM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvR2FtbWFTcGFjZVRvUmVmKHZhbHVlLCBjb252ZXJ0ZWRDb2xvcikge1xuICAgICAgICBjb252ZXJ0ZWRDb2xvci5yID0gTWF0aC5wb3codmFsdWUuciwgVG9HYW1tYVNwYWNlKTtcbiAgICAgICAgY29udmVydGVkQ29sb3IuZyA9IE1hdGgucG93KHZhbHVlLmcsIFRvR2FtbWFTcGFjZSk7XG4gICAgICAgIGNvbnZlcnRlZENvbG9yLmIgPSBNYXRoLnBvdyh2YWx1ZS5iLCBUb0dhbW1hU3BhY2UpO1xuICAgIH1cbiAgICBDb2xvcjMudG9HYW1tYVNwYWNlVG9SZWYgPSB0b0dhbW1hU3BhY2VUb1JlZjtcbn0pKENvbG9yMyB8fCAoQ29sb3IzID0ge30pKTtcbiIsICJpbXBvcnQge1xuICBJRW5naW5lLFxuICBFbnRpdHksXG4gIFZpZGVvUGxheWVyLFxuICBNYXRlcmlhbCxcbiAgQXVkaW9TdHJlYW0sXG4gIFlHVW5pdCxcbiAgVGV4dEFsaWduTW9kZSxcbiAgRm9udCxcbiAgWUdQb3NpdGlvblR5cGUsXG4gIFBvaW50ZXJGaWx0ZXJNb2RlLFxuICBwb2ludGVyRXZlbnRzU3lzdGVtLFxuICBJbnB1dEFjdGlvbixcbiAgTWVzaENvbGxpZGVyLFxuICBnZXRDb21wb25lbnRFbnRpdHlUcmVlLFxuICBUd2VlbixcbiAgTW92ZSxcbiAgUEJUd2VlbixcbiAgUm90YXRlLFxuICBTY2FsZSxcbn0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IHJlcXVlc3RUZWxlcG9ydCB9IGZyb20gJ35zeXN0ZW0vVXNlckFjdGlvbk1vZHVsZSdcbmltcG9ydCB7XG4gIG1vdmVQbGF5ZXJUbyxcbiAgdHJpZ2dlckVtb3RlLFxuICB0cmlnZ2VyU2NlbmVFbW90ZSxcbiAgb3BlbkV4dGVybmFsVXJsLFxufSBmcm9tICd+c3lzdGVtL1Jlc3RyaWN0ZWRBY3Rpb25zJ1xuaW1wb3J0IHsgZ2V0QWN0aXZlVmlkZW9TdHJlYW1zIH0gZnJvbSAnfnN5c3RlbS9Db21tc0FwaSdcbmltcG9ydCB7XG4gIEFjdGlvblBheWxvYWQsXG4gIEFjdGlvblR5cGUsXG4gIElTREtIZWxwZXJzLFxuICBQcm94aW1pdHlMYXllcixcbiAgU2NyZWVuQWxpZ25Nb2RlLFxuICBUcmlnZ2VyVHlwZSxcbiAgVHdlZW5UeXBlLFxuICBjbG9uZSxcbiAgZ2V0Q29tcG9uZW50cyxcbiAgaW5pdFZpZGVvUGxheWVyQ29tcG9uZW50TWF0ZXJpYWwsXG59IGZyb20gJy4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgeyBnZXREZWZhdWx0VmFsdWUsIGlzVmFsaWRTdGF0ZSB9IGZyb20gJy4vc3RhdGVzJ1xuaW1wb3J0IHsgZ2V0QWN0aW9uRXZlbnRzLCBnZXRUcmlnZ2VyRXZlbnRzIH0gZnJvbSAnLi9ldmVudHMnXG5pbXBvcnQge1xuICBzdGFydEludGVydmFsLFxuICBzdGFydFRpbWVvdXQsXG4gIHN0b3BBbGxJbnRlcnZhbHMsXG4gIHN0b3BBbGxUaW1lb3V0cyxcbiAgc3RvcEludGVydmFsLFxuICBzdG9wVGltZW91dCxcbn0gZnJvbSAnLi90aW1lcidcbmltcG9ydCB7IGdldFBheWxvYWQgfSBmcm9tICcuL2FjdGlvbi10eXBlcydcbmltcG9ydCB7XG4gIGdldFVJQmFja2dyb3VuZCxcbiAgZ2V0VUlUZXh0LFxuICBnZXRVSVRyYW5zZm9ybSxcbiAgbWFwQWxpZ25Ub1NjcmVlbkFsaWduLFxufSBmcm9tICcuL3VpJ1xuaW1wb3J0IHsgZ2V0RXhwbG9yZXJDb21wb25lbnRzIH0gZnJvbSAnLi9jb21wb25lbnRzJ1xuaW1wb3J0IHsgaW5pdFRyaWdnZXJzLCBkYW1hZ2VUYXJnZXRzLCBoZWFsVGFyZ2V0cyB9IGZyb20gJy4vdHJpZ2dlcnMnXG5pbXBvcnQge1xuICBnZXRFbnRpdHlQYXJlbnQsXG4gIGdldFBsYXllclBvc2l0aW9uLFxuICBnZXRXb3JsZFBvc2l0aW9uLFxufSBmcm9tICdAZGNsLXNkay91dGlscydcbmltcG9ydCB7IGZvbGxvd01hcCB9IGZyb20gJy4vdHJhbnNmb3JtJ1xuaW1wb3J0IHsgZ2V0RWFzaW5nRnVuY3Rpb25Gcm9tSW50ZXJwb2xhdGlvbiB9IGZyb20gJy4vdHdlZW5zJ1xuXG5jb25zdCBpbml0ZWRFbnRpdGllcyA9IG5ldyBTZXQ8RW50aXR5PigpXG5jb25zdCB1aVN0YWNrcyA9IG5ldyBNYXA8c3RyaW5nLCBFbnRpdHk+KClcbmNvbnN0IGxhc3RVaUVudGl0eUNsaWNrZWQgPSBuZXcgTWFwPEVudGl0eSwgRW50aXR5PigpXG5cbmxldCBpbnRlcm5hbEluaXRBY3Rpb25zOiAoKGVudGl0eTogRW50aXR5KSA9PiB2b2lkKSB8IG51bGwgPSBudWxsXG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0QWN0aW9ucyhlbnRpdHk6IEVudGl0eSkge1xuICBpZiAoaW50ZXJuYWxJbml0QWN0aW9ucykge1xuICAgIHJldHVybiBpbnRlcm5hbEluaXRBY3Rpb25zKGVudGl0eSlcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgYENhbm5vdCBjYWxsIGluaXRBY3Rpb25zIHdoaWxlIGFjdGlvbnNTeXN0ZW0gaGFzIG5vdCBiZWVuIGNyZWF0ZWRgLFxuICApXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVBY3Rpb25zU3lzdGVtKGVuZ2luZTogSUVuZ2luZSwgc2RrSGVscGVycz86IElTREtIZWxwZXJzKSB7XG4gIGNvbnN0IHtcbiAgICBBbmltYXRvcixcbiAgICBUcmFuc2Zvcm0sXG4gICAgQXVkaW9Tb3VyY2UsXG4gICAgQXZhdGFyQXR0YWNoLFxuICAgIFZpc2liaWxpdHlDb21wb25lbnQsXG4gICAgR2x0ZkNvbnRhaW5lcixcbiAgICBVaVRyYW5zZm9ybSxcbiAgICBVaVRleHQsXG4gICAgVWlCYWNrZ3JvdW5kLFxuICAgIE5hbWUsXG4gICAgVHdlZW46IFR3ZWVuQ29tcG9uZW50LFxuICAgIFR3ZWVuU2VxdWVuY2UsXG4gIH0gPSBnZXRFeHBsb3JlckNvbXBvbmVudHMoZW5naW5lKVxuICBjb25zdCB7IEFjdGlvbnMsIFN0YXRlcywgQ291bnRlciwgVHJpZ2dlcnMgfSA9IGdldENvbXBvbmVudHMoZW5naW5lKVxuXG4gIC8vIHNhdmUgaW50ZXJuYWwgcmVmZXJlbmNlIHRvIGluaXQgZnVuY2lvblxuICBpbnRlcm5hbEluaXRBY3Rpb25zID0gaW5pdEFjdGlvbnNcblxuICByZXR1cm4gZnVuY3Rpb24gYWN0aW9uc1N5c3RlbShfZHQ6IG51bWJlcikge1xuICAgIGNvbnN0IGVudGl0aWVzV2l0aEFjdGlvbnMgPSBlbmdpbmUuZ2V0RW50aXRpZXNXaXRoKEFjdGlvbnMpXG5cbiAgICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGVudGl0aWVzV2l0aEFjdGlvbnMpIHtcbiAgICAgIGluaXRBY3Rpb25zKGVudGl0eSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0QWN0aW9ucyhlbnRpdHk6IEVudGl0eSkge1xuICAgIGlmICghQWN0aW9ucy5oYXMoZW50aXR5KSB8fCBpbml0ZWRFbnRpdGllcy5oYXMoZW50aXR5KSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZ2V0IGFjdGlvbnMgZGF0YVxuICAgIGNvbnN0IGFjdGlvbnMgPSBBY3Rpb25zLmdldChlbnRpdHkpXG5cbiAgICAvLyBpbml0aWFsaXplIGFjdGlvbnMgZm9yIGdpdmVuIGVudGl0eVxuICAgIGNvbnN0IHR5cGVzID0gYWN0aW9ucy52YWx1ZS5yZWR1Y2UoXG4gICAgICAodHlwZXMsIGFjdGlvbikgPT4gdHlwZXMuYWRkKGFjdGlvbi50eXBlKSxcbiAgICAgIG5ldyBTZXQ8U3RyaW5nPigpLFxuICAgIClcblxuICAgIGZvciAoY29uc3QgdHlwZSBvZiB0eXBlcykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uVHlwZS5QTEFZX0FOSU1BVElPTjoge1xuICAgICAgICAgIGluaXRQbGF5QW5pbWF0aW9uKGVudGl0eSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBiaW5kIGFjdGlvbnNcbiAgICBjb25zdCBhY3Rpb25FdmVudHMgPSBnZXRBY3Rpb25FdmVudHMoZW50aXR5KVxuICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMudmFsdWUpIHtcbiAgICAgIGFjdGlvbkV2ZW50cy5vbihhY3Rpb24ubmFtZSwgKCkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlBMQVlfQU5JTUFUSU9OOiB7XG4gICAgICAgICAgICBoYW5kbGVQbGF5QW5pbWF0aW9uKFxuICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5QTEFZX0FOSU1BVElPTj4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9QX0FOSU1BVElPTjoge1xuICAgICAgICAgICAgaGFuZGxlU3RvcEFuaW1hdGlvbihcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU1RPUF9BTklNQVRJT04+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX1NUQVRFOiB7XG4gICAgICAgICAgICBoYW5kbGVTZXRTdGF0ZShlbnRpdHksIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5TRVRfU1RBVEU+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RBUlRfVFdFRU46IHtcbiAgICAgICAgICAgIGhhbmRsZVN0YXJ0VHdlZW4oZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU1RBUlRfVFdFRU4+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX0NPVU5URVI6IHtcbiAgICAgICAgICAgIGhhbmRsZVNldENvdW50ZXIoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU0VUX0NPVU5URVI+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuSU5DUkVNRU5UX0NPVU5URVI6IHtcbiAgICAgICAgICAgIGhhbmRsZUluY3JlbWVudENvdW50ZXIoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLklOQ1JFTUVOVF9DT1VOVEVSPihhY3Rpb24pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkRFQ1JFQVNFX0NPVU5URVI6IHtcbiAgICAgICAgICAgIGhhbmRsZURlY3JlYXNlQ291bnRlcihcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuREVDUkVBU0VfQ09VTlRFUj4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5QTEFZX1NPVU5EOiB7XG4gICAgICAgICAgICBoYW5kbGVQbGF5U291bmQoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuUExBWV9TT1VORD4oYWN0aW9uKSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9QX1NPVU5EOiB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wU291bmQoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU1RPUF9TT1VORD4oYWN0aW9uKSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfVklTSUJJTElUWToge1xuICAgICAgICAgICAgaGFuZGxlU2V0VmlzaWJpbGl0eShcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU0VUX1ZJU0lCSUxJVFk+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuQVRUQUNIX1RPX1BMQVlFUjoge1xuICAgICAgICAgICAgaGFuZGxlQXR0YWNoVG9QbGF5ZXIoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLkFUVEFDSF9UT19QTEFZRVI+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuREVUQUNIX0ZST01fUExBWUVSOiB7XG4gICAgICAgICAgICBoYW5kbGVEZXRhY2hGcm9tUGxheWVyKFxuICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5ERVRBQ0hfRlJPTV9QTEFZRVI+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuUExBWV9WSURFT19TVFJFQU06IHtcbiAgICAgICAgICAgIGhhbmRsZVBsYXlWaWRlbyhcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuUExBWV9WSURFT19TVFJFQU0+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUF9WSURFT19TVFJFQU06IHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BWaWRlbyhcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU1RPUF9WSURFT19TVFJFQU0+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuUExBWV9BVURJT19TVFJFQU06IHtcbiAgICAgICAgICAgIGhhbmRsZVBsYXlBdWRpb1N0cmVhbShcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuUExBWV9BVURJT19TVFJFQU0+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU1RPUF9BVURJT19TVFJFQU06IHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BBdWRpb1N0cmVhbShcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU1RPUF9BVURJT19TVFJFQU0+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuVEVMRVBPUlRfUExBWUVSOiB7XG4gICAgICAgICAgICBoYW5kbGVUZWxlcG9ydFBsYXllcihcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuVEVMRVBPUlRfUExBWUVSPihhY3Rpb24pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLk1PVkVfUExBWUVSOiB7XG4gICAgICAgICAgICBoYW5kbGVNb3ZlUGxheWVyKGVudGl0eSwgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLk1PVkVfUExBWUVSPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlBMQVlfREVGQVVMVF9FTU9URToge1xuICAgICAgICAgICAgaGFuZGxlUGxheURlZmF1bHRFbW90ZShcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuUExBWV9ERUZBVUxUX0VNT1RFPihhY3Rpb24pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlBMQVlfQ1VTVE9NX0VNT1RFOiB7XG4gICAgICAgICAgICBoYW5kbGVQbGF5Q3VzdG9tRW1vdGUoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlBMQVlfQ1VTVE9NX0VNT1RFPihhY3Rpb24pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLk9QRU5fTElOSzoge1xuICAgICAgICAgICAgaGFuZGxlT3BlbkxpbmsoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuT1BFTl9MSU5LPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNIT1dfVEVYVDoge1xuICAgICAgICAgICAgaGFuZGxlU2hvd1RleHQoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU0hPV19URVhUPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkhJREVfVEVYVDoge1xuICAgICAgICAgICAgaGFuZGxlSGlkZVRleHQoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuSElERV9URVhUPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUQVJUX0RFTEFZOiB7XG4gICAgICAgICAgICBoYW5kbGVTdGFydERlbGF5KGVudGl0eSwgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlNUQVJUX0RFTEFZPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUT1BfREVMQVk6IHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BEZWxheShlbnRpdHksIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5TVE9QX0RFTEFZPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUQVJUX0xPT1A6IHtcbiAgICAgICAgICAgIGhhbmRsZVN0YXJ0TG9vcChlbnRpdHksIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5TVEFSVF9MT09QPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNUT1BfTE9PUDoge1xuICAgICAgICAgICAgaGFuZGxlU3RvcExvb3AoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU1RPUF9MT09QPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkNMT05FX0VOVElUWToge1xuICAgICAgICAgICAgaGFuZGxlQ2xvbmVFbnRpdHkoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLkNMT05FX0VOVElUWT4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5SRU1PVkVfRU5USVRZOiB7XG4gICAgICAgICAgICBoYW5kbGVSZW1vdmVFbnRpdHkoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlJFTU9WRV9FTlRJVFk+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0hPV19JTUFHRToge1xuICAgICAgICAgICAgaGFuZGxlU2hvd0ltYWdlKGVudGl0eSwgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlNIT1dfSU1BR0U+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuSElERV9JTUFHRToge1xuICAgICAgICAgICAgaGFuZGxlSGlkZUltYWdlKGVudGl0eSwgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLkhJREVfSU1BR0U+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuREFNQUdFOiB7XG4gICAgICAgICAgICBoYW5kbGVEYW1hZ2UoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuREFNQUdFPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLk1PVkVfUExBWUVSX0hFUkU6IHtcbiAgICAgICAgICAgIGhhbmRsZU1vdmVQbGF5ZXJIZXJlKFxuICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5NT1ZFX1BMQVlFUl9IRVJFPihhY3Rpb24pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLkZPTExPV19QTEFZRVI6IHtcbiAgICAgICAgICAgIGhhbmRsZUZvbGxvd1BsYXllcihcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuRk9MTE9XX1BMQVlFUj4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TVE9QX0ZPTExPV0lOR19QTEFZRVI6IHtcbiAgICAgICAgICAgIGhhbmRsZVN0b3BGb2xsb3dpbmdQbGF5ZXIoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlNUT1BfRk9MTE9XSU5HX1BMQVlFUj4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5QTEFDRV9PTl9QTEFZRVI6IHtcbiAgICAgICAgICAgIGhhbmRsZVBsYWNlT25QbGF5ZXIoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlBMQUNFX09OX1BMQVlFUj4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5ST1RBVEVfQVNfUExBWUVSOiB7XG4gICAgICAgICAgICBoYW5kbGVSb3RhdGVBc1BsYXllcihcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuUk9UQVRFX0FTX1BMQVlFUj4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5QTEFDRV9PTl9DQU1FUkE6IHtcbiAgICAgICAgICAgIGhhbmRsZVBsYWNlT25DYW1lcmEoXG4gICAgICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICAgICAgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlBMQUNFX09OX0NBTUVSQT4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5ST1RBVEVfQVNfQ0FNRVJBOiB7XG4gICAgICAgICAgICBoYW5kbGVSb3RhdGVBc0NhbWVyYShcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuUk9UQVRFX0FTX0NBTUVSQT4oYWN0aW9uKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5TRVRfUE9TSVRJT046IHtcbiAgICAgICAgICAgIGhhbmRsZVNldFBvc2l0aW9uKFxuICAgICAgICAgICAgICBlbnRpdHksXG4gICAgICAgICAgICAgIGdldFBheWxvYWQ8QWN0aW9uVHlwZS5TRVRfUE9TSVRJT04+KGFjdGlvbiksXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuU0VUX1JPVEFUSU9OOiB7XG4gICAgICAgICAgICBoYW5kbGVTZXRSb3RhdGlvbihcbiAgICAgICAgICAgICAgZW50aXR5LFxuICAgICAgICAgICAgICBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU0VUX1JPVEFUSU9OPihhY3Rpb24pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlNFVF9TQ0FMRToge1xuICAgICAgICAgICAgaGFuZGxlU2V0U2NhbGUoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuU0VUX1NDQUxFPihhY3Rpb24pKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBBY3Rpb25UeXBlLlJBTkRPTToge1xuICAgICAgICAgICAgaGFuZGxlUmFuZG9tKGVudGl0eSwgZ2V0UGF5bG9hZDxBY3Rpb25UeXBlLlJBTkRPTT4oYWN0aW9uKSlcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQWN0aW9uVHlwZS5CQVRDSDoge1xuICAgICAgICAgICAgaGFuZGxlQmF0Y2goZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuQkFUQ0g+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIEFjdGlvblR5cGUuSEVBTF9QTEFZRVI6IHtcbiAgICAgICAgICAgIGhhbmRsZUhlYWxQbGF5ZXIoZW50aXR5LCBnZXRQYXlsb2FkPEFjdGlvblR5cGUuSEVBTF9QTEFZRVI+KGFjdGlvbikpXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpbml0ZWRFbnRpdGllcy5hZGQoZW50aXR5KVxuICB9XG5cbiAgLy8gUExBWV9BTklNQVRJT05cbiAgZnVuY3Rpb24gaW5pdFBsYXlBbmltYXRpb24oZW50aXR5OiBFbnRpdHkpIHtcbiAgICBpZiAoIUFuaW1hdG9yLmhhcyhlbnRpdHkpKSB7XG4gICAgICBBbmltYXRvci5jcmVhdGUoZW50aXR5LCB7XG4gICAgICAgIHN0YXRlczogW10sXG4gICAgICB9KVxuICAgICAgQW5pbWF0b3Iuc3RvcEFsbEFuaW1hdGlvbnMoZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVBsYXlBbmltYXRpb24oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlBMQVlfQU5JTUFUSU9OPixcbiAgKSB7XG4gICAgY29uc3QgeyBhbmltYXRpb24sIGxvb3AgfSA9IHBheWxvYWRcblxuICAgIGNvbnN0IGFuaW1hdG9yID0gQW5pbWF0b3IuZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgaWYgKCFhbmltYXRvci5zdGF0ZXMuc29tZSgoJCkgPT4gJC5jbGlwID09PSBhbmltYXRpb24pKSB7XG4gICAgICBhbmltYXRvci5zdGF0ZXMgPSBbXG4gICAgICAgIC4uLmFuaW1hdG9yLnN0YXRlcyxcbiAgICAgICAge1xuICAgICAgICAgIGNsaXA6IGFuaW1hdGlvbixcbiAgICAgICAgfSxcbiAgICAgIF1cbiAgICB9XG5cbiAgICBBbmltYXRvci5zdG9wQWxsQW5pbWF0aW9ucyhlbnRpdHkpXG4gICAgY29uc3QgY2xpcCA9IEFuaW1hdG9yLmdldENsaXAoZW50aXR5LCBhbmltYXRpb24pXG4gICAgY2xpcC5wbGF5aW5nID0gdHJ1ZVxuICAgIGNsaXAubG9vcCA9IGxvb3AgPz8gZmFsc2VcbiAgfVxuXG4gIC8vIFNUT1BfQU5JTUFUSU9OXG4gIGZ1bmN0aW9uIGhhbmRsZVN0b3BBbmltYXRpb24oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgX3BheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVE9QX0FOSU1BVElPTj4sXG4gICkge1xuICAgIGlmIChBbmltYXRvci5oYXMoZW50aXR5KSkge1xuICAgICAgQW5pbWF0b3Iuc3RvcEFsbEFuaW1hdGlvbnMoZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIC8vIFNFVF9TVEFURVxuICBmdW5jdGlvbiBoYW5kbGVTZXRTdGF0ZShcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuU0VUX1NUQVRFPixcbiAgKSB7XG4gICAgY29uc3Qgc3RhdGVzID0gU3RhdGVzLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuXG4gICAgaWYgKHN0YXRlcykge1xuICAgICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZ2V0RGVmYXVsdFZhbHVlKHN0YXRlcylcbiAgICAgIGxldCBuZXh0U3RhdGU6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHBheWxvYWQuc3RhdGVcbiAgICAgIG5leHRTdGF0ZSA9IGlzVmFsaWRTdGF0ZShzdGF0ZXMsIG5leHRTdGF0ZSkgPyBuZXh0U3RhdGUgOiBkZWZhdWx0VmFsdWVcbiAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBzdGF0ZXMuY3VycmVudFZhbHVlID8/IGRlZmF1bHRWYWx1ZSA/PyB1bmRlZmluZWRcbiAgICAgIHN0YXRlcy5wcmV2aW91c1ZhbHVlID0gcHJldmlvdXNWYWx1ZVxuICAgICAgc3RhdGVzLmN1cnJlbnRWYWx1ZSA9IG5leHRTdGF0ZVxuXG4gICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyhlbnRpdHkpXG4gICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fU1RBVEVfQ0hBTkdFKVxuICAgIH1cbiAgfVxuXG4gIC8vIFNUQVJUX1RXRUVOXG4gIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0VHdlZW4oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNUQVJUX1RXRUVOPixcbiAgKSB7XG4gICAgaWYgKHBheWxvYWQpIHtcbiAgICAgIC8vIEdldCB0aGUgaW5pdGlhbCB0d2VlbiBpZiBleGlzdHMgdG8gcmV2ZXJ0IHRoZSBvYmplY3QgbW92ZW1lbnQgdG8gdGhhdCBzZXF1ZW5jZSB3aGVuIGV4ZWN1dGluZyBhIHR3ZWVuIGZyb20gYWN0aW9uc1xuICAgICAgY29uc3QgaW5pdGlhbFR3ZWVuID0gVHdlZW5Db21wb25lbnQuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgICBsZXQgdHdlZW5cblxuICAgICAgc3dpdGNoIChwYXlsb2FkLnR5cGUpIHtcbiAgICAgICAgY2FzZSBUd2VlblR5cGUuTU9WRV9JVEVNOiB7XG4gICAgICAgICAgdHdlZW4gPSBoYW5kbGVNb3ZlSXRlbShlbnRpdHksIHBheWxvYWQpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFR3ZWVuVHlwZS5ST1RBVEVfSVRFTToge1xuICAgICAgICAgIHR3ZWVuID0gaGFuZGxlUm90YXRlSXRlbShlbnRpdHksIHBheWxvYWQpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFR3ZWVuVHlwZS5TQ0FMRV9JVEVNOiB7XG4gICAgICAgICAgdHdlZW4gPSBoYW5kbGVTY2FsZUl0ZW0oZW50aXR5LCBwYXlsb2FkKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biB0d2VlbiB0eXBlOiAke3BheWxvYWQudHlwZX1gKVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldmVydFR3ZWVuKGVudGl0eSwgaW5pdGlhbFR3ZWVuLCB0d2VlbilcbiAgICB9XG4gIH1cblxuICAvLyBSZXN0YXJ0IHRvIHRoZSBpbml0aWFsIG1vdmVtZW50IHNlcXVlbmNlIHdoZW4gZXhlY3V0aW5nIGFuIGFkaXRpb25hbCB0d2VlblxuICBmdW5jdGlvbiByZXZlcnRUd2VlbihcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBpbml0aWFsVHdlZW46IFBCVHdlZW4gfCBudWxsLFxuICAgIHR3ZWVuOiBQQlR3ZWVuLFxuICApIHtcbiAgICBjb25zdCB0d2VlblNlcXVlbmNlID0gVHdlZW5TZXF1ZW5jZS5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcbiAgICBsZXQgX3JldmVydFR3ZWVuID0ge1xuICAgICAgLi4udHdlZW4sXG4gICAgfVxuXG4gICAgaWYgKCFpbml0aWFsVHdlZW4gfHwgIXR3ZWVuU2VxdWVuY2UgfHwgIXR3ZWVuU2VxdWVuY2UubG9vcCkgcmV0dXJuXG5cbiAgICBzd2l0Y2ggKGluaXRpYWxUd2Vlbi5tb2RlPy4kY2FzZSkge1xuICAgICAgY2FzZSAnbW92ZSc6IHtcbiAgICAgICAgX3JldmVydFR3ZWVuID0ge1xuICAgICAgICAgIC4uLl9yZXZlcnRUd2VlbixcbiAgICAgICAgICBtb2RlOiBUd2Vlbi5Nb2RlLk1vdmUoe1xuICAgICAgICAgICAgc3RhcnQ6ICh0d2Vlbi5tb2RlIGFzIHsgJGNhc2U6ICdtb3ZlJzsgbW92ZTogTW92ZSB9KS5tb3ZlLmVuZCxcbiAgICAgICAgICAgIGVuZDogaW5pdGlhbFR3ZWVuLm1vZGUubW92ZS5zdGFydCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAncm90YXRlJzoge1xuICAgICAgICBfcmV2ZXJ0VHdlZW4gPSB7XG4gICAgICAgICAgLi4uX3JldmVydFR3ZWVuLFxuICAgICAgICAgIG1vZGU6IFR3ZWVuLk1vZGUuUm90YXRlKHtcbiAgICAgICAgICAgIHN0YXJ0OiAodHdlZW4ubW9kZSBhcyB7ICRjYXNlOiAncm90YXRlJzsgcm90YXRlOiBSb3RhdGUgfSkucm90YXRlXG4gICAgICAgICAgICAgIC5lbmQsXG4gICAgICAgICAgICBlbmQ6IGluaXRpYWxUd2Vlbi5tb2RlLnJvdGF0ZS5zdGFydCxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgY2FzZSAnc2NhbGUnOiB7XG4gICAgICAgIF9yZXZlcnRUd2VlbiA9IHtcbiAgICAgICAgICAuLi5fcmV2ZXJ0VHdlZW4sXG4gICAgICAgICAgbW9kZTogVHdlZW4uTW9kZS5TY2FsZSh7XG4gICAgICAgICAgICBzdGFydDogKHR3ZWVuLm1vZGUgYXMgeyAkY2FzZTogJ3NjYWxlJzsgc2NhbGU6IFNjYWxlIH0pLnNjYWxlLmVuZCxcbiAgICAgICAgICAgIGVuZDogaW5pdGlhbFR3ZWVuLm1vZGUuc2NhbGUuc3RhcnQsXG4gICAgICAgICAgfSksXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR3ZWVuIG1vZGU6ICR7aW5pdGlhbFR3ZWVuLm1vZGV9YClcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgaW5pdGlhbCB0d2VlbiBpcyBub3QgcGxheWluZyBidXQgdGhlIGxvb3AgcHJvcGVydHkgaXMgYWN0aXZlLCBzdGFydCBpdFxuICAgIGluaXRpYWxUd2Vlbi5wbGF5aW5nID0gdHJ1ZVxuICAgIHR3ZWVuU2VxdWVuY2Uuc2VxdWVuY2UgPSBbX3JldmVydFR3ZWVuLCBpbml0aWFsVHdlZW5dXG4gIH1cblxuICAvLyBNT1ZFX0lURU1cbiAgZnVuY3Rpb24gaGFuZGxlTW92ZUl0ZW0oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgdHdlZW46IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVEFSVF9UV0VFTj4sXG4gICkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXQoZW50aXR5KVxuICAgIGNvbnN0IHsgZHVyYXRpb24sIGludGVycG9sYXRpb25UeXBlLCByZWxhdGl2ZSB9ID0gdHdlZW5cbiAgICBjb25zdCBlbmQgPSBWZWN0b3IzLmNyZWF0ZSh0d2Vlbi5lbmQueCwgdHdlZW4uZW5kLnksIHR3ZWVuLmVuZC56KVxuICAgIGNvbnN0IGVuZFBvc2l0aW9uID0gcmVsYXRpdmUgPyBWZWN0b3IzLmFkZCh0cmFuc2Zvcm0ucG9zaXRpb24sIGVuZCkgOiBlbmRcblxuICAgIHJldHVybiBUd2VlbkNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICBtb2RlOiBUd2Vlbi5Nb2RlLk1vdmUoe1xuICAgICAgICBzdGFydDogdHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICBlbmQ6IGVuZFBvc2l0aW9uLFxuICAgICAgfSksXG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24gKiAxMDAwLCAvLyBmcm9tIHNlY3MgdG8gbXNcbiAgICAgIGVhc2luZ0Z1bmN0aW9uOiBnZXRFYXNpbmdGdW5jdGlvbkZyb21JbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb25UeXBlKSxcbiAgICB9KVxuICB9XG5cbiAgLy8gUk9UQVRFX0lURU1cbiAgZnVuY3Rpb24gaGFuZGxlUm90YXRlSXRlbShcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICB0d2VlbjogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNUQVJUX1RXRUVOPixcbiAgKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldChlbnRpdHkpXG4gICAgY29uc3QgeyBkdXJhdGlvbiwgaW50ZXJwb2xhdGlvblR5cGUsIHJlbGF0aXZlIH0gPSB0d2VlblxuICAgIGNvbnN0IGVuZCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcyhcbiAgICAgIHR3ZWVuLmVuZC54LFxuICAgICAgdHdlZW4uZW5kLnksXG4gICAgICB0d2Vlbi5lbmQueixcbiAgICApXG4gICAgY29uc3QgZW5kUm90YXRpb24gPSByZWxhdGl2ZVxuICAgICAgPyBRdWF0ZXJuaW9uLm11bHRpcGx5KHRyYW5zZm9ybS5yb3RhdGlvbiwgZW5kKVxuICAgICAgOiBlbmRcblxuICAgIHJldHVybiBUd2VlbkNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICBtb2RlOiBUd2Vlbi5Nb2RlLlJvdGF0ZSh7XG4gICAgICAgIHN0YXJ0OiB0cmFuc2Zvcm0ucm90YXRpb24sXG4gICAgICAgIGVuZDogZW5kUm90YXRpb24sXG4gICAgICB9KSxcbiAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbiAqIDEwMDAsIC8vIGZyb20gc2VjcyB0byBtc1xuICAgICAgZWFzaW5nRnVuY3Rpb246IGdldEVhc2luZ0Z1bmN0aW9uRnJvbUludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvblR5cGUpLFxuICAgIH0pXG4gIH1cblxuICAvLyBTQ0FMRV9JVEVNXG4gIGZ1bmN0aW9uIGhhbmRsZVNjYWxlSXRlbShcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICB0d2VlbjogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNUQVJUX1RXRUVOPixcbiAgKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldChlbnRpdHkpXG4gICAgY29uc3QgeyBkdXJhdGlvbiwgaW50ZXJwb2xhdGlvblR5cGUsIHJlbGF0aXZlIH0gPSB0d2VlblxuICAgIGNvbnN0IGVuZCA9IFZlY3RvcjMuY3JlYXRlKHR3ZWVuLmVuZC54LCB0d2Vlbi5lbmQueSwgdHdlZW4uZW5kLnopXG4gICAgY29uc3QgZW5kU2NhbGUgPSByZWxhdGl2ZSA/IFZlY3RvcjMuYWRkKHRyYW5zZm9ybS5zY2FsZSwgZW5kKSA6IGVuZFxuXG4gICAgcmV0dXJuIFR3ZWVuQ29tcG9uZW50LmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgIG1vZGU6IFR3ZWVuLk1vZGUuU2NhbGUoe1xuICAgICAgICBzdGFydDogdHJhbnNmb3JtLnNjYWxlLFxuICAgICAgICBlbmQ6IGVuZFNjYWxlLFxuICAgICAgfSksXG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24gKiAxMDAwLCAvLyBmcm9tIHNlY3MgdG8gbXNcbiAgICAgIGVhc2luZ0Z1bmN0aW9uOiBnZXRFYXNpbmdGdW5jdGlvbkZyb21JbnRlcnBvbGF0aW9uKGludGVycG9sYXRpb25UeXBlKSxcbiAgICB9KVxuICB9XG5cbiAgLy8gU0VUX0NPVU5URVJcbiAgZnVuY3Rpb24gaGFuZGxlU2V0Q291bnRlcihcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuU0VUX0NPVU5URVI+LFxuICApIHtcbiAgICBjb25zdCBjb3VudGVyID0gQ291bnRlci5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcblxuICAgIGlmIChjb3VudGVyKSB7XG4gICAgICBjb3VudGVyLnZhbHVlID0gcGF5bG9hZC5jb3VudGVyXG5cbiAgICAgIGNvbnN0IHRyaWdnZXJFdmVudHMgPSBnZXRUcmlnZ2VyRXZlbnRzKGVudGl0eSlcbiAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9DT1VOVEVSX0NIQU5HRSlcbiAgICB9XG4gIH1cblxuICAvLyBJTkNSRU1FTlRfQ09VTlRFUlxuICBmdW5jdGlvbiBoYW5kbGVJbmNyZW1lbnRDb3VudGVyKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5JTkNSRU1FTlRfQ09VTlRFUj4sXG4gICkge1xuICAgIGNvbnN0IGNvdW50ZXIgPSBDb3VudGVyLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuICAgIGNvbnN0IGFtb3VudCA9IHBheWxvYWQuYW1vdW50ID8/IDFcblxuICAgIGlmIChjb3VudGVyKSB7XG4gICAgICBjb3VudGVyLnZhbHVlICs9IGFtb3VudFxuXG4gICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyhlbnRpdHkpXG4gICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fQ09VTlRFUl9DSEFOR0UpXG4gICAgfVxuICB9XG5cbiAgLy8gREVDUkVBU0VfQ09VTlRFUlxuICBmdW5jdGlvbiBoYW5kbGVEZWNyZWFzZUNvdW50ZXIoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLklOQ1JFTUVOVF9DT1VOVEVSPixcbiAgKSB7XG4gICAgY29uc3QgY291bnRlciA9IENvdW50ZXIuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgY29uc3QgYW1vdW50ID0gcGF5bG9hZC5hbW91bnQgPz8gMVxuXG4gICAgaWYgKGNvdW50ZXIpIHtcbiAgICAgIGNvdW50ZXIudmFsdWUgLT0gYW1vdW50XG5cbiAgICAgIGNvbnN0IHRyaWdnZXJFdmVudHMgPSBnZXRUcmlnZ2VyRXZlbnRzKGVudGl0eSlcbiAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9DT1VOVEVSX0NIQU5HRSlcbiAgICB9XG4gIH1cblxuICAvLyBQTEFZX1NPVU5EXG4gIGZ1bmN0aW9uIGhhbmRsZVBsYXlTb3VuZChcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuUExBWV9TT1VORD4sXG4gICkge1xuICAgIGNvbnN0IHsgc3JjLCBsb29wLCB2b2x1bWUgfSA9IHBheWxvYWRcbiAgICBpZiAoQXVkaW9Tb3VyY2UuaGFzKGVudGl0eSkpIHtcbiAgICAgIEF1ZGlvU291cmNlLnBsYXlTb3VuZChlbnRpdHksIHNyYylcbiAgICAgIGNvbnN0IGF1ZGlvU291cmNlID0gQXVkaW9Tb3VyY2UuZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgICBhdWRpb1NvdXJjZS5sb29wID0gbG9vcFxuICAgICAgYXVkaW9Tb3VyY2Uudm9sdW1lID0gdm9sdW1lID8/IDFcbiAgICB9IGVsc2Uge1xuICAgICAgQXVkaW9Tb3VyY2UuY3JlYXRlKGVudGl0eSwge1xuICAgICAgICBhdWRpb0NsaXBVcmw6IHNyYyxcbiAgICAgICAgbG9vcCxcbiAgICAgICAgcGxheWluZzogdHJ1ZSxcbiAgICAgICAgdm9sdW1lOiB2b2x1bWUgPz8gMSxcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8gU1RPUF9TT1VORFxuICBmdW5jdGlvbiBoYW5kbGVTdG9wU291bmQoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgX3BheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVE9QX1NPVU5EPixcbiAgKSB7XG4gICAgY29uc3QgYXVkaW9Tb3VyY2UgPSBBdWRpb1NvdXJjZS5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcbiAgICBpZiAoYXVkaW9Tb3VyY2UpIHtcbiAgICAgIGF1ZGlvU291cmNlLnBsYXlpbmcgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIC8vIFNFVF9WSVNJQklMSVRZXG4gIGZ1bmN0aW9uIGhhbmRsZVNldFZpc2liaWxpdHkoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNFVF9WSVNJQklMSVRZPixcbiAgKSB7XG4gICAgY29uc3QgeyB2aXNpYmxlLCBjb2xsaWRlciB9ID0gcGF5bG9hZFxuICAgIFZpc2liaWxpdHlDb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgeyB2aXNpYmxlIH0pXG4gICAgY29uc3QgZ2x0ZiA9IEdsdGZDb250YWluZXIuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgY29uc3QgbWVzaENvbGxpZGVyID0gTWVzaENvbGxpZGVyLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuXG4gICAgaWYgKGNvbGxpZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChnbHRmKSB7XG4gICAgICAgIGdsdGYuaW52aXNpYmxlTWVzaGVzQ29sbGlzaW9uTWFzayA9IGNvbGxpZGVyXG4gICAgICB9IGVsc2UgaWYgKG1lc2hDb2xsaWRlcikge1xuICAgICAgICBtZXNoQ29sbGlkZXIuY29sbGlzaW9uTWFzayA9IGNvbGxpZGVyXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQVRUQUNIX1RPX1BMQVlFUlxuICBmdW5jdGlvbiBoYW5kbGVBdHRhY2hUb1BsYXllcihcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuQVRUQUNIX1RPX1BMQVlFUj4sXG4gICkge1xuICAgIGNvbnN0IHsgYW5jaG9yUG9pbnRJZCB9ID0gcGF5bG9hZFxuICAgIEF2YXRhckF0dGFjaC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7IGFuY2hvclBvaW50SWQgfSlcbiAgfVxuXG4gIC8vIERFVEFDSF9GUk9NX1BMQVlFUlxuICBmdW5jdGlvbiBoYW5kbGVEZXRhY2hGcm9tUGxheWVyKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIF9wYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuREVUQUNIX0ZST01fUExBWUVSPixcbiAgKSB7XG4gICAgaWYgKEF2YXRhckF0dGFjaC5oYXMoZW50aXR5KSkge1xuICAgICAgQXZhdGFyQXR0YWNoLmRlbGV0ZUZyb20oZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIC8vIFRFTEVQT1JUIFBMQVlFUlxuICBmdW5jdGlvbiBoYW5kbGVUZWxlcG9ydFBsYXllcihcbiAgICBfZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlRFTEVQT1JUX1BMQVlFUj4sXG4gICkge1xuICAgIGNvbnN0IHsgeCwgeSB9ID0gcGF5bG9hZFxuICAgIHJlcXVlc3RUZWxlcG9ydCh7XG4gICAgICBkZXN0aW5hdGlvbjogYCR7eH0sJHt5fWAsXG4gICAgfSlcbiAgfVxuXG4gIC8vIE1PVkUgUExBWUVSXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdmVQbGF5ZXIoXG4gICAgX2VudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5NT1ZFX1BMQVlFUj4sXG4gICkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBuZXdSZWxhdGl2ZVBvc2l0aW9uOiBwYXlsb2FkLnBvc2l0aW9uLFxuICAgICAgY2FtZXJhVGFyZ2V0OiBwYXlsb2FkLmNhbWVyYVRhcmdldCxcbiAgICB9XG4gICAgdm9pZCBtb3ZlUGxheWVyVG8ob3B0aW9ucylcbiAgfVxuXG4gIC8vIFBMQVkgREVGQVVMVCBFTU9URVxuICBmdW5jdGlvbiBoYW5kbGVQbGF5RGVmYXVsdEVtb3RlKFxuICAgIF9lbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuUExBWV9ERUZBVUxUX0VNT1RFPixcbiAgKSB7XG4gICAgY29uc3QgeyBlbW90ZSB9ID0gcGF5bG9hZFxuICAgIHZvaWQgdHJpZ2dlckVtb3RlKHsgcHJlZGVmaW5lZEVtb3RlOiBlbW90ZSB9KVxuICB9XG5cbiAgLy8gUExBWSBDVVNUT00gRU1PVEVcbiAgZnVuY3Rpb24gaGFuZGxlUGxheUN1c3RvbUVtb3RlKFxuICAgIF9lbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuUExBWV9DVVNUT01fRU1PVEU+LFxuICApIHtcbiAgICBjb25zdCB7IHNyYywgbG9vcCB9ID0gcGF5bG9hZFxuICAgIHZvaWQgdHJpZ2dlclNjZW5lRW1vdGUoeyBzcmMsIGxvb3AgfSlcbiAgfVxuXG4gIC8vIE9QRU4gTElOS1xuICBmdW5jdGlvbiBoYW5kbGVPcGVuTGluayhcbiAgICBfZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLk9QRU5fTElOSz4sXG4gICkge1xuICAgIGNvbnN0IHsgdXJsIH0gPSBwYXlsb2FkXG4gICAgdm9pZCBvcGVuRXh0ZXJuYWxVcmwoeyB1cmwgfSlcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFZpZGVvU3JjKHtcbiAgICBzcmMsXG4gICAgZGNsQ2FzdCxcbiAgfTogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlBMQVlfVklERU9fU1RSRUFNPikge1xuICAgIGlmIChkY2xDYXN0KSB7XG4gICAgICBjb25zdCB7IHN0cmVhbXMgfSA9IGF3YWl0IGdldEFjdGl2ZVZpZGVvU3RyZWFtcyh7fSlcbiAgICAgIHJldHVybiBzdHJlYW1zLmxlbmd0aCA+IDAgPyBzdHJlYW1zWzBdLnRyYWNrU2lkIDogJydcbiAgICB9XG4gICAgcmV0dXJuIHNyYyA/PyAnJ1xuICB9XG5cbiAgLy8gUExBWV9WSURFT1xuICBmdW5jdGlvbiBoYW5kbGVQbGF5VmlkZW8oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlBMQVlfVklERU9fU1RSRUFNPixcbiAgKSB7XG4gICAgY29uc3QgdmlkZW9Tb3VyY2UgPSBWaWRlb1BsYXllci5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcblxuICAgIGlmICh2aWRlb1NvdXJjZSAmJiB2aWRlb1NvdXJjZS5zcmMpIHtcbiAgICAgIHZpZGVvU291cmNlLnBsYXlpbmcgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEdldCB0aGUgdmlkZW8gc3JjIGZyb20gYSBwcm9taXNlIChWaWRlbyBGaWxlL1ZpZGVvIFN0cmVhbS9EQ0wgQ2FzdClcbiAgICAgIGdldFZpZGVvU3JjKHBheWxvYWQpLnRoZW4oKHNyYykgPT4ge1xuICAgICAgICBpZiAoIXNyYykgcmV0dXJuXG5cbiAgICAgICAgVmlkZW9QbGF5ZXIuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgICAgICAgIHNyYyxcbiAgICAgICAgICB2b2x1bWU6IHBheWxvYWQudm9sdW1lID8/IDEsXG4gICAgICAgICAgbG9vcDogcGF5bG9hZC5sb29wID8/IGZhbHNlLFxuICAgICAgICAgIHBsYXlpbmc6IHRydWUsXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSW5pdCB2aWRlbyBwbGF5ZXIgbWF0ZXJpYWwgd2hlbiB0aGUgZW50aXR5IGRvZXNuJ3QgaGF2ZSBhIFZpZGVvUGxheWVyIGNvbXBvbmVudCBkZWZpbmVkXG4gICAgICAgIGluaXRWaWRlb1BsYXllckNvbXBvbmVudE1hdGVyaWFsKFxuICAgICAgICAgIGVudGl0eSxcbiAgICAgICAgICB7IE1hdGVyaWFsIH0sXG4gICAgICAgICAgTWF0ZXJpYWwuZ2V0T3JOdWxsKGVudGl0eSksXG4gICAgICAgIClcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgLy8gU1RPUF9WSURFT1xuICBmdW5jdGlvbiBoYW5kbGVTdG9wVmlkZW8oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgX3BheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVE9QX1ZJREVPX1NUUkVBTT4sXG4gICkge1xuICAgIGNvbnN0IHZpZGVvU291cmNlID0gVmlkZW9QbGF5ZXIuZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgaWYgKHZpZGVvU291cmNlKSB7XG4gICAgICB2aWRlb1NvdXJjZS5wbGF5aW5nID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICAvLyBQTEFZX0FVRElPX1NUUkVBTVxuICBmdW5jdGlvbiBoYW5kbGVQbGF5QXVkaW9TdHJlYW0oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlBMQVlfQVVESU9fU1RSRUFNPixcbiAgKSB7XG4gICAgY29uc3QgeyB1cmwsIHZvbHVtZSB9ID0gcGF5bG9hZFxuICAgIEF1ZGlvU3RyZWFtLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgIHVybCxcbiAgICAgIHBsYXlpbmc6IHRydWUsXG4gICAgICB2b2x1bWU6IHZvbHVtZSA/PyAxLFxuICAgIH0pXG4gIH1cblxuICAvLyBTVE9QX0FVRElPX1NUUkVBTVxuICBmdW5jdGlvbiBoYW5kbGVTdG9wQXVkaW9TdHJlYW0oXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgX3BheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVE9QX0FVRElPX1NUUkVBTT4sXG4gICkge1xuICAgIGNvbnN0IGF1ZGlvU291cmNlID0gQXVkaW9TdHJlYW0uZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgaWYgKGF1ZGlvU291cmNlKSB7XG4gICAgICBhdWRpb1NvdXJjZS5wbGF5aW5nID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICAvLyBTSE9XX1RFWFRcbiAgZnVuY3Rpb24gaGFuZGxlU2hvd1RleHQoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNIT1dfVEVYVD4sXG4gICkge1xuICAgIGNvbnN0IHsgdGV4dCwgaGlkZUFmdGVyU2Vjb25kcywgZm9udCwgZm9udFNpemUsIHRleHRBbGlnbiB9ID0gcGF5bG9hZFxuICAgIGNvbnN0IHVpVHJhbnNmb3JtQ29tcG9uZW50ID0gZ2V0VUlUcmFuc2Zvcm0oVWlUcmFuc2Zvcm0sIGVudGl0eSlcbiAgICBpZiAodWlUcmFuc2Zvcm1Db21wb25lbnQpIHtcbiAgICAgIFVpVGV4dC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgICAgIHZhbHVlOiB0ZXh0LFxuICAgICAgICBmb250OiBmb250IGFzIHVua25vd24gYXMgRm9udCxcbiAgICAgICAgZm9udFNpemUsXG4gICAgICAgIHRleHRBbGlnbjogdGV4dEFsaWduIGFzIHVua25vd24gYXMgVGV4dEFsaWduTW9kZSxcbiAgICAgIH0pXG4gICAgICBzdGFydFRpbWVvdXQoZW50aXR5LCBBY3Rpb25UeXBlLkhJREVfVEVYVCwgaGlkZUFmdGVyU2Vjb25kcywgKCkgPT5cbiAgICAgICAgaGFuZGxlSGlkZVRleHQoZW50aXR5LCB7fSksXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgLy8gSElERV9URVhUXG4gIGZ1bmN0aW9uIGhhbmRsZUhpZGVUZXh0KFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIF9wYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuSElERV9URVhUPixcbiAgKSB7XG4gICAgY29uc3QgdWlUZXh0Q29tcG9uZW50ID0gVWlUZXh0LmdldE9yTnVsbChlbnRpdHkpXG4gICAgaWYgKHVpVGV4dENvbXBvbmVudCkge1xuICAgICAgVWlUZXh0LmRlbGV0ZUZyb20oZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmRBY3Rpb25CeU5hbWUoZW50aXR5OiBFbnRpdHksIG5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBBY3Rpb25zLmdldE9yTnVsbChlbnRpdHkpXG4gICAgcmV0dXJuIGFjdGlvbnM/LnZhbHVlLmZpbmQoKCQpID0+ICQubmFtZSA9PT0gbmFtZSlcbiAgfVxuXG4gIC8vIFNUQVJUX0RFTEFZXG4gIGZ1bmN0aW9uIGhhbmRsZVN0YXJ0RGVsYXkoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNUQVJUX0RFTEFZPixcbiAgKSB7XG4gICAgY29uc3QgeyBhY3Rpb25zLCB0aW1lb3V0IH0gPSBwYXlsb2FkXG4gICAgZm9yIChjb25zdCBhY3Rpb25OYW1lIG9mIGFjdGlvbnMpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGZpbmRBY3Rpb25CeU5hbWUoZW50aXR5LCBhY3Rpb25OYW1lKVxuICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICBzdGFydFRpbWVvdXQoZW50aXR5LCBhY3Rpb25OYW1lLCB0aW1lb3V0LCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgYWN0aW9uRXZlbnRzID0gZ2V0QWN0aW9uRXZlbnRzKGVudGl0eSlcbiAgICAgICAgICBhY3Rpb25FdmVudHMuZW1pdChhY3Rpb24ubmFtZSwgZ2V0UGF5bG9hZChhY3Rpb24pKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFNUT1BfREVMQVlcbiAgZnVuY3Rpb24gaGFuZGxlU3RvcERlbGF5KFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVE9QX0RFTEFZPixcbiAgKSB7XG4gICAgY29uc3QgeyBhY3Rpb24gfSA9IHBheWxvYWRcbiAgICBzdG9wVGltZW91dChlbnRpdHksIGFjdGlvbilcbiAgfVxuXG4gIC8vIFNUQVJUX0xPT1BcbiAgZnVuY3Rpb24gaGFuZGxlU3RhcnRMb29wKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TVEFSVF9MT09QPixcbiAgKSB7XG4gICAgY29uc3QgeyBhY3Rpb25zLCBpbnRlcnZhbCB9ID0gcGF5bG9hZFxuICAgIGZvciAoY29uc3QgYWN0aW9uTmFtZSBvZiBhY3Rpb25zKSB7XG4gICAgICBjb25zdCBhY3Rpb24gPSBmaW5kQWN0aW9uQnlOYW1lKGVudGl0eSwgYWN0aW9uTmFtZSlcbiAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgc3RhcnRJbnRlcnZhbChlbnRpdHksIGFjdGlvbk5hbWUsIGludGVydmFsLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgYWN0aW9uRXZlbnRzID0gZ2V0QWN0aW9uRXZlbnRzKGVudGl0eSlcbiAgICAgICAgICBhY3Rpb25FdmVudHMuZW1pdChhY3Rpb24ubmFtZSwgZ2V0UGF5bG9hZChhY3Rpb24pKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFNUT1BfTE9PUFxuICBmdW5jdGlvbiBoYW5kbGVTdG9wTG9vcChcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuU1RPUF9MT09QPixcbiAgKSB7XG4gICAgY29uc3QgeyBhY3Rpb24gfSA9IHBheWxvYWRcbiAgICBzdG9wSW50ZXJ2YWwoZW50aXR5LCBhY3Rpb24pXG4gIH1cblxuICAvLyBDTE9ORV9FTlRJVFlcbiAgZnVuY3Rpb24gaGFuZGxlQ2xvbmVFbnRpdHkoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLkNMT05FX0VOVElUWT4sXG4gICkge1xuICAgIGNvbnN0IHsgcG9zaXRpb24gfSA9IHBheWxvYWRcblxuICAgIC8vIGNsb25lIGVudGl0eVxuICAgIGNvbnN0IHsgY2xvbmVkLCBlbnRpdGllcyB9ID0gY2xvbmUoZW50aXR5LCBlbmdpbmUsIFRyYW5zZm9ybSwgVHJpZ2dlcnMsIHNka0hlbHBlcnMpXG4gICAgZm9yIChjb25zdCBjbG9uZWQgb2YgZW50aXRpZXMudmFsdWVzKCkpIHtcbiAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgIGluaXRBY3Rpb25zKGNsb25lZClcbiAgICAgIGluaXRUcmlnZ2VycyhjbG9uZWQpXG5cbiAgICAgIGNvbnN0IHRyaWdnZXJFdmVudHMgPSBnZXRUcmlnZ2VyRXZlbnRzKGNsb25lZClcbiAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9DTE9ORSlcbiAgICB9XG5cbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0T3JDcmVhdGVNdXRhYmxlKGNsb25lZClcbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3NpdGlvblxuICB9XG5cbiAgLy8gUkVNT1ZFX0VOVElUWVxuICBmdW5jdGlvbiBoYW5kbGVSZW1vdmVFbnRpdHkoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgX3BheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5SRU1PVkVfRU5USVRZPixcbiAgKSB7XG4gICAgLy8gUmVtb3ZlIGFsbCB0aW1lcnMgYmVmb3JlIHJlbW92ZSB0aGUgZW50aXR5XG4gICAgc3RvcEFsbFRpbWVvdXRzKGVudGl0eSlcbiAgICBzdG9wQWxsSW50ZXJ2YWxzKGVudGl0eSlcblxuICAgIGNvbnN0IHRyZWUgPSBnZXRDb21wb25lbnRFbnRpdHlUcmVlKGVuZ2luZSwgZW50aXR5LCBUcmFuc2Zvcm0pXG4gICAgZm9yIChjb25zdCBlbnRpdHlUb1JlbW92ZSBvZiB0cmVlKSB7XG4gICAgICBlbmdpbmUucmVtb3ZlRW50aXR5KGVudGl0eVRvUmVtb3ZlKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFVpU3RhY2soYWxpZ246IFNjcmVlbkFsaWduTW9kZSkge1xuICAgIGNvbnN0IGtleSA9IGAke2FsaWduLmFsaWduSXRlbXN9LCR7YWxpZ24uanVzdGlmeUNvbnRlbnR9YFxuXG4gICAgaWYgKCF1aVN0YWNrcy5oYXMoa2V5KSkge1xuICAgICAgdWlTdGFja3Muc2V0KGtleSwgZW5naW5lLmFkZEVudGl0eSgpKVxuICAgIH1cblxuICAgIHJldHVybiB1aVN0YWNrcy5nZXQoa2V5KSFcbiAgfVxuXG4gIC8vIFNIT1dfSU1BR0VcbiAgZnVuY3Rpb24gaGFuZGxlU2hvd0ltYWdlKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TSE9XX0lNQUdFPixcbiAgKSB7XG4gICAgY29uc3QgeyBzcmMsIHRleHQsIGhpZGVBZnRlclNlY29uZHMsIGZvbnRTaXplLCBhbGlnbiwgaGVpZ2h0LCB3aWR0aCB9ID1cbiAgICAgIHBheWxvYWRcblxuICAgIC8vIEdldC9DcmVhdGUgYSBVSSB0cmFuc2Zvcm0gZm9yIHRoZSByb290IGVudGl0eVxuICAgIGdldFVJVHJhbnNmb3JtKFVpVHJhbnNmb3JtLCBlbmdpbmUuUm9vdEVudGl0eSlcblxuICAgIC8vIEdldCBhIFVJIFN0YWNrIGVudGl0eVxuICAgIGNvbnN0IHNjcmVlbkFsaWduID0gbWFwQWxpZ25Ub1NjcmVlbkFsaWduKGFsaWduKVxuICAgIGNvbnN0IHVpU3RhY2sgPSBnZXRVaVN0YWNrKHNjcmVlbkFsaWduKVxuXG4gICAgLy8gVE9ETzogRml4IGl0ZW1zIHdyYXBwaW5nXG4gICAgLy8gR2V0L0NyZWF0ZSBhIFVJIFRyYW5zZm9ybSBmb3IgdGhlIFVJIHN0YWNrXG4gICAgY29uc3QgdWlTdGFja1RyYW5zZm9ybUNvbXBvbmVudCA9IGdldFVJVHJhbnNmb3JtKFVpVHJhbnNmb3JtLCB1aVN0YWNrKVxuICAgIHVpU3RhY2tUcmFuc2Zvcm1Db21wb25lbnQuYWxpZ25JdGVtcyA9IHNjcmVlbkFsaWduLmFsaWduSXRlbXNcbiAgICB1aVN0YWNrVHJhbnNmb3JtQ29tcG9uZW50Lmp1c3RpZnlDb250ZW50ID0gc2NyZWVuQWxpZ24uanVzdGlmeUNvbnRlbnRcbiAgICB1aVN0YWNrVHJhbnNmb3JtQ29tcG9uZW50LnBvc2l0aW9uVHlwZSA9IFlHUG9zaXRpb25UeXBlLllHUFRfQUJTT0xVVEVcblxuICAgIC8vIENyZWF0ZSBhIFVJIGVudGl0eSBhbmQgYSBUcmFuc2Zvcm0gY29tcG9uZW50IGZvciB0aGUgaW1hZ2VcbiAgICBjb25zdCBpbWFnZUVudGl0eSA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgIGNvbnN0IGltYWdlVHJhbnNmb3JtQ29tcG9uZW50ID0gZ2V0VUlUcmFuc2Zvcm0oXG4gICAgICBVaVRyYW5zZm9ybSxcbiAgICAgIGltYWdlRW50aXR5LFxuICAgICAgd2lkdGgsXG4gICAgICBoZWlnaHQsXG4gICAgICBZR1VuaXQuWUdVX1BPSU5ULFxuICAgIClcbiAgICBpbWFnZVRyYW5zZm9ybUNvbXBvbmVudC5wYXJlbnQgPSB1aVN0YWNrXG4gICAgaW1hZ2VUcmFuc2Zvcm1Db21wb25lbnQucG9pbnRlckZpbHRlciA9IFBvaW50ZXJGaWx0ZXJNb2RlLlBGTV9CTE9DS1xuXG4gICAgLy8gQ3JlYXRlIEJhY2tncm91bmQgQ29tcG9uZW50XG4gICAgZ2V0VUlCYWNrZ3JvdW5kKFVpQmFja2dyb3VuZCwgaW1hZ2VFbnRpdHksIHNyYylcblxuICAgIGlmICh0ZXh0KSB7XG4gICAgICAvLyBDcmVhdGUgVGV4dCBDb21wb25lbnRcbiAgICAgIC8vIFRPRE86IEZpeCB0ZXh0IHdyYXBwaW5nIGFuZCBzY3JvbGxpbmdcbiAgICAgIGdldFVJVGV4dChVaVRleHQsIGltYWdlRW50aXR5LCB0ZXh0LCBmb250U2l6ZSwgd2lkdGgpXG4gICAgfVxuXG4gICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAge1xuICAgICAgICBlbnRpdHk6IGltYWdlRW50aXR5LFxuICAgICAgICBvcHRzOiB7XG4gICAgICAgICAgYnV0dG9uOiBJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLFxuICAgICAgICAgIGhvdmVyVGV4dDogJ0NsaWNrJyxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGxhc3RVaUVudGl0eUNsaWNrZWQuc2V0KGVudGl0eSwgaW1hZ2VFbnRpdHkpXG4gICAgICAgIGNvbnN0IHRyaWdnZXJFdmVudHMgPSBnZXRUcmlnZ2VyRXZlbnRzKGVudGl0eSlcbiAgICAgICAgdHJpZ2dlckV2ZW50cy5lbWl0KFRyaWdnZXJUeXBlLk9OX0NMSUNLX0lNQUdFKVxuICAgICAgfSxcbiAgICApXG5cbiAgICBpZiAoaGlkZUFmdGVyU2Vjb25kcykge1xuICAgICAgc3RhcnRUaW1lb3V0KGVudGl0eSwgQWN0aW9uVHlwZS5ISURFX0lNQUdFLCBoaWRlQWZ0ZXJTZWNvbmRzLCAoKSA9PlxuICAgICAgICBoYW5kbGVIaWRlSW1hZ2UoZW50aXR5LCB7IGltYWdlRW50aXR5OiBpbWFnZUVudGl0eSB9KSxcbiAgICAgIClcbiAgICB9XG4gIH1cblxuICAvLyBISURFX0lNQUdFXG4gIGZ1bmN0aW9uIGhhbmRsZUhpZGVJbWFnZShcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuSElERV9JTUFHRT4sXG4gICkge1xuICAgIGNvbnN0IHsgaW1hZ2VFbnRpdHkgfSA9IHBheWxvYWRcblxuICAgIGlmIChpbWFnZUVudGl0eSkge1xuICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShpbWFnZUVudGl0eSBhcyBFbnRpdHkpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNsaWNrZWRJbWFnZSA9IGxhc3RVaUVudGl0eUNsaWNrZWQuZ2V0KGVudGl0eSlcbiAgICAgIGlmIChjbGlja2VkSW1hZ2UpIHtcbiAgICAgICAgZW5naW5lLnJlbW92ZUVudGl0eShjbGlja2VkSW1hZ2UpXG4gICAgICAgIGxhc3RVaUVudGl0eUNsaWNrZWQuZGVsZXRlKGVudGl0eSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEQU1BR0VcbiAgZnVuY3Rpb24gaGFuZGxlRGFtYWdlKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5EQU1BR0U+LFxuICApIHtcbiAgICBjb25zdCB7IHJhZGl1cywgbGF5ZXIsIGhpdHMgfSA9IHBheWxvYWRcbiAgICBjb25zdCBlbnRpdHlQb3NpdGlvbiA9IEF2YXRhckF0dGFjaC5oYXMoZW50aXR5KVxuICAgICAgPyBnZXRQbGF5ZXJQb3NpdGlvbigpXG4gICAgICA6IGdldFdvcmxkUG9zaXRpb24oZW50aXR5KVxuXG4gICAgY29uc3QgZ2V0Um9vdCA9IChlbnRpdHk6IEVudGl0eSk6IEVudGl0eSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBnZXRFbnRpdHlQYXJlbnQoZW50aXR5KVxuICAgICAgcmV0dXJuICFwYXJlbnQgPyBlbnRpdHkgOiBnZXRSb290KHBhcmVudClcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHRhcmdldCBvZiBkYW1hZ2VUYXJnZXRzKSB7XG4gICAgICBjb25zdCB0YXJnZXRQb3NpdGlvbiA9IGdldFdvcmxkUG9zaXRpb24odGFyZ2V0KVxuICAgICAgY29uc3QgZGlzdGFuY2UgPSBWZWN0b3IzLmRpc3RhbmNlKGVudGl0eVBvc2l0aW9uLCB0YXJnZXRQb3NpdGlvbilcblxuICAgICAgLy8gYXZvaWQgY2F1c2luZyBkYW1hZ2UgdG8gdGhlIGVudGl0eSBpdHNlbGYgb3IgaXRzIGNoaWxkcmVuXG4gICAgICBjb25zdCBlbnRpdHlUcmVlID0gQXJyYXkuZnJvbShcbiAgICAgICAgZ2V0Q29tcG9uZW50RW50aXR5VHJlZShlbmdpbmUsIGVudGl0eSwgVHJhbnNmb3JtKSxcbiAgICAgIClcbiAgICAgIGNvbnN0IGlzUGFydE9mRW50aXR5VHJlZSA9IGVudGl0eVRyZWUuc29tZSgoJCkgPT4gJCA9PT0gdGFyZ2V0KVxuICAgICAgaWYgKGlzUGFydE9mRW50aXR5VHJlZSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAobGF5ZXIpIHtcbiAgICAgICAgaWYgKGxheWVyID09PSBQcm94aW1pdHlMYXllci5QTEFZRVIpIHtcbiAgICAgICAgICBjb25zdCByb290ID0gZ2V0Um9vdCh0YXJnZXQpXG4gICAgICAgICAgaWYgKHJvb3QgIT09IGVuZ2luZS5QbGF5ZXJFbnRpdHkgJiYgcm9vdCAhPT0gZW5naW5lLkNhbWVyYUVudGl0eSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGF5ZXIgPT09IFByb3hpbWl0eUxheWVyLk5PTl9QTEFZRVIpIHtcbiAgICAgICAgICBjb25zdCByb290ID0gZ2V0Um9vdCh0YXJnZXQpXG4gICAgICAgICAgaWYgKHJvb3QgPT09IGVuZ2luZS5QbGF5ZXJFbnRpdHkgfHwgcm9vdCA9PT0gZW5naW5lLkNhbWVyYUVudGl0eSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaXN0YW5jZSA8PSByYWRpdXMpIHtcbiAgICAgICAgY29uc3QgdG90YWwgPSBoaXRzID09PSB1bmRlZmluZWQgPyAxIDogTWF0aC5tYXgoaGl0cywgMSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHModGFyZ2V0KVxuICAgICAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9EQU1BR0UpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBNT1ZFX1BMQVlFUl9IRVJFXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdmVQbGF5ZXJIZXJlKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIF9wYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuTU9WRV9QTEFZRVJfSEVSRT4sXG4gICkge1xuICAgIGNvbnN0IGhlcmUgPSBnZXRXb3JsZFBvc2l0aW9uKGVudGl0eSlcbiAgICB2b2lkIG1vdmVQbGF5ZXJUbyh7IG5ld1JlbGF0aXZlUG9zaXRpb246IGhlcmUgfSlcbiAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyhlbnRpdHkpXG4gICAgdHJpZ2dlckV2ZW50cy5lbWl0KFRyaWdnZXJUeXBlLk9OX1BMQVlFUl9TUEFXTilcbiAgfVxuXG4gIC8vIFBMQUNFX09OX1BMQVlFUlxuICBmdW5jdGlvbiBoYW5kbGVQbGFjZU9uUGxheWVyKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIF9wYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuUExBQ0VfT05fUExBWUVSPixcbiAgKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuICAgIGNvbnN0IHBsYXllciA9IFRyYW5zZm9ybS5nZXRPck51bGwoZW5naW5lLlBsYXllckVudGl0eSlcbiAgICBpZiAodHJhbnNmb3JtICYmIHBsYXllcikge1xuICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gcGxheWVyLnBvc2l0aW9uXG4gICAgfVxuICB9XG5cbiAgLy8gUk9UQVRFX0FTX1BMQVlFUlxuICBmdW5jdGlvbiBoYW5kbGVSb3RhdGVBc1BsYXllcihcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBfcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlJPVEFURV9BU19QTEFZRVI+LFxuICApIHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgY29uc3QgcGxheWVyID0gVHJhbnNmb3JtLmdldE9yTnVsbChlbmdpbmUuUGxheWVyRW50aXR5KVxuICAgIGlmICh0cmFuc2Zvcm0gJiYgcGxheWVyKSB7XG4gICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBwbGF5ZXIucm90YXRpb25cbiAgICB9XG4gIH1cblxuICAvLyBQTEFDRV9PTl9DQU1FUkFcbiAgZnVuY3Rpb24gaGFuZGxlUGxhY2VPbkNhbWVyYShcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBfcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlBMQUNFX09OX0NBTUVSQT4sXG4gICkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcbiAgICBjb25zdCBjYW1lcmEgPSBUcmFuc2Zvcm0uZ2V0T3JOdWxsKGVuZ2luZS5DYW1lcmFFbnRpdHkpXG4gICAgaWYgKHRyYW5zZm9ybSAmJiBjYW1lcmEpIHtcbiAgICAgIHRyYW5zZm9ybS5wb3NpdGlvbiA9IGNhbWVyYS5wb3NpdGlvblxuICAgIH1cbiAgfVxuXG4gIC8vIFJPVEFURV9BU19DQU1FUkFcbiAgZnVuY3Rpb24gaGFuZGxlUm90YXRlQXNDYW1lcmEoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgX3BheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5ST1RBVEVfQVNfQ0FNRVJBPixcbiAgKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuICAgIGNvbnN0IGNhbWVyYSA9IFRyYW5zZm9ybS5nZXRPck51bGwoZW5naW5lLkNhbWVyYUVudGl0eSlcbiAgICBpZiAodHJhbnNmb3JtICYmIGNhbWVyYSkge1xuICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gY2FtZXJhLnJvdGF0aW9uXG4gICAgfVxuICB9XG5cbiAgLy8gU0VUX1BPU0lUSU9OXG4gIGZ1bmN0aW9uIGhhbmRsZVNldFBvc2l0aW9uKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TRVRfUE9TSVRJT04+LFxuICApIHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgaWYgKHBheWxvYWQucmVsYXRpdmUpIHtcbiAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5hZGQoXG4gICAgICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICAgIFZlY3RvcjMuY3JlYXRlKHBheWxvYWQueCwgcGF5bG9hZC55LCBwYXlsb2FkLnopLFxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0ucG9zaXRpb24gPSBWZWN0b3IzLmNyZWF0ZShwYXlsb2FkLngsIHBheWxvYWQueSwgcGF5bG9hZC56KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFNFVF9ST1RBVElPTlxuICBmdW5jdGlvbiBoYW5kbGVTZXRSb3RhdGlvbihcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBwYXlsb2FkOiBBY3Rpb25QYXlsb2FkPEFjdGlvblR5cGUuU0VUX1JPVEFUSU9OPixcbiAgKSB7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIGlmIChwYXlsb2FkLnJlbGF0aXZlKSB7XG4gICAgICAgIHRyYW5zZm9ybS5yb3RhdGlvbiA9IFF1YXRlcm5pb24ubXVsdGlwbHkoXG4gICAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uLFxuICAgICAgICAgIFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcyhwYXlsb2FkLngsIHBheWxvYWQueSwgcGF5bG9hZC56KSxcbiAgICAgICAgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKFxuICAgICAgICAgIHBheWxvYWQueCxcbiAgICAgICAgICBwYXlsb2FkLnksXG4gICAgICAgICAgcGF5bG9hZC56LFxuICAgICAgICApXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gU0VUX1NDQUxFXG4gIGZ1bmN0aW9uIGhhbmRsZVNldFNjYWxlKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5TRVRfU0NBTEU+LFxuICApIHtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZU9yTnVsbChlbnRpdHkpXG4gICAgaWYgKHRyYW5zZm9ybSkge1xuICAgICAgaWYgKHBheWxvYWQucmVsYXRpdmUpIHtcbiAgICAgICAgdHJhbnNmb3JtLnNjYWxlID0gVmVjdG9yMy5hZGQoXG4gICAgICAgICAgdHJhbnNmb3JtLnNjYWxlLFxuICAgICAgICAgIFZlY3RvcjMuY3JlYXRlKHBheWxvYWQueCwgcGF5bG9hZC55LCBwYXlsb2FkLnopLFxuICAgICAgICApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2Zvcm0uc2NhbGUgPSBWZWN0b3IzLmNyZWF0ZShwYXlsb2FkLngsIHBheWxvYWQueSwgcGF5bG9hZC56KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZPTExPV19QTEFZRVJcbiAgZnVuY3Rpb24gaGFuZGxlRm9sbG93UGxheWVyKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5GT0xMT1dfUExBWUVSPixcbiAgKSB7XG4gICAgY29uc3QgeyBzcGVlZCwgeCwgeSwgeiwgbWluRGlzdGFuY2UgfSA9IHBheWxvYWRcbiAgICBmb2xsb3dNYXAuc2V0KGVudGl0eSwge1xuICAgICAgdGFyZ2V0OiBlbmdpbmUuUGxheWVyRW50aXR5LFxuICAgICAgc3BlZWQsXG4gICAgICBtaW5EaXN0YW5jZSxcbiAgICAgIGF4ZXM6IHsgeCwgeSwgeiB9LFxuICAgIH0pXG4gIH1cblxuICAvLyBTVE9QX0ZPTExPV0lOR19QTEFZRVJcbiAgZnVuY3Rpb24gaGFuZGxlU3RvcEZvbGxvd2luZ1BsYXllcihcbiAgICBlbnRpdHk6IEVudGl0eSxcbiAgICBfcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLlNUT1BfRk9MTE9XSU5HX1BMQVlFUj4sXG4gICkge1xuICAgIGZvbGxvd01hcC5kZWxldGUoZW50aXR5KVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUmFuZG9tKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5SQU5ET00+LFxuICApIHtcbiAgICBjb25zdCB7IGFjdGlvbnMgfSA9IHBheWxvYWRcbiAgICBjb25zdCBhY3Rpb25FdmVudHMgPSBnZXRBY3Rpb25FdmVudHMoZW50aXR5KVxuICAgIGNvbnN0IGFjdGlvbk5hbWUgPSBhY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFjdGlvbnMubGVuZ3RoKV1cbiAgICBjb25zdCBhY3Rpb24gPSBmaW5kQWN0aW9uQnlOYW1lKGVudGl0eSwgYWN0aW9uTmFtZSlcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBhY3Rpb25FdmVudHMuZW1pdChhY3Rpb24ubmFtZSwgZ2V0UGF5bG9hZChhY3Rpb24pKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUJhdGNoKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBheWxvYWQ6IEFjdGlvblBheWxvYWQ8QWN0aW9uVHlwZS5CQVRDSD4sXG4gICkge1xuICAgIGNvbnN0IHsgYWN0aW9ucyB9ID0gcGF5bG9hZFxuICAgIGNvbnN0IGFjdGlvbkV2ZW50cyA9IGdldEFjdGlvbkV2ZW50cyhlbnRpdHkpXG4gICAgZm9yIChjb25zdCBhY3Rpb25OYW1lIG9mIGFjdGlvbnMpIHtcbiAgICAgIGNvbnN0IGFjdGlvbiA9IGZpbmRBY3Rpb25CeU5hbWUoZW50aXR5LCBhY3Rpb25OYW1lKVxuICAgICAgaWYgKGFjdGlvbikge1xuICAgICAgICBhY3Rpb25FdmVudHMuZW1pdChhY3Rpb24ubmFtZSwgZ2V0UGF5bG9hZChhY3Rpb24pKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUhlYWxQbGF5ZXIoXG4gICAgZW50aXR5OiBFbnRpdHksXG4gICAgcGF5bG9hZDogQWN0aW9uUGF5bG9hZDxBY3Rpb25UeXBlLkhFQUxfUExBWUVSPixcbiAgKSB7XG4gICAgY29uc3QgeyBtdWx0aXBsaWVyIH0gPSBwYXlsb2FkXG5cbiAgICBjb25zdCBnZXRSb290ID0gKGVudGl0eTogRW50aXR5KTogRW50aXR5ID0+IHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IGdldEVudGl0eVBhcmVudChlbnRpdHkpXG4gICAgICByZXR1cm4gIXBhcmVudCA/IGVudGl0eSA6IGdldFJvb3QocGFyZW50KVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgdGFyZ2V0IG9mIGhlYWxUYXJnZXRzKSB7XG4gICAgICBjb25zdCByb290ID0gZ2V0Um9vdCh0YXJnZXQpXG4gICAgICBpZiAocm9vdCA9PT0gZW5naW5lLlBsYXllckVudGl0eSkge1xuICAgICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyh0YXJnZXQpXG4gICAgICAgIGNvbnN0IHRvdGFsID0gTWF0aC5tYXgobXVsdGlwbGllciA/PyAxLCAxKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsOyBpKyspIHtcbiAgICAgICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fSEVBTF9QTEFZRVIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBFbnRpdHkgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IGdldFRyaWdnZXJFdmVudHMgfSBmcm9tICcuL2V2ZW50cydcbmltcG9ydCB7IFRyaWdnZXJUeXBlIH0gZnJvbSAnLi9lbnVtcydcblxuaW50ZXJmYWNlIERlbGF5QWN0aW9uIHtcbiAgYWN0aW9uOiBzdHJpbmdcbiAgdGltZW91dDogbnVtYmVyXG4gIGNhbGxiYWNrOiBGdW5jdGlvblxufVxuXG5pbnRlcmZhY2UgSW50ZXJ2YWxBY3Rpb24ge1xuICBhY3Rpb246IHN0cmluZ1xuICB0aW1lb3V0OiBudW1iZXJcbiAgaW50ZXJ2YWw6IG51bWJlclxuICBjYWxsYmFjazogRnVuY3Rpb25cbn1cblxuZXhwb3J0IGNvbnN0IHRpY2tTZXQgPSBuZXcgU2V0PEVudGl0eT4oKVxuXG5jb25zdCBxdWV1ZURlbGF5ID0gbmV3IE1hcDxFbnRpdHksIEFycmF5PERlbGF5QWN0aW9uPj4oKVxuY29uc3QgcXVldWVJbnRlcnZhbCA9IG5ldyBNYXA8RW50aXR5LCBBcnJheTxJbnRlcnZhbEFjdGlvbj4+KClcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRpbWVyU3lzdGVtKCkge1xuICByZXR1cm4gZnVuY3Rpb24gdGltZXJTeXN0ZW0oZHQ6IG51bWJlcikge1xuICAgIGludGVydmFsU3lzdGVtKGR0KVxuICAgIGRlbGF5U3lzdGVtKGR0KVxuICAgIHRpY2tTeXN0ZW0oZHQpXG4gIH1cblxuICBmdW5jdGlvbiBpbnRlcnZhbFN5c3RlbShkdDogbnVtYmVyKSB7XG4gICAgZm9yIChjb25zdCBbZW50aXR5LCBhY3Rpb25zXSBvZiBxdWV1ZUludGVydmFsLmVudHJpZXMoKSkge1xuICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuXG4gICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG4gICAgICAgIGlmIChhY3Rpb24udGltZW91dCA9PT0gYWN0aW9uLmludGVydmFsKSB7XG4gICAgICAgICAgYWN0aW9uLmNhbGxiYWNrKClcbiAgICAgICAgfVxuXG4gICAgICAgIGFjdGlvbi50aW1lb3V0IC09IGR0XG5cbiAgICAgICAgaWYgKGFjdGlvbi50aW1lb3V0IDw9IDApIHtcbiAgICAgICAgICBhY3Rpb24udGltZW91dCA9IGFjdGlvbi5pbnRlcnZhbFxuICAgICAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9MT09QKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVsYXlTeXN0ZW0oZHQ6IG51bWJlcikge1xuICAgIGZvciAoY29uc3QgW2VudGl0eSwgYWN0aW9uc10gb2YgcXVldWVEZWxheS5lbnRyaWVzKCkpIHtcbiAgICAgIGNvbnN0IHRyaWdnZXJFdmVudHMgPSBnZXRUcmlnZ2VyRXZlbnRzKGVudGl0eSlcbiAgICAgIGNvbnN0IGNvbXBsZXRlZEFjdGlvbnMgPSBbXVxuICAgICAgbGV0IGlkeCA9IDBcblxuICAgICAgLy8gSXRlcmF0ZSBlbnRpdHkgYWN0aW9ucyBhbmQgdmVyaWZ5IGlzIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQgdG8gZXhlY3V0ZSB0aGUgY2FsbGJhY2tcbiAgICAgIGZvciAoY29uc3QgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgYWN0aW9uLnRpbWVvdXQgLT0gZHRcblxuICAgICAgICBpZiAoYWN0aW9uLnRpbWVvdXQgPD0gMCkge1xuICAgICAgICAgIGFjdGlvbi5jYWxsYmFjaygpXG4gICAgICAgICAgdHJpZ2dlckV2ZW50cy5lbWl0KFRyaWdnZXJUeXBlLk9OX0RFTEFZKVxuICAgICAgICAgIGNvbXBsZXRlZEFjdGlvbnMucHVzaChpZHgpXG4gICAgICAgIH1cbiAgICAgICAgaWR4KytcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGNvbXBsZXRlZCBhY3Rpb25zIGZyb20gdGhlIHF1ZXVlXG4gICAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiBjb21wbGV0ZWRBY3Rpb25zKSB7XG4gICAgICAgIGFjdGlvbnMuc3BsaWNlKGFjdGlvbiwgMSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0aWNrU3lzdGVtKF9kdDogbnVtYmVyKSB7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgdGlja1NldCkge1xuICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuICAgICAgdHJpZ2dlckV2ZW50cy5lbWl0KFRyaWdnZXJUeXBlLk9OX1RJQ0spXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdGFydFRpbWVvdXQoXG4gIGVudGl0eTogRW50aXR5LFxuICBhY3Rpb246IHN0cmluZyxcbiAgdGltZW91dDogbnVtYmVyLFxuICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbikge1xuICBjb25zdCBhY3Rpb25DYWxsYmFja3MgPSBxdWV1ZURlbGF5LmdldChlbnRpdHkpID8/IFtdXG4gIGFjdGlvbkNhbGxiYWNrcy5wdXNoKHsgdGltZW91dCwgYWN0aW9uLCBjYWxsYmFjayB9KVxuICBxdWV1ZURlbGF5LnNldChlbnRpdHksIGFjdGlvbkNhbGxiYWNrcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BUaW1lb3V0KGVudGl0eTogRW50aXR5LCBhY3Rpb246IHN0cmluZykge1xuICBjb25zdCBkZWxheXMgPSBxdWV1ZURlbGF5LmdldChlbnRpdHkpID8/IFtdXG4gIHF1ZXVlRGVsYXkuc2V0KFxuICAgIGVudGl0eSxcbiAgICBkZWxheXMuZmlsdGVyKCgkKSA9PiAkLmFjdGlvbiAhPT0gYWN0aW9uKSxcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcEFsbFRpbWVvdXRzKGVudGl0eTogRW50aXR5KSB7XG4gIHF1ZXVlRGVsYXkuZGVsZXRlKGVudGl0eSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SW50ZXJ2YWwoXG4gIGVudGl0eTogRW50aXR5LFxuICBhY3Rpb246IHN0cmluZyxcbiAgaW50ZXJ2YWw6IG51bWJlcixcbiAgY2FsbGJhY2s6ICgpID0+IHZvaWQsXG4pIHtcbiAgY29uc3QgYWN0aW9uQ2FsbGJhY2tzID0gcXVldWVJbnRlcnZhbC5nZXQoZW50aXR5KSA/PyBbXVxuICBhY3Rpb25DYWxsYmFja3MucHVzaCh7IHRpbWVvdXQ6IGludGVydmFsLCBhY3Rpb24sIGNhbGxiYWNrLCBpbnRlcnZhbCB9KVxuICBxdWV1ZUludGVydmFsLnNldChlbnRpdHksIGFjdGlvbkNhbGxiYWNrcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BJbnRlcnZhbChlbnRpdHk6IEVudGl0eSwgYWN0aW9uOiBzdHJpbmcpIHtcbiAgY29uc3QgaW50ZXJ2YWxzID0gcXVldWVJbnRlcnZhbC5nZXQoZW50aXR5KSA/PyBbXVxuICBxdWV1ZUludGVydmFsLnNldChcbiAgICBlbnRpdHksXG4gICAgaW50ZXJ2YWxzLmZpbHRlcigoJCkgPT4gJC5hY3Rpb24gIT09IGFjdGlvbiksXG4gIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0b3BBbGxJbnRlcnZhbHMoZW50aXR5OiBFbnRpdHkpIHtcbiAgcXVldWVJbnRlcnZhbC5kZWxldGUoZW50aXR5KVxufVxuIiwgImltcG9ydCB7XG4gIEJhY2tncm91bmRUZXh0dXJlTW9kZSxcbiAgRW50aXR5LFxuICBUZXh0QWxpZ25Nb2RlLFxuICBUZXh0dXJlV3JhcE1vZGUsXG4gIFlHQWxpZ24sXG4gIFlHRmxleERpcmVjdGlvbixcbiAgWUdKdXN0aWZ5LFxuICBZR1Bvc2l0aW9uVHlwZSxcbiAgWUdVbml0LFxufSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IEVuZ2luZUNvbXBvbmVudHMgfSBmcm9tICcuL2RlZmluaXRpb25zJ1xuaW1wb3J0IHsgQWxpZ25Nb2RlLCBGb250LCBTY3JlZW5BbGlnbk1vZGUgfSBmcm9tICcuL2VudW1zJ1xuaW1wb3J0IHsgQ29sb3I0IH0gZnJvbSAnQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2dlbmVyYXRlZC9wYi9kZWNlbnRyYWxhbmQvY29tbW9uL2NvbG9ycy5nZW4nXG5cbmZ1bmN0aW9uIGdldEFsaWduTW9kZShhbGlnbjogQWxpZ25Nb2RlLCBpc0NvbHVtbjogYm9vbGVhbikge1xuICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgY2FzZSBBbGlnbk1vZGUuVEFNX1RPUF9MRUZUOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9GTEVYX1NUQVJULFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogWUdKdXN0aWZ5LllHSl9GTEVYX1NUQVJULFxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fVE9QX0NFTlRFUjoge1xuICAgICAgcmV0dXJuIGlzQ29sdW1uXG4gICAgICAgID8ge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogWUdBbGlnbi5ZR0FfQ0VOVEVSLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfRkxFWF9TVEFSVCxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogWUdBbGlnbi5ZR0FfRkxFWF9TVEFSVCxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnkuWUdKX0NFTlRFUixcbiAgICAgICAgICB9XG4gICAgfVxuICAgIGNhc2UgQWxpZ25Nb2RlLlRBTV9UT1BfUklHSFQ6IHtcbiAgICAgIHJldHVybiBpc0NvbHVtblxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFlHQWxpZ24uWUdBX0ZMRVhfRU5ELFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfRkxFWF9TVEFSVCxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogWUdBbGlnbi5ZR0FfRkxFWF9TVEFSVCxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnkuWUdKX0ZMRVhfRU5ELFxuICAgICAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBBbGlnbk1vZGUuVEFNX01JRERMRV9MRUZUOiB7XG4gICAgICByZXR1cm4gaXNDb2x1bW5cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9GTEVYX1NUQVJULFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfQ0VOVEVSLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9DRU5URVIsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogWUdKdXN0aWZ5LllHSl9GTEVYX1NUQVJULFxuICAgICAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBBbGlnbk1vZGUuVEFNX01JRERMRV9DRU5URVI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFsaWduSXRlbXM6IFlHQWxpZ24uWUdBX0NFTlRFUixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfQ0VOVEVSLFxuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fTUlERExFX1JJR0hUOiB7XG4gICAgICByZXR1cm4gaXNDb2x1bW5cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9GTEVYX0VORCxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnkuWUdKX0NFTlRFUixcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogWUdBbGlnbi5ZR0FfQ0VOVEVSLFxuICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFlHSnVzdGlmeS5ZR0pfRkxFWF9FTkQsXG4gICAgICAgICAgfVxuICAgIH1cbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fQk9UVE9NX0xFRlQ6IHtcbiAgICAgIHJldHVybiBpc0NvbHVtblxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFlHQWxpZ24uWUdBX0ZMRVhfU1RBUlQsXG4gICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogWUdKdXN0aWZ5LllHSl9GTEVYX0VORCxcbiAgICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgYWxpZ25JdGVtczogWUdKdXN0aWZ5LllHSl9GTEVYX0VORCxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0FsaWduLllHQV9GTEVYX1NUQVJULFxuICAgICAgICAgIH1cbiAgICB9XG4gICAgY2FzZSBBbGlnbk1vZGUuVEFNX0JPVFRPTV9DRU5URVI6IHtcbiAgICAgIHJldHVybiBpc0NvbHVtblxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFsaWduSXRlbXM6IFlHQWxpZ24uWUdBX0NFTlRFUixcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnkuWUdKX0ZMRVhfRU5ELFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7XG4gICAgICAgICAgICBhbGlnbkl0ZW1zOiBZR0FsaWduLllHQV9GTEVYX0VORCxcbiAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBZR0p1c3RpZnkuWUdKX0NFTlRFUixcbiAgICAgICAgICB9XG4gICAgfVxuICAgIGNhc2UgQWxpZ25Nb2RlLlRBTV9CT1RUT01fUklHSFQ6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFsaWduSXRlbXM6IFlHQWxpZ24uWUdBX0ZMRVhfRU5ELFxuICAgICAgICBqdXN0aWZ5Q29udGVudDogWUdKdXN0aWZ5LllHSl9GTEVYX0VORCxcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcEFsaWduVG9TY3JlZW5BbGlnbihcbiAgYWxpZ246IEFsaWduTW9kZSxcbiAgZmxleERpcmVjdGlvbiA9IFlHRmxleERpcmVjdGlvbi5ZR0ZEX1JPVyxcbik6IFNjcmVlbkFsaWduTW9kZSB7XG4gIGNvbnN0IGlzQ29sdW1uID0gZmxleERpcmVjdGlvbiA9PT0gWUdGbGV4RGlyZWN0aW9uLllHRkRfQ09MVU1OXG5cbiAgc3dpdGNoIChhbGlnbikge1xuICAgIGNhc2UgQWxpZ25Nb2RlLlRBTV9UT1BfTEVGVDpcbiAgICAgIHJldHVybiBnZXRBbGlnbk1vZGUoYWxpZ24sIGlzQ29sdW1uKSBhcyBhbnlcbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fVE9QX0NFTlRFUjpcbiAgICAgIHJldHVybiBnZXRBbGlnbk1vZGUoYWxpZ24sIGlzQ29sdW1uKSBhcyBhbnlcbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fVE9QX1JJR0hUOlxuICAgICAgcmV0dXJuIGdldEFsaWduTW9kZShhbGlnbiwgaXNDb2x1bW4pIGFzIGFueVxuICAgIGNhc2UgQWxpZ25Nb2RlLlRBTV9NSURETEVfTEVGVDpcbiAgICAgIHJldHVybiBnZXRBbGlnbk1vZGUoYWxpZ24sIGlzQ29sdW1uKSBhcyBhbnlcbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fTUlERExFX0NFTlRFUjpcbiAgICAgIHJldHVybiBnZXRBbGlnbk1vZGUoYWxpZ24sIGlzQ29sdW1uKSBhcyBhbnlcbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fTUlERExFX1JJR0hUOlxuICAgICAgcmV0dXJuIGdldEFsaWduTW9kZShhbGlnbiwgaXNDb2x1bW4pIGFzIGFueVxuICAgIGNhc2UgQWxpZ25Nb2RlLlRBTV9CT1RUT01fTEVGVDpcbiAgICAgIHJldHVybiBnZXRBbGlnbk1vZGUoYWxpZ24sIGlzQ29sdW1uKSBhcyBhbnlcbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fQk9UVE9NX0NFTlRFUjpcbiAgICAgIHJldHVybiBnZXRBbGlnbk1vZGUoYWxpZ24sIGlzQ29sdW1uKSBhcyBhbnlcbiAgICBjYXNlIEFsaWduTW9kZS5UQU1fQk9UVE9NX1JJR0hUOlxuICAgICAgcmV0dXJuIGdldEFsaWduTW9kZShhbGlnbiwgaXNDb2x1bW4pIGFzIGFueVxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBIYW5kbGUgZGVmYXVsdCBjYXNlIG9yIHRocm93IGFuIGVycm9yIGlmIG5lZWRlZFxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBBbGlnbk1vZGU6ICR7YWxpZ259YClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUlUcmFuc2Zvcm0oXG4gIGNvbXBvbmVudDogRW5naW5lQ29tcG9uZW50c1snVWlUcmFuc2Zvcm0nXSxcbiAgZW50aXk6IEVudGl0eSxcbiAgaGVpZ2h0ID0gMTAwLFxuICB3aWR0aCA9IDEwMCxcbiAgdW5pdDogWUdVbml0ID0gWUdVbml0LllHVV9QRVJDRU5ULFxuKSB7XG4gIGxldCB1aVRyYW5zZm9ybUNvbXBvbmVudCA9IGNvbXBvbmVudC5nZXRNdXRhYmxlT3JOdWxsKGVudGl5KVxuXG4gIGlmICghdWlUcmFuc2Zvcm1Db21wb25lbnQpIHtcbiAgICB1aVRyYW5zZm9ybUNvbXBvbmVudCA9IGNvbXBvbmVudC5jcmVhdGUoZW50aXkpXG4gICAgdWlUcmFuc2Zvcm1Db21wb25lbnQuaGVpZ2h0VW5pdCA9IHVuaXRcbiAgICB1aVRyYW5zZm9ybUNvbXBvbmVudC53aWR0aFVuaXQgPSB1bml0XG4gICAgdWlUcmFuc2Zvcm1Db21wb25lbnQuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgdWlUcmFuc2Zvcm1Db21wb25lbnQud2lkdGggPSB3aWR0aFxuICAgIHVpVHJhbnNmb3JtQ29tcG9uZW50Lm1heEhlaWdodFVuaXQgPSB1bml0XG4gICAgdWlUcmFuc2Zvcm1Db21wb25lbnQubWF4V2lkdGhVbml0ID0gdW5pdFxuICAgIHVpVHJhbnNmb3JtQ29tcG9uZW50Lm1heEhlaWdodCA9IGhlaWdodFxuICAgIHVpVHJhbnNmb3JtQ29tcG9uZW50Lm1heFdpZHRoID0gd2lkdGhcbiAgfVxuXG4gIGlmIChlbnRpeSA9PT0gMCkge1xuICAgIHVpVHJhbnNmb3JtQ29tcG9uZW50LnBvc2l0aW9uVHlwZSA9IFlHUG9zaXRpb25UeXBlLllHUFRfQUJTT0xVVEVcbiAgfVxuXG4gIHJldHVybiB1aVRyYW5zZm9ybUNvbXBvbmVudFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUlCYWNrZ3JvdW5kKFxuICBjb21wb25lbnQ6IEVuZ2luZUNvbXBvbmVudHNbJ1VpQmFja2dyb3VuZCddLFxuICBlbnRpdHk6IEVudGl0eSxcbiAgc3JjOiBzdHJpbmcsXG4gIHRleHR1cmVNb2RlID0gQmFja2dyb3VuZFRleHR1cmVNb2RlLk5JTkVfU0xJQ0VTLFxuICB3cmFwTW9kZSA9IFRleHR1cmVXcmFwTW9kZS5UV01fQ0xBTVAsXG4pIHtcbiAgcmV0dXJuIGNvbXBvbmVudC5jcmVhdGVPclJlcGxhY2UoZW50aXR5LCB7XG4gICAgdGV4dHVyZU1vZGUsXG4gICAgdGV4dHVyZToge1xuICAgICAgdGV4OiB7XG4gICAgICAgICRjYXNlOiAndGV4dHVyZScsXG4gICAgICAgIHRleHR1cmU6IHtcbiAgICAgICAgICBzcmMsXG4gICAgICAgICAgd3JhcE1vZGUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgdXZzOiBbXSxcbiAgfSlcbn1cblxuZnVuY3Rpb24gYnJlYWtMaW5lcyh0ZXh0OiBzdHJpbmcsIGxpbmVsZW5ndGg6IG51bWJlcikge1xuICBjb25zdCBsaW5lQnJlYWsgPSAnXFxuJ1xuICBsZXQgY291bnRlciA9IDBcbiAgbGV0IGxpbmUgPSAnJ1xuICBsZXQgcmV0dXJuVGV4dCA9ICcnXG4gIGxldCBiTWF0Y2hGb3VuZCA9IGZhbHNlXG4gIGNvbnN0IGxpbmVMZW4gPSBsaW5lbGVuZ3RoID8gbGluZWxlbmd0aCA6IDUwXG5cbiAgaWYgKCF0ZXh0KSByZXR1cm4gJydcbiAgaWYgKHRleHQubGVuZ3RoIDwgbGluZUxlbiArIDEpIHtcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgd2hpbGUgKGNvdW50ZXIgPCB0ZXh0Lmxlbmd0aCkge1xuICAgIGxpbmUgPSB0ZXh0LnN1YnN0cmluZyhjb3VudGVyLCBjb3VudGVyICsgbGluZUxlbilcbiAgICBiTWF0Y2hGb3VuZCA9IGZhbHNlXG4gICAgaWYgKGxpbmUubGVuZ3RoID09IGxpbmVMZW4pIHtcbiAgICAgIGZvciAobGV0IGkgPSBsaW5lLmxlbmd0aDsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgaWYgKGxpbmUuc3Vic3RyaW5nKGksIGkgKyAxKSA9PSAnICcpIHtcbiAgICAgICAgICBjb3VudGVyICs9IGxpbmUuc3Vic3RyaW5nKDAsIGkpLmxlbmd0aFxuICAgICAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBpKSArIGxpbmVCcmVha1xuICAgICAgICAgIHJldHVyblRleHQgKz0gbGluZVxuICAgICAgICAgIGJNYXRjaEZvdW5kID0gdHJ1ZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFiTWF0Y2hGb3VuZCkge1xuICAgICAgICBjb3VudGVyICs9IGxpbmUubGVuZ3RoXG4gICAgICAgIGxpbmUgPSBsaW5lICsgbGluZUJyZWFrXG4gICAgICAgIHJldHVyblRleHQgKz0gbGluZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm5UZXh0ICs9IGxpbmVcbiAgICAgIGJyZWFrIC8vIFdlJ3JlIGJyZWFraW5nIG91dCBvZiB0aGUgdGhlIHdoaWxlKCksIG5vdCB0aGUgZm9yKClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0dXJuVGV4dFxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VUlUZXh0KFxuICBjb21wb25lbnQ6IEVuZ2luZUNvbXBvbmVudHNbJ1VpVGV4dCddLFxuICBlbnRpdHk6IEVudGl0eSxcbiAgdGV4dDogc3RyaW5nLFxuICBmb250U2l6ZSA9IDEwLFxuICBjb250YWluZXJXaWR0aDogbnVtYmVyLFxuICBhbGlnbjogQWxpZ25Nb2RlID0gQWxpZ25Nb2RlLlRBTV9NSURETEVfQ0VOVEVSLFxuICBjb2xvcjogQ29sb3I0ID0geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAxIH0sXG4pIHtcbiAgY29uc3QgbGluZUxlbmd0aCA9IE1hdGguZmxvb3IoY29udGFpbmVyV2lkdGggLyAoZm9udFNpemUgLyAxLjcpKVxuXG4gIHJldHVybiBjb21wb25lbnQuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge1xuICAgIHZhbHVlOiBicmVha0xpbmVzKHRleHQsIGxpbmVMZW5ndGgpLFxuICAgIGZvbnRTaXplLFxuICAgIGZvbnQ6IEZvbnQuRl9NT05PU1BBQ0UgYXMgYW55LFxuICAgIHRleHRBbGlnbjogYWxpZ24gYXMgdW5rbm93biBhcyBUZXh0QWxpZ25Nb2RlLFxuICAgIGNvbG9yLFxuICB9KVxufVxuIiwgImltcG9ydCB7IEVudGl0eSwgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgVmVjdG9yMywgUXVhdGVybmlvbiB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5cbi8qKlxuICogUmVtYXBzIGEgdmFsdWUgZnJvbSBvbmUgcmFuZ2Ugb2YgdmFsdWVzIHRvIGl0cyBlcXVpdmFsZW50LCBzY2FsZWQgaW4gcHJvcG9ydGlvbiB0byBhbm90aGVyIHJhbmdlIG9mIHZhbHVlcywgdXNpbmcgbWF4aW11bSBhbmQgbWluaW11bS5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSB2YWx1ZSBpbnB1dCBudW1iZXJcbiAqIEBwYXJhbSBtaW4xIC0gbWluMSBNaW5pbXVtIHZhbHVlIGluIHRoZSByYW5nZSBvZiB0aGUgaW5wdXQuXG4gKiBAcGFyYW0gbWF4MSAtIG1heDEgTWF4aW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2Ugb2YgdGhlIGlucHV0LlxuICogQHBhcmFtIG1pbjIgLSBtaW4yIE1pbmltdW0gdmFsdWUgaW4gdGhlIHJhbmdlIG9mIHRoZSBvdXRwdXQuXG4gKiBAcGFyYW0gbWF4MiAtIG1heDIgTWF4aW11bSB2YWx1ZSBpbiB0aGUgcmFuZ2Ugb2YgdGhlIG91dHB1dC5cbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgcmVtYXBwZWQgdmFsdWUgYmV0d2VlbiB0aGUgbmV3IG1pbiBhbmQgbWF4XG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1hcChcbiAgdmFsdWU6IG51bWJlcixcbiAgbWluMTogbnVtYmVyLFxuICBtYXgxOiBudW1iZXIsXG4gIG1pbjI6IG51bWJlcixcbiAgbWF4MjogbnVtYmVyXG4pIHtcbiAgbGV0IHJhbmdlMSA9IG1heDEgLSBtaW4xXG4gIGxldCByYW5nZTIgPSBtYXgyIC0gbWluMlxuICByZXR1cm4gKCh2YWx1ZSAtIG1pbjEpIC8gcmFuZ2UxKSAqIHJhbmdlMiArIG1pbjJcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiBhbiBlbnRpdHkgdGhhdCBpcyBhIGNoaWxkIG9mIG90aGVyIGVudGl0aWVzLCByZWxhdGl2ZSB0byB0aGUgc2NlbmUgaW5zdGVhZCBvZiByZWxhdGl2ZSB0byB0aGUgcGFyZW50LiBSZXR1cm5zIGEgVmVjdG9yMy5cbiAqXG4gKiBAcGFyYW0gZW50aXR5IC0gRW50aXR5IHRvIGNhbGN1bGF0ZSBwb3NpdGlvblxuICogQHJldHVybnMgVGhlIEVudGl0eSdzIGdsb2JhbCBwb3NpdGlvbiByZWxhdGl2ZSB0byB0aGUgc2NlbmUncyBvcmlnaW5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFdvcmxkUG9zaXRpb24oZW50aXR5OiBFbnRpdHkpOiBWZWN0b3IzIHtcbiAgbGV0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRPck51bGwoZW50aXR5KVxuXG5cbiAgaWYgKCF0cmFuc2Zvcm0pIHJldHVybiBWZWN0b3IzLlplcm8oKVxuXG4gIGxldCBwYXJlbnQgPSB0cmFuc2Zvcm0ucGFyZW50XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtLnBvc2l0aW9uXG4gIH0gZWxzZSB7XG4gICAgbGV0IHBhcmVudFJvdGF0aW9uID0gVHJhbnNmb3JtLmdldChwYXJlbnQpLnJvdGF0aW9uXG4gICAgcmV0dXJuIFZlY3RvcjMuYWRkKGdldFdvcmxkUG9zaXRpb24ocGFyZW50KSwgVmVjdG9yMy5yb3RhdGUodHJhbnNmb3JtLnBvc2l0aW9uLCBnZXRXb3JsZFJvdGF0aW9uKHBhcmVudCkpKVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgYW4gZW50aXR5IHRoYXQgaXMgYSBjaGlsZCBvZiBvdGhlciBlbnRpdGllcywgcmVsYXRpdmUgdG8gdGhlIHNjZW5lIGluc3RlYWQgb2YgcmVsYXRpdmUgdG8gdGhlIHBhcmVudC4gUmV0dXJucyBhIFZlY3RvcjMuXG4gKlxuICogQHBhcmFtIGVudGl0eSAtIEVudGl0eSB0byBjYWxjdWxhdGUgcG9zaXRpb25cbiAqIEByZXR1cm5zIFRoZSBFbnRpdHkncyBnbG9iYWwgcm90YXRpb24gaW4gcmVmZXJlbmNlIHRvIHRoZSBzY2VuZSdzIG9yaWdpblxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0V29ybGRSb3RhdGlvbihlbnRpdHk6IEVudGl0eSk6IFF1YXRlcm5pb24ge1xuICBsZXQgdHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE9yTnVsbChlbnRpdHkpXG5cbiAgaWYgKCF0cmFuc2Zvcm0pXG4gICAgcmV0dXJuIFF1YXRlcm5pb24uSWRlbnRpdHkoKVxuXG4gIGxldCBwYXJlbnQgPSB0cmFuc2Zvcm0ucGFyZW50XG5cbiAgaWYgKCFwYXJlbnQpIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtLnJvdGF0aW9uXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFF1YXRlcm5pb24ubXVsdGlwbHkodHJhbnNmb3JtLnJvdGF0aW9uLCBnZXRXb3JsZFJvdGF0aW9uKHBhcmVudCkpXG4gIH1cbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBlbnVtIEludGVycG9sYXRpb25UeXBlIHtcbiAgTElORUFSID0gJ2xpbmVhcicsXG5cbiAgRUFTRUlOUVVBRCA9ICdlYXNlaW5xdWFkJyxcbiAgRUFTRU9VVFFVQUQgPSAnZWFzZW91dHF1YWQnLFxuICBFQVNFUVVBRCA9ICdlYXNlcXVhZCcsXG5cbiAgRUFTRUlOU0lORSA9ICdlYXNlaW5zaW5lJyxcbiAgRUFTRU9VVFNJTkUgPSAnZWFzZW91dHNpbmUnLFxuICBFQVNFU0lORSA9ICdlYXNlaW5vdXRzaW5lJyxcblxuICBFQVNFSU5FWFBPID0gJ2Vhc2VpbmV4cG8nLFxuICBFQVNFT1VURVhQTyA9ICdlYXNlb3V0ZXhwbycsXG4gIEVBU0VFWFBPID0gJ2Vhc2Vpbm91dGV4cG8nLFxuXG4gIEVBU0VJTkVMQVNUSUMgPSAnZWFzZWluZWxhc3RpYycsXG4gIEVBU0VPVVRFTEFTVElDID0gJ2Vhc2VvdXRlbGFzdGljJyxcbiAgRUFTRUVMQVNUSUMgPSAnZWFzZWlub3V0ZWxhc3RpYycsXG5cbiAgRUFTRUlOQk9VTkNFID0gJ2Vhc2VpbmJvdW5jZScsXG4gIEVBU0VPVVRFQk9VTkNFID0gJ2Vhc2VvdXRib3VuY2UnLFxuICBFQVNFQk9VTkNFID0gJ2Vhc2Vpbm91dGJvdW5jZScsXG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJwb2xhdGUodHlwZTogSW50ZXJwb2xhdGlvblR5cGUsIHQ6IG51bWJlcik6IG51bWJlciB7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuTElORUFSOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlTGluZWFyKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5RVUFEOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluUXVhZCh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVFFVQUQ6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlT3V0UXVhZCh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRVFVQUQ6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlUXVhZCh0KVxuXHQgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlOU0lORTpcblx0XHQgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VJblNpbmUodClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRTSU5FOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZU91dFNpbmUodClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VTSU5FOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluT3V0U2luZSh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlORVhQTzpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VJbkV4cG8odClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRFWFBPOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZU91dEV4cG8odClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VFWFBPOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluT3V0RXhwbyh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlORUxBU1RJQzpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VJbkVsYXN0aWModClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRFTEFTVElDOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZU91dEVsYXN0aWModClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VFTEFTVElDOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluT3V0RWxhc3RpYyh0KVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlOQk9VTkNFOlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlRWFzZUluQm91bmNlKHQpXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURUJPVU5DRTpcbiAgICAgIHJldHVybiBJbnRlcnBvbGF0ZUVhc2VPdXRCb3VuY2UodClcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VCT1VOQ0U6XG4gICAgICByZXR1cm4gSW50ZXJwb2xhdGVFYXNlSW5PdXRCb3VuY2UodClcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEludGVycG9sYXRlTGluZWFyKHQpXG4gIH1cbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVMaW5lYXIodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHRcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5RdWFkKHQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB0ICogdFxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VPdXRRdWFkKHQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB0ICogKDIgLSB0KVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VRdWFkKHQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiAodCAqIHQpIC8gKDIuMCAqICh0ICogdCAtIHQpICsgMS4wKVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJblNpbmUodDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIDEgLSBNYXRoLmNvcygodCAqIE1hdGguUEkpIC8gMilcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlT3V0U2luZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gTWF0aC5zaW4oKHQgKiBNYXRoLlBJKSAvIDIpXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZUluT3V0U2luZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLShNYXRoLmNvcyhNYXRoLlBJICogdCkgLSAxKSAvIDJcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5FeHBvKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiB0ID09PSAwID8gMCA6IE1hdGgucG93KDIsIDEwICogdCAtIDEwKVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VPdXRFeHBvKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiB0ID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiB0KVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VJbk91dEV4cG8odDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIHQgPT09IDBcblx0XHRcdD8gMFxuXHRcdFx0OiB0ID09PSAxXG5cdFx0XHQ/IDFcblx0XHRcdDogdCA8IDAuNVxuXHRcdFx0PyBNYXRoLnBvdygyLCAyMCAqIHQgLSAxMCkgLyAyXG5cdFx0XHQ6ICgyIC0gTWF0aC5wb3coMiwgLTIwICogdCArIDEwKSkgLyAyXG59XG5cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5FbGFzdGljKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdGNvbnN0IGM0ID0gKDIgKiBNYXRoLlBJKSAvIDNcblxuXHRyZXR1cm4gdCA9PT0gMFxuXHRcdFx0PyAwXG5cdFx0XHQ6IHQgPT09IDFcblx0XHRcdD8gMVxuXHRcdFx0OiAtTWF0aC5wb3coMiwgMTAgKiB0IC0gMTApICogTWF0aC5zaW4oKHQgKiAxMCAtIDEwLjc1KSAqIGM0KVxufVxuXG5mdW5jdGlvbiBJbnRlcnBvbGF0ZUVhc2VPdXRFbGFzdGljKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdGNvbnN0IGM1ID0gKDIgKiBNYXRoLlBJKSAvIDNcblxuXHRyZXR1cm4gdCA9PT0gMFxuXHRcdFx0PyAwXG5cdFx0XHQ6IHQgPT09IDFcblx0XHRcdD8gMVxuXHRcdFx0OiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogMTAgLSAwLjc1KSAqIGM1KSArIDFcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5PdXRFbGFzdGljKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdGNvbnN0IGM2ID0gKDIgKiBNYXRoLlBJKSAvIDQuNVxuXG5cdHJldHVybiB0ID09PSAwXG5cdFx0XHQ/IDBcblx0XHRcdDogdCA9PT0gMVxuXHRcdFx0PyAxXG5cdFx0XHQ6IHQgPCAwLjVcblx0XHRcdD8gLShNYXRoLnBvdygyLCAyMCAqIHQgLSAxMCkgKiBNYXRoLnNpbigoMjAgKiB0IC0gMTEuMTI1KSAqIGM2KSkgLyAyXG5cdFx0XHQ6IChNYXRoLnBvdygyLCAtMjAgKiB0ICsgMTApICogTWF0aC5zaW4oKDIwICogdCAtIDExLjEyNSkgKiBjNikpIC8gMiArIDFcbn1cblxuZnVuY3Rpb24gSW50ZXJwb2xhdGVFYXNlSW5Cb3VuY2UodDogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIDEgLSBib3VuY2UoMSAtIHQpXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZU91dEJvdW5jZSh0OiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYm91bmNlKHQpXG59XG5cbmZ1bmN0aW9uIEludGVycG9sYXRlRWFzZUluT3V0Qm91bmNlKHQ6IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiB0IDwgMC41ID8gKDEgLSBib3VuY2UoMSAtIDIgKiB0KSkgLyAyIDogKDEgKyBib3VuY2UoMiAqIHQgLSAxKSkgLyAyXG59XG5cbmZ1bmN0aW9uIGJvdW5jZSh4OiBudW1iZXIpIHtcblx0Y29uc3QgbjEgPSA3LjU2MjVcblx0Y29uc3QgZDEgPSAyLjc1XG5cblx0aWYgKHggPCAxIC8gZDEpIHtcblx0XHRyZXR1cm4gbjEgKiB4ICogeFxuXHR9IGVsc2UgaWYgKHggPCAyIC8gZDEpIHtcblx0XHRyZXR1cm4gbjEgKiAoeCAtPSAxLjUgLyBkMSkgKiB4ICsgMC43NVxuXHR9IGVsc2UgaWYgKHggPCAyLjUgLyBkMSkge1xuXHRcdHJldHVybiBuMSAqICh4IC09IDIuMjUgLyBkMSkgKiB4ICsgMC45Mzc1XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIG4xICogKHggLT0gMi42MjUgLyBkMSkgKiB4ICsgMC45ODQzNzVcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2F0bXVsbFJvbVNwbGluZShwb2ludHM6IFZlY3RvcjNbXSwgbmJQb2ludHM6IG51bWJlciwgY2xvc2VkPzogYm9vbGVhbik6IFZlY3RvcjNbXSB7XG5cdGNvbnN0IGNhdG11bGxSb20gPSBuZXcgQXJyYXk8VmVjdG9yMz4oKTtcblx0Y29uc3Qgc3RlcCA9IDEuMCAvIG5iUG9pbnRzO1xuXHRsZXQgYW1vdW50ID0gMC4wO1xuXHRpZiAoY2xvc2VkKSB7XG5cdFx0Y29uc3QgcG9pbnRzQ291bnQgPSBwb2ludHMubGVuZ3RoO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzQ291bnQ7IGkrKykge1xuXHRcdFx0YW1vdW50ID0gMDtcblx0XHRcdGZvciAobGV0IGMgPSAwOyBjIDwgbmJQb2ludHM7IGMrKykge1xuXHRcdFx0XHRjYXRtdWxsUm9tLnB1c2goXG5cdFx0XHRcdFx0VmVjdG9yMy5jYXRtdWxsUm9tKHBvaW50c1tpICUgcG9pbnRzQ291bnRdLCBwb2ludHNbKGkgKyAxKSAlIHBvaW50c0NvdW50XSwgcG9pbnRzWyhpICsgMikgJSBwb2ludHNDb3VudF0sIHBvaW50c1soaSArIDMpICUgcG9pbnRzQ291bnRdLCBhbW91bnQpXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGFtb3VudCArPSBzdGVwO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRjYXRtdWxsUm9tLnB1c2goY2F0bXVsbFJvbVswXSk7XG5cdH0gZWxzZSB7XG5cdFx0Y29uc3QgdG90YWxQb2ludHMgPSBuZXcgQXJyYXk8VmVjdG9yMz4oKTtcblx0XHR0b3RhbFBvaW50cy5wdXNoKFZlY3RvcjMuY2xvbmUocG9pbnRzWzBdKSk7XG5cdFx0QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodG90YWxQb2ludHMsIHBvaW50cyk7XG5cdFx0dG90YWxQb2ludHMucHVzaChWZWN0b3IzLmNsb25lKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pKTtcblx0XHRsZXQgaSA9IDA7XG5cdFx0Zm9yICg7IGkgPCB0b3RhbFBvaW50cy5sZW5ndGggLSAzOyBpKyspIHtcblx0XHRcdGFtb3VudCA9IDA7XG5cdFx0XHRmb3IgKGxldCBjID0gMDsgYyA8IG5iUG9pbnRzOyBjKyspIHtcblx0XHRcdFx0Y2F0bXVsbFJvbS5wdXNoKFZlY3RvcjMuY2F0bXVsbFJvbSh0b3RhbFBvaW50c1tpXSwgdG90YWxQb2ludHNbaSArIDFdLCB0b3RhbFBvaW50c1tpICsgMl0sIHRvdGFsUG9pbnRzW2kgKyAzXSwgYW1vdW50KSk7XG5cdFx0XHRcdGFtb3VudCArPSBzdGVwO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpLS07XG5cdFx0Y2F0bXVsbFJvbS5wdXNoKFZlY3RvcjMuY2F0bXVsbFJvbSh0b3RhbFBvaW50c1tpXSwgdG90YWxQb2ludHNbaSArIDFdLCB0b3RhbFBvaW50c1tpICsgMl0sIHRvdGFsUG9pbnRzW2kgKyAzXSwgYW1vdW50KSk7XG5cdH1cblx0cmV0dXJuIGNhdG11bGxSb207XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVBQUJCSW50ZXJzZWN0aW5nKGFNaW46IFZlY3RvcjMsIGFNYXg6IFZlY3RvcjMsIGJNaW46IFZlY3RvcjMsIGJNYXg6IFZlY3RvcjMpOiBib29sZWFuIHtcblx0cmV0dXJuIChcblx0XHRhTWluLnggPD0gYk1heC54ICYmXG5cdFx0YU1heC54ID49IGJNaW4ueCAmJlxuXHRcdGFNaW4ueSA8PSBiTWF4LnkgJiZcblx0XHRhTWF4LnkgPj0gYk1pbi55ICYmXG5cdFx0YU1pbi56IDw9IGJNYXgueiAmJlxuXHRcdGFNYXgueiA+PSBiTWluLnpcblx0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXJlU3BoZXJlc0ludGVyc2VjdGluZyhhUG9zOiBWZWN0b3IzLCBhUmFkaXVzOiBudW1iZXIsIGJQb3M6IFZlY3RvcjMsIGJSYWRpdXM6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBzcURpc3QgPSBWZWN0b3IzLmRpc3RhbmNlU3F1YXJlZChhUG9zLCBiUG9zKVxuICBjb25zdCByYWRpdXNTdW0gPSBhUmFkaXVzICsgYlJhZGl1c1xuICByZXR1cm4gc3FEaXN0IDwgcmFkaXVzU3VtICogcmFkaXVzU3VtXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVBQUJCU3BoZXJlSW50ZXJzZWN0aW5nKGJveE1pbjogVmVjdG9yMywgYm94TWF4OiBWZWN0b3IzLCBzcGhlcmVQb3M6IFZlY3RvcjMsIHNwaGVyZVJhZGl1czogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGxldCBkbWluID0gMFxuXG4gIGlmIChzcGhlcmVQb3MueCA8IGJveE1pbi54KVxuICAgIGRtaW4gKz0gKGJveE1pbi54IC0gc3BoZXJlUG9zLngpICogKGJveE1pbi54IC0gc3BoZXJlUG9zLngpXG4gIGlmIChzcGhlcmVQb3MueCA+IGJveE1heC54KVxuICAgIGRtaW4gKz0gKHNwaGVyZVBvcy54IC0gYm94TWF4LngpICogKHNwaGVyZVBvcy54IC0gYm94TWF4LngpXG4gIGlmIChzcGhlcmVQb3MueSA8IGJveE1pbi55KVxuICAgIGRtaW4gKz0gKGJveE1pbi55IC0gc3BoZXJlUG9zLnkpICogKGJveE1pbi55IC0gc3BoZXJlUG9zLnkpXG4gIGlmIChzcGhlcmVQb3MueSA+IGJveE1heC55KVxuICAgIGRtaW4gKz0gKHNwaGVyZVBvcy55IC0gYm94TWF4LnkpICogKHNwaGVyZVBvcy55IC0gYm94TWF4LnkpXG4gIGlmIChzcGhlcmVQb3MueiA8IGJveE1pbi56KVxuICAgIGRtaW4gKz0gKGJveE1pbi56IC0gc3BoZXJlUG9zLnopICogKGJveE1pbi56IC0gc3BoZXJlUG9zLnopXG4gIGlmIChzcGhlcmVQb3MueiA+IGJveE1heC56KVxuICAgIGRtaW4gKz0gKHNwaGVyZVBvcy56IC0gYm94TWF4LnopICogKHNwaGVyZVBvcy56IC0gYm94TWF4LnopXG5cbiAgcmV0dXJuIGRtaW4gPCBzcGhlcmVSYWRpdXMgKiBzcGhlcmVSYWRpdXNcbn1cbiIsICJjb25zdCBSRUdVTEFSX1BSSU9SSVRZID0gMTAwZTNcblxuZXhwb3J0IG5hbWVzcGFjZSBwcmlvcml0eSB7XG4gIGV4cG9ydCBjb25zdCBUaW1lclN5c3RlbVByaW9yaXR5ID0gUkVHVUxBUl9QUklPUklUWSArIDI1NlxuICBleHBvcnQgY29uc3QgVHdlZW5TeXN0ZW1Qcmlvcml0eSA9IFJFR1VMQVJfUFJJT1JJVFkgKyAxOTJcbiAgZXhwb3J0IGNvbnN0IFBlcnBldHVhbE1vdGlvblN5c3RlbVByaW9yaXR5ID0gUkVHVUxBUl9QUklPUklUWSArIDE5MlxuICBleHBvcnQgY29uc3QgUGF0aFN5c3RlbVByaW9yaXR5ID0gUkVHVUxBUl9QUklPUklUWSArIDE5MlxuICBleHBvcnQgY29uc3QgVHJpZ2dlclN5c3RlbVByaW9yaXR5ID0gUkVHVUxBUl9QUklPUklUWSArIDEyOFxuICBleHBvcnQgY29uc3QgQWN0aW9uU3lzdGVtUHJpb3JpdHkgPSBSRUdVTEFSX1BSSU9SSVRZICsgNjRcbn1cbiIsICJpbXBvcnQgeyBlbmdpbmUsIEVudGl0eSwgSUVuZ2luZSwgVHJhbnNmb3JtVHlwZSwgU2NoZW1hcywgVHJhbnNmb3JtIH0gZnJvbSAnQGRjbC9zZGsvZWNzJ1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tICcuL3ByaW9yaXR5J1xuXG5leHBvcnQgdHlwZSBUaW1lcnMgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVUaW1lcnM+XG5cbmV4cG9ydCB0eXBlIENhbGxiYWNrID0gKCkgPT4gdm9pZFxuXG5leHBvcnQgdHlwZSBUaW1lcklkID0gbnVtYmVyXG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbWVycyh0YXJnZXRFbmdpbmU6IElFbmdpbmUpIHtcbiAgdHlwZSBUaW1lckRhdGEgPSB7XG4gICAgYWNjdW11bGF0ZWRUaW1lOiBudW1iZXIsXG4gICAgaW50ZXJ2YWw6IG51bWJlcixcbiAgICByZWN1cnJlbnQ6IGJvb2xlYW4sXG4gICAgY2FsbGJhY2s6IENhbGxiYWNrXG4gIH1cblxuICBjb25zdCB0aW1lcnM6IE1hcDxUaW1lcklkLCBUaW1lckRhdGE+ID0gbmV3IE1hcCgpXG4gIGxldCB0aW1lcklkQ291bnRlciA9IDBcblxuICBmdW5jdGlvbiBzeXN0ZW0oZHQ6IG51bWJlcikge1xuICAgIGxldCBkZWFkVGltZXJzID0gW11cbiAgICBsZXQgY2FsbGJhY2tzID0gW11cblxuICAgIGZvciAobGV0IFt0aW1lcklkLCB0aW1lckRhdGFdIG9mIHRpbWVycykge1xuICAgICAgdGltZXJEYXRhLmFjY3VtdWxhdGVkVGltZSArPSAxMDAwICogZHRcbiAgICAgIGlmICh0aW1lckRhdGEuYWNjdW11bGF0ZWRUaW1lIDwgdGltZXJEYXRhLmludGVydmFsKVxuICAgICAgICBjb250aW51ZVxuXG4gICAgICBjYWxsYmFja3MucHVzaCh0aW1lckRhdGEuY2FsbGJhY2spXG5cbiAgICAgIGlmICh0aW1lckRhdGEucmVjdXJyZW50KSB7XG4gICAgICAgIHRpbWVyRGF0YS5hY2N1bXVsYXRlZFRpbWUgLT0gTWF0aC5mbG9vcih0aW1lckRhdGEuYWNjdW11bGF0ZWRUaW1lIC8gdGltZXJEYXRhLmludGVydmFsKSAqIHRpbWVyRGF0YS5pbnRlcnZhbFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVhZFRpbWVycy5wdXNoKHRpbWVySWQpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgdGltZXJJZCBvZiBkZWFkVGltZXJzKVxuICAgICAgdGltZXJzLmRlbGV0ZSh0aW1lcklkKVxuICAgIFxuICAgIGZvciAobGV0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcylcbiAgICAgIGNhbGxiYWNrKClcbiAgfVxuXG4gIHRhcmdldEVuZ2luZS5hZGRTeXN0ZW0oc3lzdGVtLCBwcmlvcml0eS5UaW1lclN5c3RlbVByaW9yaXR5KVxuXG4gIHJldHVybiB7XG4gICAgc2V0VGltZW91dChjYWxsYmFjazogQ2FsbGJhY2ssIG1pbGxpc2Vjb25kczogbnVtYmVyKTogVGltZXJJZCB7XG4gICAgICBsZXQgdGltZXJJZCA9IHRpbWVySWRDb3VudGVyKytcbiAgICAgIHRpbWVycy5zZXQodGltZXJJZCwge2NhbGxiYWNrOiBjYWxsYmFjaywgaW50ZXJ2YWw6IG1pbGxpc2Vjb25kcywgcmVjdXJyZW50OiBmYWxzZSwgYWNjdW11bGF0ZWRUaW1lOiAwfSlcbiAgICAgIHJldHVybiB0aW1lcklkXG4gICAgfSxcbiAgICBjbGVhclRpbWVvdXQodGltZXI6IFRpbWVySWQpIHtcbiAgICAgIHRpbWVycy5kZWxldGUodGltZXIpXG4gICAgfSxcbiAgICBzZXRJbnRlcnZhbChjYWxsYmFjazogQ2FsbGJhY2ssIG1pbGxpc2Vjb25kczogbnVtYmVyKTogVGltZXJJZCB7XG4gICAgICBsZXQgdGltZXJJZCA9IHRpbWVySWRDb3VudGVyKytcbiAgICAgIHRpbWVycy5zZXQodGltZXJJZCwge2NhbGxiYWNrOiBjYWxsYmFjaywgaW50ZXJ2YWw6IG1pbGxpc2Vjb25kcywgcmVjdXJyZW50OiB0cnVlLCBhY2N1bXVsYXRlZFRpbWU6IDB9KVxuICAgICAgcmV0dXJuIHRpbWVySWRcbiAgICB9LFxuICAgIGNsZWFySW50ZXJ2YWwodGltZXI6IFRpbWVySWQpIHtcbiAgICAgIHRpbWVycy5kZWxldGUodGltZXIpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0aW1lcnMgPSBjcmVhdGVUaW1lcnMoZW5naW5lKVxuIiwgImltcG9ydCB7IGVuZ2luZSwgRW50aXR5LCBFbnRpdHlTdGF0ZSwgSUVuZ2luZSwgU2NoZW1hcyB9IGZyb20gJ0BkY2wvc2RrL2VjcydcbmltcG9ydCB7IHRpbWVycywgVGltZXJzIH0gZnJvbSAnLi90aW1lcic7XG5cbmV4cG9ydCBlbnVtIFRvZ2dsZVN0YXRlIHtcbiAgT2ZmID0gMCxcbiAgT24gPSAxXG59XG5cbmV4cG9ydCB0eXBlIFRvZ2dsZUNhbGxiYWNrID0gKHN0YXRlOiBUb2dnbGVTdGF0ZSkgPT4gdm9pZFxuXG5leHBvcnQgdHlwZSBUb2dnbGVzID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlVG9nZ2xlcz5cblxuZnVuY3Rpb24gY3JlYXRlVG9nZ2xlcyh0YXJnZXRFbmdpbmU6IElFbmdpbmUsIHRpbWVyczogVGltZXJzKSB7XG4gIGNvbnN0IFRvZ2dsZSA9IHRhcmdldEVuZ2luZS5kZWZpbmVDb21wb25lbnQoJ2RjbC51dGlscy5Ub2dnbGUnLCB7XG4gICAgc3RhdGU6IFNjaGVtYXMuRW51bU51bWJlcihUb2dnbGVTdGF0ZSwgVG9nZ2xlU3RhdGUuT2ZmKVxuICB9KVxuXG4gIGxldCB0b2dnbGVzOiBNYXA8RW50aXR5LCBUb2dnbGVDYWxsYmFjayB8IHVuZGVmaW5lZD4gPSBuZXcgTWFwKCk7XG5cbiAgdGltZXJzLnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiB0b2dnbGVzLmtleXMoKSkge1xuICAgICAgaWYgKHRhcmdldEVuZ2luZS5nZXRFbnRpdHlTdGF0ZShlbnRpdHkpID09IEVudGl0eVN0YXRlLlJlbW92ZWQgfHwgIVRvZ2dsZS5oYXMoZW50aXR5KSkge1xuICAgICAgICB0b2dnbGVzLmRlbGV0ZShlbnRpdHkpXG4gICAgICB9XG4gICAgfVxuICB9LCA1MDAwKVxuXG4gIHJldHVybiB7XG4gICAgYWRkVG9nZ2xlKGVudGl0eTogRW50aXR5LCBzdGF0ZTogVG9nZ2xlU3RhdGUsIGNhbGxiYWNrPzogVG9nZ2xlQ2FsbGJhY2spIHtcbiAgICAgIHRvZ2dsZXMuc2V0KGVudGl0eSwgY2FsbGJhY2spXG4gICAgICBUb2dnbGUuY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwge3N0YXRlOiBzdGF0ZX0pXG4gICAgfSxcbiAgICByZW1vdmVUb2dnbGUoZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgIHRvZ2dsZXMuZGVsZXRlKGVudGl0eSlcbiAgICAgIFRvZ2dsZS5kZWxldGVGcm9tKGVudGl0eSlcbiAgICB9LFxuICAgIHNldENhbGxiYWNrKGVudGl0eTogRW50aXR5LCBjYWxsYmFjaz86IFRvZ2dsZUNhbGxiYWNrKSB7XG4gICAgICB0b2dnbGVzLnNldChlbnRpdHksIGNhbGxiYWNrKVxuICAgIH0sXG4gICAgc2V0KGVudGl0eTogRW50aXR5LCBzdGF0ZTogVG9nZ2xlU3RhdGUpIHtcbiAgICAgIGNvbnN0IG9sZFN0YXRlID0gVG9nZ2xlLmdldChlbnRpdHkpLnN0YXRlXG4gICAgICBpZiAob2xkU3RhdGUgIT0gc3RhdGUpIHtcbiAgICAgICAgVG9nZ2xlLmdldE11dGFibGUoZW50aXR5KS5zdGF0ZSA9IHN0YXRlXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdG9nZ2xlcy5nZXQoZW50aXR5KVxuICAgICAgICBpZiAoY2FsbGJhY2spXG4gICAgICAgICAgY2FsbGJhY2soc3RhdGUpXG4gICAgICB9XG4gICAgfSxcbiAgICBmbGlwKGVudGl0eTogRW50aXR5KSB7XG4gICAgICB0aGlzLnNldChlbnRpdHksIDEgLSBUb2dnbGUuZ2V0KGVudGl0eSkuc3RhdGUpICAgICAgXG4gICAgfSxcbiAgICBpc09uKGVudGl0eTogRW50aXR5KSB7XG4gICAgICByZXR1cm4gVG9nZ2xlLmdldChlbnRpdHkpLnN0YXRlID09IFRvZ2dsZVN0YXRlLk9uXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0b2dnbGVzID0gY3JlYXRlVG9nZ2xlcyhlbmdpbmUsIHRpbWVycylcbiIsICJpbXBvcnQgeyBFbnRpdHksIGVuZ2luZSwgVHJhbnNmb3JtLCBBdWRpb1NvdXJjZSwgRWFzaW5nRnVuY3Rpb24gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IEludGVycG9sYXRpb25UeXBlIH0gZnJvbSAnLi9tYXRoJztcblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVudGl0aWVzIHRoYXQgYWxsIHNoYXJlIHRoZSBwcm92aWRlZCBlbnRpdHkgYXMgcGFyZW50LlxuICpcbiAqIEBwYXJhbSBwYXJlbnQgLSBQYXJlbnQgb2YgdGhlIGVudGl0aWVzIHlvdSB3YW50IHRvIGZldGNoLlxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgZW50aXRpZXMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgdGhlIHByb3ZpZGVkIGVudGl0eS4gSWYgdGhlIGVudGl0eSBoYXMgbm8gY2hpbGRyZW4sIGl0IHJldHVybnMgYW4gZW1wdHkgYXJyYXkuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnRpdGllc1dpdGhQYXJlbnQoXG5cdHBhcmVudDogRW50aXR5XG4pOiBFbnRpdHlbXSB7XG5cdGNvbnN0IGVudGl0aWVzV2l0aFBhcmVudDogRW50aXR5W10gPSBbXTtcblxuXHRmb3IgKGNvbnN0IFtlbnRpdHksIHRyYW5zZm9ybV0gb2YgZW5naW5lLmdldEVudGl0aWVzV2l0aChUcmFuc2Zvcm0pKSB7XG5cdFx0aWYgKHRyYW5zZm9ybS5wYXJlbnQgPT09IHBhcmVudCkge1xuXHRcdFx0ZW50aXRpZXNXaXRoUGFyZW50LnB1c2goZW50aXR5KTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZW50aXRpZXNXaXRoUGFyZW50O1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBhbiBlbnRpdHkgdGhhdCBpcyB0aGUgcGFyZW50IG9mIHRoZSBwcm92aWRlZCBlbnRpdHkuXG4gKlxuICogQHBhcmFtIGNoaWxkIC0gQ2hpbGQgb2YgdGhlIGVudGl0eSB5b3Ugd2FudCB0byBmZXRjaC5cbiAqIEByZXR1cm5zIFRoZSBwYXJlbnQgZW50aXR5LiBJZiBubyBwYXJlbnQgaXMgZm91bmQgaXQgZGVmYXVsdHMgdG8gdGhlIHJvb3QgZW50aXR5IG9mIHRoZSBzY2VuZS5cbiAqIEBwdWJsaWNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW50aXR5UGFyZW50KFxuXHRjaGlsZDogRW50aXR5XG4pOiBFbnRpdHkge1xuXHRjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0T3JOdWxsKGNoaWxkKTtcblx0aWYgKHRyYW5zZm9ybSkge1xuXHRcdHJldHVybiB0cmFuc2Zvcm0ucGFyZW50IGFzIEVudGl0eTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gZW5naW5lLlJvb3RFbnRpdHkgYXMgRW50aXR5O1xuXHR9XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGxheWVyJ3MgYXZhdGFyLlxuICpcbiAqIEByZXR1cm5zIEEgVmVjdG9yMyB3aXRoIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBwbGF5ZXIncyBhdmF0YXIsIHJlbGF0aXZlIHRvIHRoZSBzY2VuZSdzIG9yaWdpbi4gSWYgbm8gZGF0YSBjYW4gYmUgcmV0cmlldmVkLCBpdCByZXR1cm5zICgwLDAsMCkuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGF5ZXJQb3NpdGlvbigpOiBWZWN0b3IzIHtcblx0cmV0dXJuIFRyYW5zZm9ybS5nZXRPck51bGwoZW5naW5lLlBsYXllckVudGl0eSk/LnBvc2l0aW9uIHx8IFZlY3RvcjMuY3JlYXRlKClcbn1cblxuXG5cbi8qKlxuICogUGxheXMgYSBzb3VuZCBmcm9tIGFuIGF1ZGlvIGZpbGUsIGF0IGEgZ2l2ZW4gbG9jYXRpb24gaW4gdGhlIHNjZW5lLlxuICpcbiAqIEBwYXJhbSBmaWxlIC0gUGF0aCB0byBhbiBhdWRpbyBmaWxlIHN0b3JlZCBpbiB0aGUgc2NlbmUncyBmb2xkZXIsIGFzIGEgc3RyaW5nLlxuICogQHBhcmFtIGxvb3AgLSBCb29sZWFuIHRvIHNwZWNpZnkgaWYgdGhlIHNvdW5kIHNob3VsZCBiZSBwbGF5ZWQgb25jZSBvciBsb29wZWQuIEZhbHNlIGJ5IGRlZmF1bHQuXG4gKiBAcGFyYW0gcG9zaXRpb24gLSBWZWN0b3IzIHdpdGggdGhlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSBzY2VuZSdzIG9yaWdpbi4gSWYgbm90IHByb3ZpZGVkLCB0aGUgc291bmQgcGxheXMgYXQgdGhlIGNhbWVyYSdzIGxvY2F0aW9uLlxuICogQHJldHVybnMgQW4gYXJyYXkgb2YgW2VudGl0eSwgdHJhbnNmb3JtXSBmb3IgZWFjaCBlbnRpdHkgdGhhdCBpcyBhIGNoaWxkIG9mIHRoZSBwcm92aWRlZCBlbnRpdHkuIElmIHRoZSBlbnRpdHkgaGFzIG5vIGNoaWxkcmVuLCBpdCByZXR1cm5zIG51bGwuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwbGF5U291bmQoXG5cdGZpbGU6IHN0cmluZyxcblx0bG9vcDogYm9vbGVhbiA9IGZhbHNlLFxuXHRwb3NpdGlvbj86IFZlY3RvcjNcbikge1xuXHRjb25zdCBlbnRpdHkgPSBlbmdpbmUuYWRkRW50aXR5KClcblx0QXVkaW9Tb3VyY2UuY3JlYXRlKGVudGl0eSwge1xuXHRcdGF1ZGlvQ2xpcFVybDogZmlsZSxcblx0XHRsb29wLFxuXHRcdHBsYXlpbmc6IHRydWVcblx0fSlcblxuXHRUcmFuc2Zvcm0uY3JlYXRlKGVudGl0eSwge1xuXHRcdHBvc2l0aW9uOiBwb3NpdGlvbiA/IHBvc2l0aW9uIDogZ2V0UGxheWVyUG9zaXRpb24oKVxuXHR9KVxuXG5cdHJldHVybiBlbnRpdHlcbn1cblxuLyoqXG4gKiBNYXBzIGFuIEVhc2luZ0Z1bmN0aW9uIHRvIHRoZSBwcm92aWRlZCBJbnRlcnBvbGF0aW9uVHlwZVxuICpcbiAqIEBwYXJhbSB0eXBlIC0gYW4gSW50ZXJwb2xhdGlvblR5cGUgZW51bSB0eXBlXG4gKiBAcmV0dXJucyBBbiBFYXNpbmdGdW5jdGlvbiBlbnVtIHR5cGVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVhc2luZ0Z1bmN0aW9uRnJvbUludGVycG9sYXRpb24odHlwZTogSW50ZXJwb2xhdGlvblR5cGUpOiBFYXNpbmdGdW5jdGlvbiB7XG5cdHN3aXRjaCAodHlwZSkge1xuXHRcdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuTElORUFSOlxuXHRcdFx0cmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0xJTkVBUlxuXHRcdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlOUVVBRDpcblx0XHRcdHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFSU5RVUFEXG5cdFx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VUUVVBRDpcblx0XHRcdHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFT1VUUVVBRFxuXHRcdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRVFVQUQ6XG5cdFx0XHRyZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRVFVQURcblx0XHRjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VJTlNJTkU6XG5cdFx0XHRyZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUlOU0lORVxuXHRcdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVFNJTkU6XG5cdFx0XHRyZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRU9VVFNJTkVcblx0XHRjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VTSU5FOlxuXHRcdFx0cmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VTSU5FXG5cdFx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5FWFBPOlxuXHRcdFx0cmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VJTkVYUE9cblx0XHRjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRFWFBPOlxuXHRcdFx0cmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VPVVRFWFBPXG5cdFx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFRVhQTzpcblx0XHRcdHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFRVhQT1xuXHRcdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlORUxBU1RJQzpcblx0XHRcdHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFSU5FTEFTVElDXG5cdFx0Y2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURUxBU1RJQzpcblx0XHRcdHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFT1VURUxBU1RJQ1xuXHRcdGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUVMQVNUSUM6XG5cdFx0XHRyZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUVMQVNUSUNcblx0XHRjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VJTkJPVU5DRTpcblx0XHRcdHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFSU5CT1VOQ0Vcblx0XHRjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRFQk9VTkNFOlxuXHRcdFx0cmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VPVVRCT1VOQ0Vcblx0XHRjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VCT1VOQ0U6XG5cdFx0XHRyZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUJPVU5DRVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfTElORUFSXG5cdH1cbn1cbiIsICJpbXBvcnQge1xuICBlbmdpbmUsXG4gIEVudGl0eSxcbiAgSUVuZ2luZSxcbiAgRW50aXR5U3RhdGUsXG4gIFR3ZWVuLFxuICBUd2VlbkhlbHBlcixcbn0gZnJvbSBcIkBkY2wvc2RrL2Vjc1wiO1xuXG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL3ByaW9yaXR5XCI7XG5pbXBvcnQgeyBJbnRlcnBvbGF0aW9uVHlwZSB9IGZyb20gXCIuL21hdGhcIjtcbmltcG9ydCB7IGdldEVhc2luZ0Z1bmN0aW9uRnJvbUludGVycG9sYXRpb24gfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5cbmV4cG9ydCB0eXBlIE9uRmluaXNoQ2FsbGJhY2sgPSAoKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgVHdlZW5zID0gUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlVHdlZW5zPjtcbnR5cGUgVHdlZW5NYXAgPSBNYXA8XG4gIEVudGl0eSxcbiAge1xuICAgIG5vcm1hbGl6ZWRUaW1lOiBudW1iZXI7XG4gICAgY2FsbGJhY2s6IE9uRmluaXNoQ2FsbGJhY2sgfCB1bmRlZmluZWQ7XG4gIH1cbj47XG5cbmZ1bmN0aW9uIGNyZWF0ZVR3ZWVucyh0YXJnZXRFbmdpbmU6IElFbmdpbmUpIHtcbiAgY29uc3QgdHdlZW5NYXA6IFR3ZWVuTWFwID0gbmV3IE1hcCgpO1xuXG4gIGZ1bmN0aW9uIG1ha2VTeXN0ZW0oZHQ6IG51bWJlcikge1xuICAgIGNvbnN0IGRlYWRUd2VlbnMgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW2VudGl0eSwgdHdlZW5EYXRhXSBvZiB0d2Vlbk1hcC5lbnRyaWVzKCkpIHtcbiAgICAgIGlmIChcbiAgICAgICAgdGFyZ2V0RW5naW5lLmdldEVudGl0eVN0YXRlKGVudGl0eSkgPT0gRW50aXR5U3RhdGUuUmVtb3ZlZCB8fFxuICAgICAgICAhVHdlZW4uaGFzKGVudGl0eSlcbiAgICAgICkge1xuICAgICAgICB0d2Vlbk1hcC5kZWxldGUoZW50aXR5KTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHR3ZWVuID0gVHdlZW4uZ2V0KGVudGl0eSk7XG4gICAgICB0d2VlbkRhdGEubm9ybWFsaXplZFRpbWUgKz0gZHQgKiAxMDAwO1xuXG4gICAgICBpZiAodHdlZW5EYXRhLm5vcm1hbGl6ZWRUaW1lID49IHR3ZWVuLmR1cmF0aW9uKSB7XG4gICAgICAgIGRlYWRUd2VlbnMucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAoY29uc3QgZW50aXR5IG9mIGRlYWRUd2VlbnMpIHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gdHdlZW5NYXAuZ2V0KGVudGl0eSk/LmNhbGxiYWNrO1xuICAgICAgVHdlZW4uZGVsZXRlRnJvbShlbnRpdHkpO1xuICAgICAgdHdlZW5NYXAuZGVsZXRlKGVudGl0eSk7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVN0b3AoZW50aXR5OiBFbnRpdHkpIHtcbiAgICBUd2Vlbi5kZWxldGVGcm9tKGVudGl0eSk7XG4gICAgdHdlZW5NYXAuZGVsZXRlKGVudGl0eSk7XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlU3RhcnQ8XG4gICAgTW9kZSBleHRlbmRzIGtleW9mIFR3ZWVuSGVscGVyLFxuICAgIFR5cGUgZXh0ZW5kcyBQYXJhbWV0ZXJzPFR3ZWVuSGVscGVyW01vZGVdPlswXVxuICA+KG1vZGU6IE1vZGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgZW50aXR5OiBFbnRpdHksXG4gICAgICBzdGFydDogVHlwZVtcInN0YXJ0XCJdLFxuICAgICAgZW5kOiBUeXBlW1wiZW5kXCJdLFxuICAgICAgZHVyYXRpb246IG51bWJlcixcbiAgICAgIGludGVycG9sYXRpb25UeXBlOiBJbnRlcnBvbGF0aW9uVHlwZSA9IEludGVycG9sYXRpb25UeXBlLkxJTkVBUixcbiAgICAgIG9uRmluaXNoPzogT25GaW5pc2hDYWxsYmFja1xuICAgICkge1xuICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBkdXJhdGlvbiA9PT0gMCA/IDEgOiAwO1xuICAgICAgdHdlZW5NYXAuc2V0KGVudGl0eSwgeyBub3JtYWxpemVkVGltZTogY3VycmVudFRpbWUsIGNhbGxiYWNrOiBvbkZpbmlzaCB9KTtcbiAgICAgIFR3ZWVuLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uICogMTAwMCxcbiAgICAgICAgZWFzaW5nRnVuY3Rpb246IGdldEVhc2luZ0Z1bmN0aW9uRnJvbUludGVycG9sYXRpb24oaW50ZXJwb2xhdGlvblR5cGUpLFxuICAgICAgICBjdXJyZW50VGltZSxcbiAgICAgICAgbW9kZTogVHdlZW4uTW9kZVttb2RlXSh7IHN0YXJ0OiBzdGFydCBhcyBhbnksIGVuZDogZW5kIGFzIGFueSB9KSxcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBtYWtlR2V0T25GaW5pc2hDYWxsYmFjayhlbnRpdHk6IEVudGl0eSkge1xuICAgIGlmICghdHdlZW5NYXAuaGFzKGVudGl0eSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRW50aXR5ICR7ZW50aXR5fSBpcyBub3QgcmVnaXN0ZXJlZCB3aXRoIHR3ZWVucyBzeXN0ZW1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHR3ZWVuTWFwLmdldChlbnRpdHkpO1xuICB9XG5cbiAgdGFyZ2V0RW5naW5lLmFkZFN5c3RlbShtYWtlU3lzdGVtLCBwcmlvcml0eS5Ud2VlblN5c3RlbVByaW9yaXR5KTtcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0VHJhbnNsYXRpb246IG1ha2VTdGFydChcIk1vdmVcIiksXG4gICAgc3RvcFRyYW5zbGF0aW9uOiBtYWtlU3RvcCxcbiAgICBzdGFydFJvdGF0aW9uOiBtYWtlU3RhcnQoXCJSb3RhdGVcIiksXG4gICAgc3RvcFJvdGF0aW9uOiBtYWtlU3RvcCxcbiAgICBzdGFydFNjYWxpbmc6IG1ha2VTdGFydChcIlNjYWxlXCIpLFxuICAgIHN0b3BTY2FsaW5nOiBtYWtlU3RvcCxcbiAgICBnZXRUcmFuc2xhdGlvbk9uRmluaXNoQ2FsbGJhY2s6IG1ha2VHZXRPbkZpbmlzaENhbGxiYWNrLFxuICAgIGdldFJvdGF0aW9uT25GaW5pc2hDYWxsYmFjazogbWFrZUdldE9uRmluaXNoQ2FsbGJhY2ssXG4gICAgZ2V0U2NhbGluZ09uRmluaXNoQ2FsbGJhY2s6IG1ha2VHZXRPbkZpbmlzaENhbGxiYWNrLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgdHdlZW5zID0gY3JlYXRlVHdlZW5zKGVuZ2luZSk7XG4iLCAiaW1wb3J0IHsgRWFzaW5nRnVuY3Rpb24sIGVuZ2luZSwgRW50aXR5LCBJRW5naW5lLCBTY2hlbWFzLCBUcmFuc2Zvcm0sIFR3ZWVuLCBUd2Vlbkxvb3AsIFR3ZWVuU2VxdWVuY2UgfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSAnLi9wcmlvcml0eSdcblxuZXhwb3J0IHR5cGUgUGVycGV0dWFsTW90aW9ucyA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVBlcnBldHVhbE1vdGlvbnM+XG5cblxuZXhwb3J0IGVudW0gQVhJUyB7XG4gIFggPSAneCcsXG4gIFkgPSAneScsXG4gIFogPSAneidcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGVycGV0dWFsTW90aW9ucyh0YXJnZXRFbmdpbmU6IElFbmdpbmUpIHtcbiAgY29uc3QgUGVycGV0dWFsUm90YXRpb24gPSB0YXJnZXRFbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdkY2wudXRpbHMuUGVycGV0dWFsUm90YXRpb24nLCB7XG4gICAgdmVsb2NpdHk6IFNjaGVtYXMuUXVhdGVybmlvblxuICB9KVxuXG4gIGZ1bmN0aW9uIHN5c3RlbShkdDogbnVtYmVyKSB7XG4gICAgZm9yIChjb25zdCBbZW50aXR5LCByb3RhdGlvbl0gb2YgdGFyZ2V0RW5naW5lLmdldEVudGl0aWVzV2l0aChQZXJwZXR1YWxSb3RhdGlvbiwgVHJhbnNmb3JtKSkge1xuICAgICAgY29uc3Qgcm90YXRpb25EZWx0YSA9IFF1YXRlcm5pb24uc2xlcnAoUXVhdGVybmlvbi5JZGVudGl0eSgpLCByb3RhdGlvbi52ZWxvY2l0eSwgZHQpXG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBUcmFuc2Zvcm0uZ2V0TXV0YWJsZShlbnRpdHkpXG4gICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLm5vcm1hbGl6ZShRdWF0ZXJuaW9uLm11bHRpcGx5KHRyYW5zZm9ybS5yb3RhdGlvbiwgcm90YXRpb25EZWx0YSkpXG4gICAgfVxuICB9XG5cbiAgdGFyZ2V0RW5naW5lLmFkZFN5c3RlbShzeXN0ZW0sIHByaW9yaXR5LlBlcnBldHVhbE1vdGlvblN5c3RlbVByaW9yaXR5KVxuXG4gIHJldHVybiB7XG4gICAgLy8gRGVwcmVjYXRlZCEgVXNlIHNtb290aFJvdGF0aW9uIGluc3RlYWRcbiAgICBzdGFydFJvdGF0aW9uKGVudGl0eTogRW50aXR5LCB2ZWxvY2l0eTogUXVhdGVybmlvbikge1xuICAgICAgUGVycGV0dWFsUm90YXRpb24uY3JlYXRlT3JSZXBsYWNlKGVudGl0eSwgeyB2ZWxvY2l0eTogdmVsb2NpdHkgfSlcbiAgICB9LFxuICAgIHN0b3BSb3RhdGlvbihlbnRpdHk6IEVudGl0eSkge1xuXG4gICAgICBpZiAoVHdlZW4uaGFzKGVudGl0eSkpIHtcbiAgICAgICAgVHdlZW4uZGVsZXRlRnJvbShlbnRpdHkpXG4gICAgICB9XG4gICAgICBpZiAoVHdlZW5TZXF1ZW5jZS5oYXMoZW50aXR5KSkge1xuICAgICAgICBUd2VlblNlcXVlbmNlLmRlbGV0ZUZyb20oZW50aXR5KVxuICAgICAgfVxuXG4gICAgICBpZiAoUGVycGV0dWFsUm90YXRpb24uaGFzKGVudGl0eSkpIHtcbiAgICAgICAgUGVycGV0dWFsUm90YXRpb24uZGVsZXRlRnJvbShlbnRpdHkpXG4gICAgICB9XG5cbiAgICB9LFxuICAgIHNtb290aFJvdGF0aW9uKGVudGl0eTogRW50aXR5LCBkdXJhdGlvbjogbnVtYmVyLCBheGlzPzogQVhJUykge1xuXG4gICAgICBsZXQgZmlyc3RFbmQgPSBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMTgwLCAwKVxuICAgICAgbGV0IHNlY29uZEVuZCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAzNjAsIDApXG5cbiAgICAgIHN3aXRjaCAoYXhpcykge1xuICAgICAgICBjYXNlIEFYSVMuWDpcbiAgICAgICAgICBmaXJzdEVuZCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygxODAsIDAsIDApXG4gICAgICAgICAgc2Vjb25kRW5kID0gUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDM2MCwgMCwgMClcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlIEFYSVMuWTpcbiAgICAgICAgICBmaXJzdEVuZCA9IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAxODAsIDApXG4gICAgICAgICAgc2Vjb25kRW5kID0gUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDM2MCwgMClcbiAgICAgICAgICBicmVha1xuXG4gICAgICAgIGNhc2UgQVhJUy5aOlxuICAgICAgICAgIGZpcnN0RW5kID0gUXVhdGVybmlvbi5mcm9tRXVsZXJEZWdyZWVzKDAsIDAsIDE4MClcbiAgICAgICAgICBzZWNvbmRFbmQgPSBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMCwgMzYwKVxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIFR3ZWVuLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgICAgbW9kZTogVHdlZW4uTW9kZS5Sb3RhdGUoe1xuICAgICAgICAgIHN0YXJ0OiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMCwgMCksXG4gICAgICAgICAgZW5kOiBmaXJzdEVuZFxuICAgICAgICB9KSxcbiAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uIC8gMixcbiAgICAgICAgZWFzaW5nRnVuY3Rpb246IEVhc2luZ0Z1bmN0aW9uLkVGX0xJTkVBUlxuICAgICAgfSlcbiAgICAgIFR3ZWVuU2VxdWVuY2UuY3JlYXRlKGVudGl0eSwge1xuICAgICAgICBsb29wOiBUd2Vlbkxvb3AuVExfUkVTVEFSVCxcbiAgICAgICAgc2VxdWVuY2U6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtb2RlOiBUd2Vlbi5Nb2RlLlJvdGF0ZSh7XG4gICAgICAgICAgICAgIHN0YXJ0OiBmaXJzdEVuZCxcbiAgICAgICAgICAgICAgZW5kOiBzZWNvbmRFbmRcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uIC8gMixcbiAgICAgICAgICAgIGVhc2luZ0Z1bmN0aW9uOiBFYXNpbmdGdW5jdGlvbi5FRl9MSU5FQVJcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwZXJwZXR1YWxNb3Rpb25zID0gY3JlYXRlUGVycGV0dWFsTW90aW9ucyhlbmdpbmUpXG4iLCAiaW1wb3J0IHsgZW5naW5lLCBFbnRpdHksIEVudGl0eVN0YXRlLCBJRW5naW5lLCBTY2hlbWFzLCBUcmFuc2Zvcm0gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBTY2FsYXIsIFZlY3RvcjMsIFF1YXRlcm5pb24gfSBmcm9tICdAZGNsL3Nkay9tYXRoJ1xuaW1wb3J0IHsgY3JlYXRlQ2F0bXVsbFJvbVNwbGluZSB9IGZyb20gJy4vbWF0aCdcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSAnLi9wcmlvcml0eSdcblxuZXhwb3J0IHR5cGUgUGF0aHMgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVQYXRocz5cblxuZXhwb3J0IHR5cGUgT25GaW5pc2hDYWxsYmFjayA9ICgpID0+IHZvaWRcbmV4cG9ydCB0eXBlIE9uUG9pbnRSZWFjaGVkQ2FsbGJhY2sgPSAocG9pbnRJbmRleDogbnVtYmVyLCBwb2ludDogVmVjdG9yMywgbmV4dFBvaW50OiBWZWN0b3IzKSA9PiB2b2lkXG5cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhzKHRhcmdldEVuZ2luZTogSUVuZ2luZSkge1xuICBjb25zdCBGb2xsb3dQYXRoID0gdGFyZ2V0RW5naW5lLmRlZmluZUNvbXBvbmVudCgnZGNsLnV0aWxzLkZvbGxvd1BhdGgnLCB7XG4gICAgcG9pbnRzOiBTY2hlbWFzLkFycmF5KFNjaGVtYXMuVmVjdG9yMyksXG4gICAgZmFjZURpcmVjdGlvbjogU2NoZW1hcy5Cb29sZWFuLFxuICAgIHNwZWVkOiBTY2hlbWFzLk51bWJlcixcbiAgICBub3JtYWxpemVkVGltZTogU2NoZW1hcy5OdW1iZXIsXG4gICAgY3VycmVudEluZGV4OiBTY2hlbWFzLk51bWJlcixcbiAgICBzZWdtZW50VGltZXM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5OdW1iZXIpLFxuICAgIGN1cnZlU2VnbWVudENvdW50OiBTY2hlbWFzLk51bWJlclxuICB9KVxuXG4gIHR5cGUgRmluaXNoQ2FsbGJhY2tNYXAgPSBNYXA8RW50aXR5LCBPbkZpbmlzaENhbGxiYWNrIHwgdW5kZWZpbmVkPlxuICB0eXBlIE9uUG9pbnRSZWFjaGVkQ2FsbGJhY2tNYXAgPSBNYXA8RW50aXR5LCBPblBvaW50UmVhY2hlZENhbGxiYWNrIHwgdW5kZWZpbmVkPlxuXG4gIGNvbnN0IGZpbmlzaENiczogRmluaXNoQ2FsbGJhY2tNYXAgPSBuZXcgTWFwKClcbiAgY29uc3QgcG9pbnRSZWFjaGVkQ2JzOiBPblBvaW50UmVhY2hlZENhbGxiYWNrTWFwID0gbmV3IE1hcCgpXG5cbiAgZnVuY3Rpb24gdW5yZWdpc3RlckVudGl0eShlbnRpdHk6IEVudGl0eSkge1xuICAgIGZpbmlzaENicy5kZWxldGUoZW50aXR5KVxuICAgIHBvaW50UmVhY2hlZENicy5kZWxldGUoZW50aXR5KVxuICAgIEZvbGxvd1BhdGguZGVsZXRlRnJvbShlbnRpdHkpXG4gIH1cblxuICBmdW5jdGlvbiBzeXN0ZW0oZHQ6IG51bWJlcikge1xuICAgIGNvbnN0IGRlYWRQYXRocyA9IFtdXG4gICAgY29uc3QgcG9pbnRSZWFjaGVkUGF0aHMgPSBbXVxuXG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZmluaXNoQ2JzLmtleXMoKSkge1xuICAgICAgaWYgKHRhcmdldEVuZ2luZS5nZXRFbnRpdHlTdGF0ZShlbnRpdHkpID09IEVudGl0eVN0YXRlLlJlbW92ZWQgfHwgIUZvbGxvd1BhdGguaGFzKGVudGl0eSkpIHtcbiAgICAgICAgdW5yZWdpc3RlckVudGl0eShlbnRpdHkpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICAgIGNvbnN0IHBhdGggPSBGb2xsb3dQYXRoLmdldE11dGFibGUoZW50aXR5KVxuICAgICAgcGF0aC5ub3JtYWxpemVkVGltZSA9IFNjYWxhci5jbGFtcChwYXRoLm5vcm1hbGl6ZWRUaW1lICsgZHQgKiBwYXRoLnNwZWVkLCAwLCAxKVxuICAgICAgaWYgKHBhdGgubm9ybWFsaXplZFRpbWUgPj0gMSlcbiAgICAgICAgZGVhZFBhdGhzLnB1c2goZW50aXR5KVxuXG4gICAgICB3aGlsZSAoXG4gICAgICAgIHBhdGgubm9ybWFsaXplZFRpbWUgPj0gcGF0aC5zZWdtZW50VGltZXNbcGF0aC5jdXJyZW50SW5kZXhdICYmXG4gICAgICAgIHBhdGguY3VycmVudEluZGV4IDwgcGF0aC5wb2ludHMubGVuZ3RoIC0gMVxuICAgICAgKSB7XG4gICAgICAgIGlmIChwYXRoLmZhY2VEaXJlY3Rpb24pIHtcbiAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBWZWN0b3IzLnN1YnRyYWN0KHBhdGgucG9pbnRzW3BhdGguY3VycmVudEluZGV4ICsgMV0sIHBhdGgucG9pbnRzW3BhdGguY3VycmVudEluZGV4XSlcbiAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBRdWF0ZXJuaW9uLmxvb2tSb3RhdGlvbihkaXJlY3Rpb24pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGguY3VycmVudEluZGV4ID4gMCAmJiBwYXRoLmN1cnJlbnRJbmRleCAlIHBhdGguY3VydmVTZWdtZW50Q291bnQgPT0gMCkge1xuICAgICAgICAgIGNvbnN0IHBvaW50SW5kZXggPSBwYXRoLmN1cnJlbnRJbmRleCAvIHBhdGguY3VydmVTZWdtZW50Q291bnRcbiAgICAgICAgICBjb25zdCBwb2ludENvb3JkcyA9IHBhdGgucG9pbnRzW3BhdGguY3VycmVudEluZGV4XVxuICAgICAgICAgIGNvbnN0IG5leHRQb2ludENvb3JkcyA9IHBhdGgucG9pbnRzW3BhdGguY3VycmVudEluZGV4ICsgcGF0aC5jdXJ2ZVNlZ21lbnRDb3VudF1cbiAgICAgICAgICBwb2ludFJlYWNoZWRQYXRocy5wdXNoKHtlbnRpdHk6IGVudGl0eSwgaW5kZXg6IHBvaW50SW5kZXgsIGNvb3JkczogcG9pbnRDb29yZHMsIG5leHRDb29yZHM6IG5leHRQb2ludENvb3Jkc30pXG4gICAgICAgIH1cbiAgICAgICAgcGF0aC5jdXJyZW50SW5kZXggKz0gMVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0aW1lRGlmZiA9IHBhdGguc2VnbWVudFRpbWVzW3BhdGguY3VycmVudEluZGV4XSAtIHBhdGguc2VnbWVudFRpbWVzW3BhdGguY3VycmVudEluZGV4IC0gMV1cbiAgICAgIGNvbnN0IGNvZWYgPSAocGF0aC5zZWdtZW50VGltZXNbcGF0aC5jdXJyZW50SW5kZXhdIC0gcGF0aC5ub3JtYWxpemVkVGltZSkgLyB0aW1lRGlmZlxuICAgICAgdHJhbnNmb3JtLnBvc2l0aW9uID0gVmVjdG9yMy5sZXJwKHBhdGgucG9pbnRzW3BhdGguY3VycmVudEluZGV4XSwgcGF0aC5wb2ludHNbcGF0aC5jdXJyZW50SW5kZXggLSAxXSwgY29lZilcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHBvaW50UmVhY2hlZCBvZiBwb2ludFJlYWNoZWRQYXRocykge1xuICAgICAgY29uc3QgY2FsbGJhY2sgPSBwb2ludFJlYWNoZWRDYnMuZ2V0KHBvaW50UmVhY2hlZC5lbnRpdHkpXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2socG9pbnRSZWFjaGVkLmluZGV4LCBwb2ludFJlYWNoZWQuY29vcmRzLCBwb2ludFJlYWNoZWQubmV4dENvb3JkcylcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGVudGl0eSBvZiBkZWFkUGF0aHMpIHtcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gZmluaXNoQ2JzLmdldChlbnRpdHkpXG4gICAgICB1bnJlZ2lzdGVyRW50aXR5KGVudGl0eSlcbiAgICAgIGlmIChjYWxsYmFjaylcbiAgICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgfVxuXG4gIHRhcmdldEVuZ2luZS5hZGRTeXN0ZW0oc3lzdGVtLCBwcmlvcml0eS5QYXRoU3lzdGVtUHJpb3JpdHkpXG5cbiAgZnVuY3Rpb24gc3RhcnRQYXRoKFxuICAgIGVudGl0eTogRW50aXR5LFxuICAgIHBvaW50czogVmVjdG9yM1tdLFxuICAgIGR1cmF0aW9uOiBudW1iZXIsXG4gICAgZmFjZURpcmVjdGlvbj86IGJvb2xlYW4sXG4gICAgY3VydmVTZWdtZW50Q291bnQ/OiBudW1iZXIsXG4gICAgb25GaW5pc2hDYWxsYmFjaz86IE9uRmluaXNoQ2FsbGJhY2ssXG4gICAgb25Qb2ludFJlYWNoZWRDYWxsYmFjaz86IE9uUG9pbnRSZWFjaGVkQ2FsbGJhY2tcbiAgKSB7XG4gICAgaWYgKHBvaW50cy5sZW5ndGggPCAyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdCBsZWFzdCAyIHBvaW50cyBhcmUgcmVxdWlyZWQgdG8gZm9ybSBhIHBhdGguJylcblxuICAgIGlmIChkdXJhdGlvbiA9PSAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXRoIGR1cmF0aW9uIG11c3Qgbm90IGJlIHplcm8nKVxuXG4gICAgaWYgKGN1cnZlU2VnbWVudENvdW50KSB7XG4gICAgICBjb25zdCBsb29wID0gVmVjdG9yMy5lcXVhbHMocG9pbnRzWzBdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKVxuICAgICAgaWYgKGxvb3ApIHtcbiAgICAgICAgcG9pbnRzLnBvcCgpXG4gICAgICAgIHBvaW50cy51bnNoaWZ0KHBvaW50cy5wb3AoKSEpXG4gICAgICB9XG4gICAgICBwb2ludHMgPSBjcmVhdGVDYXRtdWxsUm9tU3BsaW5lKHBvaW50cywgY3VydmVTZWdtZW50Q291bnQsIGxvb3ApXG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnZlU2VnbWVudENvdW50ID0gMVxuICAgIH1cblxuICAgIGZpbmlzaENicy5zZXQoZW50aXR5LCBvbkZpbmlzaENhbGxiYWNrKVxuICAgIHBvaW50UmVhY2hlZENicy5zZXQoZW50aXR5LCBvblBvaW50UmVhY2hlZENhbGxiYWNrKVxuXG4gICAgbGV0IHRvdGFsTGVuZ3RoID0gMFxuICAgIGNvbnN0IHNlZ21lbnRMZW5ndGhzID0gW11cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGxldCBzcURpc3QgPSBWZWN0b3IzLmRpc3RhbmNlKHBvaW50c1tpXSwgcG9pbnRzW2kgKyAxXSlcbiAgICAgIHRvdGFsTGVuZ3RoICs9IHNxRGlzdFxuICAgICAgc2VnbWVudExlbmd0aHMucHVzaChzcURpc3QpXG4gICAgfVxuXG4gICAgY29uc3Qgc2VnbWVudFRpbWVzID0gWzBdXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50TGVuZ3Rocy5sZW5ndGg7IGkrKykge1xuICAgICAgc2VnbWVudFRpbWVzLnB1c2goc2VnbWVudExlbmd0aHNbaV0gLyB0b3RhbExlbmd0aCArIHNlZ21lbnRUaW1lc1tpXSlcbiAgICB9XG5cbiAgICBGb2xsb3dQYXRoLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcbiAgICAgIHBvaW50czogcG9pbnRzLFxuICAgICAgc2VnbWVudFRpbWVzOiBzZWdtZW50VGltZXMsXG4gICAgICBjdXJ2ZVNlZ21lbnRDb3VudDogY3VydmVTZWdtZW50Q291bnQsXG4gICAgICBzcGVlZDogMSAvIGR1cmF0aW9uLFxuICAgICAgbm9ybWFsaXplZFRpbWU6IDAsXG4gICAgICBjdXJyZW50SW5kZXg6IDAsXG4gICAgICBmYWNlRGlyZWN0aW9uOiBmYWNlRGlyZWN0aW9uXG4gICAgfSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnRTdHJhaWdodFBhdGgoXG4gICAgICBlbnRpdHk6IEVudGl0eSxcbiAgICAgIHBvaW50czogVmVjdG9yM1tdLFxuICAgICAgZHVyYXRpb246IG51bWJlcixcbiAgICAgIGZhY2VEaXJlY3Rpb24/OiBib29sZWFuLFxuICAgICAgb25GaW5pc2hDYWxsYmFjaz86IE9uRmluaXNoQ2FsbGJhY2ssXG4gICAgICBvblBvaW50UmVhY2hlZENhbGxiYWNrPzogT25Qb2ludFJlYWNoZWRDYWxsYmFja1xuICAgICkge1xuICAgICAgcmV0dXJuIHN0YXJ0UGF0aChlbnRpdHksIHBvaW50cywgZHVyYXRpb24sIGZhY2VEaXJlY3Rpb24sIDAsIG9uRmluaXNoQ2FsbGJhY2ssIG9uUG9pbnRSZWFjaGVkQ2FsbGJhY2spXG4gICAgfSxcbiAgICBzdGFydFNtb290aFBhdGgoXG4gICAgICBlbnRpdHk6IEVudGl0eSxcbiAgICAgIHBvaW50czogVmVjdG9yM1tdLFxuICAgICAgZHVyYXRpb246IG51bWJlcixcbiAgICAgIHNlZ21lbnRDb3VudDogbnVtYmVyLFxuICAgICAgZmFjZURpcmVjdGlvbj86IGJvb2xlYW4sXG4gICAgICBvbkZpbmlzaENhbGxiYWNrPzogT25GaW5pc2hDYWxsYmFjayxcbiAgICAgIG9uUG9pbnRSZWFjaGVkQ2FsbGJhY2s/OiBPblBvaW50UmVhY2hlZENhbGxiYWNrXG4gICAgKSB7XG4gICAgICBpZiAoc2VnbWVudENvdW50IDwgMiB8fCAhTnVtYmVyLmlzSW50ZWdlcihzZWdtZW50Q291bnQpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNlZ21lbnRDb3VudCBtdXN0IGJlIGFuIGludGVnZXIgdGhhdCBpcyBncmVhdGVyIHRoYW4gMiwgZ290OiAke3NlZ21lbnRDb3VudH1gKVxuICAgICAgcmV0dXJuIHN0YXJ0UGF0aChlbnRpdHksIHBvaW50cywgZHVyYXRpb24sIGZhY2VEaXJlY3Rpb24sIHNlZ21lbnRDb3VudCwgb25GaW5pc2hDYWxsYmFjaywgb25Qb2ludFJlYWNoZWRDYWxsYmFjaylcbiAgICB9LFxuICAgIHN0b3BQYXRoKGVudGl0eTogRW50aXR5KSB7XG4gICAgICB1bnJlZ2lzdGVyRW50aXR5KGVudGl0eSlcbiAgICB9LFxuICAgIGdldE9uRmluaXNoQ2FsbGJhY2soZW50aXR5OiBFbnRpdHkpIHtcbiAgICAgIGlmICghZmluaXNoQ2JzLmhhcyhlbnRpdHkpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVudGl0eSAke2VudGl0eX0gaXMgbm90IHJlZ2lzdGVyZWQgaW4gdHJpZ2dlcnMgc3lzdGVtYClcbiAgICAgIHJldHVybiBmaW5pc2hDYnMuZ2V0KGVudGl0eSlcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHBhdGhzID0gY3JlYXRlUGF0aHMoZW5naW5lKVxuIiwgImltcG9ydCB7IGVuZ2luZSwgRW50aXR5LCBJRW5naW5lLCBNZXNoUmVuZGVyZXIsIFNjaGVtYXMsIFRyYW5zZm9ybSwgTWF0ZXJpYWwsIERlZXBSZWFkb25seSwgRW50aXR5U3RhdGUgfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBWZWN0b3IzLCBDb2xvcjQsIENvbG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQgeyBnZXRXb3JsZFBvc2l0aW9uLCBnZXRXb3JsZFJvdGF0aW9uLCBhcmVBQUJCSW50ZXJzZWN0aW5nLCBhcmVBQUJCU3BoZXJlSW50ZXJzZWN0aW5nLCBhcmVTcGhlcmVzSW50ZXJzZWN0aW5nIH0gZnJvbSAnLi9tYXRoJ1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tICcuL3ByaW9yaXR5J1xuXG5leHBvcnQgY29uc3QgTEFZRVJfMSA9IDFcbmV4cG9ydCBjb25zdCBMQVlFUl8yID0gMlxuZXhwb3J0IGNvbnN0IExBWUVSXzMgPSA0XG5leHBvcnQgY29uc3QgTEFZRVJfNCA9IDhcbmV4cG9ydCBjb25zdCBMQVlFUl81ID0gMTZcbmV4cG9ydCBjb25zdCBMQVlFUl82ID0gMzJcbmV4cG9ydCBjb25zdCBMQVlFUl83ID0gNjRcbmV4cG9ydCBjb25zdCBMQVlFUl84ID0gMTI4XG5leHBvcnQgY29uc3QgQUxMX0xBWUVSUyA9IDI1NVxuZXhwb3J0IGNvbnN0IE5PX0xBWUVSUyA9IDBcblxuZXhwb3J0IGxldCBQTEFZRVJfTEFZRVJfSUQgPSBMQVlFUl8xXG5cbmV4cG9ydCB0eXBlIFRyaWdnZXJCb3hBcmVhU3BlYyA9IHtcblx0dHlwZTogJ2JveCcsXG5cdHBvc2l0aW9uPzogVmVjdG9yMyxcblx0c2NhbGU/OiBWZWN0b3IzXG59XG5leHBvcnQgdHlwZSBUcmlnZ2VyU3BoZXJlQXJlYVNwZWMgPSB7XG5cdHR5cGU6ICdzcGhlcmUnLFxuXHRwb3NpdGlvbj86IFZlY3RvcjMsXG5cdHJhZGl1cz86IG51bWJlclxufVxuZXhwb3J0IHR5cGUgVHJpZ2dlckFyZWFTcGVjID0gVHJpZ2dlckJveEFyZWFTcGVjIHwgVHJpZ2dlclNwaGVyZUFyZWFTcGVjXG5cbmV4cG9ydCB0eXBlIFRyaWdnZXJCb3hBcmVhID0ge1xuXHRwb3NpdGlvbjogVmVjdG9yMyxcblx0c2NhbGU6IFZlY3RvcjNcbn1cbmV4cG9ydCB0eXBlIFRyaWdnZXJTcGhlcmVBcmVhID0ge1xuXHRwb3NpdGlvbjogVmVjdG9yMyxcblx0cmFkaXVzOiBudW1iZXJcbn1cbmV4cG9ydCB0eXBlIFRyaWdnZXJBcmVhID0geyAkY2FzZTogJ2JveCcsIHZhbHVlOiBUcmlnZ2VyQm94QXJlYSB9IHwgeyAkY2FzZTogJ3NwaGVyZScsIHZhbHVlOiBUcmlnZ2VyU3BoZXJlQXJlYSB9XG5cbnR5cGUgT25UcmlnZ2VyRW50ZXJDYWxsYmFjayA9IChlbnRpdHk6IEVudGl0eSkgPT4gdm9pZFxudHlwZSBPblRyaWdnZXJFeGl0Q2FsbGJhY2sgPSAoZW50aXR5OiBFbnRpdHkpID0+IHZvaWRcblxuZXhwb3J0IHR5cGUgVHJpZ2dlcnMgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVUcmlnZ2Vycz5cblxuZnVuY3Rpb24gY3JlYXRlVHJpZ2dlcnModGFyZ2V0RW5naW5lOiBJRW5naW5lKSB7XG5cdGNvbnN0IFRyaWdnZXIgPSBlbmdpbmUuZGVmaW5lQ29tcG9uZW50KCdkY2wudXRpbHMuVHJpZ2dlcicsIHtcblx0XHRhY3RpdmU6IFNjaGVtYXMuQm9vbGVhbixcblx0XHRsYXllck1hc2s6IFNjaGVtYXMuSW50LFxuXHRcdHRyaWdnZXJlZEJ5TWFzazogU2NoZW1hcy5JbnQsXG5cdFx0YXJlYXM6IFNjaGVtYXMuQXJyYXkoU2NoZW1hcy5PbmVPZih7XG5cdFx0XHRib3g6IFNjaGVtYXMuTWFwKHtcblx0XHRcdFx0cG9zaXRpb246IFNjaGVtYXMuVmVjdG9yMyxcblx0XHRcdFx0c2NhbGU6IFNjaGVtYXMuVmVjdG9yM1xuXHRcdFx0fSksXG5cdFx0XHRzcGhlcmU6IFNjaGVtYXMuTWFwKHtcblx0XHRcdFx0cG9zaXRpb246IFNjaGVtYXMuVmVjdG9yMyxcblx0XHRcdFx0cmFkaXVzOiBTY2hlbWFzLk51bWJlclxuXHRcdFx0fSlcblx0XHR9KSksXG5cdFx0ZGVidWdDb2xvcjogU2NoZW1hcy5Db2xvcjNcblx0fSlcblxuXHR0eXBlIFRyaWdnZXJUeXBlID0ge1xuXHRcdGFjdGl2ZTogYm9vbGVhbixcblx0XHRsYXllck1hc2s6IG51bWJlcixcblx0XHR0cmlnZ2VyZWRCeU1hc2s6IG51bWJlcixcblx0XHRhcmVhczogQXJyYXk8VHJpZ2dlckFyZWE+LFxuXHRcdGRlYnVnQ29sb3I6IENvbG9yM1xuXHR9XG5cblx0Y29uc3QgdHJpZ2dlckVudGVyQ2JzOiBNYXA8RW50aXR5LCBPblRyaWdnZXJFbnRlckNhbGxiYWNrIHwgdW5kZWZpbmVkPiA9IG5ldyBNYXAoKVxuXHRjb25zdCB0cmlnZ2VyRXhpdENiczogTWFwPEVudGl0eSwgT25UcmlnZ2VyRXhpdENhbGxiYWNrIHwgdW5kZWZpbmVkPiA9IG5ldyBNYXAoKVxuXG5cdGxldCBkZWJ1Z0RyYXcgPSBmYWxzZVxuXHRjb25zdCBhY3RpdmVDb2xsaXNpb25zOiBNYXA8RW50aXR5LCBTZXQ8RW50aXR5Pj4gPSBuZXcgTWFwKClcblx0Y29uc3QgZGVidWdFbnRpdGllczogTWFwPEVudGl0eSwgQXJyYXk8RW50aXR5Pj4gPSBuZXcgTWFwKClcblxuXHRmdW5jdGlvbiB1cGRhdGVEZWJ1Z0RyYXcoZW5hYmxlZDogYm9vbGVhbikge1xuXHRcdGlmICghZW5hYmxlZClcblx0XHRcdHJldHVyblxuXG5cdFx0Zm9yIChjb25zdCBbZW50aXR5LCB0cmlnZ2VyXSBvZiB0YXJnZXRFbmdpbmUuZ2V0RW50aXRpZXNXaXRoKFRyaWdnZXIsIFRyYW5zZm9ybSkpIHtcblx0XHRcdGxldCBzaGFwZXMgPSBkZWJ1Z0VudGl0aWVzLmdldChlbnRpdHkpIVxuXG5cdFx0XHRjb25zdCBhcmVhQ291bnQgPSB0cmlnZ2VyLmFyZWFzLmxlbmd0aFxuXHRcdFx0d2hpbGUgKHNoYXBlcy5sZW5ndGggPiBhcmVhQ291bnQpIHtcblx0XHRcdFx0dGFyZ2V0RW5naW5lLnJlbW92ZUVudGl0eShzaGFwZXMucG9wKCkhKVxuXHRcdFx0fVxuXHRcdFx0d2hpbGUgKHNoYXBlcy5sZW5ndGggPCBhcmVhQ291bnQpIHtcblx0XHRcdFx0c2hhcGVzLnB1c2godGFyZ2V0RW5naW5lLmFkZEVudGl0eSgpKVxuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCB3b3JsZFBvc2l0aW9uID0gZ2V0V29ybGRQb3NpdGlvbihlbnRpdHkpXG5cdFx0XHRjb25zdCB3b3JsZFJvdGF0aW9uID0gZ2V0V29ybGRSb3RhdGlvbihlbnRpdHkpXG5cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYXJlYUNvdW50OyArK2kpIHtcblx0XHRcdFx0Y29uc3Qgc2hhcGVTcGVjID0gdHJpZ2dlci5hcmVhc1tpXVxuXHRcdFx0XHRjb25zdCBzaGFwZSA9IHNoYXBlc1tpXVxuXG5cdFx0XHRcdGxldCBzY2FsZVxuXHRcdFx0XHRpZiAoc2hhcGVTcGVjLiRjYXNlID09ICdib3gnKSB7XG5cdFx0XHRcdFx0c2NhbGUgPSBzaGFwZVNwZWMudmFsdWUuc2NhbGVcblx0XHRcdFx0XHRNZXNoUmVuZGVyZXIuc2V0Qm94KHNoYXBlKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IHJhZGl1cyA9IHNoYXBlU3BlYy52YWx1ZS5yYWRpdXNcblx0XHRcdFx0XHRzY2FsZSA9IHsgeDogcmFkaXVzLCB5OiByYWRpdXMsIHo6IHJhZGl1cyB9XG5cdFx0XHRcdFx0TWVzaFJlbmRlcmVyLnNldFNwaGVyZShzaGFwZSlcblx0XHRcdFx0fVxuXG5cdFx0XHRcdFRyYW5zZm9ybS5jcmVhdGVPclJlcGxhY2Uoc2hhcGUsIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogVmVjdG9yMy5hZGQod29ybGRQb3NpdGlvbiwgVmVjdG9yMy5yb3RhdGUoc2hhcGVTcGVjLnZhbHVlLnBvc2l0aW9uLCB3b3JsZFJvdGF0aW9uKSksXG5cdFx0XHRcdFx0c2NhbGU6IHNjYWxlXG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0Y29uc3QgY29sb3IgPSB0cmlnZ2VyLmFjdGl2ZSA/IHRyaWdnZXIuZGVidWdDb2xvciA6IENvbG9yMy5CbGFjaygpXG5cdFx0XHRcdE1hdGVyaWFsLnNldFBick1hdGVyaWFsKHNoYXBlLCB7IGFsYmVkb0NvbG9yOiBDb2xvcjQuZnJvbUludHMoMjU1ICogY29sb3IuciwgMjU1ICogY29sb3IuZywgMjU1ICogY29sb3IuYiwgNzUpIH0pXG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gYXJlVHJpZ2dlcnNJbnRlcnNlY3RpbmcoXG5cdFx0c2hhcGVXb3JsZFBvczA6IEFycmF5PFZlY3RvcjM+LFxuXHRcdHQwOiBEZWVwUmVhZG9ubHk8VHJpZ2dlclR5cGU+LFxuXHRcdHNoYXBlV29ybGRQb3MxOiBBcnJheTxWZWN0b3IzPixcblx0XHR0MTogRGVlcFJlYWRvbmx5PFRyaWdnZXJUeXBlPlxuXHQpOiBib29sZWFuIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHQwLmFyZWFzLmxlbmd0aDsgKytpKSB7XG5cdFx0XHRjb25zdCB0MFdvcmxkID0gc2hhcGVXb3JsZFBvczBbaV1cblx0XHRcdGNvbnN0IHQwQXJlYSA9IHQwLmFyZWFzW2ldXG5cblx0XHRcdGlmICh0MEFyZWEuJGNhc2UgPT0gJ2JveCcpIHtcblx0XHRcdFx0Y29uc3QgdDBCb3ggPSB0MEFyZWEudmFsdWVcblx0XHRcdFx0Y29uc3QgdDBNaW4gPSBWZWN0b3IzLnN1YnRyYWN0KHQwV29ybGQsIFZlY3RvcjMuc2NhbGUodDBCb3guc2NhbGUsIDAuNSkpXG5cdFx0XHRcdGNvbnN0IHQwTWF4ID0gVmVjdG9yMy5hZGQodDBNaW4sIHQwQm94LnNjYWxlKVxuXG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdDEuYXJlYXMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHRjb25zdCB0MVdvcmxkID0gc2hhcGVXb3JsZFBvczFbal1cblx0XHRcdFx0XHRjb25zdCB0MUFyZWEgPSB0MS5hcmVhc1tqXVxuXG5cdFx0XHRcdFx0aWYgKHQxQXJlYS4kY2FzZSA9PSAnYm94Jykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdDFCb3ggPSB0MUFyZWEudmFsdWVcblx0XHRcdFx0XHRcdGNvbnN0IHQxTWluID0gVmVjdG9yMy5zdWJ0cmFjdCh0MVdvcmxkLCBWZWN0b3IzLnNjYWxlKHQxQm94LnNjYWxlLCAwLjUpKVxuXHRcdFx0XHRcdFx0Y29uc3QgdDFNYXggPSBWZWN0b3IzLmFkZCh0MU1pbiwgdDFCb3guc2NhbGUpXG5cblx0XHRcdFx0XHRcdGlmIChhcmVBQUJCSW50ZXJzZWN0aW5nKHQwTWluLCB0ME1heCwgdDFNaW4sIHQxTWF4KSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKGFyZUFBQkJTcGhlcmVJbnRlcnNlY3RpbmcodDBNaW4sIHQwTWF4LCB0MVdvcmxkLCB0MUFyZWEudmFsdWUucmFkaXVzKSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IHQwUmFkaXVzID0gdDBBcmVhLnZhbHVlLnJhZGl1c1xuXG5cdFx0XHRcdGZvciAobGV0IGogPSAwOyBqIDwgdDEuYXJlYXMubGVuZ3RoOyArK2opIHtcblx0XHRcdFx0XHRjb25zdCB0MVdvcmxkID0gc2hhcGVXb3JsZFBvczFbal1cblx0XHRcdFx0XHRjb25zdCB0MUFyZWEgPSB0MS5hcmVhc1tqXVxuXG5cdFx0XHRcdFx0aWYgKHQxQXJlYS4kY2FzZSA9PSAnYm94Jykge1xuXHRcdFx0XHRcdFx0Y29uc3QgdDFCb3ggPSB0MUFyZWEudmFsdWVcblx0XHRcdFx0XHRcdGNvbnN0IHQxTWluID0gVmVjdG9yMy5zdWJ0cmFjdCh0MVdvcmxkLCBWZWN0b3IzLnNjYWxlKHQxQm94LnNjYWxlLCAwLjUpKVxuXHRcdFx0XHRcdFx0Y29uc3QgdDFNYXggPSBWZWN0b3IzLmFkZCh0MU1pbiwgdDFCb3guc2NhbGUpXG5cblx0XHRcdFx0XHRcdGlmIChhcmVBQUJCU3BoZXJlSW50ZXJzZWN0aW5nKHQxTWluLCB0MU1heCwgdDBXb3JsZCwgdDBSYWRpdXMpKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoYXJlU3BoZXJlc0ludGVyc2VjdGluZyh0MFdvcmxkLCB0MFJhZGl1cywgdDFXb3JsZCwgdDFBcmVhLnZhbHVlLnJhZGl1cykpXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH1cblxuXHRmdW5jdGlvbiBjb21wdXRlQ29sbGlzaW9ucyhlbnRpdHk6IEVudGl0eSwgc2hhcGVXb3JsZFBvczogTWFwPEVudGl0eSwgQXJyYXk8VmVjdG9yMz4+KSB7XG5cdFx0bGV0IGNvbGxpc2lvbnM6IFNldDxFbnRpdHk+ID0gRU1QVFlfSU1NVVRBQkxFX1NFVFxuXHRcdGNvbnN0IHRyaWdnZXIgPSBUcmlnZ2VyLmdldChlbnRpdHkpXG5cblx0XHRpZiAoIXRyaWdnZXIuYWN0aXZlKVxuXHRcdFx0cmV0dXJuIGNvbGxpc2lvbnNcblxuXG5cdFx0aWYgKHRyaWdnZXIudHJpZ2dlcmVkQnlNYXNrID09IFBMQVlFUl9MQVlFUl9JRCkge1xuXHRcdFx0Ly8gY2hlY2sganVzdCBwbGF5ZXIgXG5cdFx0XHRjb25zdCBwbGF5ZXJFbnRpdHkgPSB0YXJnZXRFbmdpbmUuUGxheWVyRW50aXR5XG5cdFx0XHRjb25zdCBwbGF5ZXJUcmlnZ2VyID0gVHJpZ2dlci5nZXQodGFyZ2V0RW5naW5lLlBsYXllckVudGl0eSlcblxuXHRcdFx0aWYgKHBsYXllckVudGl0eSA9PSBlbnRpdHkpXG5cdFx0XHRcdHJldHVybiBjb2xsaXNpb25zXG5cblx0XHRcdGlmICghcGxheWVyVHJpZ2dlci5hY3RpdmUpXG5cdFx0XHRcdHJldHVybiBjb2xsaXNpb25zXG5cblx0XHRcdGlmICghKHRyaWdnZXIudHJpZ2dlcmVkQnlNYXNrICYgcGxheWVyVHJpZ2dlci5sYXllck1hc2spKVxuXHRcdFx0XHRyZXR1cm4gY29sbGlzaW9uc1xuXG5cdFx0XHRjb25zdCBpbnRlcnNlY3RpbmcgPSBhcmVUcmlnZ2Vyc0ludGVyc2VjdGluZyhzaGFwZVdvcmxkUG9zLmdldChlbnRpdHkpISwgdHJpZ2dlciwgc2hhcGVXb3JsZFBvcy5nZXQocGxheWVyRW50aXR5KSEsIHBsYXllclRyaWdnZXIpXG5cdFx0XHRpZiAoaW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdGlmIChjb2xsaXNpb25zID09PSBFTVBUWV9JTU1VVEFCTEVfU0VUKSBjb2xsaXNpb25zID0gbmV3IFNldCgpXG5cdFx0XHRcdGNvbGxpc2lvbnMuYWRkKHBsYXllckVudGl0eSlcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaXRlcmF0ZSBvdmVyIGZ1bGwgbGlzdCBvZiB0cmlnZ2Vyc1xuXHRcdFx0Zm9yIChjb25zdCBbb3RoZXJFbnRpdHksIG90aGVyVHJpZ2dlcl0gb2YgdGFyZ2V0RW5naW5lLmdldEVudGl0aWVzV2l0aChUcmlnZ2VyLCBUcmFuc2Zvcm0pKSB7XG5cdFx0XHRcdGlmIChvdGhlckVudGl0eSA9PSBlbnRpdHkpXG5cdFx0XHRcdFx0Y29udGludWVcblxuXHRcdFx0XHRpZiAoIW90aGVyVHJpZ2dlci5hY3RpdmUpXG5cdFx0XHRcdFx0Y29udGludWVcblxuXHRcdFx0XHRpZiAoISh0cmlnZ2VyLnRyaWdnZXJlZEJ5TWFzayAmIG90aGVyVHJpZ2dlci5sYXllck1hc2spKVxuXHRcdFx0XHRcdGNvbnRpbnVlXG5cblx0XHRcdFx0Y29uc3QgaW50ZXJzZWN0aW5nID0gYXJlVHJpZ2dlcnNJbnRlcnNlY3Rpbmcoc2hhcGVXb3JsZFBvcy5nZXQoZW50aXR5KSEsIHRyaWdnZXIsIHNoYXBlV29ybGRQb3MuZ2V0KG90aGVyRW50aXR5KSEsIG90aGVyVHJpZ2dlcilcblx0XHRcdFx0aWYgKGludGVyc2VjdGluZykge1xuXHRcdFx0XHRcdGlmIChjb2xsaXNpb25zID09PSBFTVBUWV9JTU1VVEFCTEVfU0VUKSBjb2xsaXNpb25zID0gbmV3IFNldCgpXG5cdFx0XHRcdFx0Y29sbGlzaW9ucy5hZGQob3RoZXJFbnRpdHkpXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblxuXG5cblx0XHRyZXR1cm4gY29sbGlzaW9uc1xuXHR9XG5cblx0ZnVuY3Rpb24gdXBkYXRlQ29sbGlzaW9ucygpIHtcblx0XHRjb25zdCBjb2xsaXNpb25zU3RhcnRlZCA9IFtdXG5cdFx0Y29uc3QgY29sbGlzaW9uc0VuZGVkID0gW11cblx0XHRjb25zdCBzaGFwZVdvcmxkUG9zaXRpb25zOiBNYXA8RW50aXR5LCBBcnJheTxWZWN0b3IzPj4gPSBuZXcgTWFwKClcblxuXHRcdGZvciAoY29uc3QgZW50aXR5IG9mIGFjdGl2ZUNvbGxpc2lvbnMua2V5cygpKSB7XG5cdFx0XHRpZiAodGFyZ2V0RW5naW5lLmdldEVudGl0eVN0YXRlKGVudGl0eSkgPT0gRW50aXR5U3RhdGUuUmVtb3ZlZCB8fCAhVHJpZ2dlci5oYXMoZW50aXR5KSkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IGRlYnVnRW50aXR5IG9mIGRlYnVnRW50aXRpZXMuZ2V0KGVudGl0eSkhKVxuXHRcdFx0XHRcdHRhcmdldEVuZ2luZS5yZW1vdmVFbnRpdHkoZGVidWdFbnRpdHkpXG5cblx0XHRcdFx0Zm9yIChjb25zdCBjb2xsaXNpb25zIG9mIGFjdGl2ZUNvbGxpc2lvbnMudmFsdWVzKCkpIHtcblx0XHRcdFx0XHRpZiAoY29sbGlzaW9ucy5oYXMoZW50aXR5KSlcblx0XHRcdFx0XHRcdGNvbGxpc2lvbnMuZGVsZXRlKGVudGl0eSlcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlYnVnRW50aXRpZXMuZGVsZXRlKGVudGl0eSlcblx0XHRcdFx0YWN0aXZlQ29sbGlzaW9ucy5kZWxldGUoZW50aXR5KVxuXHRcdFx0XHR0cmlnZ2VyRW50ZXJDYnMuZGVsZXRlKGVudGl0eSlcblx0XHRcdFx0dHJpZ2dlckV4aXRDYnMuZGVsZXRlKGVudGl0eSlcblx0XHRcdFx0Y29udGludWVcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgcG9zaXRpb25zID0gW11cblx0XHRcdGNvbnN0IGVudGl0eVdvcmxkUG9zaXRpb24gPSBnZXRXb3JsZFBvc2l0aW9uKGVudGl0eSlcblx0XHRcdGNvbnN0IGVudGl0eVdvcmxkUm90YXRpb24gPSBnZXRXb3JsZFJvdGF0aW9uKGVudGl0eSlcblx0XHRcdGNvbnN0IHRyaWdnZXIgPSBUcmlnZ2VyLmdldChlbnRpdHkpXG5cblx0XHRcdGZvciAoY29uc3Qgc2hhcGUgb2YgdHJpZ2dlci5hcmVhcykge1xuXHRcdFx0XHRwb3NpdGlvbnMucHVzaChWZWN0b3IzLmFkZChlbnRpdHlXb3JsZFBvc2l0aW9uLCBWZWN0b3IzLnJvdGF0ZShzaGFwZS52YWx1ZS5wb3NpdGlvbiwgZW50aXR5V29ybGRSb3RhdGlvbikpKVxuXHRcdFx0fVxuXHRcdFx0c2hhcGVXb3JsZFBvc2l0aW9ucy5zZXQoZW50aXR5LCBwb3NpdGlvbnMpXG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBlbnRpdHkgb2YgYWN0aXZlQ29sbGlzaW9ucy5rZXlzKCkpIHtcblx0XHRcdGNvbnN0IG5ld0NvbGxpc2lvbnMgPSBjb21wdXRlQ29sbGlzaW9ucyhlbnRpdHksIHNoYXBlV29ybGRQb3NpdGlvbnMpXG5cdFx0XHRjb25zdCBvbGRDb2xsaXNpb25zID0gYWN0aXZlQ29sbGlzaW9ucy5nZXQoZW50aXR5KSFcblxuXHRcdFx0Zm9yIChjb25zdCBvbGRDb2xsaXNpb24gb2Ygb2xkQ29sbGlzaW9ucykge1xuXHRcdFx0XHRpZiAoIW5ld0NvbGxpc2lvbnMuaGFzKG9sZENvbGxpc2lvbikpXG5cdFx0XHRcdFx0Y29sbGlzaW9uc0VuZGVkLnB1c2goW2VudGl0eSwgb2xkQ29sbGlzaW9uXSlcblx0XHRcdH1cblxuXHRcdFx0Zm9yIChjb25zdCBuZXdDb2xsaXNpb24gb2YgbmV3Q29sbGlzaW9ucykge1xuXHRcdFx0XHRpZiAoIW9sZENvbGxpc2lvbnMuaGFzKG5ld0NvbGxpc2lvbikpXG5cdFx0XHRcdFx0Y29sbGlzaW9uc1N0YXJ0ZWQucHVzaChbZW50aXR5LCBuZXdDb2xsaXNpb25dKVxuXHRcdFx0fVxuXG5cdFx0XHRhY3RpdmVDb2xsaXNpb25zLnNldChlbnRpdHksIG5ld0NvbGxpc2lvbnMpXG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBbZW50aXR5LCBjb2xsaXNpb25dIG9mIGNvbGxpc2lvbnNTdGFydGVkKSB7XG5cdFx0XHRjb25zdCBjYWxsYmFjayA9IHRyaWdnZXJFbnRlckNicy5nZXQoZW50aXR5KVxuXHRcdFx0aWYgKGNhbGxiYWNrKVxuXHRcdFx0XHRjYWxsYmFjayhjb2xsaXNpb24pXG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBbZW50aXR5LCBjb2xsaXNpb25dIG9mIGNvbGxpc2lvbnNFbmRlZCkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSB0cmlnZ2VyRXhpdENicy5nZXQoZW50aXR5KVxuXHRcdFx0aWYgKGNhbGxiYWNrKVxuXHRcdFx0XHRjYWxsYmFjayhjb2xsaXNpb24pXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc3lzdGVtKGR0OiBudW1iZXIpIHtcblx0XHR1cGRhdGVDb2xsaXNpb25zKClcblx0XHR1cGRhdGVEZWJ1Z0RyYXcoZGVidWdEcmF3KVxuXHR9XG5cblx0dGFyZ2V0RW5naW5lLmFkZFN5c3RlbShzeXN0ZW0sIHByaW9yaXR5LlRyaWdnZXJTeXN0ZW1Qcmlvcml0eSlcblxuXHRmdW5jdGlvbiB0cmlnZ2VyQXJlYXNGcm9tU3BlYyhhcmVhcz86IEFycmF5PFRyaWdnZXJBcmVhU3BlYz4pIHtcblx0XHRpZiAoIWFyZWFzKVxuXHRcdFx0YXJlYXMgPSBbeyB0eXBlOiAnYm94JyB9XVxuXG5cdFx0Y29uc3QgdHJpZ2dlckFyZWFzOiBBcnJheTxUcmlnZ2VyQXJlYT4gPSBbXVxuXG5cdFx0Zm9yIChjb25zdCBhcmVhIG9mIGFyZWFzKSB7XG5cdFx0XHRpZiAoYXJlYS50eXBlID09ICdib3gnKSB7XG5cdFx0XHRcdHRyaWdnZXJBcmVhcy5wdXNoKHtcblx0XHRcdFx0XHQkY2FzZTogJ2JveCcsXG5cdFx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhcmVhLnBvc2l0aW9uID8gYXJlYS5wb3NpdGlvbiA6IFZlY3RvcjMuWmVybygpLFxuXHRcdFx0XHRcdFx0c2NhbGU6IGFyZWEuc2NhbGUgPyBhcmVhLnNjYWxlIDogVmVjdG9yMy5PbmUoKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRyaWdnZXJBcmVhcy5wdXNoKHtcblx0XHRcdFx0XHQkY2FzZTogJ3NwaGVyZScsXG5cdFx0XHRcdFx0dmFsdWU6IHtcblx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhcmVhLnBvc2l0aW9uID8gYXJlYS5wb3NpdGlvbiA6IFZlY3RvcjMuWmVybygpLFxuXHRcdFx0XHRcdFx0cmFkaXVzOiBhcmVhLnJhZGl1cyA/IGFyZWEucmFkaXVzIDogMVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRyaWdnZXJBcmVhc1xuXHR9XG5cblx0Y29uc3QgdHJpZ2dlcnNJbnRlcmZhY2UgPSB7XG5cdFx0YWRkVHJpZ2dlcihcblx0XHRcdGVudGl0eTogRW50aXR5LFxuXHRcdFx0bGF5ZXJNYXNrOiBudW1iZXIgPSBOT19MQVlFUlMsXG5cdFx0XHR0cmlnZ2VyZWRCeU1hc2s6IG51bWJlciA9IE5PX0xBWUVSUyxcblx0XHRcdGFyZWFzPzogQXJyYXk8VHJpZ2dlckFyZWFTcGVjPixcblx0XHRcdG9uRW50ZXJDYWxsYmFjaz86IE9uVHJpZ2dlckVudGVyQ2FsbGJhY2ssXG5cdFx0XHRvbkV4aXRDYWxsYmFjaz86IE9uVHJpZ2dlckV4aXRDYWxsYmFjayxcblx0XHRcdGRlYnVnQ29sb3I/OiBDb2xvcjNcblx0XHQpIHtcblx0XHRcdGlmIChsYXllck1hc2sgPCAwIHx8IGxheWVyTWFzayA+IEFMTF9MQVlFUlMgfHwgIU51bWJlci5pc0ludGVnZXIobGF5ZXJNYXNrKSlcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBCYWQgbGF5ZXJNYXNrOiAke2xheWVyTWFza30uIEV4cGVjdGVkIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIgbm8gZ3JlYXRlciB0aGFuICR7QUxMX0xBWUVSU31gKVxuXG5cdFx0XHRpZiAodHJpZ2dlcmVkQnlNYXNrIDwgMCB8fCB0cmlnZ2VyZWRCeU1hc2sgPiBBTExfTEFZRVJTIHx8ICFOdW1iZXIuaXNJbnRlZ2VyKHRyaWdnZXJlZEJ5TWFzaykpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQmFkIHRyaWdnZXJlZEJ5TWFzazogJHt0cmlnZ2VyZWRCeU1hc2t9LiBFeHBlY3RlZCBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIG5vIGdyZWF0ZXIgdGhhbiAke0FMTF9MQVlFUlN9YClcblxuXHRcdFx0ZGVidWdFbnRpdGllcy5zZXQoZW50aXR5LCBbXSlcblx0XHRcdGFjdGl2ZUNvbGxpc2lvbnMuc2V0KGVudGl0eSwgbmV3IFNldCgpKVxuXHRcdFx0dHJpZ2dlckVudGVyQ2JzLnNldChlbnRpdHksIG9uRW50ZXJDYWxsYmFjaylcblx0XHRcdHRyaWdnZXJFeGl0Q2JzLnNldChlbnRpdHksIG9uRXhpdENhbGxiYWNrKVxuXG5cdFx0XHRUcmlnZ2VyLmNyZWF0ZU9yUmVwbGFjZShlbnRpdHksIHtcblx0XHRcdFx0YWN0aXZlOiB0cnVlLFxuXHRcdFx0XHRsYXllck1hc2s6IGxheWVyTWFzayxcblx0XHRcdFx0dHJpZ2dlcmVkQnlNYXNrOiB0cmlnZ2VyZWRCeU1hc2ssXG5cdFx0XHRcdGFyZWFzOiB0cmlnZ2VyQXJlYXNGcm9tU3BlYyhhcmVhcyksXG5cdFx0XHRcdGRlYnVnQ29sb3I6IGRlYnVnQ29sb3IgPyBkZWJ1Z0NvbG9yIDogQ29sb3IzLlJlZCgpXG5cdFx0XHR9KVxuXHRcdH0sXG5cdFx0cmVtb3ZlVHJpZ2dlcihlbnRpdHk6IEVudGl0eSkge1xuXHRcdFx0Y29uc3QgY29sbGlzaW9ucyA9IGFjdGl2ZUNvbGxpc2lvbnMuZ2V0KGVudGl0eSkhXG5cdFx0XHRjb25zdCBjYWxsYmFjayA9IHRyaWdnZXJFeGl0Q2JzLmdldChlbnRpdHkpXG5cblx0XHRcdGZvciAoY29uc3QgZGVidWdFbnRpdHkgb2YgZGVidWdFbnRpdGllcy5nZXQoZW50aXR5KSEpXG5cdFx0XHRcdHRhcmdldEVuZ2luZS5yZW1vdmVFbnRpdHkoZGVidWdFbnRpdHkpXG5cblx0XHRcdGRlYnVnRW50aXRpZXMuZGVsZXRlKGVudGl0eSlcblx0XHRcdGFjdGl2ZUNvbGxpc2lvbnMuZGVsZXRlKGVudGl0eSlcblx0XHRcdHRyaWdnZXJFbnRlckNicy5kZWxldGUoZW50aXR5KVxuXHRcdFx0dHJpZ2dlckV4aXRDYnMuZGVsZXRlKGVudGl0eSlcblx0XHRcdFRyaWdnZXIuZGVsZXRlRnJvbShlbnRpdHkpXG5cblx0XHRcdGNvbnN0IGNvbGxpZGluZ0VudGl0aWVzID0gW11cblx0XHRcdGZvciAoY29uc3QgW290aGVyRW50aXR5LCBvdGhlckVudGl0eUNvbGxpc2lvbnNdIG9mIGFjdGl2ZUNvbGxpc2lvbnMpIHtcblx0XHRcdFx0aWYgKG90aGVyRW50aXR5Q29sbGlzaW9ucy5oYXMoZW50aXR5KSkge1xuXHRcdFx0XHRcdG90aGVyRW50aXR5Q29sbGlzaW9ucy5kZWxldGUoZW50aXR5KVxuXHRcdFx0XHRcdGNvbGxpZGluZ0VudGl0aWVzLnB1c2gob3RoZXJFbnRpdHkpXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdGZvciAoY29uc3QgY29sbGlzaW9uIG9mIGNvbGxpc2lvbnMpXG5cdFx0XHRcdFx0Y2FsbGJhY2soY29sbGlzaW9uKVxuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IG90aGVyRW50aXR5IG9mIGNvbGxpZGluZ0VudGl0aWVzKSB7XG5cdFx0XHRcdGNvbnN0IGNhbGxiYWNrID0gdHJpZ2dlckV4aXRDYnMuZ2V0KG90aGVyRW50aXR5KVxuXHRcdFx0XHRpZiAoY2FsbGJhY2spXG5cdFx0XHRcdFx0Y2FsbGJhY2soZW50aXR5KVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0b25lVGltZVRyaWdnZXIoXG5cdFx0XHRlbnRpdHk6IEVudGl0eSxcblx0XHRcdGxheWVyTWFzazogbnVtYmVyID0gTk9fTEFZRVJTLFxuXHRcdFx0dHJpZ2dlcmVkQnlNYXNrOiBudW1iZXIgPSBOT19MQVlFUlMsXG5cdFx0XHRhcmVhcz86IEFycmF5PFRyaWdnZXJBcmVhU3BlYz4sXG5cdFx0XHRvbkVudGVyQ2FsbGJhY2s/OiBPblRyaWdnZXJFbnRlckNhbGxiYWNrLFxuXHRcdFx0ZGVidWdDb2xvcj86IENvbG9yM1xuXHRcdCkge1xuXHRcdFx0dGhpcy5hZGRUcmlnZ2VyKGVudGl0eSwgbGF5ZXJNYXNrLCB0cmlnZ2VyZWRCeU1hc2ssIGFyZWFzLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHR0cmlnZ2Vycy5yZW1vdmVUcmlnZ2VyKGVudGl0eSlcblx0XHRcdFx0aWYgKG9uRW50ZXJDYWxsYmFjaylcblx0XHRcdFx0XHRvbkVudGVyQ2FsbGJhY2soZSlcblx0XHRcdH0sIHVuZGVmaW5lZCwgZGVidWdDb2xvcilcblx0XHR9LFxuXHRcdGVuYWJsZVRyaWdnZXIoZW50aXR5OiBFbnRpdHksIGVuYWJsZWQ6IGJvb2xlYW4pIHtcblx0XHRcdFRyaWdnZXIuZ2V0TXV0YWJsZShlbnRpdHkpLmFjdGl2ZSA9IGVuYWJsZWRcblx0XHR9LFxuXHRcdGlzVHJpZ2dlckVuYWJsZWQoZW50aXR5OiBFbnRpdHkpIHtcblx0XHRcdHJldHVybiBUcmlnZ2VyLmdldChlbnRpdHkpLmFjdGl2ZVxuXHRcdH0sXG5cdFx0Z2V0TGF5ZXJNYXNrKGVudGl0eTogRW50aXR5KSB7XG5cdFx0XHRyZXR1cm4gVHJpZ2dlci5nZXQoZW50aXR5KS5sYXllck1hc2tcblx0XHR9LFxuXHRcdHNldExheWVyTWFzayhlbnRpdHk6IEVudGl0eSwgbWFzazogbnVtYmVyKSB7XG5cdFx0XHRpZiAobWFzayA8IDAgfHwgbWFzayA+IEFMTF9MQVlFUlMgfHwgIU51bWJlci5pc0ludGVnZXIobWFzaykpXG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQmFkIGxheWVyTWFzazogJHttYXNrfS4gRXhwZWN0ZWQgYSBub24tbmVnYXRpdmUgaW50ZWdlciBubyBncmVhdGVyIHRoYW4gJHtBTExfTEFZRVJTfWApXG5cdFx0XHRUcmlnZ2VyLmdldE11dGFibGUoZW50aXR5KS5sYXllck1hc2sgPSBtYXNrXG5cdFx0fSxcblx0XHRnZXRUcmlnZ2VyZWRCeU1hc2soZW50aXR5OiBFbnRpdHkpIHtcblx0XHRcdHJldHVybiBUcmlnZ2VyLmdldChlbnRpdHkpLnRyaWdnZXJlZEJ5TWFza1xuXHRcdH0sXG5cdFx0c2V0VHJpZ2dlcmVkQnlNYXNrKGVudGl0eTogRW50aXR5LCBtYXNrOiBudW1iZXIpIHtcblx0XHRcdGlmIChtYXNrIDwgMCB8fCBtYXNrID4gQUxMX0xBWUVSUyB8fCAhTnVtYmVyLmlzSW50ZWdlcihtYXNrKSlcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBCYWQgbGF5ZXJNYXNrOiAke21hc2t9LiBFeHBlY3RlZCBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIG5vIGdyZWF0ZXIgdGhhbiAke0FMTF9MQVlFUlN9YClcblx0XHRcdFRyaWdnZXIuZ2V0TXV0YWJsZShlbnRpdHkpLnRyaWdnZXJlZEJ5TWFzayA9IG1hc2tcblx0XHR9LFxuXHRcdGdldEFyZWFzKGVudGl0eTogRW50aXR5KSB7XG5cdFx0XHRyZXR1cm4gVHJpZ2dlci5nZXQoZW50aXR5KS5hcmVhc1xuXHRcdH0sXG5cdFx0c2V0QXJlYXMoZW50aXR5OiBFbnRpdHksIGFyZWFzOiBBcnJheTxUcmlnZ2VyQXJlYVNwZWM+KSB7XG5cdFx0XHRUcmlnZ2VyLmdldE11dGFibGUoZW50aXR5KS5hcmVhcyA9IHRyaWdnZXJBcmVhc0Zyb21TcGVjKGFyZWFzKVxuXHRcdH0sXG5cdFx0c2V0T25FbnRlckNhbGxiYWNrKGVudGl0eTogRW50aXR5LCBjYWxsYmFjazogT25UcmlnZ2VyRW50ZXJDYWxsYmFjaykge1xuXHRcdFx0dHJpZ2dlckVudGVyQ2JzLnNldChlbnRpdHksIGNhbGxiYWNrKVxuXHRcdH0sXG5cdFx0c2V0T25FeGl0Q2FsbGJhY2soZW50aXR5OiBFbnRpdHksIGNhbGxiYWNrOiBPblRyaWdnZXJFeGl0Q2FsbGJhY2spIHtcblx0XHRcdHRyaWdnZXJFeGl0Q2JzLnNldChlbnRpdHksIGNhbGxiYWNrKVxuXHRcdH0sXG5cdFx0ZW5hYmxlRGVidWdEcmF3KGVuYWJsZWQ6IGJvb2xlYW4pIHtcblx0XHRcdGRlYnVnRHJhdyA9IGVuYWJsZWRcblx0XHRcdGlmICghZW5hYmxlZCkge1xuXHRcdFx0XHRmb3IgKGNvbnN0IHNoYXBlcyBvZiBkZWJ1Z0VudGl0aWVzLnZhbHVlcygpKSB7XG5cdFx0XHRcdFx0Zm9yIChjb25zdCBzaGFwZSBvZiBzaGFwZXMpXG5cdFx0XHRcdFx0XHR0YXJnZXRFbmdpbmUucmVtb3ZlRW50aXR5KHNoYXBlKVxuXHRcdFx0XHRcdHNoYXBlcy5sZW5ndGggPSAwXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdGlzRGVidWdEcmF3RW5hYmxlZCgpIHtcblx0XHRcdHJldHVybiBkZWJ1Z0RyYXdcblx0XHR9XG5cdH1cblxuXHR0cmlnZ2Vyc0ludGVyZmFjZS5hZGRUcmlnZ2VyKFxuXHRcdHRhcmdldEVuZ2luZS5QbGF5ZXJFbnRpdHksIFBMQVlFUl9MQVlFUl9JRCwgTk9fTEFZRVJTLFxuXHRcdC8vKDEuOTIvMikgYWNjb3VudHMgdGhhdCB0aGUgcGxheWVyIHBvc2l0aW9uIGlzIG5vdyBhdCB0aGUgZmVldCwgbm90IHRoZSBoZWFkXG5cdFx0W3tcblx0XHRcdHR5cGU6ICdib3gnLFxuXHRcdFx0c2NhbGU6IHsgeDogMC42NSwgeTogMS45MiwgejogMC42NSB9LFxuXHRcdFx0cG9zaXRpb246IHsgeDogMCwgeTogKDEuOTIvMiksIHo6IDAgfVxuXHRcdH1dLFxuXHRcdHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBDb2xvcjMuR3JlZW4oKVxuXHQpXG5cblx0cmV0dXJuIHRyaWdnZXJzSW50ZXJmYWNlXG59XG5cbmV4cG9ydCBjb25zdCB0cmlnZ2VycyA9IGNyZWF0ZVRyaWdnZXJzKGVuZ2luZSlcblxuXG5jb25zdCBFTVBUWV9JTU1VVEFCTEVfU0VUOiBTZXQ8RW50aXR5PiA9IG5ldyBTZXQoKVxuXG5FTVBUWV9JTU1VVEFCTEVfU0VULmFkZCA9IChlbnRpdHk6IEVudGl0eSkgPT4geyBkZWJ1Z2dlcjsgdGhyb3cgbmV3IEVycm9yKFwiRU1QVFlfU0VUIGlzIHJlYWQgb25seVwiKSB9XG5FTVBUWV9JTU1VVEFCTEVfU0VULmRlbGV0ZSA9IChlbnRpdHk6IEVudGl0eSkgPT4geyB0aHJvdyBuZXcgRXJyb3IoXCJFTVBUWV9TRVQgaXMgcmVhZCBvbmx5XCIpIH1cbkVNUFRZX0lNTVVUQUJMRV9TRVQuaGFzID0gKGVudGl0eTogRW50aXR5KSA9PiB7IHJldHVybiBmYWxzZSB9XG4iLCAiaW1wb3J0IHsgSUVuZ2luZSwgU3lzdGVtRm4gfSBmcm9tICdAZGNsL3Nkay9lY3MnXG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gJy4vcHJpb3JpdHknXG5cbmV4cG9ydCBuYW1lc3BhY2UgYWN0aW9ucyB7XG5cbiAgZXhwb3J0IGNsYXNzIFNlcXVlbmNlUnVubmVyIHtcbiAgICBwcml2YXRlIGJlZ2luU2VxdWVuY2VOb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuICAgIHByaXZhdGUgY3VycmVudFNlcXVlbmNlTm9kZTogU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgZW5naW5lOiBJRW5naW5lXG4gICAgcHJpdmF0ZSBzeXN0ZW1GbjogU3lzdGVtRm5cblxuICAgIHByaXZhdGUgcnVubmluZzogYm9vbGVhbiA9IGZhbHNlXG4gICAgcHJpdmF0ZSBzdGFydGVkOiBib29sZWFuID0gZmFsc2VcblxuICAgIHByaXZhdGUgb25GaW5pc2hDYWxsYmFjaz86ICgpID0+IHZvaWRcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgdGFyZ2V0RW5naW5lOiBJRW5naW5lLFxuICAgICAgc2VxdWVuY2VCdWlsdD86IFNlcXVlbmNlQnVpbGRlcixcbiAgICAgIG9uRmluaXNoQ2FsbGJhY2s/OiAoKSA9PiB2b2lkXG4gICAgKSB7XG4gICAgICB0aGlzLmVuZ2luZSA9IHRhcmdldEVuZ2luZVxuICAgICAgdGhpcy5zeXN0ZW1GbiA9IChkdCkgPT4geyB0aGlzLnVwZGF0ZShkdCkgfVxuICAgICAgdGhpcy5lbmdpbmUuYWRkU3lzdGVtKHRoaXMuc3lzdGVtRm4sIHByaW9yaXR5LkFjdGlvblN5c3RlbVByaW9yaXR5KVxuICAgICAgaWYgKHNlcXVlbmNlQnVpbHQpIHtcbiAgICAgICAgdGhpcy5zdGFydFNlcXVlbmNlKHNlcXVlbmNlQnVpbHQpXG4gICAgICB9XG4gICAgICBpZiAob25GaW5pc2hDYWxsYmFjaylcbiAgICAgICAgdGhpcy5zZXRPbkZpbmlzaENhbGxiYWNrKG9uRmluaXNoQ2FsbGJhY2spXG4gICAgfVxuICBcbiAgICBzdGFydFNlcXVlbmNlKHNlcXVlbmNlQnVpbHQ6IFNlcXVlbmNlQnVpbGRlcikge1xuICAgICAgdGhpcy5iZWdpblNlcXVlbmNlTm9kZSA9IHNlcXVlbmNlQnVpbHQuYmVnaW5TZXF1ZW5jZU5vZGVcbiAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGVcbiAgICAgIHRoaXMucnVubmluZyA9IHRydWVcbiAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgIHRoaXMuZW5naW5lLnJlbW92ZVN5c3RlbSh0aGlzLnN5c3RlbUZuKVxuICAgIH1cblxuICAgIHNldE9uRmluaXNoQ2FsbGJhY2sob25GaW5pc2hDYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgICAgdGhpcy5vbkZpbmlzaENhbGxiYWNrID0gb25GaW5pc2hDYWxsYmFja1xuICAgIH1cblxuICAgIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmdcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2VcbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICBpZiAodGhpcy5iZWdpblNlcXVlbmNlTm9kZSAhPSBudWxsKVxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlXG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSB0aGlzLmJlZ2luU2VxdWVuY2VOb2RlXG4gICAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlXG4gICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZVxuICAgIH1cblxuICAgIGdldFJ1bm5pbmdBY3Rpb24oKTogSUFjdGlvbiB8IG51bGwge1xuICAgICAgbGV0IGN1cnJlbnROb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlXG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgaW5zdGFuY2VvZiBTdWJTZXF1ZW5jZU5vZGUpIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIGN1cnJlbnROb2RlID0gKGN1cnJlbnROb2RlIGFzIFN1YlNlcXVlbmNlTm9kZSkuY3VycmVudElubmVyU2VxdWVuY2VcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudE5vZGUgaW5zdGFuY2VvZiBTdWJTZXF1ZW5jZU5vZGUpXG4gICAgICB9XG4gICAgICByZXR1cm4gKGN1cnJlbnROb2RlIGFzIFNlcXVlbmNlTm9kZSkuYWN0aW9uXG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGUoZHQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgaWYgKCF0aGlzLnJ1bm5pbmcpXG4gICAgICAgIHJldHVyblxuICAgICAgICBcbiAgICAgIGlmICghdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS5vblN0YXJ0KClcbiAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICBcbiAgICAgIGlmICghKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLmhhc0ZpbmlzaCgpKSB7XG4gICAgICAgICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgYXMgU2VxdWVuY2VOb2RlKS51cGRhdGUoZHQpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkub25GaW5pc2goKVxuICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLm5leHRcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlLm9uU3RhcnQoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMub25GaW5pc2hDYWxsYmFjaykgdGhpcy5vbkZpbmlzaENhbGxiYWNrKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIElBY3Rpb24ge1xuICAgIG9uU3RhcnQoKTogdm9pZFxuICAgIHVwZGF0ZShkdDogbnVtYmVyKTogdm9pZFxuICAgIG9uRmluaXNoKCk6IHZvaWRcbiAgICBoYXNGaW5pc2hlZDogYm9vbGVhblxuICB9XG5cbiAgZXhwb3J0IGNsYXNzIFNlcXVlbmNlQnVpbGRlciB7XG4gICAgcHJpdmF0ZSBjdXJyZW50U2VxdWVuY2VOb2RlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuICAgIHB1YmxpYyBiZWdpblNlcXVlbmNlTm9kZTogU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcblxuICAgIHByaXZhdGUgd2hpbGVOb2RlU3RhY2s6IFdoaWxlU2VxdWVuY2VOb2RlW10gPSBbXVxuXG4gICAgdGhlbihhY3Rpb246IElBY3Rpb24pOiBTZXF1ZW5jZUJ1aWxkZXIge1xuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IG5ldyBTZXF1ZW5jZU5vZGUoKVxuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUuYWN0aW9uID0gYWN0aW9uXG4gICAgICAgIHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGUgPSB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBuZXh0ID0gbmV3IFNlcXVlbmNlTm9kZSgpXG4gICAgICAgIG5leHQuYWN0aW9uID0gYWN0aW9uXG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZS50aGVuKG5leHQpXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGlmKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbik6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgaWZTZXEgPSBuZXcgSWZTZXF1ZW5jZU5vZGUoY29uZGl0aW9uKVxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IGlmU2VxXG4gICAgICAgIHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGUgPSBpZlNlcVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlLnRoZW4oaWZTZXEpXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGVsc2UoKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGxldCBzZXEgPSAodGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkuZ2V0U2VxdWVuY2UoKVxuICAgICAgaWYgKHNlcSBpbnN0YW5jZW9mIElmU2VxdWVuY2VOb2RlKSB7XG4gICAgICAgIHNlcS5jbG9zZWQgPSB0cnVlXG4gICAgICAgIGxldCBlbHNlU2VxID0gbmV3IEVsc2VTZXF1ZW5jZU5vZGUoc2VxKVxuICAgICAgICB0aGlzLmN1cnJlbnRTZXF1ZW5jZU5vZGUgPSAodGhpc1xuICAgICAgICAgIC5jdXJyZW50U2VxdWVuY2VOb2RlIGFzIFNlcXVlbmNlTm9kZSkudGhlbihlbHNlU2VxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdJRiBzdGF0ZW1lbnQgaXMgbmVlZGVkIHRvIGJlIGNhbGxlZCBiZWZvcmUgRUxTRSBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGVuZElmKCk6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgc2VxID0gKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLmdldFNlcXVlbmNlKClcbiAgICAgIGlmIChzZXEgaW5zdGFuY2VvZiBJZlNlcXVlbmNlTm9kZSB8fCBzZXEgaW5zdGFuY2VvZiBFbHNlU2VxdWVuY2VOb2RlKSB7XG4gICAgICAgIHNlcS5jbG9zZWQgPSB0cnVlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0lGIHN0YXRlbWVudCBpcyBuZWVkZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBFTkRJRiBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHdoaWxlKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbik6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgd2hpbGVTZXEgPSBuZXcgV2hpbGVTZXF1ZW5jZU5vZGUoY29uZGl0aW9uKVxuICAgICAgaWYgKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSA9IHdoaWxlU2VxXG4gICAgICAgIHRoaXMuYmVnaW5TZXF1ZW5jZU5vZGUgPSB3aGlsZVNlcVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlLnRoZW4od2hpbGVTZXEpXG4gICAgICB9XG4gICAgICB0aGlzLndoaWxlTm9kZVN0YWNrLnB1c2god2hpbGVTZXEpXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGVuZFdoaWxlKCk6IFNlcXVlbmNlQnVpbGRlciB7XG4gICAgICBsZXQgc2VxID0gKHRoaXMuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLmdldFNlcXVlbmNlKClcbiAgICAgIGlmIChzZXEgaW5zdGFuY2VvZiBXaGlsZVNlcXVlbmNlTm9kZSkge1xuICAgICAgICBzZXEuY2xvc2VkID0gdHJ1ZVxuICAgICAgICBpZiAodGhpcy53aGlsZU5vZGVTdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdGhpcy53aGlsZU5vZGVTdGFjay5zcGxpY2UodGhpcy53aGlsZU5vZGVTdGFjay5sZW5ndGggLSAxLCAxKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1dISUxFIHN0YXRlbWVudCBpcyBuZWVkZWQgdG8gYmUgY2FsbGVkIGJlZm9yZSBFTkRXSElMRSBzdGF0ZW1lbnQuJ1xuICAgICAgICApXG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIGJyZWFrV2hpbGUoKTogU2VxdWVuY2VCdWlsZGVyIHtcbiAgICAgIGlmICh0aGlzLndoaWxlTm9kZVN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VxdWVuY2VOb2RlID0gKHRoaXNcbiAgICAgICAgICAuY3VycmVudFNlcXVlbmNlTm9kZSBhcyBTZXF1ZW5jZU5vZGUpLnRoZW4oXG4gICAgICAgICAgbmV3IEJyZWFrV2hpbGVTZXF1ZW5jZU5vZGUoXG4gICAgICAgICAgICB0aGlzLndoaWxlTm9kZVN0YWNrW3RoaXMud2hpbGVOb2RlU3RhY2subGVuZ3RoIC0gMV1cbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnV0hJTEUgc3RhdGVtZW50IGlzIG5lZWRlZCB0byBiZSBjYWxsZWQgYmVmb3JlIEJSRUFLV0hJTEUgc3RhdGVtZW50LidcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cblxuICBleHBvcnQgY2xhc3MgU2VxdWVuY2VOb2RlIHtcbiAgICBhY3Rpb246IElBY3Rpb24gfCBudWxsID0gbnVsbFxuICAgIG5leHQ6IFNlcXVlbmNlTm9kZSB8IG51bGwgPSBudWxsXG4gIFxuICAgIHRoZW4obmV4dDogU2VxdWVuY2VOb2RlKTogU2VxdWVuY2VOb2RlIHtcbiAgICAgIHRoaXMubmV4dCA9IG5leHRcbiAgICAgIHJldHVybiBuZXh0XG4gICAgfVxuICBcbiAgICBvblN0YXJ0KCkge1xuICAgICAgaWYgKHRoaXMuYWN0aW9uKSB0aGlzLmFjdGlvbi5vblN0YXJ0KClcbiAgICB9XG4gIFxuICAgIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHRoaXMuYWN0aW9uLnVwZGF0ZShkdClcbiAgICB9XG4gIFxuICAgIG9uRmluaXNoKCkge1xuICAgICAgaWYgKHRoaXMuYWN0aW9uKSB0aGlzLmFjdGlvbi5vbkZpbmlzaCgpXG4gICAgfVxuICBcbiAgICBoYXNGaW5pc2goKTogYm9vbGVhbiB7XG4gICAgICBpZiAodGhpcy5hY3Rpb24pIHJldHVybiB0aGlzLmFjdGlvbi5oYXNGaW5pc2hlZFxuICAgICAgZWxzZSByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgXG4gICAgZ2V0U2VxdWVuY2UoKTogU2VxdWVuY2VOb2RlIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICB9XG4gIFxuICBjbGFzcyBTdWJTZXF1ZW5jZU5vZGUgZXh0ZW5kcyBTZXF1ZW5jZU5vZGUge1xuICAgIGN1cnJlbnRJbm5lclNlcXVlbmNlOiBTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuICAgIHN0YXJ0aW5nSW5uZXJTZXF1ZW5jZTogU2VxdWVuY2VOb2RlIHwgbnVsbCA9IG51bGxcbiAgICBjbG9zZWQ6IGJvb2xlYW4gPSBmYWxzZVxuICBcbiAgICB0aGVuKG5leHQ6IFNlcXVlbmNlTm9kZSk6IFNlcXVlbmNlTm9kZSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSBuZXh0XG4gICAgICAgIHRoaXMuc3RhcnRpbmdJbm5lclNlcXVlbmNlID0gbmV4dFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgdGhpcy5uZXh0ID0gbmV4dFxuICAgICAgICAgIHJldHVybiBuZXh0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UudGhlbihuZXh0KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgXG4gICAgb25TdGFydCgpIHtcbiAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSB0aGlzLnN0YXJ0aW5nSW5uZXJTZXF1ZW5jZVxuICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2Uub25TdGFydCgpXG4gICAgfVxuICBcbiAgICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLmhhc0ZpbmlzaCgpKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS51cGRhdGUoZHQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5vbkZpbmlzaCgpXG4gICAgICAgICAgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UubmV4dFxuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uU3RhcnQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBcbiAgICBvbkZpbmlzaCgpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uRmluaXNoKClcbiAgICB9XG4gIFxuICAgIGhhc0ZpbmlzaCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID09IG51bGxcbiAgICB9XG4gIFxuICAgIGdldFNlcXVlbmNlKCk6IFNlcXVlbmNlTm9kZSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSkge1xuICAgICAgICBsZXQgaW5uZXJTZXEgPSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLmdldFNlcXVlbmNlKClcbiAgICAgICAgaWYgKGlubmVyU2VxIGluc3RhbmNlb2YgU3ViU2VxdWVuY2VOb2RlKSB7XG4gICAgICAgICAgaWYgKCFpbm5lclNlcS5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBpbm5lclNlcVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cbiAgXG4gIGNsYXNzIElmU2VxdWVuY2VOb2RlIGV4dGVuZHMgU3ViU2VxdWVuY2VOb2RlIHtcbiAgICBjb25kaXRpb246ICgpID0+IGJvb2xlYW5cbiAgICByZXN1bHQ6IGJvb2xlYW4gPSBmYWxzZVxuICBcbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb246ICgpID0+IGJvb2xlYW4pIHtcbiAgICAgIHN1cGVyKClcbiAgICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uXG4gICAgfVxuICBcbiAgICBvblN0YXJ0KCkge1xuICAgICAgdGhpcy5yZXN1bHQgPSB0aGlzLmNvbmRpdGlvbigpXG4gICAgICBpZiAodGhpcy5yZXN1bHQpIHN1cGVyLm9uU3RhcnQoKVxuICAgICAgZWxzZSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gbnVsbFxuICAgIH1cbiAgfVxuICBcbiAgY2xhc3MgRWxzZVNlcXVlbmNlTm9kZSBleHRlbmRzIFN1YlNlcXVlbmNlTm9kZSB7XG4gICAgaWZTZXF1ZW5jZTogSWZTZXF1ZW5jZU5vZGUgfCBudWxsID0gbnVsbFxuICBcbiAgICBjb25zdHJ1Y3RvcihpZlNlcXVlbmNlOiBJZlNlcXVlbmNlTm9kZSkge1xuICAgICAgc3VwZXIoKVxuICAgICAgdGhpcy5pZlNlcXVlbmNlID0gaWZTZXF1ZW5jZVxuICAgIH1cbiAgXG4gICAgb25TdGFydCgpIHtcbiAgICAgIGlmICh0aGlzLmlmU2VxdWVuY2UgJiYgIXRoaXMuaWZTZXF1ZW5jZS5yZXN1bHQpIHN1cGVyLm9uU3RhcnQoKVxuICAgICAgZWxzZSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gbnVsbFxuICAgIH1cbiAgfVxuICBcbiAgY2xhc3MgV2hpbGVTZXF1ZW5jZU5vZGUgZXh0ZW5kcyBTdWJTZXF1ZW5jZU5vZGUge1xuICAgIGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhblxuICAgIGJyZWFrV2hpbGU6IGJvb2xlYW4gPSBmYWxzZVxuICBcbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb246ICgpID0+IGJvb2xlYW4pIHtcbiAgICAgIHN1cGVyKClcbiAgICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uXG4gICAgfVxuICBcbiAgICBvblN0YXJ0KCkge1xuICAgICAgdGhpcy5icmVha1doaWxlID0gZmFsc2VcbiAgICAgIGlmICh0aGlzLmNvbmRpdGlvbigpKSBzdXBlci5vblN0YXJ0KClcbiAgICAgIGVsc2UgdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSA9IG51bGxcbiAgICB9XG4gIFxuICAgIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZSkge1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudElubmVyU2VxdWVuY2UuaGFzRmluaXNoKCkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLnVwZGF0ZShkdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uRmluaXNoKClcbiAgICAgICAgICB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlID0gdGhpcy5jdXJyZW50SW5uZXJTZXF1ZW5jZS5uZXh0XG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudElubmVyU2VxdWVuY2UgPSB0aGlzLnN0YXJ0aW5nSW5uZXJTZXF1ZW5jZVxuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlKSB0aGlzLmN1cnJlbnRJbm5lclNlcXVlbmNlLm9uU3RhcnQoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBcbiAgICBoYXNGaW5pc2goKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5icmVha1doaWxlIHx8ICF0aGlzLmNvbmRpdGlvbigpXG4gICAgfVxuICB9XG4gIFxuICBjbGFzcyBCcmVha1doaWxlU2VxdWVuY2VOb2RlIGV4dGVuZHMgU2VxdWVuY2VOb2RlIHtcbiAgICB3aGlsZU5vZGU6IFdoaWxlU2VxdWVuY2VOb2RlXG4gIFxuICAgIGNvbnN0cnVjdG9yKHdoaWxlTm9kZTogV2hpbGVTZXF1ZW5jZU5vZGUpIHtcbiAgICAgIHN1cGVyKClcbiAgICAgIHRoaXMud2hpbGVOb2RlID0gd2hpbGVOb2RlXG4gICAgfVxuICBcbiAgICBvblN0YXJ0KCkge1xuICAgICAgdGhpcy53aGlsZU5vZGUuYnJlYWtXaGlsZSA9IHRydWVcbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgbWl0dCBmcm9tICdtaXR0J1xuaW1wb3J0IHsgSUlucHV0U3lzdGVtLCBJbnB1dEFjdGlvbiwgUG9pbnRlckV2ZW50VHlwZSB9IGZyb20gJ0BkY2wvZWNzJ1xuXG5leHBvcnQgY29uc3QgZ2xvYmFsSW5wdXRBY3Rpb25zID0gbWl0dDxSZWNvcmQ8SW5wdXRBY3Rpb24sIG51bGw+PigpXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnB1dEFjdGlvblN5c3RlbShpbnB1dFN5c3RlbTogSUlucHV0U3lzdGVtKSB7XG4gIHJldHVybiBmdW5jdGlvbiBpbnB1dEFjdGlvblN5c3RlbSgpIHtcbiAgICBpZiAoXG4gICAgICBpbnB1dFN5c3RlbS5pc1RyaWdnZXJlZChJbnB1dEFjdGlvbi5JQV9QT0lOVEVSLCBQb2ludGVyRXZlbnRUeXBlLlBFVF9ET1dOKVxuICAgICkge1xuICAgICAgZ2xvYmFsSW5wdXRBY3Rpb25zLmVtaXQoSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgbnVsbClcbiAgICB9XG4gICAgaWYgKFxuICAgICAgaW5wdXRTeXN0ZW0uaXNUcmlnZ2VyZWQoSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSwgUG9pbnRlckV2ZW50VHlwZS5QRVRfRE9XTilcbiAgICApIHtcbiAgICAgIGdsb2JhbElucHV0QWN0aW9ucy5lbWl0KElucHV0QWN0aW9uLklBX1BSSU1BUlksIG51bGwpXG4gICAgfVxuICAgIGlmIChcbiAgICAgIGlucHV0U3lzdGVtLmlzVHJpZ2dlcmVkKFxuICAgICAgICBJbnB1dEFjdGlvbi5JQV9TRUNPTkRBUlksXG4gICAgICAgIFBvaW50ZXJFdmVudFR5cGUuUEVUX0RPV04sXG4gICAgICApXG4gICAgKSB7XG4gICAgICBnbG9iYWxJbnB1dEFjdGlvbnMuZW1pdChJbnB1dEFjdGlvbi5JQV9TRUNPTkRBUlksIG51bGwpXG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHtcbiAgSUVuZ2luZSxcbiAgRW50aXR5LFxuICBJbnB1dEFjdGlvbixcbiAgTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb24sXG4gIERlZXBSZWFkb25seU9iamVjdCxcbiAgUG9pbnRlckV2ZW50c1N5c3RlbSxcbiAgVHdlZW5TeXN0ZW0sXG4gIFR3ZWVuU3RhdGUsXG4gIFR3ZWVuU3RhdGVTdGF0dXMsXG59IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5pbXBvcnQge1xuICB0cmlnZ2VycyxcbiAgTEFZRVJfMSxcbiAgTk9fTEFZRVJTLFxuICBnZXRQbGF5ZXJQb3NpdGlvbixcbiAgZ2V0V29ybGRQb3NpdGlvbixcbn0gZnJvbSAnQGRjbC1zZGsvdXRpbHMnXG5pbXBvcnQge1xuICBBY3Rpb24sXG4gIENvbXBvbmVudE5hbWUsXG4gIFRyaWdnZXIsXG4gIFRyaWdnZXJBY3Rpb24sXG4gIFRyaWdnZXJDb25kaXRpb24sXG4gIFRyaWdnZXJDb25kaXRpb25PcGVyYXRpb24sXG4gIFRyaWdnZXJDb25kaXRpb25UeXBlLFxuICBUcmlnZ2VyVHlwZSxcbiAgZ2V0Q29uZGl0aW9uVHlwZXNCeUNvbXBvbmVudE5hbWUsXG4gIGdldENvbXBvbmVudHMsXG4gIEVuZ2luZUNvbXBvbmVudHMsXG59IGZyb20gJy4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgeyBnZXRDdXJyZW50VmFsdWUsIGdldFByZXZpb3VzVmFsdWUgfSBmcm9tICcuL3N0YXRlcydcbmltcG9ydCB7IGdldEFjdGlvbkV2ZW50cywgZ2V0VHJpZ2dlckV2ZW50cyB9IGZyb20gJy4vZXZlbnRzJ1xuaW1wb3J0IHsgZ2V0UGF5bG9hZCB9IGZyb20gJy4vYWN0aW9uLXR5cGVzJ1xuaW1wb3J0IHsgZ2xvYmFsSW5wdXRBY3Rpb25zIH0gZnJvbSAnLi9pbnB1dC1hY3Rpb25zJ1xuaW1wb3J0IHsgdGlja1NldCB9IGZyb20gJy4vdGltZXInXG5cbmNvbnN0IGluaXRlZEVudGl0aWVzID0gbmV3IFNldDxFbnRpdHk+KClcbmNvbnN0IGFjdGlvblF1ZXVlOiB7IGVudGl0eTogRW50aXR5OyBhY3Rpb246IEFjdGlvbiB9W10gPSBbXVxuXG5leHBvcnQgY29uc3QgZGFtYWdlVGFyZ2V0cyA9IG5ldyBTZXQ8RW50aXR5PigpXG5leHBvcnQgY29uc3QgaGVhbFRhcmdldHMgPSBuZXcgU2V0PEVudGl0eT4oKVxuXG5sZXQgaW50ZXJuYWxJbml0VHJpZ2dlcnM6ICgoZW50aXR5OiBFbnRpdHkpID0+IHZvaWQpIHwgbnVsbCA9IG51bGxcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUcmlnZ2VycyhlbnRpdHk6IEVudGl0eSkge1xuICBpZiAoaW50ZXJuYWxJbml0VHJpZ2dlcnMpIHtcbiAgICByZXR1cm4gaW50ZXJuYWxJbml0VHJpZ2dlcnMoZW50aXR5KVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBgQ2Fubm90IGNhbGwgaW5pdFRyaWdnZXJzIHdoaWxlIHRyaWdnZXJzU3lzdGVtIGhhcyBub3QgYmVlbiBjcmVhdGVkYCxcbiAgKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVHJpZ2dlcnNTeXN0ZW0oXG4gIGVuZ2luZTogSUVuZ2luZSxcbiAgY29tcG9uZW50czogRW5naW5lQ29tcG9uZW50cyxcbiAgcG9pbnRlckV2ZW50c1N5c3RlbTogUG9pbnRlckV2ZW50c1N5c3RlbSxcbiAgdHdlZW5TeXN0ZW06IFR3ZWVuU3lzdGVtLFxuKSB7XG4gIGNvbnN0IHsgVHJhbnNmb3JtLCBUd2VlbjogVHdlZW5Db21wb25lbnQsIFBvaW50ZXJFdmVudHMgfSA9IGNvbXBvbmVudHNcbiAgY29uc3QgeyBBY3Rpb25zLCBTdGF0ZXMsIENvdW50ZXIsIFRyaWdnZXJzIH0gPSBnZXRDb21wb25lbnRzKGVuZ2luZSlcblxuICAvLyBzYXZlIHJlZmVyZW5jZSB0byB0aGUgaW5pdCBmdW5jdGlvblxuICBpbnRlcm5hbEluaXRUcmlnZ2VycyA9IGluaXRFbnRpdHlUcmlnZ2Vyc1xuXG4gIHJldHVybiBmdW5jdGlvbiB0cmlnZ2Vyc1N5c3RlbShfZHQ6IG51bWJlcikge1xuICAgIC8vIHByb2Nlc3MgYWN0aW9uIHF1ZXVlXG4gICAgd2hpbGUgKGFjdGlvblF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHsgZW50aXR5LCBhY3Rpb24gfSA9IGFjdGlvblF1ZXVlLnNoaWZ0KCkhXG4gICAgICBjb25zdCBhY3Rpb25FdmVudHMgPSBnZXRBY3Rpb25FdmVudHMoZW50aXR5KVxuICAgICAgYWN0aW9uRXZlbnRzLmVtaXQoYWN0aW9uLm5hbWUsIGdldFBheWxvYWQoYWN0aW9uKSlcbiAgICB9XG5cbiAgICBjb25zdCBlbnRpdGllc1dpdGhUcmlnZ2VycyA9IGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoVHJpZ2dlcnMpXG4gICAgZm9yIChjb25zdCBbZW50aXR5XSBvZiBlbnRpdGllc1dpdGhUcmlnZ2Vycykge1xuICAgICAgaW5pdEVudGl0eVRyaWdnZXJzKGVudGl0eSlcbiAgICAgIGhhbmRsZU9uVHdlZW5FbmQoZW50aXR5KVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRFbnRpdHlUcmlnZ2VycyhlbnRpdHk6IEVudGl0eSkge1xuICAgIGlmICghVHJpZ2dlcnMuaGFzKGVudGl0eSkgfHwgaW5pdGVkRW50aXRpZXMuaGFzKGVudGl0eSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIGdldCB0cmlnZ2VycyBkYXRhXG4gICAgY29uc3QgdHJpZ2dlcnMgPSBUcmlnZ2Vycy5nZXQoZW50aXR5KVxuXG4gICAgLy8gaW5pdGlhbGl6ZSB0cmlnZ2VycyBmb3IgZ2l2ZW4gZW50aXR5XG4gICAgY29uc3QgdHlwZXMgPSB0cmlnZ2Vycy52YWx1ZS5yZWR1Y2UoXG4gICAgICAodHlwZXMsIHRyaWdnZXIpID0+IHR5cGVzLmFkZCh0cmlnZ2VyLnR5cGUpLFxuICAgICAgbmV3IFNldDxUcmlnZ2VyVHlwZT4oKSxcbiAgICApXG4gICAgZm9yIChjb25zdCB0eXBlIG9mIHR5cGVzKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgLyoqIEBkZXByZWNhdGVkIHVzZSBPTl9JTlBVVF9BQ1RJT04gaW5zdGVhZCAqL1xuICAgICAgICBjYXNlIFRyaWdnZXJUeXBlLk9OX0NMSUNLOiB7XG4gICAgICAgICAgaW5pdE9uQ2xpY2tUcmlnZ2VyKGVudGl0eSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHJpZ2dlclR5cGUuT05fSU5QVVRfQUNUSU9OOiB7XG4gICAgICAgICAgaW5pdE9uSW5wdXRBY3Rpb25UcmlnZ2VyKGVudGl0eSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHJpZ2dlclR5cGUuT05fUExBWUVSX0VOVEVSU19BUkVBOlxuICAgICAgICBjYXNlIFRyaWdnZXJUeXBlLk9OX1BMQVlFUl9MRUFWRVNfQVJFQToge1xuICAgICAgICAgIGluaXRPblBsYXllclRyaWdnZXJBcmVhKGVudGl0eSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHJpZ2dlclR5cGUuT05fREFNQUdFOiB7XG4gICAgICAgICAgaW5pdE9uRGFtYWdlKGVudGl0eSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHJpZ2dlclR5cGUuT05fSEVBTF9QTEFZRVI6IHtcbiAgICAgICAgICBpbml0T25IZWFsUGxheWVyKGVudGl0eSlcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFRyaWdnZXJUeXBlLk9OX0dMT0JBTF9DTElDSzoge1xuICAgICAgICAgIGluaXRPbkdsb2JhbENpY2soZW50aXR5KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBUcmlnZ2VyVHlwZS5PTl9HTE9CQUxfUFJJTUFSWToge1xuICAgICAgICAgIGluaXRPbkdsb2JhbFByaW1hcnkoZW50aXR5KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBUcmlnZ2VyVHlwZS5PTl9HTE9CQUxfU0VDT05EQVJZOiB7XG4gICAgICAgICAgaW5pdE9uR2xvYmFsU2Vjb25kYXJ5KGVudGl0eSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHJpZ2dlclR5cGUuT05fVElDSzoge1xuICAgICAgICAgIGluaXRPblRpY2soZW50aXR5KVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBiaW5kIHRyaWdnZXJzXG4gICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiB0cmlnZ2Vycy52YWx1ZSkge1xuICAgICAgdHJpZ2dlckV2ZW50cy5vbih0cmlnZ2VyLnR5cGUsICgpID0+IHtcbiAgICAgICAgaWYgKGNoZWNrQ29uZGl0aW9ucyh0cmlnZ2VyKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgdHJpZ2dlckFjdGlvbiBvZiB0cmlnZ2VyLmFjdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkQWN0aW9uKHRyaWdnZXJBY3Rpb24pKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IGdldEVudGl0eUJ5QWN0aW9uKHRyaWdnZXJBY3Rpb24pXG4gICAgICAgICAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25zID0gQWN0aW9ucy5nZXRPck51bGwoZW50aXR5KVxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zLnZhbHVlLmZpbmQoXG4gICAgICAgICAgICAgICAgICAgICgkKSA9PiAkLm5hbWUgPT09IHRyaWdnZXJBY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWN0aW9ucyBhcmUgZW5xdWV1ZWQgdG8gYmUgZXhlY3V0ZWQgb24gdGhlIG5leHQgdGljayBhZnRlciBhbGwgdGhlIHRyaWdnZXJzIGhhdmUgYmVlbiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdG8gYXZvaWQgb25lIHRyaWdnZXIgbWVzc2luZyB3aXRoIG90aGVyIHRyaWdnZXIncyBjb25kaXRpb25zXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblF1ZXVlLnB1c2goeyBlbnRpdHksIGFjdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgdHJpZ2dlckV2ZW50cy5lbWl0KFRyaWdnZXJUeXBlLk9OX1NQQVdOKVxuXG4gICAgaW5pdGVkRW50aXRpZXMuYWRkKGVudGl0eSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVmFsaWRBY3Rpb24oYWN0aW9uOiBUcmlnZ2VyQWN0aW9uKSB7XG4gICAgY29uc3QgeyBpZCwgbmFtZSB9ID0gYWN0aW9uXG4gICAgcmV0dXJuICEhaWQgJiYgISFuYW1lXG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0NvbmRpdGlvbnModHJpZ2dlcjogRGVlcFJlYWRvbmx5T2JqZWN0PFRyaWdnZXI+KSB7XG4gICAgaWYgKHRyaWdnZXIuY29uZGl0aW9ucyAmJiB0cmlnZ2VyLmNvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY29uZGl0aW9ucyA9IHRyaWdnZXIuY29uZGl0aW9ucy5tYXAoY2hlY2tDb25kaXRpb24pXG4gICAgICBjb25zdCBpc1RydWUgPSAocmVzdWx0PzogYm9vbGVhbikgPT4gISFyZXN1bHRcbiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IHRyaWdnZXIub3BlcmF0aW9uIHx8IFRyaWdnZXJDb25kaXRpb25PcGVyYXRpb24uQU5EXG4gICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xuICAgICAgICBjYXNlIFRyaWdnZXJDb25kaXRpb25PcGVyYXRpb24uQU5EOiB7XG4gICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnMuZXZlcnkoaXNUcnVlKVxuICAgICAgICB9XG4gICAgICAgIGNhc2UgVHJpZ2dlckNvbmRpdGlvbk9wZXJhdGlvbi5PUjoge1xuICAgICAgICAgIHJldHVybiBjb25kaXRpb25zLnNvbWUoaXNUcnVlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIHRoZXJlIGFyZSBubyBjb25kaXRpb25zLCB0aGUgdHJpZ2dlciBjYW4gY29udGludWVcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tDb25kaXRpb24oY29uZGl0aW9uOiBUcmlnZ2VyQ29uZGl0aW9uKSB7XG4gICAgY29uc3QgZW50aXR5ID0gZ2V0RW50aXR5QnlDb25kaXRpb24oY29uZGl0aW9uKVxuICAgIGlmIChlbnRpdHkpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAoY29uZGl0aW9uLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fU1RBVEVfSVM6IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IFN0YXRlcy5nZXRPck51bGwoZW50aXR5KVxuICAgICAgICAgICAgaWYgKHN0YXRlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBnZXRDdXJyZW50VmFsdWUoc3RhdGVzKVxuICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlID09PSBjb25kaXRpb24udmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgVHJpZ2dlckNvbmRpdGlvblR5cGUuV0hFTl9TVEFURV9JU19OT1Q6IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlcyA9IFN0YXRlcy5nZXRPck51bGwoZW50aXR5KVxuICAgICAgICAgICAgaWYgKHN0YXRlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBnZXRDdXJyZW50VmFsdWUoc3RhdGVzKVxuICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFZhbHVlICE9PSBjb25kaXRpb24udmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgVHJpZ2dlckNvbmRpdGlvblR5cGUuV0hFTl9QUkVWSU9VU19TVEFURV9JUzoge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gU3RhdGVzLmdldE9yTnVsbChlbnRpdHkpXG4gICAgICAgICAgICBpZiAoc3RhdGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBnZXRQcmV2aW91c1ZhbHVlKHN0YXRlcylcbiAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWUgPT09IGNvbmRpdGlvbi52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX1BSRVZJT1VTX1NUQVRFX0lTX05PVDoge1xuICAgICAgICAgICAgY29uc3Qgc3RhdGVzID0gU3RhdGVzLmdldE9yTnVsbChlbnRpdHkpXG4gICAgICAgICAgICBpZiAoc3RhdGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBnZXRQcmV2aW91c1ZhbHVlKHN0YXRlcylcbiAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWUgIT09IGNvbmRpdGlvbi52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX0NPVU5URVJfRVFVQUxTOiB7XG4gICAgICAgICAgICBjb25zdCBjb3VudGVyID0gQ291bnRlci5nZXRPck51bGwoZW50aXR5KVxuICAgICAgICAgICAgaWYgKGNvdW50ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgbnVtZXJpYyA9IE51bWJlcihjb25kaXRpb24udmFsdWUpXG4gICAgICAgICAgICAgIGlmICghaXNOYU4obnVtZXJpYykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY291bnRlci52YWx1ZSA9PT0gbnVtZXJpY1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fQ09VTlRFUl9JU19HUkVBVEVSX1RIQU46IHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ZXIgPSBDb3VudGVyLmdldE9yTnVsbChlbnRpdHkpXG4gICAgICAgICAgICBpZiAoY291bnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBudW1lcmljID0gTnVtYmVyKGNvbmRpdGlvbi52YWx1ZSlcbiAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudGVyLnZhbHVlID4gbnVtZXJpY1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fQ09VTlRFUl9JU19MRVNTX1RIQU46IHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ZXIgPSBDb3VudGVyLmdldE9yTnVsbChlbnRpdHkpXG4gICAgICAgICAgICBpZiAoY291bnRlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBudW1lcmljID0gTnVtYmVyKGNvbmRpdGlvbi52YWx1ZSlcbiAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb3VudGVyLnZhbHVlIDwgbnVtZXJpY1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFRyaWdnZXJDb25kaXRpb25UeXBlLldIRU5fRElTVEFOQ0VfVE9fUExBWUVSX0xFU1NfVEhBTjoge1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRXb3JsZFBvc2l0aW9uKGVudGl0eSlcblxuICAgICAgICAgICAgY29uc3QgbnVtZXJpYyA9IE51bWJlcihjb25kaXRpb24udmFsdWUpXG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bWVyaWMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBWZWN0b3IzLmRpc3RhbmNlKHBvc2l0aW9uLCBnZXRQbGF5ZXJQb3NpdGlvbigpKSA8IG51bWVyaWNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBUcmlnZ2VyQ29uZGl0aW9uVHlwZS5XSEVOX0RJU1RBTkNFX1RPX1BMQVlFUl9HUkVBVEVSX1RIQU46IHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0V29ybGRQb3NpdGlvbihlbnRpdHkpXG4gICAgICAgICAgICBjb25zdCBudW1lcmljID0gTnVtYmVyKGNvbmRpdGlvbi52YWx1ZSlcbiAgICAgICAgICAgIGlmICghaXNOYU4obnVtZXJpYykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFZlY3RvcjMuZGlzdGFuY2UocG9zaXRpb24sIGdldFBsYXllclBvc2l0aW9uKCkpID4gbnVtZXJpY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGNvbmRpdGlvbicsIGNvbmRpdGlvbilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBnZXRFbnRpdHlCeUlkPFQgZXh0ZW5kcyB7IGlkOiBudW1iZXIgfT4oXG4gICAgY29tcG9uZW50TmFtZTogc3RyaW5nLFxuICAgIGlkOiBudW1iZXIsXG4gICkge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGVuZ2luZS5nZXRDb21wb25lbnQoXG4gICAgICBjb21wb25lbnROYW1lLFxuICAgICkgYXMgTGFzdFdyaXRlV2luRWxlbWVudFNldENvbXBvbmVudERlZmluaXRpb248VD5cbiAgICBjb25zdCBlbnRpdGllcyA9IEFycmF5LmZyb20oZW5naW5lLmdldEVudGl0aWVzV2l0aChDb21wb25lbnQpKVxuICAgIGNvbnN0IHJlc3VsdCA9IGVudGl0aWVzLmZpbmQoKFtfZW50aXR5LCB2YWx1ZV0pID0+IHZhbHVlLmlkID09PSBpZClcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyZXN1bHQpICYmIHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0WzBdIDogbnVsbFxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW50aXR5QnlBY3Rpb24oYWN0aW9uOiBUcmlnZ2VyQWN0aW9uKSB7XG4gICAgaWYgKGFjdGlvbi5pZCkge1xuICAgICAgY29uc3QgZW50aXR5ID0gZ2V0RW50aXR5QnlJZChDb21wb25lbnROYW1lLkFDVElPTlMsIGFjdGlvbi5pZClcbiAgICAgIGlmIChlbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW50aXR5QnlDb25kaXRpb24oY29uZGl0aW9uOiBUcmlnZ2VyQ29uZGl0aW9uKSB7XG4gICAgY29uc3QgY29tcG9uZW50TmFtZSA9IE9iamVjdC52YWx1ZXMoQ29tcG9uZW50TmFtZSlcbiAgICAgIC5tYXAoKGNvbXBvbmVudE5hbWUpID0+ICh7XG4gICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgIGNvbmRpdGlvblR5cGVzOiBnZXRDb25kaXRpb25UeXBlc0J5Q29tcG9uZW50TmFtZShjb21wb25lbnROYW1lKSxcbiAgICAgIH0pKVxuICAgICAgLnJlZHVjZTxDb21wb25lbnROYW1lIHwgbnVsbD4oXG4gICAgICAgIChyZXN1bHQsIHsgY29tcG9uZW50TmFtZSwgY29uZGl0aW9uVHlwZXMgfSkgPT5cbiAgICAgICAgICBjb25kaXRpb25UeXBlcy5pbmNsdWRlcyhjb25kaXRpb24udHlwZSkgPyBjb21wb25lbnROYW1lIDogcmVzdWx0LFxuICAgICAgICBudWxsLFxuICAgICAgKVxuICAgIGlmIChjb21wb25lbnROYW1lICYmIGNvbmRpdGlvbi5pZCkge1xuICAgICAgY29uc3QgZW50aXR5ID0gZ2V0RW50aXR5QnlJZChjb21wb25lbnROYW1lLCBjb25kaXRpb24uaWQpXG4gICAgICBpZiAoZW50aXR5KSB7XG4gICAgICAgIHJldHVybiBlbnRpdHlcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8qKiBAZGVwcmVjYXRlZCB1c2UgT05fSU5QVVRfQUNUSU9OIGluc3RlYWQgKi9cbiAgLy8gT05fQ0xJQ0tcbiAgZnVuY3Rpb24gaW5pdE9uQ2xpY2tUcmlnZ2VyKGVudGl0eTogRW50aXR5KSB7XG4gICAgY29uc3QgcG9pbnRlckV2ZW50ID0gUG9pbnRlckV2ZW50cy5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcbiAgICBjb25zdCBvcHRzID0geyBidXR0b246IElucHV0QWN0aW9uLklBX1BPSU5URVIsIGhvdmVyVGV4dDogJ0NsaWNrJyB9XG5cbiAgICBpZiAocG9pbnRlckV2ZW50KSB7XG4gICAgICAvLyBBdm9pZCBjcmVhdGluZyBkdXBsaWNhdHMgb2YgdGhlIHNhbWUgcG9pbnRlckV2ZW50LlxuICAgICAgLy8gVGhpcyBpc3N1YWxseSBoYXBwZW5zIHdpdGggZW50aXRpZXMgdGhhdCBhcmUgY3JlYXRlZCBhdCBydW50aW1lIGFuZCBhcmUgYmVpbmcgc3luY3Jvbml6ZWQuXG4gICAgICAvLyBJZiB5b3UgcmVjZWl2ZSBhbiBlbnRpdHkgd2l0aCBwb2ludGVyRXZlbnQgdGhpcyBmdW5jdGlvbiBpbnNpZGUgdGhlIGNyZWF0ZVRyaWdnZXJTeXN0ZW0gaXMgZ2VuZXJhdGluZyBhbm90aGVyIG9uZSB3aXRoIHRoZSBzYW1lIHZhbHVlcy5cbiAgICAgIHBvaW50ZXJFdmVudC5wb2ludGVyRXZlbnRzID0gcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMuZmlsdGVyKCQgPT4gISgkLmV2ZW50SW5mbz8uYnV0dG9uID09PSBvcHRzLmJ1dHRvbiAmJiAkLmV2ZW50SW5mby5ob3ZlclRleHQgPT09IG9wdHMuaG92ZXJUZXh0KSlcbiAgICB9XG5cbiAgICBwb2ludGVyRXZlbnRzU3lzdGVtLm9uUG9pbnRlckRvd24oXG4gICAgICB7XG4gICAgICAgIGVudGl0eSxcbiAgICAgICAgb3B0c1xuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuICAgICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fQ0xJQ0spXG4gICAgICB9LFxuICAgIClcbiAgfVxuXG4gIC8vIE9OX0lOUFVUX0FDVElPTlxuICBmdW5jdGlvbiBpbml0T25JbnB1dEFjdGlvblRyaWdnZXIoZW50aXR5OiBFbnRpdHkpIHtcbiAgICBjb25zdCBwb2ludGVyRXZlbnQgPSBQb2ludGVyRXZlbnRzLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuXG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGJ1dHRvbjogSW5wdXRBY3Rpb24uSUFfUFJJTUFSWSxcbiAgICAgIGhvdmVyVGV4dDogJ1ByZXNzJ1xuICAgIH1cblxuICAgIGlmIChwb2ludGVyRXZlbnQpIHtcbiAgICAgIC8vIEF2b2lkIGNyZWF0aW5nIGR1cGxpY2F0ZXMgb2YgdGhlIHNhbWUgcG9pbnRlckV2ZW50LlxuICAgICAgcG9pbnRlckV2ZW50LnBvaW50ZXJFdmVudHMgPSBwb2ludGVyRXZlbnQucG9pbnRlckV2ZW50cy5maWx0ZXIoJCA9PiAhKCQuZXZlbnRJbmZvPy5idXR0b24gPT09IG9wdHMuYnV0dG9uICYmICQuZXZlbnRJbmZvLmhvdmVyVGV4dCA9PT0gb3B0cy5ob3ZlclRleHQpKVxuICAgIH1cblxuXG4gICAgcG9pbnRlckV2ZW50c1N5c3RlbS5vblBvaW50ZXJEb3duKFxuICAgICAge1xuICAgICAgICBlbnRpdHksXG4gICAgICAgIG9wdHMsXG4gICAgICB9LFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyhlbnRpdHkpXG4gICAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9JTlBVVF9BQ1RJT04pXG4gICAgICB9LFxuICAgIClcbiAgfVxuXG4gIC8vIE9OX1BMQVlFUl9FTlRFUlNfQVJFQSAvIE9OX1BMQVlFUl9MRUFWRVNfQVJFQVxuICBmdW5jdGlvbiBpbml0T25QbGF5ZXJUcmlnZ2VyQXJlYShlbnRpdHk6IEVudGl0eSkge1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRPck51bGwoZW50aXR5KVxuICAgIHRyaWdnZXJzLmFkZFRyaWdnZXIoXG4gICAgICBlbnRpdHksXG4gICAgICBOT19MQVlFUlMsXG4gICAgICBMQVlFUl8xLFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogJ2JveCcsXG4gICAgICAgICAgc2NhbGU6IHRyYW5zZm9ybSA/IHRyYW5zZm9ybS5zY2FsZSA6IHsgeDogMSwgeTogMSwgejogMSB9LFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuICAgICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fUExBWUVSX0VOVEVSU19BUkVBKVxuICAgICAgfSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuICAgICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fUExBWUVSX0xFQVZFU19BUkVBKVxuICAgICAgfSxcbiAgICApXG4gIH1cblxuICBmdW5jdGlvbiBpbml0T25EYW1hZ2UoZW50aXR5OiBFbnRpdHkpIHtcbiAgICBkYW1hZ2VUYXJnZXRzLmFkZChlbnRpdHkpXG4gIH1cblxuICBmdW5jdGlvbiBpbml0T25IZWFsUGxheWVyKGVudGl0eTogRW50aXR5KSB7XG4gICAgaGVhbFRhcmdldHMuYWRkKGVudGl0eSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRPbkdsb2JhbENpY2soZW50aXR5OiBFbnRpdHkpIHtcbiAgICBnbG9iYWxJbnB1dEFjdGlvbnMub24oSW5wdXRBY3Rpb24uSUFfUE9JTlRFUiwgKCkgPT4ge1xuICAgICAgY29uc3QgdHJpZ2dlckV2ZW50cyA9IGdldFRyaWdnZXJFdmVudHMoZW50aXR5KVxuICAgICAgdHJpZ2dlckV2ZW50cy5lbWl0KFRyaWdnZXJUeXBlLk9OX0dMT0JBTF9DTElDSylcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE9uR2xvYmFsUHJpbWFyeShlbnRpdHk6IEVudGl0eSkge1xuICAgIGdsb2JhbElucHV0QWN0aW9ucy5vbihJbnB1dEFjdGlvbi5JQV9QUklNQVJZLCAoKSA9PiB7XG4gICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyhlbnRpdHkpXG4gICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fR0xPQkFMX1BSSU1BUlkpXG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRPbkdsb2JhbFNlY29uZGFyeShlbnRpdHk6IEVudGl0eSkge1xuICAgIGdsb2JhbElucHV0QWN0aW9ucy5vbihJbnB1dEFjdGlvbi5JQV9TRUNPTkRBUlksICgpID0+IHtcbiAgICAgIGNvbnN0IHRyaWdnZXJFdmVudHMgPSBnZXRUcmlnZ2VyRXZlbnRzKGVudGl0eSlcbiAgICAgIHRyaWdnZXJFdmVudHMuZW1pdChUcmlnZ2VyVHlwZS5PTl9HTE9CQUxfU0VDT05EQVJZKVxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBpbml0T25UaWNrKGVudGl0eTogRW50aXR5KSB7XG4gICAgdGlja1NldC5hZGQoZW50aXR5KVxuICB9XG5cbiAgLy8gT05fVFdFRU5fRU5EXG4gIGZ1bmN0aW9uIGhhbmRsZU9uVHdlZW5FbmQoZW50aXR5OiBFbnRpdHkpIHtcbiAgICBpZiAoXG4gICAgICBUd2VlbkNvbXBvbmVudC5nZXRPck51bGwoZW50aXR5KSAmJlxuICAgICAgVHdlZW5TdGF0ZS5nZXRPck51bGwoZW50aXR5KT8uc3RhdGUgPT09IFR3ZWVuU3RhdGVTdGF0dXMuVFNfQ09NUExFVEVEICYmXG4gICAgICB0d2VlblN5c3RlbS50d2VlbkNvbXBsZXRlZChlbnRpdHkpXG4gICAgKSB7XG4gICAgICBjb25zdCB0cmlnZ2VyRXZlbnRzID0gZ2V0VHJpZ2dlckV2ZW50cyhlbnRpdHkpXG4gICAgICB0cmlnZ2VyRXZlbnRzLmVtaXQoVHJpZ2dlclR5cGUuT05fVFdFRU5fRU5EKVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7IEVudGl0eSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgRW5naW5lQ29tcG9uZW50cyB9IGZyb20gJy4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgeyBRdWF0ZXJuaW9uLCBWZWN0b3IzIH0gZnJvbSAnQGRjbC9zZGsvbWF0aCdcblxuZXhwb3J0IHR5cGUgRm9sbG93QWN0aW9uID0ge1xuICB0YXJnZXQ6IEVudGl0eVxuICBzcGVlZDogbnVtYmVyXG4gIG1pbkRpc3RhbmNlOiBudW1iZXJcbiAgYXhlczoge1xuICAgIHg6IGJvb2xlYW5cbiAgICB5OiBib29sZWFuXG4gICAgejogYm9vbGVhblxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBmb2xsb3dNYXAgPSBuZXcgTWFwPEVudGl0eSwgRm9sbG93QWN0aW9uPigpXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2Zvcm1TeXN0ZW0oY29tcG9uZW50czogRW5naW5lQ29tcG9uZW50cykge1xuICBjb25zdCB7IFRyYW5zZm9ybSB9ID0gY29tcG9uZW50c1xuICByZXR1cm4gZnVuY3Rpb24gdHJhbnNmb3JtU3lzdGVtKCkge1xuICAgIGZvciAoY29uc3QgW2VudGl0eSwgeyB0YXJnZXQsIHNwZWVkLCBtaW5EaXN0YW5jZSwgYXhlcyB9XSBvZiBmb2xsb3dNYXApIHtcbiAgICAgIGNvbnN0IGVudGl0eVRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlT3JOdWxsKGVudGl0eSlcbiAgICAgIGNvbnN0IHRhcmdldFRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRPck51bGwodGFyZ2V0KVxuXG4gICAgICBpZiAoIWVudGl0eVRyYW5zZm9ybSB8fCAhdGFyZ2V0VHJhbnNmb3JtKSBjb250aW51ZVxuICAgICAgY29uc3QgZGlyZWN0aW9uID0gVmVjdG9yMy5zdWJ0cmFjdChcbiAgICAgICAgdGFyZ2V0VHJhbnNmb3JtLnBvc2l0aW9uLFxuICAgICAgICBlbnRpdHlUcmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICApXG4gICAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3RvcjMubGVuZ3RoKGRpcmVjdGlvbilcbiAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSBjb250aW51ZVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IFZlY3RvcjMubm9ybWFsaXplKGRpcmVjdGlvbilcbiAgICAgIGNvbnN0IG1vdmUgPSBWZWN0b3IzLnNjYWxlKG5vcm1hbGl6ZWQsIHNwZWVkIC8gMTApXG4gICAgICBpZiAoVmVjdG9yMy5sZW5ndGgobW92ZSkgPiBkaXN0YW5jZSkgY29udGludWVcbiAgICAgIGlmICghYXhlcy54KSBtb3ZlLnggPSAwXG4gICAgICBpZiAoIWF4ZXMueSkgbW92ZS55ID0gMFxuICAgICAgaWYgKCFheGVzLnopIG1vdmUueiA9IDBcbiAgICAgIFZlY3RvcjMuYWRkVG9SZWYobW92ZSwgZW50aXR5VHJhbnNmb3JtLnBvc2l0aW9uLCBlbnRpdHlUcmFuc2Zvcm0ucG9zaXRpb24pXG4gICAgICBjb25zdCBsb29rQXQgPSBWZWN0b3IzLmNsb25lKHRhcmdldFRyYW5zZm9ybS5wb3NpdGlvbilcbiAgICAgIGlmICghYXhlcy54KSBsb29rQXQueCA9IGVudGl0eVRyYW5zZm9ybS5wb3NpdGlvbi54XG4gICAgICBpZiAoIWF4ZXMueSkgbG9va0F0LnkgPSBlbnRpdHlUcmFuc2Zvcm0ucG9zaXRpb24ueVxuICAgICAgaWYgKCFheGVzLnopIGxvb2tBdC56ID0gZW50aXR5VHJhbnNmb3JtLnBvc2l0aW9uLnpcbiAgICAgIGNvbnN0IGxvb2tBdFJvdGF0aW9uID0gUXVhdGVybmlvbi5mcm9tTG9va0F0KFxuICAgICAgICBlbnRpdHlUcmFuc2Zvcm0ucG9zaXRpb24sXG4gICAgICAgIGxvb2tBdCxcbiAgICAgIClcbiAgICAgIGVudGl0eVRyYW5zZm9ybS5yb3RhdGlvbiA9IGxvb2tBdFJvdGF0aW9uXG4gICAgfVxuICB9XG59XG4iLCAiaW1wb3J0IHsgRWFzaW5nRnVuY3Rpb24gfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IEludGVycG9sYXRpb25UeXBlIH0gZnJvbSAnLi9lbnVtcydcblxuLyoqXG4gKiBNYXBzIGFuIEVhc2luZ0Z1bmN0aW9uIHRvIHRoZSBwcm92aWRlZCBJbnRlcnBvbGF0aW9uVHlwZVxuICpcbiAqIEBwYXJhbSB0eXBlIC0gYW4gSW50ZXJwb2xhdGlvblR5cGUgZW51bSB0eXBlXG4gKiBAcmV0dXJucyBBbiBFYXNpbmdGdW5jdGlvbiBlbnVtIHR5cGVcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVhc2luZ0Z1bmN0aW9uRnJvbUludGVycG9sYXRpb24oXG4gIHR5cGU6IEludGVycG9sYXRpb25UeXBlLFxuKTogRWFzaW5nRnVuY3Rpb24ge1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkxJTkVBUjpcbiAgICAgIHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9MSU5FQVJcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VJTlFVQUQ6XG4gICAgICByZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUlOUVVBRFxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVFFVQUQ6XG4gICAgICByZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRU9VVFFVQURcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VRVUFEOlxuICAgICAgcmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VRVUFEXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5TSU5FOlxuICAgICAgcmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VJTlNJTkVcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VPVVRTSU5FOlxuICAgICAgcmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VPVVRTSU5FXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFU0lORTpcbiAgICAgIHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFU0lORVxuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUlORVhQTzpcbiAgICAgIHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFSU5FWFBPXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURVhQTzpcbiAgICAgIHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFT1VURVhQT1xuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRUVYUE86XG4gICAgICByZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUVYUE9cbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VJTkVMQVNUSUM6XG4gICAgICByZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUlORUxBU1RJQ1xuICAgIGNhc2UgSW50ZXJwb2xhdGlvblR5cGUuRUFTRU9VVEVMQVNUSUM6XG4gICAgICByZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRU9VVEVMQVNUSUNcbiAgICBjYXNlIEludGVycG9sYXRpb25UeXBlLkVBU0VFTEFTVElDOlxuICAgICAgcmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VFTEFTVElDXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFSU5CT1VOQ0U6XG4gICAgICByZXR1cm4gRWFzaW5nRnVuY3Rpb24uRUZfRUFTRUlOQk9VTkNFXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFT1VURUJPVU5DRTpcbiAgICAgIHJldHVybiBFYXNpbmdGdW5jdGlvbi5FRl9FQVNFT1VUQk9VTkNFXG4gICAgY2FzZSBJbnRlcnBvbGF0aW9uVHlwZS5FQVNFQk9VTkNFOlxuICAgICAgcmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0VBU0VCT1VOQ0VcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEVhc2luZ0Z1bmN0aW9uLkVGX0xJTkVBUlxuICB9XG59XG4iLCAiaW1wb3J0IHsgRW50aXR5LCBJRW5naW5lIH0gZnJvbSAnQGRjbC9lY3MnXG5pbXBvcnQgeyBFbmdpbmVDb21wb25lbnRzLCBnZXRDb21wb25lbnRzIH0gZnJvbSAnLi9kZWZpbml0aW9ucydcbmltcG9ydCB7IENvbG9yNCwgUXVhdGVybmlvbiB9IGZyb20gJ0BkY2wvc2RrL21hdGgnXG5cbmNvbnN0IGJhcnMgPSBuZXcgTWFwPEVudGl0eSwgRW50aXR5PigpXG5jb25zdCBiYWNrZ3JvdW5kcyA9IG5ldyBNYXA8RW50aXR5LCBFbnRpdHk+KClcblxuY29uc3QgU0NBTEUgPSAxXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb3VudGVyQmFyU3lzdGVtKFxuICBlbmdpbmU6IElFbmdpbmUsXG4gIGNvbXBvbmVudHM6IEVuZ2luZUNvbXBvbmVudHMsXG4pIHtcbiAgY29uc3QgeyBNYXRlcmlhbCwgTWVzaFJlbmRlcmVyLCBUcmFuc2Zvcm0sIEJpbGxib2FyZCB9ID0gY29tcG9uZW50c1xuICBjb25zdCB7IENvdW50ZXIsIENvdW50ZXJCYXIgfSA9IGdldENvbXBvbmVudHMoZW5naW5lKVxuICByZXR1cm4gZnVuY3Rpb24gY291bnRlckJhclN5c3RlbSgpIHtcbiAgICBmb3IgKGNvbnN0IFtcbiAgICAgIGVudGl0eSxcbiAgICAgIHsgdmFsdWUgfSxcbiAgICAgIHsgcHJpbWFyeUNvbG9yLCBzZWNvbmRhcnlDb2xvciwgbWF4VmFsdWUgfSxcbiAgICBdIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoQ291bnRlciwgQ291bnRlckJhcikpIHtcbiAgICAgIGlmICghYmFycy5oYXMoZW50aXR5KSkge1xuICAgICAgICBjb25zdCBwcmltYXJ5ID0gcHJpbWFyeUNvbG9yXG4gICAgICAgICAgPyBDb2xvcjQuZnJvbUhleFN0cmluZyhwcmltYXJ5Q29sb3IpXG4gICAgICAgICAgOiBDb2xvcjQuR3JlZW4oKVxuICAgICAgICBjb25zdCBzZWNvbmRheSA9IHNlY29uZGFyeUNvbG9yXG4gICAgICAgICAgPyBDb2xvcjQuZnJvbUhleFN0cmluZyhzZWNvbmRhcnlDb2xvcilcbiAgICAgICAgICA6IENvbG9yNC5SZWQoKVxuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGVuZ2luZS5hZGRFbnRpdHkoKVxuICAgICAgICBUcmFuc2Zvcm0uY3JlYXRlKGNvbnRhaW5lciwgeyBwYXJlbnQ6IGVudGl0eSB9KVxuICAgICAgICBCaWxsYm9hcmQuY3JlYXRlKGNvbnRhaW5lcilcblxuICAgICAgICBjb25zdCBiYXIgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgICAgYmFycy5zZXQoZW50aXR5LCBiYXIpXG4gICAgICAgIE1hdGVyaWFsLnNldEJhc2ljTWF0ZXJpYWwoYmFyLCB7XG4gICAgICAgICAgZGlmZnVzZUNvbG9yOiBwcmltYXJ5LFxuICAgICAgICB9KVxuICAgICAgICBNZXNoUmVuZGVyZXIuc2V0Q3lsaW5kZXIoYmFyKVxuICAgICAgICBUcmFuc2Zvcm0uY3JlYXRlKGJhciwge1xuICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgICAgICBzY2FsZTogeyB4OiAwLjEgKiBTQ0FMRSwgeTogMSAqIFNDQUxFLCB6OiAwLjEgKiBTQ0FMRSB9LFxuICAgICAgICAgIHJvdGF0aW9uOiBRdWF0ZXJuaW9uLmZyb21FdWxlckRlZ3JlZXMoMCwgMCwgOTApLFxuICAgICAgICAgIHBhcmVudDogY29udGFpbmVyLFxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBlbmdpbmUuYWRkRW50aXR5KClcbiAgICAgICAgYmFja2dyb3VuZHMuc2V0KGVudGl0eSwgYmFja2dyb3VuZClcbiAgICAgICAgTWF0ZXJpYWwuc2V0QmFzaWNNYXRlcmlhbChiYWNrZ3JvdW5kLCB7XG4gICAgICAgICAgZGlmZnVzZUNvbG9yOiBzZWNvbmRheSxcbiAgICAgICAgfSlcbiAgICAgICAgTWVzaFJlbmRlcmVyLnNldEN5bGluZGVyKGJhY2tncm91bmQpXG4gICAgICAgIFRyYW5zZm9ybS5jcmVhdGUoYmFja2dyb3VuZCwge1xuICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IDAsIHk6IDAsIHo6IDAgfSxcbiAgICAgICAgICBzY2FsZTogeyB4OiAwLjA5ICogU0NBTEUsIHk6IDEgKiBTQ0FMRSwgejogMC4wOSAqIFNDQUxFIH0sXG4gICAgICAgICAgcm90YXRpb246IFF1YXRlcm5pb24uZnJvbUV1bGVyRGVncmVlcygwLCAwLCA5MCksXG4gICAgICAgICAgcGFyZW50OiBjb250YWluZXIsXG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3QgZW50aXR5VHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGVPck51bGwoZW50aXR5KVxuICAgICAgICBpZiAoZW50aXR5VHJhbnNmb3JtKSB7XG4gICAgICAgICAgaWYgKGVudGl0eVRyYW5zZm9ybS5wYXJlbnQgPT09IGVuZ2luZS5QbGF5ZXJFbnRpdHkpIHtcbiAgICAgICAgICAgIGVudGl0eVRyYW5zZm9ybS5wb3NpdGlvbiA9IHsgeDogMCwgeTogMi4xLCB6OiAwIH1cbiAgICAgICAgICAgIGVudGl0eVRyYW5zZm9ybS5zY2FsZSA9IHsgeDogMC41LCB5OiAwLjUsIHo6IDAuNSB9XG4gICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHlUcmFuc2Zvcm0ucGFyZW50ID09PSBlbmdpbmUuQ2FtZXJhRW50aXR5KSB7XG4gICAgICAgICAgICBlbnRpdHlUcmFuc2Zvcm0ucG9zaXRpb24gPSB7IHg6IDAsIHk6IDAuNSwgejogMSB9XG4gICAgICAgICAgICBlbnRpdHlUcmFuc2Zvcm0uc2NhbGUgPSB7IHg6IDAuNSwgeTogMC41LCB6OiAwLjUgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtYXggPSBtYXhWYWx1ZSB8fCAxMFxuXG4gICAgICBjb25zdCBjb3VudGVyID0gQ291bnRlci5nZXRNdXRhYmxlKGVudGl0eSlcbiAgICAgIGlmIChjb3VudGVyLnZhbHVlID4gbWF4KSB7XG4gICAgICAgIGNvdW50ZXIudmFsdWUgPSBtYXhcbiAgICAgIH1cbiAgICAgIGlmIChjb3VudGVyLnZhbHVlIDwgMCkge1xuICAgICAgICBjb3VudGVyLnZhbHVlID0gMFxuICAgICAgfVxuICAgICAgY29uc3QgY3VycmVudFZhbHVlID1cbiAgICAgICAgTWF0aC5tYXgoTWF0aC5taW4oY291bnRlci52YWx1ZSAvIG1heCwgMSksIDApIC8gKDEgLyBTQ0FMRSkgLy8gMC43NVxuICAgICAgY29uc3QgYmFyID0gYmFycy5nZXQoZW50aXR5KSFcbiAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBiYWNrZ3JvdW5kcy5nZXQoZW50aXR5KSFcbiAgICAgIGNvbnN0IGJhclRyYW5zZm9ybSA9IFRyYW5zZm9ybS5nZXRNdXRhYmxlKGJhcilcbiAgICAgIGJhclRyYW5zZm9ybS5wb3NpdGlvbi54ID0gKGN1cnJlbnRWYWx1ZSAtIFNDQUxFKSAvIDIgLy8gLTAuMTI1XG4gICAgICBiYXJUcmFuc2Zvcm0uc2NhbGUueSA9IGN1cnJlbnRWYWx1ZVxuXG4gICAgICBjb25zdCBiYWNrZ3JvdW5kVHJhbnNmb3JtID0gVHJhbnNmb3JtLmdldE11dGFibGUoYmFja2dyb3VuZClcbiAgICAgIGJhY2tncm91bmRUcmFuc2Zvcm0ucG9zaXRpb24ueCA9IFNDQUxFIC8gMiArIGJhclRyYW5zZm9ybS5wb3NpdGlvbi54XG4gICAgICBiYWNrZ3JvdW5kVHJhbnNmb3JtLnNjYWxlLnkgPSBTQ0FMRSAtIGN1cnJlbnRWYWx1ZVxuICAgIH1cbiAgfVxufVxuIiwgImltcG9ydCB7XG4gIEVudGl0eSxcbiAgSUVuZ2luZSxcbiAgY3JlYXRlSW5wdXRTeXN0ZW0sXG4gIGNyZWF0ZVBvaW50ZXJFdmVudHNTeXN0ZW0sXG4gIGNyZWF0ZVR3ZWVuU3lzdGVtLFxufSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudHMsIGluaXRDb21wb25lbnRzLCBJU0RLSGVscGVycyB9IGZyb20gJy4vZGVmaW5pdGlvbnMnXG5pbXBvcnQgeyBjcmVhdGVBY3Rpb25zU3lzdGVtIH0gZnJvbSAnLi9hY3Rpb25zJ1xuaW1wb3J0IHsgY3JlYXRlVHJpZ2dlcnNTeXN0ZW0gfSBmcm9tICcuL3RyaWdnZXJzJ1xuaW1wb3J0IHsgY3JlYXRlVGltZXJTeXN0ZW0gfSBmcm9tICcuL3RpbWVyJ1xuaW1wb3J0IHsgZ2V0RXhwbG9yZXJDb21wb25lbnRzIGFzIGdldEVuZ2luZUNvbXBvbmVudHMgfSBmcm9tICcuL2NvbXBvbmVudHMnXG5pbXBvcnQgeyBjcmVhdGVUcmFuc2Zvcm1TeXN0ZW0gfSBmcm9tICcuL3RyYW5zZm9ybSdcbmltcG9ydCB7IGNyZWF0ZUlucHV0QWN0aW9uU3lzdGVtIH0gZnJvbSAnLi9pbnB1dC1hY3Rpb25zJ1xuaW1wb3J0IHsgY3JlYXRlQ291bnRlckJhclN5c3RlbSB9IGZyb20gJy4vY291bnRlci1iYXInXG5cbmxldCBpbml0aWFsaXplZDogYm9vbGVhbiA9IGZhbHNlXG4vKipcbiAqIHRoZSBfYXJncyBwYXJhbSBpcyB0aGVyZSB0byBtYW50YWluIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHdpdGggYWxsIHZlcnNpb25zLlxuICogQmVmb3JlIGl0IHdhcyBpbml0QXNzZXRQYWNrcyhlbmdpbmUsIHBvaW50ZXJFdmVudHNTeXN0ZW0sIGNvbXBvbmVudHMpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0QXNzZXRQYWNrcyhfZW5naW5lOiB1bmtub3duLCBzZGtIZWxwZXJzPzogSVNES0hlbHBlcnMpIHtcbiAgLy8gQXZvaWQgY3JlYXRpbmcgdGhlIHNhbWUgc3lzdGVtcyBpZiBhc3NldC1wYWNrIGlzIGNhbGxlZCBtb3JlIHRoYW4gb25jZVxuICBpZiAoaW5pdGlhbGl6ZWQpIHJldHVyblxuICBpbml0aWFsaXplZCA9IHRydWVcblxuICBjb25zdCBlbmdpbmUgPSBfZW5naW5lIGFzIElFbmdpbmVcblxuICB0cnkge1xuICAgIC8vIGdldCBlbmdpbmUgY29tcG9uZW50c1xuICAgIGNvbnN0IGNvbXBvbmVudHMgPSBnZXRFbmdpbmVDb21wb25lbnRzKGVuZ2luZSlcblxuICAgIC8vIGNyZWF0ZSBhc3NldCBwYWNrcyBjb21wb25lbnRzXG4gICAgY3JlYXRlQ29tcG9uZW50cyhlbmdpbmUpXG5cbiAgICAvLyBjcmVhdGUgY29yZSBzeXN0ZW1zXG4gICAgY29uc3QgaW5wdXRTeXN0ZW0gPSBjcmVhdGVJbnB1dFN5c3RlbShlbmdpbmUpXG4gICAgY29uc3QgcG9pbnRlckV2ZW50c1N5c3RlbSA9IGNyZWF0ZVBvaW50ZXJFdmVudHNTeXN0ZW0oZW5naW5lLCBpbnB1dFN5c3RlbSlcbiAgICBjb25zdCB0d2VlblN5c3RlbSA9IGNyZWF0ZVR3ZWVuU3lzdGVtKGVuZ2luZSlcblxuICAgIC8vIGNyZWF0ZSBzeXN0ZW1zIHRoYXQgc29tZSBjb21wb25lbnRzIG5lZWRzIChWaWRlb1BsYXllciwgZXRjKVxuICAgIGluaXRDb21wb25lbnRzKGVuZ2luZSlcbiAgICBlbmdpbmUuYWRkU3lzdGVtKGNyZWF0ZUFjdGlvbnNTeXN0ZW0oZW5naW5lLCBzZGtIZWxwZXJzKSlcbiAgICBlbmdpbmUuYWRkU3lzdGVtKFxuICAgICAgY3JlYXRlVHJpZ2dlcnNTeXN0ZW0oXG4gICAgICAgIGVuZ2luZSxcbiAgICAgICAgY29tcG9uZW50cyxcbiAgICAgICAgcG9pbnRlckV2ZW50c1N5c3RlbSxcbiAgICAgICAgdHdlZW5TeXN0ZW0sXG4gICAgICApLFxuICAgIClcbiAgICBlbmdpbmUuYWRkU3lzdGVtKGNyZWF0ZVRpbWVyU3lzdGVtKCkpXG4gICAgZW5naW5lLmFkZFN5c3RlbShjcmVhdGVJbnB1dEFjdGlvblN5c3RlbShpbnB1dFN5c3RlbSkpXG4gICAgZW5naW5lLmFkZFN5c3RlbShjcmVhdGVDb3VudGVyQmFyU3lzdGVtKGVuZ2luZSwgY29tcG9uZW50cykpXG4gICAgZW5naW5lLmFkZFN5c3RlbShjcmVhdGVUcmFuc2Zvcm1TeXN0ZW0oY29tcG9uZW50cykpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW5pdGlhbGl6aW5nIEFzc2V0IFBhY2tzOiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gKVxuICB9XG59XG4iLCAiLyoqIEBhbHBoYSBUSElTIEZJTEUgSU5JVElBTElaRVMgVEhFIERFQ0VOVFJBTEFORCBSVU5USU1FLiBXSUxMIENIQU5HRSBTT09OICovXG5pbXBvcnQgeyBDb21wb3NpdGUsIGVuZ2luZSB9IGZyb20gJ0BkY2wvZWNzJ1xuaW1wb3J0IHsgY3JkdEdldFN0YXRlLCBjcmR0U2VuZFRvUmVuZGVyZXIsIHNlbmRCYXRjaCB9IGZyb20gJ35zeXN0ZW0vRW5naW5lQXBpJ1xuaW1wb3J0IHsgY3JlYXRlUmVuZGVyZXJUcmFuc3BvcnQgfSBmcm9tICcuL2ludGVybmFsL3RyYW5zcG9ydHMvcmVuZGVyZXJUcmFuc3BvcnQnXG5pbXBvcnQgeyBwb2xsRXZlbnRzIH0gZnJvbSAnLi9vYnNlcnZhYmxlcydcbmltcG9ydCB7IGNvbXBvc2l0ZVByb3ZpZGVyIH0gZnJvbSAnLi9jb21wb3NpdGUtcHJvdmlkZXInXG5cbi8vIEF0dGFjaCBDUkRUIHRyYW5zcG9ydFxuLy8gQGludGVybmFsXG5leHBvcnQgY29uc3QgcmVuZGVyZXJUcmFuc3BvcnQgPSBjcmVhdGVSZW5kZXJlclRyYW5zcG9ydCh7IGNyZHRTZW5kVG9SZW5kZXJlciB9KVxuZW5naW5lLmFkZFRyYW5zcG9ydChyZW5kZXJlclRyYW5zcG9ydClcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uVXBkYXRlKGRlbHRhVGltZTogbnVtYmVyKSB7XG4gIGVuZ2luZS5zZWFsKClcbiAgYXdhaXQgZW5naW5lLnVwZGF0ZShkZWx0YVRpbWUpXG4gIGF3YWl0IHBvbGxFdmVudHMoc2VuZEJhdGNoKVxufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogRnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBmaXJzdCB1cGRhdGUgYW5kIGFmdGVyIHRoZSBldmFsdWF0aW9uIG9mIHRoZSBjb2RlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25TdGFydCgpIHtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmR0R2V0U3RhdGUoeyBkYXRhOiBuZXcgVWludDhBcnJheSgpIH0pXG5cbiAgLy8gd2hlbiB0aGlzIGNvbmRpdGlvbiBpcyB0cnVlIHNvbWV0aGluZyBsaWtlIGBtYWluLmNyZHRgIHdhcyBwcmUtbG9hZGVkIGZyb20gdGhlIHJ1bnRpbWUsIHdlIGRvbid0IG5lZWQgdG8gaW5zdGFuY2UgdGhlIG1haW4uY29tcG9zaXRlXG4gIGlmICghcmVzcG9uc2UuaGFzRW50aXRpZXMpIHtcbiAgICBjb25zdCBtYWluQ29tcG9zaXRlID0gY29tcG9zaXRlUHJvdmlkZXIuZ2V0Q29tcG9zaXRlT3JOdWxsKCdtYWluLmNvbXBvc2l0ZScpXG4gICAgaWYgKG1haW5Db21wb3NpdGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIENvbXBvc2l0ZS5pbnN0YW5jZShlbmdpbmUsIG1haW5Db21wb3NpdGUsIGNvbXBvc2l0ZVByb3ZpZGVyKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBXYXJuaW5nOiBtYWluLmNvbXBvc2l0ZSBjb3VsZG4ndCBiZSBpbnN0YW5jZWQuYClcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCEhcmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKSB7XG4gICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmRhdGEgJiYgcmVzcG9uc2UuZGF0YS5sZW5ndGgpIHtcbiAgICAgIGZvciAoY29uc3QgYnl0ZUFycmF5IG9mIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgcmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKGJ5dGVBcnJheSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsICJpbXBvcnQgeyBUcmFuc3BvcnQsIFRyYW5zcG9ydE1lc3NhZ2UgfSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IE1BWF9TVEFUSUNfQ09NUE9ORU5UIH0gZnJvbSAnQGRjbC9lY3MvZGlzdC9jb21wb25lbnRzL2NvbXBvbmVudC1udW1iZXInXG5pbXBvcnQgdHlwZSB7IENyZHRTZW5kVG9SZW5kZXJlclJlcXVlc3QsIENyZHRTZW5kVG9SZXNwb25zZSB9IGZyb20gJ35zeXN0ZW0vRW5naW5lQXBpJ1xuXG5leHBvcnQgdHlwZSBFbmdpbmVBcGlGb3JUcmFuc3BvcnQgPSB7XG4gIGNyZHRTZW5kVG9SZW5kZXJlcihib2R5OiBDcmR0U2VuZFRvUmVuZGVyZXJSZXF1ZXN0KTogUHJvbWlzZTxDcmR0U2VuZFRvUmVzcG9uc2U+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlclRyYW5zcG9ydChlbmdpbmVBcGk6IEVuZ2luZUFwaUZvclRyYW5zcG9ydCk6IFRyYW5zcG9ydCB7XG4gIGFzeW5jIGZ1bmN0aW9uIHNlbmRUb1JlbmRlcmVyKG1lc3NhZ2U6IFVpbnQ4QXJyYXkpIHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGVuZ2luZUFwaS5jcmR0U2VuZFRvUmVuZGVyZXIoe1xuICAgICAgZGF0YTogbmV3IFVpbnQ4QXJyYXkobWVzc2FnZSlcbiAgICB9KVxuICAgIGlmIChyZXNwb25zZSAmJiByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubGVuZ3RoKSB7XG4gICAgICBpZiAocmVuZGVyZXJUcmFuc3BvcnQub25tZXNzYWdlKSB7XG4gICAgICAgIGZvciAoY29uc3QgYnl0ZUFycmF5IG9mIHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgICAgICByZW5kZXJlclRyYW5zcG9ydC5vbm1lc3NhZ2UoYnl0ZUFycmF5KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyZXJUcmFuc3BvcnQ6IFRyYW5zcG9ydCA9IHtcbiAgICBhc3luYyBzZW5kKG1lc3NhZ2UpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNlbmRUb1JlbmRlcmVyKG1lc3NhZ2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyB0aGlzIGlzIHRoZSBjb25zb2xlLmVycm9yIG9mIHRoZSBzY2VuZVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKVxuICAgICAgICBkZWJ1Z2dlclxuICAgICAgfVxuICAgIH0sXG4gICAgZmlsdGVyKG1lc3NhZ2U6IFRyYW5zcG9ydE1lc3NhZ2UpIHtcbiAgICAgIC8vIE9ubHkgc2VuZCByZW5kZXJlciBjb21wb25lbnRzIChQcm90byBHZW5lcmF0ZWQpXG4gICAgICBpZiAoXG4gICAgICAgIC8vIGZpbHRlciBvdXQgbWVzc2FnZXMgZm9yIG5vbi1jb3JlIGNvbXBvbmVudHNcbiAgICAgICAgKG1lc3NhZ2UgYXMgYW55KS5jb21wb25lbnRJZCA+IE1BWF9TVEFUSUNfQ09NUE9ORU5UXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhIW1lc3NhZ2VcbiAgICB9LFxuICAgIHR5cGU6ICdyZW5kZXJlcidcbiAgfVxuXG4gIHJldHVybiByZW5kZXJlclRyYW5zcG9ydFxufVxuIiwgIi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG4vKipcbiAqIEEgY2xhc3Mgc2VydmVzIGFzIGEgbWVkaXVtIGJldHdlZW4gdGhlIG9ic2VydmFibGUgYW5kIGl0cyBvYnNlcnZlcnNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmVyRXZlbnRTdGF0ZSB7XG4gIC8qKlxuICAgKiBBbiBPYnNlcnZlciBjYW4gc2V0IHRoaXMgcHJvcGVydHkgdG8gdHJ1ZSB0byBwcmV2ZW50IHN1YnNlcXVlbnQgb2JzZXJ2ZXJzIG9mIGJlaW5nIG5vdGlmaWVkXG4gICAqL1xuICBwdWJsaWMgc2tpcE5leHRPYnNlcnZlcnMhOiBib29sZWFuXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbWFzayB2YWx1ZSB0aGF0IHdlcmUgdXNlZCB0byB0cmlnZ2VyIHRoZSBldmVudCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgRXZlbnRTdGF0ZSBvYmplY3RcbiAgICovXG4gIHB1YmxpYyBtYXNrITogbnVtYmVyXG5cbiAgLyoqXG4gICAqIFRoZSBvYmplY3QgdGhhdCBvcmlnaW5hbGx5IG5vdGlmaWVkIHRoZSBldmVudFxuICAgKi9cbiAgcHVibGljIHRhcmdldD86IGFueVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBvYmplY3QgaW4gdGhlIGJ1YmJsaW5nIHBoYXNlXG4gICAqL1xuICBwdWJsaWMgY3VycmVudFRhcmdldD86IGFueVxuXG4gIC8qKlxuICAgKiBUaGlzIHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgbGFzdCBmdW5jdGlvbiB0aGF0IHdhcyBleGVjdXRlZC5cbiAgICogSWYgaXQgaXMgdGhlIGZpcnN0IGZ1bmN0aW9uIGluIHRoZSBjYWxsYmFjayBjaGFpbiBpdCB3aWxsIGJlIHRoZSBldmVudCBkYXRhLlxuICAgKi9cbiAgcHVibGljIGxhc3RSZXR1cm5WYWx1ZT86IGFueVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgRXZlbnRTdGF0ZVxuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgYXNzb2NpYXRlZCB3aXRoIHRoaXMgc3RhdGVcbiAgICogQHBhcmFtIHNraXBOZXh0T2JzZXJ2ZXJzIC0gZGVmaW5lcyBhIGZsYWcgd2hpY2ggd2lsbCBpbnN0cnVjdCB0aGUgb2JzZXJ2YWJsZSB0byBza2lwIGZvbGxvd2luZyBvYnNlcnZlcnMgd2hlbiBzZXQgdG8gdHJ1ZVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3IobWFzazogbnVtYmVyLCBza2lwTmV4dE9ic2VydmVycyA9IGZhbHNlLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpIHtcbiAgICB0aGlzLmluaXRhbGl6ZShtYXNrLCBza2lwTmV4dE9ic2VydmVycywgdGFyZ2V0LCBjdXJyZW50VGFyZ2V0KVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgdGhlIGN1cnJlbnQgZXZlbnQgc3RhdGVcbiAgICogQHBhcmFtIG1hc2sgLSBkZWZpbmVzIHRoZSBtYXNrIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHN0YXRlXG4gICAqIEBwYXJhbSBza2lwTmV4dE9ic2VydmVycyAtIGRlZmluZXMgYSBmbGFnIHdoaWNoIHdpbGwgaW5zdHJ1Y3QgdGhlIG9ic2VydmFibGUgdG8gc2tpcCBmb2xsb3dpbmcgb2JzZXJ2ZXJzIHdoZW4gc2V0IHRvIHRydWVcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIG9yaWdpbmFsIHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHBhcmFtIGN1cnJlbnRUYXJnZXQgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHRhcmdldCBvZiB0aGUgc3RhdGVcbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgZXZlbnQgc3RhdGVcbiAgICovXG4gIHB1YmxpYyBpbml0YWxpemUobWFzazogbnVtYmVyLCBza2lwTmV4dE9ic2VydmVycyA9IGZhbHNlLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpOiBPYnNlcnZlckV2ZW50U3RhdGUge1xuICAgIHRoaXMubWFzayA9IG1hc2tcbiAgICB0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzID0gc2tpcE5leHRPYnNlcnZlcnNcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIHRoaXMuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRcbiAgICByZXR1cm4gdGhpc1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGFuIE9ic2VydmVyIHJlZ2lzdGVyZWQgdG8gYSBnaXZlbiBPYnNlcnZhYmxlIG9iamVjdC5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWRcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmVyPFQ+IHtcbiAgLyoqXG4gICAqIEdldHMgb3Igc2V0cyBhIHByb3BlcnR5IGRlZmluaW5nIHRoYXQgdGhlIG9ic2VydmVyIGFzIHRvIGJlIHVucmVnaXN0ZXJlZCBhZnRlciB0aGUgbmV4dCBub3RpZmljYXRpb25cbiAgICovXG4gIHB1YmxpYyB1bnJlZ2lzdGVyT25OZXh0Q2FsbCA9IGZhbHNlXG5cbiAgLyoqIEZvciBpbnRlcm5hbCB1c2FnZSAqL1xuICBwdWJsaWMgX3dpbGxCZVVucmVnaXN0ZXJlZCA9IGZhbHNlXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgb2JzZXJ2ZXJcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gZGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZlciBpcyBub3RpZmllZFxuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgb2YgdGhlIG9ic2VydmVyICh1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zKVxuICAgKiBAcGFyYW0gc2NvcGUgLSBkZWZpbmVzIHRoZSBjdXJyZW50IHNjb3BlIHVzZWQgdG8gcmVzdG9yZSB0aGUgSlMgY29udGV4dFxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZlciBpcyBub3RpZmllZFxuICAgICAqL1xuICAgIHB1YmxpYyBjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLFxuICAgIC8qKlxuICAgICAqIERlZmluZXMgdGhlIG1hc2sgb2YgdGhlIG9ic2VydmVyICh1c2VkIHRvIGZpbHRlciBub3RpZmljYXRpb25zKVxuICAgICAqL1xuICAgIHB1YmxpYyBtYXNrOiBudW1iZXIsXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyB0aGUgY3VycmVudCBzY29wZSB1c2VkIHRvIHJlc3RvcmUgdGhlIEpTIGNvbnRleHRcbiAgICAgKi9cbiAgICBwdWJsaWMgc2NvcGU6IGFueSA9IG51bGxcbiAgKSB7fVxufVxuXG4vKipcbiAqIFRoZSBPYnNlcnZhYmxlIGNsYXNzIGlzIGEgc2ltcGxlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBPYnNlcnZhYmxlIHBhdHRlcm4uXG4gKlxuICogVGhlcmUncyBvbmUgc2xpZ2h0IHBhcnRpY3VsYXJpdHkgdGhvdWdoOiBhIGdpdmVuIE9ic2VydmFibGUgY2FuIG5vdGlmeSBpdHMgb2JzZXJ2ZXIgdXNpbmcgYSBwYXJ0aWN1bGFyIG1hc2sgdmFsdWUsIG9ubHkgdGhlIE9ic2VydmVycyByZWdpc3RlcmVkIHdpdGggdGhpcyBtYXNrIHZhbHVlIHdpbGwgYmUgbm90aWZpZWQuXG4gKiBUaGlzIGVuYWJsZSBhIG1vcmUgZmluZSBncmFpbmVkIGV4ZWN1dGlvbiB3aXRob3V0IGhhdmluZyB0byByZWx5IG9uIG11bHRpcGxlIGRpZmZlcmVudCBPYnNlcnZhYmxlIG9iamVjdHMuXG4gKiBGb3IgaW5zdGFuY2UgeW91IG1heSBoYXZlIGEgZ2l2ZW4gT2JzZXJ2YWJsZSB0aGF0IGhhdmUgZm91ciBkaWZmZXJlbnQgdHlwZXMgb2Ygbm90aWZpY2F0aW9uczogTW92ZSAobWFzayA9IDB4MDEpLCBTdG9wIChtYXNrID0gMHgwMiksIFR1cm4gUmlnaHQgKG1hc2sgPSAwWDA0KSwgVHVybiBMZWZ0IChtYXNrID0gMFgwOCkuXG4gKiBBIGdpdmVuIG9ic2VydmVyIGNhbiByZWdpc3RlciBpdHNlbGYgd2l0aCBvbmx5IE1vdmUgYW5kIFN0b3AgKG1hc2sgPSAweDAzKSwgdGhlbiBpdCB3aWxsIG9ubHkgYmUgbm90aWZpZWQgd2hlbiBvbmUgb2YgdGhlc2UgdHdvIG9jY3VycyBhbmQgd2lsbCBuZXZlciBiZSBmb3IgVHVybiBMZWZ0L1JpZ2h0LlxuICpcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWRcbiAqL1xuZXhwb3J0IGNsYXNzIE9ic2VydmFibGU8VD4ge1xuICBwcml2YXRlIF9vYnNlcnZlcnMgPSBuZXcgQXJyYXk8T2JzZXJ2ZXI8VD4+KClcblxuICBwcml2YXRlIF9ldmVudFN0YXRlOiBPYnNlcnZlckV2ZW50U3RhdGVcblxuICBwcml2YXRlIF9vbk9ic2VydmVyQWRkZWQ6IG51bGwgfCAoKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZCkgPSBudWxsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgb2JzZXJ2YWJsZVxuICAgKiBAcGFyYW0gb25PYnNlcnZlckFkZGVkIC0gZGVmaW5lcyBhIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiBhIG5ldyBvYnNlcnZlciBpcyBhZGRlZFxuICAgKi9cbiAgY29uc3RydWN0b3Iob25PYnNlcnZlckFkZGVkPzogKG9ic2VydmVyOiBPYnNlcnZlcjxUPikgPT4gdm9pZCkge1xuICAgIHRoaXMuX2V2ZW50U3RhdGUgPSBuZXcgT2JzZXJ2ZXJFdmVudFN0YXRlKDApXG5cbiAgICBpZiAob25PYnNlcnZlckFkZGVkKSB7XG4gICAgICB0aGlzLl9vbk9ic2VydmVyQWRkZWQgPSBvbk9ic2VydmVyQWRkZWRcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IE9ic2VydmVyIHdpdGggdGhlIHNwZWNpZmllZCBjYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciB0aGF0IE9ic2VydmVyXG4gICAqIEBwYXJhbSBtYXNrIC0gdGhlIG1hc2sgdXNlZCB0byBmaWx0ZXIgb2JzZXJ2ZXJzXG4gICAqIEBwYXJhbSBpbnNlcnRGaXJzdCAtIGlmIHRydWUgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW5zZXJ0ZWQgYXQgdGhlIGZpcnN0IHBvc2l0aW9uLCBoZW5jZSBleGVjdXRlZCBiZWZvcmUgdGhlIG90aGVycyBvbmVzLiBJZiBmYWxzZSAoZGVmYXVsdCBiZWhhdmlvcikgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW5zZXJ0ZWQgYXQgdGhlIGxhc3QgcG9zaXRpb24sIGV4ZWN1dGVkIGFmdGVyIGFsbCB0aGUgb3RoZXJzIGFscmVhZHkgcHJlc2VudC5cbiAgICogQHBhcmFtIHNjb3BlIC0gb3B0aW9uYWwgc2NvcGUgZm9yIHRoZSBjYWxsYmFjayB0byBiZSBjYWxsZWQgZnJvbVxuICAgKiBAcGFyYW0gdW5yZWdpc3Rlck9uRmlyc3RDYWxsIC0gZGVmaW5lcyBpZiB0aGUgb2JzZXJ2ZXIgYXMgdG8gYmUgdW5yZWdpc3RlcmVkIGFmdGVyIHRoZSBuZXh0IG5vdGlmaWNhdGlvblxuICAgKiBAcmV0dXJucyB0aGUgbmV3IG9ic2VydmVyIGNyZWF0ZWQgZm9yIHRoZSBjYWxsYmFja1xuICAgKi9cbiAgcHVibGljIGFkZChcbiAgICBjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLFxuICAgIG1hc2s6IG51bWJlciA9IC0xLFxuICAgIGluc2VydEZpcnN0ID0gZmFsc2UsXG4gICAgc2NvcGU6IGFueSA9IG51bGwsXG4gICAgdW5yZWdpc3Rlck9uRmlyc3RDYWxsID0gZmFsc2VcbiAgKTogbnVsbCB8IE9ic2VydmVyPFQ+IHtcbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyKGNhbGxiYWNrLCBtYXNrLCBzY29wZSlcbiAgICBvYnNlcnZlci51bnJlZ2lzdGVyT25OZXh0Q2FsbCA9IHVucmVnaXN0ZXJPbkZpcnN0Q2FsbFxuXG4gICAgaWYgKGluc2VydEZpcnN0KSB7XG4gICAgICB0aGlzLl9vYnNlcnZlcnMudW5zaGlmdChvYnNlcnZlcilcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX29uT2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgdGhpcy5fb25PYnNlcnZlckFkZGVkKG9ic2VydmVyKVxuICAgIH1cblxuICAgIHJldHVybiBvYnNlcnZlclxuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBPYnNlcnZlciB3aXRoIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgYW5kIHVucmVnaXN0ZXJzIGFmdGVyIHRoZSBuZXh0IG5vdGlmaWNhdGlvblxuICAgKiBAcGFyYW0gY2FsbGJhY2sgLSB0aGUgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciB0aGF0IE9ic2VydmVyXG4gICAqIEByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgY3JlYXRlZCBmb3IgdGhlIGNhbGxiYWNrXG4gICAqL1xuICBwdWJsaWMgYWRkT25jZShjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkKTogbnVsbCB8IE9ic2VydmVyPFQ+IHtcbiAgICByZXR1cm4gdGhpcy5hZGQoY2FsbGJhY2ssIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIE9ic2VydmVyIGZyb20gdGhlIE9ic2VydmFibGUgb2JqZWN0XG4gICAqIEBwYXJhbSBvYnNlcnZlciAtIHRoZSBpbnN0YW5jZSBvZiB0aGUgT2JzZXJ2ZXIgdG8gcmVtb3ZlXG4gICAqIEByZXR1cm5zIGZhbHNlIGlmIGl0IGRvZXNuJ3QgYmVsb25nIHRvIHRoaXMgT2JzZXJ2YWJsZVxuICAgKi9cbiAgcHVibGljIHJlbW92ZShvYnNlcnZlcjogbnVsbCB8IE9ic2VydmVyPFQ+KTogYm9vbGVhbiB7XG4gICAgaWYgKCFvYnNlcnZlcikge1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcilcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnNlcnZlcilcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgT2JzZXJ2YWJsZSBvYmplY3RcbiAgICogQHBhcmFtIGNhbGxiYWNrIC0gdGhlIGNhbGxiYWNrIHRvIHJlbW92ZVxuICAgKiBAcGFyYW0gc2NvcGUgLSBvcHRpb25hbCBzY29wZS4gSWYgdXNlZCBvbmx5IHRoZSBjYWxsYmFja3Mgd2l0aCB0aGlzIHNjb3BlIHdpbGwgYmUgcmVtb3ZlZFxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiBpdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIE9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyByZW1vdmVDYWxsYmFjayhjYWxsYmFjazogKGV2ZW50RGF0YTogVCwgZXZlbnRTdGF0ZTogT2JzZXJ2ZXJFdmVudFN0YXRlKSA9PiB2b2lkLCBzY29wZT86IGFueSk6IGJvb2xlYW4ge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICBpZiAodGhpcy5fb2JzZXJ2ZXJzW2luZGV4XS5jYWxsYmFjayA9PT0gY2FsbGJhY2sgJiYgKCFzY29wZSB8fCBzY29wZSA9PT0gdGhpcy5fb2JzZXJ2ZXJzW2luZGV4XS5zY29wZSkpIHtcbiAgICAgICAgdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKHRoaXMuX29ic2VydmVyc1tpbmRleF0pXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IGFsbCBPYnNlcnZlcnMgYnkgY2FsbGluZyB0aGVpciByZXNwZWN0aXZlIGNhbGxiYWNrIHdpdGggdGhlIGdpdmVuIGRhdGFcbiAgICogV2lsbCByZXR1cm4gdHJ1ZSBpZiBhbGwgb2JzZXJ2ZXJzIHdlcmUgZXhlY3V0ZWQsIGZhbHNlIGlmIGFuIG9ic2VydmVyIHNldCBza2lwTmV4dE9ic2VydmVycyB0byB0cnVlLCB0aGVuIHByZXZlbnQgdGhlIHN1YnNlcXVlbnQgb25lcyB0byBleGVjdXRlXG4gICAqIEBwYXJhbSBldmVudERhdGEgLSBkZWZpbmVzIHRoZSBkYXRhIHRvIHNlbmQgdG8gYWxsIG9ic2VydmVyc1xuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgb2YgdGhlIGN1cnJlbnQgbm90aWZpY2F0aW9uIChvYnNlcnZlcnMgd2l0aCBpbmNvbXBhdGlibGUgbWFzayAoaWUgbWFzayAmIG9ic2VydmVyLm1hc2sgPT09IDApIHdpbGwgbm90IGJlIG5vdGlmaWVkKVxuICAgKiBAcGFyYW0gdGFyZ2V0IC0gZGVmaW5lcyB0aGUgb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcGFyYW0gY3VycmVudFRhcmdldCAtIGRlZmluZXMgdGhlIGN1cnJlbnQgdGFyZ2V0IG9mIHRoZSBzdGF0ZVxuICAgKiBAcmV0dXJucyBmYWxzZSBpZiB0aGUgY29tcGxldGUgb2JzZXJ2ZXIgY2hhaW4gd2FzIG5vdCBwcm9jZXNzZWQgKGJlY2F1c2Ugb25lIG9ic2VydmVyIHNldCB0aGUgc2tpcE5leHRPYnNlcnZlcnMgdG8gdHJ1ZSlcbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcnMoZXZlbnREYXRhOiBULCBtYXNrOiBudW1iZXIgPSAtMSwgdGFyZ2V0PzogYW55LCBjdXJyZW50VGFyZ2V0PzogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fZXZlbnRTdGF0ZVxuICAgIHN0YXRlLm1hc2sgPSBtYXNrXG4gICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0XG4gICAgc3RhdGUuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXRcbiAgICBzdGF0ZS5za2lwTmV4dE9ic2VydmVycyA9IGZhbHNlXG4gICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gZXZlbnREYXRhXG5cbiAgICBmb3IgKGNvbnN0IG9icyBvZiB0aGlzLl9vYnNlcnZlcnMpIHtcbiAgICAgIGlmIChvYnMuX3dpbGxCZVVucmVnaXN0ZXJlZCkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob2JzLm1hc2sgJiBtYXNrKSB7XG4gICAgICAgIGlmIChvYnMuc2NvcGUpIHtcbiAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBvYnMuY2FsbGJhY2suYXBwbHkob2JzLnNjb3BlLCBbZXZlbnREYXRhLCBzdGF0ZV0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RhdGUubGFzdFJldHVyblZhbHVlID0gb2JzLmNhbGxiYWNrKGV2ZW50RGF0YSwgc3RhdGUpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAob2JzLnVucmVnaXN0ZXJPbk5leHRDYWxsKSB7XG4gICAgICAgICAgdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKG9icylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLnNraXBOZXh0T2JzZXJ2ZXJzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIENhbGxpbmcgdGhpcyB3aWxsIGV4ZWN1dGUgZWFjaCBjYWxsYmFjaywgZXhwZWN0aW5nIGl0IHRvIGJlIGEgcHJvbWlzZSBvciByZXR1cm4gYSB2YWx1ZS5cbiAgICogSWYgYXQgYW55IHBvaW50IGluIHRoZSBjaGFpbiBvbmUgZnVuY3Rpb24gZmFpbHMsIHRoZSBwcm9taXNlIHdpbGwgZmFpbCBhbmQgdGhlIGV4ZWN1dGlvbiB3aWxsIG5vdCBjb250aW51ZS5cbiAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiBhIGNoYWluIG9mIGV2ZW50cyAoc29tZXRpbWVzIGFzeW5jIGV2ZW50cykgaXMgbmVlZGVkIHRvIGluaXRpYWxpemUgYSBjZXJ0YWluIG9iamVjdFxuICAgKiBhbmQgaXQgaXMgY3J1Y2lhbCB0aGF0IGFsbCBjYWxsYmFja3Mgd2lsbCBiZSBleGVjdXRlZC5cbiAgICogVGhlIG9yZGVyIG9mIHRoZSBjYWxsYmFja3MgaXMga2VwdCwgY2FsbGJhY2tzIGFyZSBub3QgZXhlY3V0ZWQgcGFyYWxsZWwuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudERhdGEgLSBUaGUgZGF0YSB0byBiZSBzZW50IHRvIGVhY2ggY2FsbGJhY2tcbiAgICogQHBhcmFtIG1hc2sgLSBpcyB1c2VkIHRvIGZpbHRlciBvYnNlcnZlcnMgZGVmYXVsdHMgdG8gLTFcbiAgICogQHBhcmFtIHRhcmdldCAtIGRlZmluZXMgdGhlIGNhbGxiYWNrIHRhcmdldCAoc2VlIEV2ZW50U3RhdGUpXG4gICAqIEBwYXJhbSBjdXJyZW50VGFyZ2V0IC0gZGVmaW5lcyBoZSBjdXJyZW50IG9iamVjdCBpbiB0aGUgYnViYmxpbmcgcGhhc2VcbiAgICogQHJldHVybnMgd2lsbCByZXR1cm4gYSBQcm9taXNlIHRoYW4gcmVzb2x2ZXMgd2hlbiBhbGwgY2FsbGJhY2tzIGV4ZWN1dGVkIHN1Y2Nlc3NmdWxseS5cbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcnNXaXRoUHJvbWlzZShldmVudERhdGE6IFQsIG1hc2s6IG51bWJlciA9IC0xLCB0YXJnZXQ/OiBhbnksIGN1cnJlbnRUYXJnZXQ/OiBhbnkpOiBQcm9taXNlPFQ+IHtcbiAgICAvLyBjcmVhdGUgYW4gZW1wdHkgcHJvbWlzZVxuICAgIGxldCBwOiBQcm9taXNlPGFueT4gPSBQcm9taXNlLnJlc29sdmUoZXZlbnREYXRhKVxuXG4gICAgLy8gbm8gb2JzZXJ2ZXJzPyByZXR1cm4gdGhpcyBwcm9taXNlLlxuICAgIGlmICghdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHBcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnRhcmdldCA9IHRhcmdldFxuICAgIHN0YXRlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0XG4gICAgc3RhdGUuc2tpcE5leHRPYnNlcnZlcnMgPSBmYWxzZVxuXG4gICAgLy8gZXhlY3V0ZSBvbmUgY2FsbGJhY2sgYWZ0ZXIgYW5vdGhlciAobm90IHVzaW5nIFByb21pc2UuYWxsLCB0aGUgb3JkZXIgaXMgaW1wb3J0YW50KVxuICAgIHRoaXMuX29ic2VydmVycy5mb3JFYWNoKChvYnMpID0+IHtcbiAgICAgIGlmIChzdGF0ZS5za2lwTmV4dE9ic2VydmVycykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChvYnMuX3dpbGxCZVVucmVnaXN0ZXJlZCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmIChvYnMubWFzayAmIG1hc2spIHtcbiAgICAgICAgaWYgKG9icy5zY29wZSkge1xuICAgICAgICAgIHAgPSBwLnRoZW4oKGxhc3RSZXR1cm5lZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBsYXN0UmV0dXJuZWRWYWx1ZVxuICAgICAgICAgICAgcmV0dXJuIG9icy5jYWxsYmFjay5hcHBseShvYnMuc2NvcGUsIFtldmVudERhdGEsIHN0YXRlXSlcbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHAgPSBwLnRoZW4oKGxhc3RSZXR1cm5lZFZhbHVlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmV0dXJuVmFsdWUgPSBsYXN0UmV0dXJuZWRWYWx1ZVxuICAgICAgICAgICAgcmV0dXJuIG9icy5jYWxsYmFjayhldmVudERhdGEsIHN0YXRlKVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9icy51bnJlZ2lzdGVyT25OZXh0Q2FsbCkge1xuICAgICAgICAgIHRoaXMuX2RlZmVyVW5yZWdpc3RlcihvYnMpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gcmV0dXJuIHRoZSBldmVudERhdGFcbiAgICByZXR1cm4gcC50aGVuKCgpID0+IHtcbiAgICAgIHJldHVybiBldmVudERhdGFcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIE5vdGlmeSBhIHNwZWNpZmljIG9ic2VydmVyXG4gICAqIEBwYXJhbSBvYnNlcnZlciAtIGRlZmluZXMgdGhlIG9ic2VydmVyIHRvIG5vdGlmeVxuICAgKiBAcGFyYW0gZXZlbnREYXRhIC0gZGVmaW5lcyB0aGUgZGF0YSB0byBiZSBzZW50IHRvIGVhY2ggY2FsbGJhY2tcbiAgICogQHBhcmFtIG1hc2sgLSBpcyB1c2VkIHRvIGZpbHRlciBvYnNlcnZlcnMgZGVmYXVsdHMgdG8gLTFcbiAgICovXG4gIHB1YmxpYyBub3RpZnlPYnNlcnZlcihvYnNlcnZlcjogT2JzZXJ2ZXI8VD4sIGV2ZW50RGF0YTogVCwgbWFzazogbnVtYmVyID0gLTEpOiB2b2lkIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX2V2ZW50U3RhdGVcbiAgICBzdGF0ZS5tYXNrID0gbWFza1xuICAgIHN0YXRlLnNraXBOZXh0T2JzZXJ2ZXJzID0gZmFsc2VcblxuICAgIG9ic2VydmVyLmNhbGxiYWNrKGV2ZW50RGF0YSwgc3RhdGUpXG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGUgb2JzZXJ2YWJsZSBoYXMgYXQgbGVhc3Qgb25lIG9ic2VydmVyXG4gICAqIEByZXR1cm5zIHRydWUgaXMgdGhlIE9ic2VydmFibGUgaGFzIGF0IGxlYXN0IG9uZSBPYnNlcnZlciByZWdpc3RlcmVkXG4gICAqL1xuICBwdWJsaWMgaGFzT2JzZXJ2ZXJzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9vYnNlcnZlcnMubGVuZ3RoID4gMFxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIHRoZSBsaXN0IG9mIG9ic2VydmVyc1xuICAgKi9cbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuX29ic2VydmVycyA9IG5ldyBBcnJheTxPYnNlcnZlcjxUPj4oKVxuICAgIHRoaXMuX29uT2JzZXJ2ZXJBZGRlZCA9IG51bGxcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY3VycmVudCBvYnNlcnZhYmxlXG4gICAqIEByZXR1cm5zIGEgbmV3IG9ic2VydmFibGVcbiAgICovXG4gIHB1YmxpYyBjbG9uZSgpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgT2JzZXJ2YWJsZTxUPigpXG5cbiAgICByZXN1bHQuX29ic2VydmVycyA9IHRoaXMuX29ic2VydmVycy5zbGljZSgwKVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLyoqXG4gICAqIERvZXMgdGhpcyBvYnNlcnZhYmxlIGhhbmRsZXMgb2JzZXJ2ZXIgcmVnaXN0ZXJlZCB3aXRoIGEgZ2l2ZW4gbWFza1xuICAgKiBAcGFyYW0gbWFzayAtIGRlZmluZXMgdGhlIG1hc2sgdG8gYmUgdGVzdGVkXG4gICAqIEByZXR1cm5zIHdoZXRoZXIgb3Igbm90IG9uZSBvYnNlcnZlciByZWdpc3RlcmVkIHdpdGggdGhlIGdpdmVuIG1hc2sgaXMgaGFuZGVsZWRcbiAgICovXG4gIHB1YmxpYyBoYXNTcGVjaWZpY01hc2sobWFzazogbnVtYmVyID0gLTEpOiBib29sZWFuIHtcbiAgICBmb3IgKGNvbnN0IG9icyBvZiB0aGlzLl9vYnNlcnZlcnMpIHtcbiAgICAgIGlmIChvYnMubWFzayAmIG1hc2sgfHwgb2JzLm1hc2sgPT09IG1hc2spIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBwcml2YXRlIF9kZWZlclVucmVnaXN0ZXIob2JzZXJ2ZXI6IE9ic2VydmVyPFQ+KTogdm9pZCB7XG4gICAgb2JzZXJ2ZXIudW5yZWdpc3Rlck9uTmV4dENhbGwgPSBmYWxzZVxuICAgIG9ic2VydmVyLl93aWxsQmVVbnJlZ2lzdGVyZWQgPSB0cnVlXG4gICAgUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpKGFzeW5jICgpID0+IHRoaXMuX3JlbW92ZShvYnNlcnZlcikpXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgfVxuXG4gIC8vIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIHdoZW4gbm90IGl0ZXJhdGluZyBvdmVyIF9vYnNlcnZlcnMgdG8gYXZvaWQgY2FsbGJhY2sgc2tpcHBpbmcuXG4gIC8vIFJlbW92ZXMgYW4gb2JzZXJ2ZXIgZnJvbSB0aGUgX29ic2VydmVyIEFycmF5LlxuICBwcml2YXRlIF9yZW1vdmUob2JzZXJ2ZXI6IG51bGwgfCBPYnNlcnZlcjxUPik6IGJvb2xlYW4ge1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpXG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuIiwgImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL09ic2VydmFibGUnXG5pbXBvcnQge1xuICBBdmF0YXJCYXNlLFxuICBBdmF0YXJFbW90ZUNvbW1hbmQsXG4gIEF2YXRhckVxdWlwcGVkRGF0YSxcbiAgRW50aXR5LFxuICBQbGF5ZXJJZGVudGl0eURhdGEsXG4gIFBvaW50ZXJFdmVudHNSZXN1bHQsXG4gIFJlYWxtSW5mbyxcbiAgVmVjdG9yM1R5cGUsXG4gIGVuZ2luZVxufSBmcm9tICdAZGNsL2VjcydcbmltcG9ydCB7IE1hbnlFbnRpdHlBY3Rpb24sIFNlbmRCYXRjaFJlc3BvbnNlLCBzdWJzY3JpYmUgfSBmcm9tICd+c3lzdGVtL0VuZ2luZUFwaSdcbmltcG9ydCBwbGF5ZXJzIGZyb20gJy4vcGxheWVycydcblxuLy8vIC0tLSBFVkVOVFMgLS0tXG5cbi8qKiBAcHVibGljICovXG5leHBvcnQgdHlwZSBJRXZlbnROYW1lcyA9IGtleW9mIElFdmVudHNcblxuLyoqXG4gKiBAcHVibGljXG4gKiBOb3RlOiBEb24ndCB1c2UgYG9uYCBwcmVmaXggZm9yIElFdmVudHMgdG8gYXZvaWQgcmVkdW5kYW5jeSB3aXRoIGBldmVudC5vbihcIm9uRXZlbnROYW1lXCIpYCBzeW50YXguXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50cyB7XG4gIHBsYXllckV4cHJlc3Npb246IHtcbiAgICBleHByZXNzaW9uSWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBlbnRlcnMgdGhlIHNjZW5lXG4gICAqL1xuICBvbkVudGVyU2NlbmU6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgd2hlbiB0aGUgdXNlciBsZWF2ZXMgdGhlIHNjZW5lXG4gICAqL1xuICBvbkxlYXZlU2NlbmU6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZXZlbnQgZ2V0cyB0cmlnZ2VyZWQgYWZ0ZXIgcmVjZWl2aW5nIGEgY29tbXMgbWVzc2FnZS5cbiAgICovXG4gIGNvbW1zOiB7XG4gICAgc2VuZGVyOiBzdHJpbmdcbiAgICBtZXNzYWdlOiBzdHJpbmdcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRyaWdnZXJlZCBvbmNlIHRoZSBzY2VuZSBzaG91bGQgc3RhcnQuXG4gICAqL1xuICBzY2VuZVN0YXJ0OiB1bmtub3duXG5cbiAgLyoqIFRoaXMgaXMgdHJpZ2dlcmVkIGF0IGxlYXN0IGZvciBlYWNoIHZpZGVvU3RhdHVzIGNoYW5nZSAqL1xuICB2aWRlb0V2ZW50OiB7XG4gICAgY29tcG9uZW50SWQ6IHN0cmluZ1xuICAgIHZpZGVvQ2xpcElkOiBzdHJpbmdcbiAgICAvKiogU3RhdHVzLCBjYW4gYmUgTk9ORSA9IDAsIEVSUk9SID0gMSwgTE9BRElORyA9IDIsIFJFQURZID0gMywgUExBWUlORyA9IDQsQlVGRkVSSU5HID0gNSAqL1xuICAgIHZpZGVvU3RhdHVzOiBudW1iZXJcbiAgICAvKiogQ3VycmVudCBvZmZzZXQgcG9zaXRpb24gaW4gc2Vjb25kcyAqL1xuICAgIGN1cnJlbnRPZmZzZXQ6IG51bWJlclxuICAgIC8qKiBWaWRlbyBsZW5ndGggaW4gc2Vjb25kcy4gQ2FuIGJlIC0xICovXG4gICAgdG90YWxWaWRlb0xlbmd0aDogbnVtYmVyXG4gIH1cblxuICAvKiogVGhpcyBpcyB0cmlnZ2VyIGV2ZXJ5dGltZSBhIHByb2ZpbGUgaXMgY2hhbmdlZCAqL1xuICBwcm9maWxlQ2hhbmdlZDoge1xuICAgIGV0aEFkZHJlc3M6IHN0cmluZ1xuICAgIHZlcnNpb246IG51bWJlclxuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIHBlZXIncyBhdmF0YXIgaXMgY29ubmVjdGVkIGFuZCB2aXNpYmxlICovXG4gIHBsYXllckNvbm5lY3RlZDoge1xuICAgIHVzZXJJZDogc3RyaW5nXG4gIH1cblxuICAvKiogVHJpZ2dlcmVkIHdoZW4gcGVlciBkaXNjb25uZWN0IGFuZC9vciBpdCBhdmF0YXIgaXMgc2V0IGludmlzaWJsZSBieSBjb21tcyAqL1xuICBwbGF5ZXJEaXNjb25uZWN0ZWQ6IHtcbiAgICB1c2VySWQ6IHN0cmluZ1xuICB9XG5cbiAgLyoqIFRyaWdnZXJlZCB3aGVuIGN1cnJlbnQgcmVhbG0gb3IgaXNsYW5kIGNoYW5nZXMgKi9cbiAgb25SZWFsbUNoYW5nZWQ6IHtcbiAgICBkb21haW46IHN0cmluZ1xuICAgIHJvb206IHN0cmluZ1xuICAgIHNlcnZlck5hbWU6IHN0cmluZ1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcbiAgfVxuXG4gIC8qKiBUcmlnZ2VyZWQgd2hlbiBvdGhlciBwbGF5ZXIncyBhdmF0YXIgaXMgY2xpY2tlZCAqL1xuICBwbGF5ZXJDbGlja2VkOiB7XG4gICAgdXNlcklkOiBzdHJpbmdcbiAgICByYXk6IHtcbiAgICAgIG9yaWdpbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpcmVjdGlvbjogVmVjdG9yM1R5cGVcbiAgICAgIGRpc3RhbmNlOiBudW1iZXJcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFRoaXMgZnVuY3Rpb24gZ2VuZXJhdGVzIGEgY2FsbGJhY2sgdGhhdCBpcyBwYXNzZWQgdG8gdGhlIE9ic2VydmFibGVcbiAqIGNvbnN0cnVjdG9yIHRvIHN1YnNjcmliZSB0byB0aGUgZXZlbnRzIG9mIHRoZSBEZWNlbnRyYWxhbmRJbnRlcmZhY2VcbiAqL1xuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlcihldmVudE5hbWU6IGtleW9mIElFdmVudHMpIHtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoZXZlbnROYW1lID09PSAnY29tbXMnKSB7XG4gICAgICBzdWJzY3JpYmUoeyBldmVudElkOiBldmVudE5hbWUgfSkuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICB9IGVsc2Uge1xuICAgICAgU0RLN0NvbXBvbmVudHNPYnNlcnZhYmxlPy5zdWJzY3JpYmUoZXZlbnROYW1lKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRoZXNlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIGFmdGVyIHlvdXIgY2hhcmFjdGVyIGVudGVycyB0aGUgc2NlbmUuXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25FbnRlclNjZW5lT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ29uRW50ZXJTY2VuZSddPihjcmVhdGVTdWJzY3JpYmVyKCdvbkVudGVyU2NlbmUnKSlcbi8qKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC4gVXNlIG9uRW50ZXJTY2VuZU9ic2VydmFibGUgaW5zdGVhZC4gKi9cbmV4cG9ydCBjb25zdCBvbkVudGVyU2NlbmUgPSBvbkVudGVyU2NlbmVPYnNlcnZhYmxlXG5cbi8qKlxuICogVGhlc2UgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgYWZ0ZXIgeW91ciBjaGFyYWN0ZXIgbGVhdmVzIHRoZSBzY2VuZS5cbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1snb25MZWF2ZVNjZW5lJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ29uTGVhdmVTY2VuZScpKVxuXG4vKiogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuIFVzZSBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlIGluc3RlYWQuICovXG5leHBvcnQgY29uc3Qgb25MZWF2ZVNjZW5lID0gb25MZWF2ZVNjZW5lT2JzZXJ2YWJsZVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIGFmdGVyIGFsbCB0aGUgcmVzb3VyY2VzIG9mIHRoZSBzY2VuZSB3ZXJlIGxvYWRlZCAobW9kZWxzLCB0ZXh0dXJlcywgZXRjLi4uKVxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uU2NlbmVSZWFkeU9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydzY2VuZVN0YXJ0J10+KGNyZWF0ZVN1YnNjcmliZXIoJ3NjZW5lU3RhcnQnKSlcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJFeHByZXNzaW9uT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3BsYXllckV4cHJlc3Npb24nXT4oXG4gIGNyZWF0ZVN1YnNjcmliZXIoJ3BsYXllckV4cHJlc3Npb24nKVxuKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblZpZGVvRXZlbnQgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWyd2aWRlb0V2ZW50J10+KGNyZWF0ZVN1YnNjcmliZXIoJ3ZpZGVvRXZlbnQnKSlcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25Qcm9maWxlQ2hhbmdlZCA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3Byb2ZpbGVDaGFuZ2VkJ10+KGNyZWF0ZVN1YnNjcmliZXIoJ3Byb2ZpbGVDaGFuZ2VkJykpXG5cbi8qKlxuICogQHB1YmxpY1xuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiBpcyBhbiBpbmhlcml0YW5jZSBvZiBFQ1M2LCBpdCdzIGhlcmUgdGVtcG9yYXJ5IGZvciB0aGUgZmVhdHVyZSBwYXJpdHksIHBsZWFzZSByZWFkIHRoZSBuZXdzIGFuZCBkb2NzIHRvIGtub3cgaG93IGhhbmRsZSB3aGVuIGl0J3MgcmVtb3ZlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IG9uUGxheWVyQ29ubmVjdGVkT2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlPElFdmVudHNbJ3BsYXllckNvbm5lY3RlZCddPihcbiAgY3JlYXRlU3Vic2NyaWJlcigncGxheWVyQ29ubmVjdGVkJylcbilcblxuLyoqXG4gKiBAcHVibGljXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25QbGF5ZXJEaXNjb25uZWN0ZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyRGlzY29ubmVjdGVkJ10+KFxuICBjcmVhdGVTdWJzY3JpYmVyKCdwbGF5ZXJEaXNjb25uZWN0ZWQnKVxuKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblJlYWxtQ2hhbmdlZE9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydvblJlYWxtQ2hhbmdlZCddPihjcmVhdGVTdWJzY3JpYmVyKCdvblJlYWxtQ2hhbmdlZCcpKVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gaXMgYW4gaW5oZXJpdGFuY2Ugb2YgRUNTNiwgaXQncyBoZXJlIHRlbXBvcmFyeSBmb3IgdGhlIGZlYXR1cmUgcGFyaXR5LCBwbGVhc2UgcmVhZCB0aGUgbmV3cyBhbmQgZG9jcyB0byBrbm93IGhvdyBoYW5kbGUgd2hlbiBpdCdzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBvblBsYXllckNsaWNrZWRPYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGU8SUV2ZW50c1sncGxheWVyQ2xpY2tlZCddPihjcmVhdGVTdWJzY3JpYmVyKCdwbGF5ZXJDbGlja2VkJykpXG5cbi8qKlxuICogQGludGVybmFsXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGFuIGluaGVyaXRhbmNlIG9mIEVDUzYsIGl0J3MgaGVyZSB0ZW1wb3JhcnkgZm9yIHRoZSBmZWF0dXJlIHBhcml0eSwgcGxlYXNlIHJlYWQgdGhlIG5ld3MgYW5kIGRvY3MgdG8ga25vdyBob3cgaGFuZGxlIHdoZW4gaXQncyByZW1vdmVkLlxuICovXG5leHBvcnQgY29uc3Qgb25Db21tc01lc3NhZ2UgPSBuZXcgT2JzZXJ2YWJsZTxJRXZlbnRzWydjb21tcyddPihjcmVhdGVTdWJzY3JpYmVyKCdjb21tcycpKVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICogQGRlcHJlY2F0ZWQgdGhpcyBpcyBhbiBPTEQgQVBJLlxuICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBTREs2IHNlbmRCYXRjaCB0byBwb2xsIGV2ZW50cyBmcm9tIHRoZSByZW5kZXJlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9sbEV2ZW50cyhzZW5kQmF0Y2g6IChib2R5OiBNYW55RW50aXR5QWN0aW9uKSA9PiBQcm9taXNlPFNlbmRCYXRjaFJlc3BvbnNlPikge1xuICBjb25zdCB7IGV2ZW50cyB9ID0gYXdhaXQgc2VuZEJhdGNoKHsgYWN0aW9uczogW10gfSlcbiAgZm9yIChjb25zdCBlIG9mIGV2ZW50cykge1xuICAgIGlmIChlLmdlbmVyaWMpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGUuZ2VuZXJpYy5ldmVudERhdGEpXG4gICAgICBzd2l0Y2ggKGUuZ2VuZXJpYy5ldmVudElkKSB7XG4gICAgICAgIGNhc2UgJ2NvbW1zJzoge1xuICAgICAgICAgIG9uQ29tbXNNZXNzYWdlLm5vdGlmeU9ic2VydmVycyhkYXRhIGFzIElFdmVudHNbJ2NvbW1zJ10pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBTREs3Q29tcG9uZW50c09ic2VydmFibGUgPSBwcm9jZXNzT2JzZXJ2YWJsZXMoKVxuZnVuY3Rpb24gcHJvY2Vzc09ic2VydmFibGVzKCkge1xuICBjb25zdCBzdWJzY3JpcHRpb25zID0gbmV3IFNldDxrZXlvZiBJRXZlbnRzPigpXG5cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGV2ZW50TmFtZToga2V5b2YgSUV2ZW50cykge1xuICAgIGlmIChzdWJzY3JpcHRpb25zLmhhcyhldmVudE5hbWUpKSByZXR1cm5cbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgICAgY2FzZSAncGxheWVyQ2xpY2tlZCc6IHtcbiAgICAgICAgc3Vic2NyaWJlUGxheWVyQ2xpY2soKVxuICAgICAgfVxuICAgICAgY2FzZSAnb25FbnRlclNjZW5lJzpcbiAgICAgIGNhc2UgJ3BsYXllckNvbm5lY3RlZCc6IHtcbiAgICAgICAgc3Vic2NyaWJlRW50ZXJTY2VuZSgpXG4gICAgICB9XG4gICAgICBjYXNlICdvbkxlYXZlU2NlbmUnOlxuICAgICAgY2FzZSAncGxheWVyRGlzY29ubmVjdGVkJzoge1xuICAgICAgICBzdWJzY3JpYmVMZWF2ZVNjZW5lKClcbiAgICAgIH1cbiAgICAgIGNhc2UgJ29uUmVhbG1DaGFuZ2VkJzoge1xuICAgICAgICBzdWJzY3JpYmVSZWFsbUNoYW5nZSgpXG4gICAgICB9XG4gICAgICBjYXNlICdwbGF5ZXJFeHByZXNzaW9uJzoge1xuICAgICAgICBzdWJzY3JpYmVQbGF5ZXJFeHByZXNzaW9uKClcbiAgICAgIH1cbiAgICAgIGNhc2UgJ3Byb2ZpbGVDaGFuZ2VkJzoge1xuICAgICAgICBzdWJzY3JpYmVQcm9maWxlQ2hhbmdlKClcbiAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NyaXB0aW9ucy5hZGQoZXZlbnROYW1lKVxuICB9XG4gIC8qKlxuICAgKiBQTEFZRVIgRU5URVIvQ09OTkVDVEVEIG9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZUVudGVyU2NlbmUoKSB7XG4gICAgcGxheWVycy5vbkVudGVyU2NlbmUoKHBsYXllcikgPT4ge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbnMuaGFzKCdvbkVudGVyU2NlbmUnKSkge1xuICAgICAgICBvbkVudGVyU2NlbmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IHVzZXJJZDogcGxheWVyLnVzZXJJZCB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9ucy5oYXMoJ3BsYXllckNvbm5lY3RlZCcpKSB7XG4gICAgICAgIG9uUGxheWVyQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyB1c2VySWQ6IHBsYXllci51c2VySWQgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8qKlxuICAgKiBQTEFZRVIgTEVBVkUvRElTQ09OTkVDVEVEIG9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZUxlYXZlU2NlbmUoKSB7XG4gICAgcGxheWVycy5vbkxlYXZlU2NlbmUoKHVzZXJJZCkgPT4ge1xuICAgICAgaWYgKHN1YnNjcmlwdGlvbnMuaGFzKCdvbkxlYXZlU2NlbmUnKSkge1xuICAgICAgICBvbkxlYXZlU2NlbmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7IHVzZXJJZCB9KVxuICAgICAgfVxuXG4gICAgICBpZiAoc3Vic2NyaXB0aW9ucy5oYXMoJ3BsYXllckRpc2Nvbm5lY3RlZCcpKSB7XG4gICAgICAgIG9uUGxheWVyRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyB1c2VySWQgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8qKlxuICAgKiBSRUFMTSBDSEFOR0Ugb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlUmVhbG1DaGFuZ2UoKSB7XG4gICAgUmVhbG1JbmZvLm9uQ2hhbmdlKGVuZ2luZS5Sb290RW50aXR5LCAodmFsdWUpID0+IHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBvblJlYWxtQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICBkb21haW46IHZhbHVlLmJhc2VVcmwsXG4gICAgICAgICAgZGlzcGxheU5hbWU6IHZhbHVlLnJlYWxtTmFtZSxcbiAgICAgICAgICByb29tOiB2YWx1ZS5yb29tID8/ICcnLFxuICAgICAgICAgIHNlcnZlck5hbWU6IHZhbHVlLnJlYWxtTmFtZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgLyoqXG4gICAqIFBMQVlFUi9BVkFUQVIgQ0xJQ0tFRCBvYnNlcnZhYmxlXG4gICAqL1xuICBmdW5jdGlvbiBzdWJzY3JpYmVQbGF5ZXJDbGljaygpIHtcbiAgICBjb25zdCBwbGF5ZXJFbnRpdGllcyA9IG5ldyBTZXQ8RW50aXR5PigpXG4gICAgZW5naW5lLmFkZFN5c3RlbSgoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IFtlbnRpdHldIG9mIGVuZ2luZS5nZXRFbnRpdGllc1dpdGgoUGxheWVySWRlbnRpdHlEYXRhKSkge1xuICAgICAgICBpZiAocGxheWVyRW50aXRpZXMuaGFzKGVudGl0eSkpIHJldHVyblxuICAgICAgICBwbGF5ZXJFbnRpdGllcy5hZGQoZW50aXR5KVxuXG4gICAgICAgIFBvaW50ZXJFdmVudHNSZXN1bHQub25DaGFuZ2UoZW50aXR5LCAoZGF0YSkgPT4ge1xuICAgICAgICAgIGlmIChkYXRhPy5oaXQpIHtcbiAgICAgICAgICAgIG9uUGxheWVyQ2xpY2tlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHtcbiAgICAgICAgICAgICAgdXNlcklkOiBQbGF5ZXJJZGVudGl0eURhdGEuZ2V0T3JOdWxsKGVudGl0eSk/LmFkZHJlc3MgPz8gJycsXG4gICAgICAgICAgICAgIHJheToge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogZGF0YS5oaXQuZGlyZWN0aW9uISxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogZGF0YS5oaXQubGVuZ3RoLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogZGF0YS5oaXQuZ2xvYmFsT3JpZ2luIVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFBsYXllciBleHByZXNzaW9uIG9ic2VydmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIHN1YnNjcmliZVBsYXllckV4cHJlc3Npb24oKSB7XG4gICAgQXZhdGFyRW1vdGVDb21tYW5kLm9uQ2hhbmdlKGVuZ2luZS5QbGF5ZXJFbnRpdHksICh2YWx1ZSkgPT4ge1xuICAgICAgb25QbGF5ZXJFeHByZXNzaW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoeyBleHByZXNzaW9uSWQ6IHZhbHVlPy5lbW90ZVVybiA/PyAnJyB9KVxuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogUFJPRklMRSBDSEFOR0Ugb2JzZXJ2YWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gc3Vic2NyaWJlUHJvZmlsZUNoYW5nZSgpIHtcbiAgICBBdmF0YXJCYXNlLm9uQ2hhbmdlKGVuZ2luZS5QbGF5ZXJFbnRpdHksICgpID0+IHtcbiAgICAgIGlmICghcHJvZmlsZUFkZHJlc3MpIHJldHVyblxuICAgICAgb25Qcm9maWxlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMoeyBldGhBZGRyZXNzOiBwcm9maWxlQWRkcmVzcywgdmVyc2lvbjogMCB9KVxuICAgIH0pXG5cbiAgICBBdmF0YXJFcXVpcHBlZERhdGEub25DaGFuZ2UoZW5naW5lLlBsYXllckVudGl0eSwgKCkgPT4ge1xuICAgICAgaWYgKCFwcm9maWxlQWRkcmVzcykgcmV0dXJuXG4gICAgICBvblByb2ZpbGVDaGFuZ2VkLm5vdGlmeU9ic2VydmVycyh7IGV0aEFkZHJlc3M6IHByb2ZpbGVBZGRyZXNzLCB2ZXJzaW9uOiAwIH0pXG4gICAgfSlcbiAgfVxuXG4gIC8vIEZsYWcgdG8gY2FsbCBvbmNlIHRoZSBzY2VuZSBpcyBpbml0YWxpemVkLlxuICBsZXQgc2NlbmVSZWFkeSA9IGZhbHNlXG4gIGxldCBwcm9maWxlQWRkcmVzczogc3RyaW5nIHwgdW5kZWZpbmVkXG5cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZVN5c3RlbSgpIHtcbiAgICBpZiAoc2NlbmVSZWFkeSAmJiBwcm9maWxlQWRkcmVzcykge1xuICAgICAgcmV0dXJuIGVuZ2luZS5yZW1vdmVTeXN0ZW0ob2JzZXJ2YWJsZVN5c3RlbSlcbiAgICB9XG4gICAgaWYgKCFzY2VuZVJlYWR5KSB7XG4gICAgICBzY2VuZVJlYWR5ID0gdHJ1ZVxuICAgICAgb25TY2VuZVJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoe30pXG4gICAgfVxuICAgIGlmIChwcm9maWxlQWRkcmVzcykgcmV0dXJuXG4gICAgcHJvZmlsZUFkZHJlc3MgPSBQbGF5ZXJJZGVudGl0eURhdGEuZ2V0T3JOdWxsKGVuZ2luZS5QbGF5ZXJFbnRpdHkpPy5hZGRyZXNzXG4gIH1cblxuICBlbmdpbmUuYWRkU3lzdGVtKG9ic2VydmFibGVTeXN0ZW0pXG5cbiAgcmV0dXJuIHsgc3Vic2NyaWJlIH1cbn1cbiIsICJleHBvcnQgY29uc3QgY29tcG9zaXRlRnJvbUxvYWRlciA9IHsnYXNzZXRzL3NjZW5lL21haW4uY29tcG9zaXRlJzp7XCJ2ZXJzaW9uXCI6MSxcImNvbXBvbmVudHNcIjpbe1wibmFtZVwiOlwiY29tcG9zaXRlOjpyb290XCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wic3JjXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwidXRmOC1zdHJpbmdcIn0sXCJlbnRpdGllc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcInNyY1wiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJlbnRpdHlcIn0sXCJkZXN0XCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImVudGl0eVwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9LFwic2VyaWFsaXphdGlvblR5cGVcIjpcImFycmF5XCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJkYXRhXCI6e319LHtcIm5hbWVcIjpcImluc3BlY3Rvcjo6U2VsZWN0aW9uXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wiZ2l6bW9cIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm1hcFwifSxcImRhdGFcIjp7XCIwXCI6e1wianNvblwiOntcImdpem1vXCI6M319fX0se1wibmFtZVwiOlwiaW5zcGVjdG9yOjpTY2VuZU1ldGFkYXRhXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm9wdGlvbmFsXCIsXCJvcHRpb25hbEpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJ1dGY4LXN0cmluZ1wifX0sXCJkZXNjcmlwdGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm9wdGlvbmFsXCIsXCJvcHRpb25hbEpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJ1dGY4LXN0cmluZ1wifX0sXCJ0aHVtYm5haWxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJvcHRpb25hbFwiLFwib3B0aW9uYWxKc29uU2NoZW1hXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwidXRmOC1zdHJpbmdcIn19LFwiYWdlUmF0aW5nXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZW51bVwiOltcIlRcIixcIkFcIl0sXCJkZWZhdWx0XCI6XCJUXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiZW51bS1zdHJpbmdcIixcImVudW1PYmplY3RcIjp7XCJUZWVuXCI6XCJUXCIsXCJBZHVsdFwiOlwiQVwifX19LFwiY2F0ZWdvcmllc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZW51bVwiOltcImFydFwiLFwiZ2FtZVwiLFwiY2FzaW5vXCIsXCJzb2NpYWxcIixcIm11c2ljXCIsXCJmYXNoaW9uXCIsXCJjcnlwdG9cIixcImVkdWNhdGlvblwiLFwic2hvcFwiLFwiYnVzaW5lc3NcIixcInNwb3J0c1wiXSxcImRlZmF1bHRcIjpcImdhbWVcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJlbnVtLXN0cmluZ1wiLFwiZW51bU9iamVjdFwiOntcIkFSVFwiOlwiYXJ0XCIsXCJHQU1FXCI6XCJnYW1lXCIsXCJDQVNJTk9cIjpcImNhc2lub1wiLFwiU09DSUFMXCI6XCJzb2NpYWxcIixcIk1VU0lDXCI6XCJtdXNpY1wiLFwiRkFTSElPTlwiOlwiZmFzaGlvblwiLFwiQ1JZUFRPXCI6XCJjcnlwdG9cIixcIkVEVUNBVElPTlwiOlwiZWR1Y2F0aW9uXCIsXCJTSE9QXCI6XCJzaG9wXCIsXCJCVVNJTkVTU1wiOlwiYnVzaW5lc3NcIixcIlNQT1JUU1wiOlwic3BvcnRzXCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJhcnJheVwifX0sXCJhdXRob3JcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJvcHRpb25hbFwiLFwib3B0aW9uYWxKc29uU2NoZW1hXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwidXRmOC1zdHJpbmdcIn19LFwiZW1haWxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJvcHRpb25hbFwiLFwib3B0aW9uYWxKc29uU2NoZW1hXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwidXRmOC1zdHJpbmdcIn19LFwidGFnc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcInN0cmluZ1wiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcInV0Zjgtc3RyaW5nXCJ9LFwic2VyaWFsaXphdGlvblR5cGVcIjpcImFycmF5XCJ9fSxcImxheW91dFwiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcImJhc2VcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7XCJ4XCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImludDMyXCJ9LFwieVwiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJpbnQzMlwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9LFwicGFyY2Vsc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcInhcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn0sXCJ5XCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImludDMyXCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiYXJyYXlcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm1hcFwifSxcInNpbGVuY2VWb2ljZUNoYXRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJib29sZWFuXCJ9fSxcImRpc2FibGVQb3J0YWJsZUV4cGVyaWVuY2VzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm9wdGlvbmFsXCIsXCJvcHRpb25hbEpzb25TY2hlbWFcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiYm9vbGVhblwifX0sXCJzcGF3blBvaW50c1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcIm5hbWVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJ1dGY4LXN0cmluZ1wifSxcImRlZmF1bHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJib29sZWFuXCJ9fSxcInBvc2l0aW9uXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wieFwiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcInNpbmdsZVwiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJpbnQzMlwifSxcInJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIml0ZW1zXCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImludDMyXCJ9LFwic2VyaWFsaXphdGlvblR5cGVcIjpcImFycmF5XCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJvbmUtb2ZcIn0sXCJ5XCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wic2luZ2xlXCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImludDMyXCJ9LFwicmFuZ2VcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiaXRlbXNcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiYXJyYXlcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm9uZS1vZlwifSxcInpcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7XCJzaW5nbGVcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn0sXCJyYW5nZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJpdGVtc1wiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJpbnQzMlwifSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJhcnJheVwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib25lLW9mXCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJjYW1lcmFUYXJnZXRcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJvcHRpb25hbFwiLFwib3B0aW9uYWxKc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wieFwiOntcInR5cGVcIjpcImludGVnZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJpbnQzMlwifSxcInlcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn0sXCJ6XCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImludDMyXCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn19fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiYXJyYXlcIn19fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJkYXRhXCI6e1wiMFwiOntcImpzb25cIjp7XCJuYW1lXCI6XCJOZXcgU2NlbmUgM1wiLFwiZGVzY3JpcHRpb25cIjpcIkVtcHR5IFNjZW5lIFRlbXBsYXRlXCIsXCJjYXRlZ29yaWVzXCI6W10sXCJhdXRob3JcIjpcIlNES1wiLFwidGFnc1wiOltdLFwibGF5b3V0XCI6e1wiYmFzZVwiOntcInhcIjowLFwieVwiOjB9LFwicGFyY2Vsc1wiOlt7XCJ4XCI6MCxcInlcIjowfV19LFwic3Bhd25Qb2ludHNcIjpbe1wibmFtZVwiOlwic3Bhd24xXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcInBvc2l0aW9uXCI6e1wieFwiOntcIiRjYXNlXCI6XCJyYW5nZVwiLFwidmFsdWVcIjpbMCwzXX0sXCJ5XCI6e1wiJGNhc2VcIjpcInJhbmdlXCIsXCJ2YWx1ZVwiOlswLDBdfSxcInpcIjp7XCIkY2FzZVwiOlwicmFuZ2VcIixcInZhbHVlXCI6WzAsM119fSxcImNhbWVyYVRhcmdldFwiOntcInhcIjo4LFwieVwiOjEsXCJ6XCI6OH19XX19fX0se1wibmFtZVwiOlwiaW5zcGVjdG9yOjpOb2Rlc1wiLFwianNvblNjaGVtYVwiOntcInR5cGVcIjpcIm9iamVjdFwiLFwicHJvcGVydGllc1wiOntcInZhbHVlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIml0ZW1zXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wiZW50aXR5XCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImVudGl0eVwifSxcIm9wZW5cIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwib3B0aW9uYWxcIixcIm9wdGlvbmFsSnNvblNjaGVtYVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJib29sZWFuXCJ9fSxcImNoaWxkcmVuXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIml0ZW1zXCI6e1widHlwZVwiOlwiaW50ZWdlclwiLFwic2VyaWFsaXphdGlvblR5cGVcIjpcImVudGl0eVwifSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJhcnJheVwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9LFwic2VyaWFsaXphdGlvblR5cGVcIjpcImFycmF5XCJ9fSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJtYXBcIn0sXCJkYXRhXCI6e1wiMFwiOntcImpzb25cIjp7XCJ2YWx1ZVwiOlt7XCJlbnRpdHlcIjo1MTIsXCJjaGlsZHJlblwiOltdLFwib3BlblwiOnRydWV9LHtcImVudGl0eVwiOjUxMyxcImNoaWxkcmVuXCI6W119LHtcImVudGl0eVwiOjUxNCxcImNoaWxkcmVuXCI6W119XX19fX0se1wibmFtZVwiOlwiYXNzZXQtcGFja3M6OkFjdGlvblR5cGVzXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1widmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiaXRlbXNcIjp7XCJ0eXBlXCI6XCJvYmplY3RcIixcInByb3BlcnRpZXNcIjp7XCJ0eXBlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwidXRmOC1zdHJpbmdcIn0sXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwidXRmOC1zdHJpbmdcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm1hcFwifSxcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJhcnJheVwifX0sXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwibWFwXCJ9LFwiZGF0YVwiOntcIjBcIjp7XCJqc29uXCI6e1widmFsdWVcIjpbe1widHlwZVwiOlwicGxheV9hbmltYXRpb25cIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwiYW5pbWF0aW9uXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn0sXFxcImxvb3BcXFwiOntcXFwidHlwZVxcXCI6XFxcImJvb2xlYW5cXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJib29sZWFuXFxcIn19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJzdG9wX2FuaW1hdGlvblwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e30sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic2V0X3N0YXRlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInN0YXRlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInN0YXJ0X3R3ZWVuXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInR5cGVcXFwiOntcXFwidHlwZVxcXCI6XFxcInN0cmluZ1xcXCIsXFxcImVudW1cXFwiOltcXFwibW92ZV9pdGVtXFxcIixcXFwicm90YXRlX2l0ZW1cXFwiLFxcXCJzY2FsZV9pdGVtXFxcIl0sXFxcImRlZmF1bHRcXFwiOlxcXCJtb3ZlX2l0ZW1cXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImVudW0tc3RyaW5nXFxcIixcXFwiZW51bU9iamVjdFxcXCI6e1xcXCJNT1ZFX0lURU1cXFwiOlxcXCJtb3ZlX2l0ZW1cXFwiLFxcXCJST1RBVEVfSVRFTVxcXCI6XFxcInJvdGF0ZV9pdGVtXFxcIixcXFwiU0NBTEVfSVRFTVxcXCI6XFxcInNjYWxlX2l0ZW1cXFwifX0sXFxcImVuZFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJ4XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifSxcXFwieVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIn0sXFxcInpcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCJ9LFxcXCJ3XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidmVjdG9yM1xcXCJ9LFxcXCJpbnRlcnBvbGF0aW9uVHlwZVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwiZW51bVxcXCI6W1xcXCJsaW5lYXJcXFwiLFxcXCJlYXNlaW5xdWFkXFxcIixcXFwiZWFzZW91dHF1YWRcXFwiLFxcXCJlYXNlcXVhZFxcXCIsXFxcImVhc2VpbnNpbmVcXFwiLFxcXCJlYXNlb3V0c2luZVxcXCIsXFxcImVhc2Vpbm91dHNpbmVcXFwiLFxcXCJlYXNlaW5leHBvXFxcIixcXFwiZWFzZW91dGV4cG9cXFwiLFxcXCJlYXNlaW5vdXRleHBvXFxcIixcXFwiZWFzZWluZWxhc3RpY1xcXCIsXFxcImVhc2VvdXRlbGFzdGljXFxcIixcXFwiZWFzZWlub3V0ZWxhc3RpY1xcXCIsXFxcImVhc2VpbmJvdW5jZVxcXCIsXFxcImVhc2VvdXRib3VuY2VcXFwiLFxcXCJlYXNlaW5vdXRib3VuY2VcXFwiXSxcXFwiZGVmYXVsdFxcXCI6XFxcImxpbmVhclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZW51bS1zdHJpbmdcXFwiLFxcXCJlbnVtT2JqZWN0XFxcIjp7XFxcIkxJTkVBUlxcXCI6XFxcImxpbmVhclxcXCIsXFxcIkVBU0VJTlFVQURcXFwiOlxcXCJlYXNlaW5xdWFkXFxcIixcXFwiRUFTRU9VVFFVQURcXFwiOlxcXCJlYXNlb3V0cXVhZFxcXCIsXFxcIkVBU0VRVUFEXFxcIjpcXFwiZWFzZXF1YWRcXFwiLFxcXCJFQVNFSU5TSU5FXFxcIjpcXFwiZWFzZWluc2luZVxcXCIsXFxcIkVBU0VPVVRTSU5FXFxcIjpcXFwiZWFzZW91dHNpbmVcXFwiLFxcXCJFQVNFU0lORVxcXCI6XFxcImVhc2Vpbm91dHNpbmVcXFwiLFxcXCJFQVNFSU5FWFBPXFxcIjpcXFwiZWFzZWluZXhwb1xcXCIsXFxcIkVBU0VPVVRFWFBPXFxcIjpcXFwiZWFzZW91dGV4cG9cXFwiLFxcXCJFQVNFRVhQT1xcXCI6XFxcImVhc2Vpbm91dGV4cG9cXFwiLFxcXCJFQVNFSU5FTEFTVElDXFxcIjpcXFwiZWFzZWluZWxhc3RpY1xcXCIsXFxcIkVBU0VPVVRFTEFTVElDXFxcIjpcXFwiZWFzZW91dGVsYXN0aWNcXFwiLFxcXCJFQVNFRUxBU1RJQ1xcXCI6XFxcImVhc2Vpbm91dGVsYXN0aWNcXFwiLFxcXCJFQVNFSU5CT1VOQ0VcXFwiOlxcXCJlYXNlaW5ib3VuY2VcXFwiLFxcXCJFQVNFT1VURUJPVU5DRVxcXCI6XFxcImVhc2VvdXRib3VuY2VcXFwiLFxcXCJFQVNFQk9VTkNFXFxcIjpcXFwiZWFzZWlub3V0Ym91bmNlXFxcIn19LFxcXCJkdXJhdGlvblxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn0sXFxcInJlbGF0aXZlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJib29sZWFuXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInNldF9jb3VudGVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImNvdW50ZXJcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcImluY3JlbWVudF9jb3VudGVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImFtb3VudFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiaW50ZWdlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwib3B0aW9uYWxcXFwiLFxcXCJvcHRpb25hbEpzb25TY2hlbWFcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJkZWNyZWFzZV9jb3VudGVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImFtb3VudFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiaW50ZWdlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwib3B0aW9uYWxcXFwiLFxcXCJvcHRpb25hbEpzb25TY2hlbWFcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJwbGF5X3NvdW5kXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInNyY1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ1dGY4LXN0cmluZ1xcXCJ9LFxcXCJsb29wXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fSxcXFwidm9sdW1lXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifX19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInN0b3Bfc291bmRcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOnt9LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInNldF92aXNpYmlsaXR5XCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInZpc2libGVcXFwiOntcXFwidHlwZVxcXCI6XFxcImJvb2xlYW5cXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImJvb2xlYW5cXFwifSxcXFwicGh5c2ljc0NvbGxpZGVyXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fSxcXFwiY29sbGlkZXJcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJpbnRlZ2VyXFxcIixcXFwiZW51bVxcXCI6WzAsMSwyLDQsOCwxNiwzMiw2NCwxMjgsMjU2LDUxMiwxMDI0LDIwNDgsNDA5Niw4MTkyLDE2Mzg0LDMyNzY4XSxcXFwiZGVmYXVsdFxcXCI6MSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJlbnVtLWludFxcXCIsXFxcImVudW1PYmplY3RcXFwiOntcXFwiMFxcXCI6XFxcIkNMX05PTkVcXFwiLFxcXCIxXFxcIjpcXFwiQ0xfUE9JTlRFUlxcXCIsXFxcIjJcXFwiOlxcXCJDTF9QSFlTSUNTXFxcIixcXFwiNFxcXCI6XFxcIkNMX1JFU0VSVkVEMVxcXCIsXFxcIjhcXFwiOlxcXCJDTF9SRVNFUlZFRDJcXFwiLFxcXCIxNlxcXCI6XFxcIkNMX1JFU0VSVkVEM1xcXCIsXFxcIjMyXFxcIjpcXFwiQ0xfUkVTRVJWRUQ0XFxcIixcXFwiNjRcXFwiOlxcXCJDTF9SRVNFUlZFRDVcXFwiLFxcXCIxMjhcXFwiOlxcXCJDTF9SRVNFUlZFRDZcXFwiLFxcXCIyNTZcXFwiOlxcXCJDTF9DVVNUT00xXFxcIixcXFwiNTEyXFxcIjpcXFwiQ0xfQ1VTVE9NMlxcXCIsXFxcIjEwMjRcXFwiOlxcXCJDTF9DVVNUT00zXFxcIixcXFwiMjA0OFxcXCI6XFxcIkNMX0NVU1RPTTRcXFwiLFxcXCI0MDk2XFxcIjpcXFwiQ0xfQ1VTVE9NNVxcXCIsXFxcIjgxOTJcXFwiOlxcXCJDTF9DVVNUT002XFxcIixcXFwiMTYzODRcXFwiOlxcXCJDTF9DVVNUT003XFxcIixcXFwiMzI3NjhcXFwiOlxcXCJDTF9DVVNUT004XFxcIixcXFwiQ0xfTk9ORVxcXCI6MCxcXFwiQ0xfUE9JTlRFUlxcXCI6MSxcXFwiQ0xfUEhZU0lDU1xcXCI6MixcXFwiQ0xfUkVTRVJWRUQxXFxcIjo0LFxcXCJDTF9SRVNFUlZFRDJcXFwiOjgsXFxcIkNMX1JFU0VSVkVEM1xcXCI6MTYsXFxcIkNMX1JFU0VSVkVENFxcXCI6MzIsXFxcIkNMX1JFU0VSVkVENVxcXCI6NjQsXFxcIkNMX1JFU0VSVkVENlxcXCI6MTI4LFxcXCJDTF9DVVNUT00xXFxcIjoyNTYsXFxcIkNMX0NVU1RPTTJcXFwiOjUxMixcXFwiQ0xfQ1VTVE9NM1xcXCI6MTAyNCxcXFwiQ0xfQ1VTVE9NNFxcXCI6MjA0OCxcXFwiQ0xfQ1VTVE9NNVxcXCI6NDA5NixcXFwiQ0xfQ1VTVE9NNlxcXCI6ODE5MixcXFwiQ0xfQ1VTVE9NN1xcXCI6MTYzODQsXFxcIkNMX0NVU1RPTThcXFwiOjMyNzY4fX19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJhdHRhY2hfdG9fcGxheWVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImFuY2hvclBvaW50SWRcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcImRldGFjaF9mcm9tX3BsYXllclwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e30sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwicGxheV92aWRlb19zdHJlYW1cIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwic3JjXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn19LFxcXCJsb29wXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fSxcXFwidm9sdW1lXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifX0sXFxcImRjbENhc3RcXFwiOntcXFwidHlwZVxcXCI6XFxcImJvb2xlYW5cXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJib29sZWFuXFxcIn19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJzdG9wX3ZpZGVvX3N0cmVhbVwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e30sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwicGxheV9hdWRpb19zdHJlYW1cIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwidXJsXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn0sXFxcInZvbHVtZVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJzdG9wX2F1ZGlvX3N0cmVhbVwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e30sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwidGVsZXBvcnRfcGxheWVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInhcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn0sXFxcInlcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcIm1vdmVfcGxheWVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInBvc2l0aW9uXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInhcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCJ9LFxcXCJ5XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifSxcXFwielxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIn0sXFxcIndcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCJ9fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ2ZWN0b3IzXFxcIn0sXFxcImNhbWVyYVRhcmdldFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJ4XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifSxcXFwieVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIn0sXFxcInpcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCJ9LFxcXCJ3XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidmVjdG9yM1xcXCJ9fX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwicGxheV9kZWZhdWx0X2Vtb3RlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImVtb3RlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInBsYXlfY3VzdG9tX2Vtb3RlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInNyY1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ1dGY4LXN0cmluZ1xcXCJ9LFxcXCJsb29wXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwib3Blbl9saW5rXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInVybFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ1dGY4LXN0cmluZ1xcXCJ9fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJzaG93X3RleHRcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwidGV4dFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ1dGY4LXN0cmluZ1xcXCJ9LFxcXCJoaWRlQWZ0ZXJTZWNvbmRzXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifSxcXFwiZm9udFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiaW50ZWdlclxcXCIsXFxcImVudW1cXFwiOlswLDEsMl0sXFxcImRlZmF1bHRcXFwiOjAsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZW51bS1pbnRcXFwiLFxcXCJlbnVtT2JqZWN0XFxcIjp7XFxcIjBcXFwiOlxcXCJGX1NBTlNfU0VSSUZcXFwiLFxcXCIxXFxcIjpcXFwiRl9TRVJJRlxcXCIsXFxcIjJcXFwiOlxcXCJGX01PTk9TUEFDRVxcXCIsXFxcIkZfU0FOU19TRVJJRlxcXCI6MCxcXFwiRl9TRVJJRlxcXCI6MSxcXFwiRl9NT05PU1BBQ0VcXFwiOjJ9fSxcXFwiZm9udFNpemVcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwib3B0aW9uYWxcXFwiLFxcXCJvcHRpb25hbEpzb25TY2hlbWFcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZmxvYXQzMlxcXCJ9fSxcXFwidGV4dEFsaWduXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJpbnRlZ2VyXFxcIixcXFwiZW51bVxcXCI6WzAsMSwyLDMsNCw1LDYsNyw4XSxcXFwiZGVmYXVsdFxcXCI6NCxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJlbnVtLWludFxcXCIsXFxcImVudW1PYmplY3RcXFwiOntcXFwiMFxcXCI6XFxcIlRBTV9UT1BfTEVGVFxcXCIsXFxcIjFcXFwiOlxcXCJUQU1fVE9QX0NFTlRFUlxcXCIsXFxcIjJcXFwiOlxcXCJUQU1fVE9QX1JJR0hUXFxcIixcXFwiM1xcXCI6XFxcIlRBTV9NSURETEVfTEVGVFxcXCIsXFxcIjRcXFwiOlxcXCJUQU1fTUlERExFX0NFTlRFUlxcXCIsXFxcIjVcXFwiOlxcXCJUQU1fTUlERExFX1JJR0hUXFxcIixcXFwiNlxcXCI6XFxcIlRBTV9CT1RUT01fTEVGVFxcXCIsXFxcIjdcXFwiOlxcXCJUQU1fQk9UVE9NX0NFTlRFUlxcXCIsXFxcIjhcXFwiOlxcXCJUQU1fQk9UVE9NX1JJR0hUXFxcIixcXFwiVEFNX1RPUF9MRUZUXFxcIjowLFxcXCJUQU1fVE9QX0NFTlRFUlxcXCI6MSxcXFwiVEFNX1RPUF9SSUdIVFxcXCI6MixcXFwiVEFNX01JRERMRV9MRUZUXFxcIjozLFxcXCJUQU1fTUlERExFX0NFTlRFUlxcXCI6NCxcXFwiVEFNX01JRERMRV9SSUdIVFxcXCI6NSxcXFwiVEFNX0JPVFRPTV9MRUZUXFxcIjo2LFxcXCJUQU1fQk9UVE9NX0NFTlRFUlxcXCI6NyxcXFwiVEFNX0JPVFRPTV9SSUdIVFxcXCI6OH19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJoaWRlX3RleHRcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOnt9LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInN0YXJ0X2RlbGF5XCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImFjdGlvbnNcXFwiOntcXFwidHlwZVxcXCI6XFxcImFycmF5XFxcIixcXFwiaXRlbXNcXFwiOntcXFwidHlwZVxcXCI6XFxcInN0cmluZ1xcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidXRmOC1zdHJpbmdcXFwifSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJhcnJheVxcXCJ9LFxcXCJ0aW1lb3V0XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic3RvcF9kZWxheVwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJhY3Rpb25cXFwiOntcXFwidHlwZVxcXCI6XFxcInN0cmluZ1xcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidXRmOC1zdHJpbmdcXFwifX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic3RhcnRfbG9vcFwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJhY3Rpb25zXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJhcnJheVxcXCIsXFxcIml0ZW1zXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYXJyYXlcXFwifSxcXFwiaW50ZXJ2YWxcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZmxvYXQzMlxcXCJ9fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJzdG9wX2xvb3BcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwiYWN0aW9uXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcInV0Zjgtc3RyaW5nXFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcImNsb25lX2VudGl0eVwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJwb3NpdGlvblxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJ4XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifSxcXFwieVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIn0sXFxcInpcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCJ9LFxcXCJ3XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwifX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidmVjdG9yM1xcXCJ9fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJyZW1vdmVfZW50aXR5XCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJzaG93X2ltYWdlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInNyY1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ1dGY4LXN0cmluZ1xcXCJ9LFxcXCJhbGlnblxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiaW50ZWdlclxcXCIsXFxcImVudW1cXFwiOlswLDEsMiwzLDQsNSw2LDcsOF0sXFxcImRlZmF1bHRcXFwiOjQsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZW51bS1pbnRcXFwiLFxcXCJlbnVtT2JqZWN0XFxcIjp7XFxcIjBcXFwiOlxcXCJUQU1fVE9QX0xFRlRcXFwiLFxcXCIxXFxcIjpcXFwiVEFNX1RPUF9DRU5URVJcXFwiLFxcXCIyXFxcIjpcXFwiVEFNX1RPUF9SSUdIVFxcXCIsXFxcIjNcXFwiOlxcXCJUQU1fTUlERExFX0xFRlRcXFwiLFxcXCI0XFxcIjpcXFwiVEFNX01JRERMRV9DRU5URVJcXFwiLFxcXCI1XFxcIjpcXFwiVEFNX01JRERMRV9SSUdIVFxcXCIsXFxcIjZcXFwiOlxcXCJUQU1fQk9UVE9NX0xFRlRcXFwiLFxcXCI3XFxcIjpcXFwiVEFNX0JPVFRPTV9DRU5URVJcXFwiLFxcXCI4XFxcIjpcXFwiVEFNX0JPVFRPTV9SSUdIVFxcXCIsXFxcIlRBTV9UT1BfTEVGVFxcXCI6MCxcXFwiVEFNX1RPUF9DRU5URVJcXFwiOjEsXFxcIlRBTV9UT1BfUklHSFRcXFwiOjIsXFxcIlRBTV9NSURETEVfTEVGVFxcXCI6MyxcXFwiVEFNX01JRERMRV9DRU5URVJcXFwiOjQsXFxcIlRBTV9NSURETEVfUklHSFRcXFwiOjUsXFxcIlRBTV9CT1RUT01fTEVGVFxcXCI6NixcXFwiVEFNX0JPVFRPTV9DRU5URVJcXFwiOjcsXFxcIlRBTV9CT1RUT01fUklHSFRcXFwiOjh9fSxcXFwiaGVpZ2h0XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifSxcXFwid2lkdGhcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZmxvYXQzMlxcXCJ9LFxcXCJoaWRlQWZ0ZXJTZWNvbmRzXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifX0sXFxcInRleHRcXFwiOntcXFwidHlwZVxcXCI6XFxcInN0cmluZ1xcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwib3B0aW9uYWxcXFwiLFxcXCJvcHRpb25hbEpzb25TY2hlbWFcXFwiOntcXFwidHlwZVxcXCI6XFxcInN0cmluZ1xcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidXRmOC1zdHJpbmdcXFwifX0sXFxcImZvbnRTaXplXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifX19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcImhpZGVfaW1hZ2VcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwiaW1hZ2VFbnRpdHlcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJpbnRlZ2VyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJpbnQzMlxcXCJ9fX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwiZGFtYWdlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInJhZGl1c1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn0sXFxcImxheWVyXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm9wdGlvbmFsXFxcIixcXFwib3B0aW9uYWxKc29uU2NoZW1hXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJzdHJpbmdcXFwiLFxcXCJlbnVtXFxcIjpbXFxcImFsbFxcXCIsXFxcInBsYXllclxcXCIsXFxcIm5vbl9wbGF5ZXJcXFwiXSxcXFwiZGVmYXVsdFxcXCI6XFxcImFsbFxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZW51bS1zdHJpbmdcXFwiLFxcXCJlbnVtT2JqZWN0XFxcIjp7XFxcIkFMTFxcXCI6XFxcImFsbFxcXCIsXFxcIlBMQVlFUlxcXCI6XFxcInBsYXllclxcXCIsXFxcIk5PTl9QTEFZRVJcXFwiOlxcXCJub25fcGxheWVyXFxcIn19fSxcXFwiaGl0c1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiaW50ZWdlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwib3B0aW9uYWxcXFwiLFxcXCJvcHRpb25hbEpzb25TY2hlbWFcXFwiOntcXFwidHlwZVxcXCI6XFxcImludGVnZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImludDMyXFxcIn19fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJtb3ZlX3BsYXllcl9oZXJlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJwbGFjZV9vbl9wbGF5ZXJcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOnt9LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInJvdGF0ZV9hc19wbGF5ZXJcIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOnt9LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcInBsYWNlX29uX2NhbWVyYVwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e30sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwicm90YXRlX2FzX2NhbWVyYVwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e30sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic2V0X3Bvc2l0aW9uXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInhcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZmxvYXQzMlxcXCJ9LFxcXCJ5XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifSxcXFwielxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn0sXFxcInJlbGF0aXZlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic2V0X3JvdGF0aW9uXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInhcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZmxvYXQzMlxcXCJ9LFxcXCJ5XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifSxcXFwielxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn0sXFxcInJlbGF0aXZlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic2V0X3NjYWxlXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcInhcXFwiOntcXFwidHlwZVxcXCI6XFxcIm51bWJlclxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiZmxvYXQzMlxcXCJ9LFxcXCJ5XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifSxcXFwielxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn0sXFxcInJlbGF0aXZlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJvcHRpb25hbFxcXCIsXFxcIm9wdGlvbmFsSnNvblNjaGVtYVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9fX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwiZm9sbG93X3BsYXllclwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJzcGVlZFxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwibnVtYmVyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJmbG9hdDMyXFxcIn0sXFxcInhcXFwiOntcXFwidHlwZVxcXCI6XFxcImJvb2xlYW5cXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImJvb2xlYW5cXFwifSxcXFwieVxcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYm9vbGVhblxcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwiYm9vbGVhblxcXCJ9LFxcXCJ6XFxcIjp7XFxcInR5cGVcXFwiOlxcXCJib29sZWFuXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJib29sZWFuXFxcIn0sXFxcIm1pbkRpc3RhbmNlXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJudW1iZXJcXFwiLFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImZsb2F0MzJcXFwifX0sXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwibWFwXFxcIn1cIn0se1widHlwZVwiOlwic3RvcF9mb2xsb3dpbmdfcGxheWVyXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJyYW5kb21cIixcImpzb25TY2hlbWFcIjpcIntcXFwidHlwZVxcXCI6XFxcIm9iamVjdFxcXCIsXFxcInByb3BlcnRpZXNcXFwiOntcXFwiYWN0aW9uc1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwiYXJyYXlcXFwiLFxcXCJpdGVtc1xcXCI6e1xcXCJ0eXBlXFxcIjpcXFwic3RyaW5nXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJ1dGY4LXN0cmluZ1xcXCJ9LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcImFycmF5XFxcIn19LFxcXCJzZXJpYWxpemF0aW9uVHlwZVxcXCI6XFxcIm1hcFxcXCJ9XCJ9LHtcInR5cGVcIjpcImJhdGNoXCIsXCJqc29uU2NoZW1hXCI6XCJ7XFxcInR5cGVcXFwiOlxcXCJvYmplY3RcXFwiLFxcXCJwcm9wZXJ0aWVzXFxcIjp7XFxcImFjdGlvbnNcXFwiOntcXFwidHlwZVxcXCI6XFxcImFycmF5XFxcIixcXFwiaXRlbXNcXFwiOntcXFwidHlwZVxcXCI6XFxcInN0cmluZ1xcXCIsXFxcInNlcmlhbGl6YXRpb25UeXBlXFxcIjpcXFwidXRmOC1zdHJpbmdcXFwifSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJhcnJheVxcXCJ9fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifSx7XCJ0eXBlXCI6XCJoZWFsX3BsYXllclwiLFwianNvblNjaGVtYVwiOlwie1xcXCJ0eXBlXFxcIjpcXFwib2JqZWN0XFxcIixcXFwicHJvcGVydGllc1xcXCI6e1xcXCJtdWx0aXBsaWVyXFxcIjp7XFxcInR5cGVcXFwiOlxcXCJpbnRlZ2VyXFxcIixcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJpbnQzMlxcXCJ9fSxcXFwic2VyaWFsaXphdGlvblR5cGVcXFwiOlxcXCJtYXBcXFwifVwifV19fX19LHtcIm5hbWVcIjpcImFzc2V0LXBhY2tzOjpDb3VudGVyXCIsXCJqc29uU2NoZW1hXCI6e1widHlwZVwiOlwib2JqZWN0XCIsXCJwcm9wZXJ0aWVzXCI6e1wiaWRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInNlcmlhbGl6YXRpb25UeXBlXCI6XCJmbG9hdDMyXCJ9LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJpbnRlZ2VyXCIsXCJzZXJpYWxpemF0aW9uVHlwZVwiOlwiaW50MzJcIn19LFwic2VyaWFsaXphdGlvblR5cGVcIjpcIm1hcFwifSxcImRhdGFcIjp7XCIwXCI6e1wianNvblwiOntcImlkXCI6MCxcInZhbHVlXCI6MH19fX1dfX0iLCAiaW1wb3J0IHsgY29tcG9zaXRlRnJvbUxvYWRlciB9IGZyb20gJ35zZGsvYWxsLWNvbXBvc2l0ZXMnXG5pbXBvcnQgeyBDb21wb3NpdGUgfSBmcm9tICdAZGNsL2VjcydcblxuY29uc3QgY29tcG9zaXRlczogQ29tcG9zaXRlLlJlc291cmNlW10gPSBbXVxuXG4vLyBAcHVibGljXG5leHBvcnQgY29uc3QgY29tcG9zaXRlUHJvdmlkZXI6IENvbXBvc2l0ZS5Qcm92aWRlciA9IHtcbiAgZ2V0Q29tcG9zaXRlT3JOdWxsKHNyYzogc3RyaW5nLCBfY3VycmVudFBhdGg/OiBzdHJpbmcpIHtcbiAgICAvLyBUT0RPOiByZXNvbHZlIHBhdGggZnJvbSBzcmMgYW5kIGN1cnJlbnRQYXRoXG5cbiAgICBjb25zdCBmcm9tTG9hZGVyID0gY29tcG9zaXRlRnJvbUxvYWRlcltzcmNdXG4gICAgaWYgKGZyb21Mb2FkZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChmcm9tTG9hZGVyIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IENvbXBvc2l0ZS5mcm9tQmluYXJ5KGZyb21Mb2FkZXIpXG4gICAgICAgICAgY29tcG9zaXRlcy5wdXNoKHsgc3JjLCBjb21wb3NpdGUgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZnJvbUxvYWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBjb25zdCBjb21wb3NpdGUgPSBDb21wb3NpdGUuZnJvbUpzb24oSlNPTi5wYXJzZShmcm9tTG9hZGVyKSlcbiAgICAgICAgICBjb21wb3NpdGVzLnB1c2goeyBzcmMsIGNvbXBvc2l0ZSB9KVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmcm9tTG9hZGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IENvbXBvc2l0ZS5mcm9tSnNvbihmcm9tTG9hZGVyKVxuICAgICAgICAgIGNvbXBvc2l0ZXMucHVzaCh7IHNyYywgY29tcG9zaXRlIH0pXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycilcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIGNvbXBvc2l0ZUZyb21Mb2FkZXJbc3JjXVxuICAgIH1cblxuICAgIHJldHVybiBjb21wb3NpdGVzLmZpbmQoKGl0ZW0pID0+IGl0ZW0uc3JjID09PSBzcmMpIHx8IG51bGxcbiAgfVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQSxnREFBQUEsVUFBQUMsU0FBQTtBQUFBO0FBQ0EsSUFBQUEsUUFBTyxVQUFVO0FBbUJqQixhQUFTLFVBQVUsSUFBSSxLQUFtQjtBQUN0QyxVQUFJLFNBQVUsSUFBSSxNQUFNLFVBQVUsU0FBUyxDQUFDLEdBQ3hDLFNBQVUsR0FDVixRQUFVLEdBQ1YsVUFBVTtBQUNkLGFBQU8sUUFBUSxV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LElBQUksWUFBWSxPQUFPLElBQUksV0FBVztBQUFBLElBQ3BFO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUk7QUFBQSxJQUFLO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUs7QUFBQSxJQUFLO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBSTtBQUFBLElBQUc7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFHO0FBQUEsSUFBSztBQUFBLElBQUk7QUFBQSxJQUFJO0FBQUEsSUFBSztBQUFBLElBQUs7QUFBQSxJQUFJO0FBQUEsSUFBRztBQUFBLElBQUs7QUFB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O0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQ2hHO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUNoRztBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFBWTtBQUFBLEVBQVk7QUFBQSxFQUFZO0FBQUEsRUFDaEc7QUFBQSxFQUFZ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QSxFQUMxQztBQUFBLEVBQ0EsU0FBUyxRQUFRO0FBQ2IsV0FBTyxLQUFLLEtBQUssWUFBWSxRQUFRLElBQUk7QUFBQSxFQUM3QztBQUFBLEVBQ0EsU0FBUyxRQUFRO0FBQ2IsV0FBTyxLQUFLLEtBQUssU0FBUyxNQUFNO0FBQUEsRUFDcEM7QUFBQSxFQUNBLFVBQVUsUUFBUTtBQUNkLFdBQU8sS0FBSyxLQUFLLFVBQVUsUUFBUSxJQUFJO0FBQUEsRUFDM0M7QUFBQSxFQUNBLFVBQVUsUUFBUTtBQUNkLFdBQU8sS0FBSyxLQUFLLFVBQVUsUUFBUSxJQUFJO0FBQUEsRUFDM0M7QUFBQSxFQUNBLFVBQVUsUUFBUTtBQUNkLFdBQU8sS0FBSyxLQUFLLGFBQWEsUUFBUSxJQUFJO0FBQUEsRUFDOUM7QUFBQSxFQUNBLFdBQVcsUUFBUSxPQUFPO0FBQ3RCLFNBQUssS0FBSyxXQUFXLFFBQVEsT0FBTyxJQUFJO0FBQUEsRUFDNUM7QUFBQSxFQUNBLFdBQVcsUUFBUSxPQUFPO0FBQ3RCLFNBQUssS0FBSyxXQUFXLFFBQVEsT0FBTyxJQUFJO0FBQUEsRUFDNUM7QUFBQSxFQUNBLFFBQVEsUUFBUSxPQUFPO0FBQ25CLFNBQUssS0FBSyxRQUFRLFFBQVEsS0FBSztBQUFBLEVBQ25DO0FBQUEsRUFDQSxTQUFTLFFBQVEsT0FBTztBQUNwQixTQUFLLEtBQUssU0FBUyxRQUFRLE9BQU8sSUFBSTtBQUFBLEVBQzFDO0FBQUEsRUFDQSxTQUFTLFFBQVEsT0FBTztBQUNwQixTQUFLLEtBQUssU0FBUyxRQUFRLE9BQU8sSUFBSTtBQUFBLEVBQzFDO0FBQUEsRUFDQSxTQUFTLFFBQVEsT0FBTztBQUNwQixTQUFLLEtBQUssWUFBWSxRQUFRLE9BQU8sSUFBSTtBQUFBLEVBQzdDO0FBQUEsRUFDQSxTQUFTLFFBQVEsT0FBTztBQUNwQixTQUFLLEtBQUssU0FBUyxRQUFRLEtBQUs7QUFBQSxFQUNwQztBQUFBLEVBQ0EsVUFBVSxRQUFRLE9BQU87QUFDckIsU0FBSyxLQUFLLFVBQVUsUUFBUSxPQUFPLElBQUk7QUFBQSxFQUMzQztB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QUFBQSxZQUFBLFdBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsYUFBQSxJQUFBO0FBQ0EsRUFBQUEsWUFBQSxZQUFBLElBQUE7QUFDQSxFQUFBQSxZQUFBLFlBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsV0FBQSxJQUFBO0FBQ0EsRUFBQUEsWUFBQSxjQUFBLElBQUE7QUFDQSxFQUFBQSxZQUFBLGVBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsWUFBQSxJQUFBO0FBQ0EsRUFBQUEsWUFBQSxZQUFBLElBQUE7QUFDQSxFQUFBQSxZQUFBLFFBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsa0JBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsaUJBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsa0JBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsaUJBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsa0JBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsY0FBQSxJQUFBO0FBQ0EsRUFBQUEsWUFBQSxjQUFBLElBQUE7QUFDQSxFQUFBQSxZQUFBLFdBQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsZUFBQSxJQUFBO0FBQ0EsRUFBQUEsWUFBQSx1QkFBQSxJQUFBO0FBQ0EsRUFBQUEsWUFBQSxRQUFBLElBQUE7QUFDQSxFQUFBQSxZQUFBLE9BQUEsSUFBQTtBQUNBLEVBQUFBLFlBQUEsYUFBQSxJQUFBO0FBQ0YsR0E5Q1ksZUFBQSxhQUFVLENBQUEsRUFBQTtBQWdEdEIsSUFBWTtDQUFaLFNBQVlDLGNBQVc7QUFFckIsRUFBQUEsYUFBQSxVQUFBLElBQUE7QUFDQSxFQUFBQSxhQUFBLGlCQUFBLElBQUE7QUFDQSxFQUFBQSxhQUFBLGlCQUFBLElBQUE7QUFDQSxFQUFBQSxhQUFBLFVBQUEsSUFBQTtBQUNBLEVBQUFBLGFBQUEsY0FBQSxJQUFBO0FBQ0EsRUFBQUEsYUFBQSxtQkFBQSxJQUFBO0FBQ0EsRUFBQUEsYUFBQSx1QkFBQSxJQUFBO0FBQ0EsRUFBQUEsYUFBQSx1QkFBQSxJQUFBO0FBQ0EsRUFBQUEsYUFBQSxVQUFBLElBQUE7QUFD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QVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlBQVksRUFBRSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU07QUFDOUQsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sTUFBTSxNQUFNLFlBQVksTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQ3hFLFFBQUksUUFBUSxHQUFHO0FBQ1gsV0FBSyxRQUFRLE1BQU07QUFDbkI7QUFBQSxJQUNKO0FBQ0EsVUFBTSxTQUFTLElBQUk7QUFDbkIsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNO0FBQ3BDLFVBQU0sWUFBWSxNQUFNLE1BQU0sTUFBTTtBQUNwQyxVQUFNLFlBQVksTUFBTSxNQUFNLE1BQU07QUFDcEMsVUFBTSxZQUFZLEVBQUUsTUFBTSxZQUFZLE1BQU0sWUFBWSxNQUFNO0FBQzlELFVBQU0sWUFBWSxFQUFFLE1BQU0sWUFBWSxNQUFNLFlBQVksTUFBTTtBQUM5RCxVQUFNLFlB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TUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDO0FBQ25ELFVBQU0sTUFBTUEsR0FBRSxDQUFDLEdBQUcsTUFBTUEsR0FBRSxDQUFDLEdBQUcsT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFO0FBQ3ZELFVBQU0sT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFLEdBQUcsT0FBT0EsR0FBRSxFQUFFO0FBQzNELFVBQU0sTUFBTSxPQUFPLENBQUMsR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUM7QUFDdkUsVUFBTSxNQUFNLE9BQU8sQ0FBQyxHQUFHLE1BQU0sT0FBTyxDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxNQUFNLE9BQU8sQ0FBQztBQUN2RSxVQUFNLE1BQU0sT0FBTyxDQUFDLEdBQUcsTUFBTSxPQUFPLENBQUMsR0FBRyxPQUFPLE9BQU8sRUFBRSxHQUFHLE9BQU8sT0FBTyxFQUFFO0FBQzNFLFVBQU0sT0FBTyxPQUFPLEVBQUUsR0FBRyxPQUFPLE9BQU8sRUFBRSxHQUFHLE9BQU8sT0FBTyxFQUFFLEdBQUcsT0FBTyxPQUFPLEVBQUU7QUFFL0UsV0FBTyxNQUFNLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTTtBQUMzRCxXQUFPLFNBQVMsQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDL0QsV0FBTyxTQUFTLENBQUMsSUFBSSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU0sT0FBTyxNQUFNO0FBQ2hFLFdBQU8sU0FBUyxDQUFDLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE9BQU8sTUFBTTtBQUNoRSxXQUFPLFNBQVMsQ0FBQyxJQUFJLE1BQU0sTUFBTSxNQUFNLE1BQU0sTUFBTSxNQUFNLE1BQU07QUFDL0QsV0FBTyxTQUFTLENBQUMs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LElBQ2hCLFVBQUU7QUFDQSxhQUFPLGFBQWEsd0JBQXdCO0FBQUEsSUFDOUM7QUFBQSxFQUNGO0FBQ0EsU0FBTyxVQUFVLDBCQUEwQixRQUFRO0FBQ3JEOyIsCiAgIm5hbWVzIjogWyJleHBvcnRzIiwgIm1vZHVsZSIsICJyZXNvbHZlIiwgInBhcmFtcyIsICJvZmZzZXQiLCAiZXhwb3J0cyIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJ1dGY4IiwgImJ1ZmZlciIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJzaXplIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImZyb21OdW1iZXIiLCAidG9OdW1iZXIiLCAibGVuZ3RoIiwgImV4cG9ydHMiLCAiaXNPYmplY3QiLCAiaXNTZXQiLCAiQnVmZmVyIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRmOCIsICJjcmVhdGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAidXRmOCIsICJidWZmZXIiLCAiY3JlYXRlX2FycmF5IiwgImNyZWF0ZSIsICJsZW5ndGgiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiYnVmZmVyIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgInNlbGYiLCAiZXJyIiwgImV4cG9ydHMiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJyZXF1aXJlX21pbmltYWwiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiUEJBbmltYXRvciIsICJfbTAiLCAibGVuZ3RoIiwgIlBCQW5pbWF0aW9uU3RhdGUiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQXVkaW9FdmVudCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQkF1ZGlvU291cmNlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQXVkaW9TdHJlYW0iLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiQXZhdGFyQW5jaG9yUG9pbnRUeXBlIiwgIlBCQXZhdGFyQXR0YWNoIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIkNvbG9yMyIsICJfbTAiLCAibGVuZ3RoIiwgIkNvbG9yNCIsICJQQkF2YXRhckJhc2UiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJBdmF0YXJFbW90ZUNvbW1hbmQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJBdmF0YXJFcXVpcHBlZERhdGEiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiUG9zaXRpb24iLCAiX20wIiwgImxlbmd0aCIsICJWZWN0b3IzIiwgIlZlY3RvcjIiLCAiUXVhdGVybmlvbiIsICJBdmF0YXJNb2RpZmllclR5cGUiLCAiUEJBdmF0YXJNb2RpZmllckFyZWEiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJBdmF0YXJTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJCaWxsYm9hcmRNb2RlIiwgIlBCQmlsbGJvYXJkIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCQ2FtZXJhTW9kZSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQkNhbWVyYU1vZGVBcmVhIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCRW5naW5lSW5mbyIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQkdsdGZDb250YWluZXIiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJHbHRmQ29udGFpbmVyTG9hZGluZ1N0YXRlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCSW5wdXRNb2RpZmllciIsICJfbTAiLCAibGVuZ3RoIiwgIlBCSW5wdXRNb2RpZmllcl9TdGFuZGFyZElucHV0IiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQk1haW5DYW1lcmEiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiVGV4dHVyZVdyYXBNb2RlIiwgIlRleHR1cmVGaWx0ZXJNb2RlIiwgIlRleHR1cmUiLCAiX20wIiwgImxlbmd0aCIsICJBdmF0YXJUZXh0dXJlIiwgIlZpZGVvVGV4dHVyZSIsICJUZXh0dXJlVW5pb24iLCAiTWF0ZXJpYWxUcmFuc3BhcmVuY3lNb2RlIiwgIlBCTWF0ZXJpYWwiLCAiX20wIiwgImxlbmd0aCIsICJQQk1hdGVyaWFsX1VubGl0TWF0ZXJpYWwiLCAiUEJNYXRlcmlhbF9QYnJNYXRlcmlhbCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiQ29sbGlkZXJMYXllciIsICJQQk1lc2hDb2xsaWRlciIsICJfbTAiLCAibGVuZ3RoIiwgIlBCTWVzaENvbGxpZGVyX0JveE1lc2giLCAiUEJNZXNoQ29sbGlkZXJfQ3lsaW5kZXJNZXNoIiwgIlBCTWVzaENvbGxpZGVyX1BsYW5lTWVzaCIsICJQQk1lc2hDb2xsaWRlcl9TcGhlcmVNZXNoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQk1lc2hSZW5kZXJlciIsICJfbTAiLCAibGVuZ3RoIiwgIlBCTWVzaFJlbmRlcmVyX0JveE1lc2giLCAiUEJNZXNoUmVuZGVyZXJfQ3lsaW5kZXJNZXNoIiwgIlBCTWVzaFJlbmRlcmVyX1BsYW5lTWVzaCIsICJQQk1lc2hSZW5kZXJlcl9TcGhlcmVNZXNoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJOZnRGcmFtZVR5cGUiLCAiUEJOZnRTaGFwZSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlBsYXllcklkZW50aXR5RGF0YSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlBvaW50ZXJFdmVudHMiLCAiX20wIiwgImxlbmd0aCIsICJQQlBvaW50ZXJFdmVudHNfSW5mbyIsICJQQlBvaW50ZXJFdmVudHNfRW50cnkiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIlJheWNhc3RIaXQiLCAiX20wIiwgImxlbmd0aCIsICJQQlBvaW50ZXJFdmVudHNSZXN1bHQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJQb2ludGVyTG9jayIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJSYXljYXN0UXVlcnlUeXBlIiwgIlBCUmF5Y2FzdCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlJheWNhc3RSZXN1bHQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJSZWFsbUluZm8iLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJUZXh0U2hhcGUiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiRWFzaW5nRnVuY3Rpb24iLCAiUEJUd2VlbiIsICJfbTAiLCAibGVuZ3RoIiwgIk1vdmUiLCAiUm90YXRlIiwgIlNjYWxlIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJUd2Vlbkxvb3AiLCAiUEJUd2VlblNlcXVlbmNlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlR3ZWVuU3RhdGVTdGF0dXMiLCAiUEJUd2VlblN0YXRlIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgImltcG9ydF9taW5pbWFsIiwgIkJvcmRlclJlY3QiLCAiX20wIiwgImxlbmd0aCIsICJSZWN0IiwgIkJhY2tncm91bmRUZXh0dXJlTW9kZSIsICJQQlVpQmFja2dyb3VuZCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlVpQ2FudmFzSW5mb3JtYXRpb24iLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaURyb3Bkb3duIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVWlEcm9wZG93blJlc3VsdCIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlVpSW5wdXQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiUEJVaUlucHV0UmVzdWx0IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlRleHRXcmFwIiwgIlBCVWlUZXh0IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIllHUG9zaXRpb25UeXBlIiwgIllHQWxpZ24iLCAiWUdVbml0IiwgIllHRmxleERpcmVjdGlvbiIsICJZR1dyYXAiLCAiWUdKdXN0aWZ5IiwgIllHT3ZlcmZsb3ciLCAiWUdEaXNwbGF5IiwgIllHRWRnZSIsICJQb2ludGVyRmlsdGVyTW9kZSIsICJQQlVpVHJhbnNmb3JtIiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlZpZGVvU3RhdGUiLCAiUEJWaWRlb0V2ZW50IiwgIl9tMCIsICJsZW5ndGgiLCAiYnVmZmVyIiwgImltcG9ydF9taW5pbWFsIiwgIlBCVmlkZW9QbGF5ZXIiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiaW1wb3J0X21pbmltYWwiLCAiaW1wb3J0X21pbmltYWwiLCAiQ2FtZXJhVHJhbnNpdGlvbiIsICJfbTAiLCAibGVuZ3RoIiwgIlBCVmlydHVhbENhbWVyYSIsICJfbTAiLCAibGVuZ3RoIiwgImJ1ZmZlciIsICJpbXBvcnRfbWluaW1hbCIsICJQQlZpc2liaWxpdHlDb21wb25lbnQiLCAiX20wIiwgImxlbmd0aCIsICJidWZmZXIiLCAiZW5naW5lIiwgImVuZ2luZSIsICJzdGF0ZSIsICJlbmdpbmUiLCAiZW5naW5lIiwgImVuZ2luZSIsICJlbmdpbmUiLCAiZW5naW5lIiwgImxlbmd0aCIsICJNSU5fVkFMVUUiLCAiTUFYX1ZBTFVFIiwgInNwZWNSZWZsZWN0aW9uIiwgInNwZWNSZWZsZWN0aW9uIiwgInZhbHVlIiwgIlNjaGVtYXMiLCAiZW5naW5lIiwgIk5hbWUiLCAiZW5naW5lIiwgIlN5bmNDb21wb25lbnRzIiwgImVuZ2luZSIsICJlbmdpbmUiLCAiZW5naW5lIiwgImVuZ2luZSIsICJBdWRpb0V2ZW50IiwgIkF1ZGlvU3RyZWFtIiwgIk1lZGlhU3RhdGUiLCAiZW5naW5lIiwgIk1hdGVyaWFsIiwgIkFuaW1hdG9yIiwgIkF1ZGlvU291cmNlIiwgIkF1ZGlvU3RyZWFtIiwgIk1lc2hSZW5kZXJlciIsICJNZXNoQ29sbGlkZXIiLCAiVHdlZW4iLCAiZW5naW5lIiwgIkVudGl0eVV0aWxzIiwgIkVudGl0eVN0YXRlIiwgInV0ZjgiLCAiYnVmZmVyIiwgImxlbmd0aCIsICJfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl93b0FkZCIsICJfUmVhZFdyaXRlQnl0ZUJ1ZmZlcl9yb0FkZCIsICJDcmR0TWVzc2FnZVR5cGUiLCAiUHJvY2Vzc01lc3NhZ2VSZXN1bHRUeXBlIiwgIkNyZHRNZXNzYWdlUHJvdG9jb2wiLCAiRGVsZXRlQ29tcG9uZW50IiwgIndyaXRlIiwgInJlYWQiLCAiQXBwZW5kVmFsdWVPcGVyYXRpb24iLCAid3JpdGUiLCAicmVhZCIsICJEZWxldGVFbnRpdHkiLCAid3JpdGUiLCAicmVhZCIsICJQdXRDb21wb25lbnRPcGVyYXRpb24iLCAid3JpdGUiLCAicmVhZCIsICJQdXROZXR3b3JrQ29tcG9uZW50T3BlcmF0aW9uIiwgIndyaXRlIiwgInJlYWQiLCAiRGVsZXRlQ29tcG9uZW50TmV0d29yayIsICJ3cml0ZSIsICJyZWFkIiwgIkRlbGV0ZUVudGl0eU5ldHdvcmsiLCAid3JpdGUiLCAicmVhZCIsICJidWZmZXIiLCAiZW5naW5lIiwgIk5ldHdvcmtFbnRpdHkiLCAiTmV0d29ya1BhcmVudCIsICJUcmFuc2Zvcm0iLCAicGFyc2VDaHVua01lc3NhZ2UiLCAiYnVmZmVyIiwgIm1lc3NhZ2UiLCAiQ3JkdFV0aWxzIiwgIlN5bmNocm9uaXplZEVudGl0eVR5cGUiLCAiYnVmZmVyIiwgImFkZCIsICJwcmlvcml0eSIsICJidWZmZXIiLCAiZW5naW5lIiwgIk5ldHdvcmtQYXJlbnQiLCAiTmV0d29ya0VudGl0eSIsICJwYXJlbnQiLCAiVHJhbnNmb3JtIiwgImVuZ2luZSIsICJQb2ludGVyRXZlbnRzUmVzdWx0IiwgIkNvbXBvbmVudFR5cGUiLCAicHJpb3JpdHkiLCAicmVtb3ZlRW50aXR5V2l0aENoaWxkcmVuIiwgIm9wdGlvbnMiLCAiZ2V0Q29tcG9uZW50IiwgImNvbXBvbmVudCIsICJlbmdpbmUiLCAiaW5wdXRTeXN0ZW0iLCAiUG9pbnRlckV2ZW50cyIsICJFdmVudFR5cGUiLCAiZW5naW5lIiwgIlR3ZWVuIiwgIlR3ZWVuU3RhdGUiLCAiVHdlZW5TZXF1ZW5jZSIsICJidWZmZXIiLCAidHdlZW5TeXN0ZW0iLCAiZW5naW5lIiwgIlBvaW50ZXJFdmVudHMiLCAiTWVzaENvbGxpZGVyIiwgIkdsdGZDb250YWluZXIiLCAiVWlUcmFuc2Zvcm0iLCAiQXVkaW9FdmVudCIsICJBdmF0YXJCYXNlIiwgIkF2YXRhckVtb3RlQ29tbWFuZCIsICJBdmF0YXJFcXVpcHBlZERhdGEiLCAiRW5naW5lSW5mbyIsICJHbHRmQ29udGFpbmVyIiwgIkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUiLCAiUGxheWVySWRlbnRpdHlEYXRhIiwgIlBvaW50ZXJFdmVudHNSZXN1bHQiLCAiUmF5Y2FzdFJlc3VsdCIsICJSZWFsbUluZm8iLCAiVHdlZW5TZXF1ZW5jZSIsICJUd2VlblN0YXRlIiwgIlVpRHJvcGRvd24iLCAiVWlEcm9wZG93blJlc3VsdCIsICJVaUlucHV0IiwgIlVpSW5wdXRSZXN1bHQiLCAiVWlUZXh0IiwgIlVpVHJhbnNmb3JtIiwgIlZpZGVvRXZlbnQiLCAiVmlkZW9QbGF5ZXIiLCAiQ2FtZXJhVHlwZSIsICJJbnB1dEFjdGlvbiIsICJQb2ludGVyRXZlbnRUeXBlIiwgIkxvYWRpbmdTdGF0ZSIsICJUZXh0QWxpZ25Nb2RlIiwgIkZvbnQiLCAiZW5naW5lIiwgIkVudGl0eU1hcHBpbmdNb2RlIiwgImVuZ2luZSIsICJjb21wb3NpdGVQcm92aWRlciIsICJpbXBvcnRfbWluaW1hbCIsICJpbXBvcnRfbWluaW1hbCIsICJOdWxsVmFsdWUiLCAidHNQcm90b0dsb2JhbFRoaXMiLCAiU3RydWN0IiwgIl9tMCIsICJsZW5ndGgiLCAiU3RydWN0X0ZpZWxkc0VudHJ5IiwgIlZhbHVlIiwgIkxpc3RWYWx1ZSIsICJDb21wb25lbnREYXRhIiwgIl9tMCIsICJsZW5ndGgiLCAiaXNTZXQiLCAiQ29tcG9zaXRlQ29tcG9uZW50IiwgImlzT2JqZWN0IiwgIkNvbXBvc2l0ZUNvbXBvbmVudF9EYXRhRW50cnkiLCAiQ29tcG9zaXRlRGVmaW5pdGlvbiIsICJ0c1Byb3RvR2xvYmFsVGhpcyIsICJDb21wb3NpdGUiLCAiYnVmZmVyIiwgImVuZ2luZSIsICJjb21wb3NpdGVQcm92aWRlciIsICJUcmFuc2Zvcm0iLCAiQXVkaW9Tb3VyY2UiLCAiQXVkaW9TdHJlYW0iLCAiTWF0ZXJpYWwiLCAiTWVzaFJlbmRlcmVyIiwgIk1lc2hDb2xsaWRlciIsICJOYW1lIiwgIlR3ZWVuIiwgIlN5bmNDb21wb25lbnRzIiwgIk5ldHdvcmtFbnRpdHkiLCAiTmV0d29ya1BhcmVudCIsICJUcmFuc2Zvcm0iLCAiR2x0ZkNvbnRhaW5lciIsICJWaWRlb0V2ZW50IiwgIlZpZGVvUGxheWVyIiwgIlR3ZWVuU3RhdGUiLCAiQXVkaW9FdmVudCIsICJBdWRpb1NvdXJjZSIsICJFbmdpbmVJbmZvIiwgIkdsdGZDb250YWluZXJMb2FkaW5nU3RhdGUiLCAiUG9pbnRlckV2ZW50c1Jlc3VsdCIsICJSYXljYXN0UmVzdWx0IiwgIlJlYWxtSW5mbyIsICJVaURyb3Bkb3duIiwgIlVpRHJvcGRvd25SZXN1bHQiLCAiVWlJbnB1dCIsICJVaUlucHV0UmVzdWx0IiwgIlVpVHJhbnNmb3JtIiwgIlVpVGV4dCIsICJlbmdpbmUiLCAiTmV0d29ya0VudGl0eSIsICJlbmdpbmUiLCAiTmV0d29ya0VudGl0eSIsICJTeW5jQ29tcG9uZW50cyIsICJOZXR3b3JrUGFyZW50IiwgIkNvbW1zTWVzc2FnZSIsICJidWZmZXIiLCAibXlQcm9maWxlIiwgImdldFVzZXJEYXRhIiwgImVuZ2luZSIsICJOZXR3b3JrRW50aXR5IiwgIk5ldHdvcmtQYXJlbnQiLCAiVHJhbnNmb3JtIiwgIlN5bmNDb21wb25lbnRzIiwgInN5bmNFbnRpdHkiLCAiZ2V0Q2hpbGRyZW4iLCAicGFyZW50IiwgImdldEZpcnN0Q2hpbGQiLCAiZ2V0UGFyZW50IiwgInBhcmVudEVudGl0eSIsICJyZW1vdmVQYXJlbnQiLCAiZW5naW5lIiwgIlRyYW5zZm9ybSIsICJQbGF5ZXJJZGVudGl0eURhdGEiLCAiQXZhdGFyRXF1aXBwZWREYXRhIiwgIkF2YXRhckJhc2UiLCAicGxheWVycyIsICJlbmdpbmUiLCAiYnVmZmVyIiwgImRhdGEiLCAiZW5naW5lIiwgInNlbmRCaW5hcnkiLCAiZ2V0VXNlckRhdGEiLCAibXlQcm9maWxlIiwgInBsYXllcnMiLCAiUGxheWVySWRlbnRpdHlEYXRhIiwgIlJlYWxtSW5mbyIsICJpc1N0YXRlU3luY3Jvbml6ZWQiLCAicmVzb2x2ZSIsICJlbmdpbmUiLCAiQ29tcG9uZW50TmFtZSIsICJUd2VlblR5cGUiLCAiSW50ZXJwb2xhdGlvblR5cGUiLCAiQWN0aW9uVHlwZSIsICJUcmlnZ2VyVHlwZSIsICJUcmlnZ2VyQ29uZGl0aW9uVHlwZSIsICJUcmlnZ2VyQ29uZGl0aW9uT3BlcmF0aW9uIiwgIkFsaWduTW9kZSIsICJGb250IiwgIkNvbGxpZGVycyIsICJQcm94aW1pdHlMYXllciIsICJlbmdpbmUiLCAiQW5pbWF0b3IiLCAiQXVkaW9Tb3VyY2UiLCAiTWF0ZXJpYWwiLCAiTWVzaFJlbmRlcmVyIiwgIlR3ZWVuIiwgImFsbCIsICJNYXAiLCAib24iLCAidHlwZSIsICJoYW5kbGVyIiwgImhhbmRsZXJzIiwgImdldCIsICJwdXNoIiwgInNldCIsICJvZmYiLCAic3BsaWNlIiwgImluZGV4T2YiLCAiZW1pdCIsICJldnQiLCAic2xpY2UiLCAibWFwIiwgImVuZ2luZSIsICJlbmdpbmUiLCAiVHJhbnNmb3JtIiwgIk5ldHdvcmtFbnRpdHkiLCAiU3luY0NvbXBvbmVudHMiLCAiY2xvbmVkIiwgInRyaWdnZXJzIiwgIkZvbnQiLCAiZW5naW5lIiwgIlZpZGVvUGxheWVyIiwgIk1hdGVyaWFsIiwgIlNjYWxhciIsICJsZW5ndGgiLCAiVmVjdG9yMyIsICJhZGQiLCAic3VidHJhY3QiLCAibmVnYXRlIiwgImNsb25lIiwgImxlbmd0aCIsICJzY2FsZSIsICJjZW50ZXIiLCAiUXVhdGVybmlvbiIsICJ0b1N0cmluZyIsICJlcXVhbHMiLCAibXVsdGlwbHkiLCAiZGl2aWRlIiwgIlBsYW5lIiwgIlZlY3RvcjMiLCAiY2xvbmUiLCAiTWF0cml4IiwgInNlbGYiLCAic2NhbGUiLCAibSIsICJ0cmFuc2xhdGlvbiIsICJWZWN0b3IzIiwgIlF1YXRlcm5pb24iLCAiYWRkIiwgIm11bHRpcGx5IiwgImVxdWFscyIsICJjbG9uZSIsICJRdWF0ZXJuaW9uIiwgImFkZCIsICJsZW5ndGgiLCAiVmVjdG9yMyIsICJtdWx0aXBseSIsICJzZWxmIiwgIlZlY3RvcjIiLCAiQ29sb3I0IiwgImFkZCIsICJzdWJ0cmFjdCIsICJzY2FsZSIsICJtdWx0aXBseSIsICJ0b1N0cmluZyIsICJjbG9uZSIsICJDb2xvcjMiLCAidG9TdHJpbmciLCAiQ29sb3I0IiwgIm11bHRpcGx5IiwgImVxdWFscyIsICJzY2FsZSIsICJhZGQiLCAic3VidHJhY3QiLCAiY2xvbmUiLCAiYWN0aW9ucyIsICJGb250IiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIlF1YXRlcm5pb24iLCAiSW50ZXJwb2xhdGlvblR5cGUiLCAiVmVjdG9yMyIsICJwcmlvcml0eSIsICJ0aW1lcnMiLCAiVG9nZ2xlU3RhdGUiLCAidGltZXJzIiwgInRvZ2dsZXMiLCAiVHJhbnNmb3JtIiwgIlZlY3RvcjMiLCAiSW50ZXJwb2xhdGlvblR5cGUiLCAiVHdlZW4iLCAiSW50ZXJwb2xhdGlvblR5cGUiLCAiQVhJUyIsICJUcmFuc2Zvcm0iLCAiUXVhdGVybmlvbiIsICJUd2VlbiIsICJUd2VlblNlcXVlbmNlIiwgIlRyYW5zZm9ybSIsICJWZWN0b3IzIiwgIlF1YXRlcm5pb24iLCAiVHJhbnNmb3JtIiwgIk1lc2hSZW5kZXJlciIsICJWZWN0b3IzIiwgIkNvbG9yMyIsICJNYXRlcmlhbCIsICJDb2xvcjQiLCAiY2FsbGJhY2siLCAidHJpZ2dlcnMiLCAiYWN0aW9ucyIsICJpbnB1dFN5c3RlbSIsICJlbmdpbmUiLCAicG9pbnRlckV2ZW50c1N5c3RlbSIsICJ0d2VlblN5c3RlbSIsICJUcmFuc2Zvcm0iLCAiUG9pbnRlckV2ZW50cyIsICJ0cmlnZ2VycyIsICJ0eXBlcyIsICJlbnRpdHkiLCAiYWN0aW9ucyIsICJWZWN0b3IzIiwgImNvbXBvbmVudE5hbWUiLCAiVHdlZW5TdGF0ZSIsICJUcmFuc2Zvcm0iLCAiVmVjdG9yMyIsICJRdWF0ZXJuaW9uIiwgImdldEVhc2luZ0Z1bmN0aW9uRnJvbUludGVycG9sYXRpb24iLCAiaW5pdGVkRW50aXRpZXMiLCAiZW5naW5lIiwgIkFuaW1hdG9yIiwgIlRyYW5zZm9ybSIsICJBdWRpb1NvdXJjZSIsICJBdmF0YXJBdHRhY2giLCAiVmlzaWJpbGl0eUNvbXBvbmVudCIsICJHbHRmQ29udGFpbmVyIiwgIlVpVHJhbnNmb3JtIiwgIlVpVGV4dCIsICJVaUJhY2tncm91bmQiLCAiTmFtZSIsICJUd2VlblNlcXVlbmNlIiwgImluaXRlZEVudGl0aWVzIiwgImFjdGlvbnMiLCAidHlwZXMiLCAiVHdlZW4iLCAiVmVjdG9yMyIsICJnZXRFYXNpbmdGdW5jdGlvbkZyb21JbnRlcnBvbGF0aW9uIiwgIlF1YXRlcm5pb24iLCAiTWVzaENvbGxpZGVyIiwgIlZpZGVvUGxheWVyIiwgIk1hdGVyaWFsIiwgIkF1ZGlvU3RyZWFtIiwgImNsb25lZCIsICJlbnRpdHkiLCAiZW5naW5lIiwgIk1hdGVyaWFsIiwgIk1lc2hSZW5kZXJlciIsICJUcmFuc2Zvcm0iLCAiQmlsbGJvYXJkIiwgIkNvbG9yNCIsICJiYXIiLCAiUXVhdGVybmlvbiIsICJiYWNrZ3JvdW5kIiwgImVuZ2luZSIsICJpbnB1dFN5c3RlbSIsICJwb2ludGVyRXZlbnRzU3lzdGVtIiwgInR3ZWVuU3lzdGVtIiwgImltcG9ydF9FbmdpbmVBcGkiLCAicmVuZGVyZXJUcmFuc3BvcnQiLCAic2VuZEJhdGNoIiwgInN1YnNjcmliZSIsICJSZWFsbUluZm8iLCAiUGxheWVySWRlbnRpdHlEYXRhIiwgIlBvaW50ZXJFdmVudHNSZXN1bHQiLCAiQXZhdGFyRW1vdGVDb21tYW5kIiwgIkF2YXRhckJhc2UiLCAiQXZhdGFyRXF1aXBwZWREYXRhIl0KfQo=
